{"id": "angular-d12e6f09", "diff": " CHANGELOG.md | 14 ++++++++++++++\n 1 file changed, 14 insertions(+)\n\ndiff --git a/CHANGELOG.md b/CHANGELOG.md\nindex b6b603e0..596420e2 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,3 +1,17 @@\n+<a name=\"21.0.9\"></a>\n+# 21.0.9 (2026-01-14)\n+### forms\n+| Commit | Type | Description |\n+| -- | -- | -- |\n+| [82d556a8fb](https://github.com/angular/angular/commit/82d556a8fb38cd2024e3d098c55254305ba12b6b) | fix | Ensure the control instruction comes after the other bindings |\n+| [0055f3cc79](https://github.com/angular/angular/commit/0055f3cc79f387b8dec6ce5e1a33fad5486f9341) | fix | Rename signal form [field] to [formField] |\n+### migrations\n+| Commit | Type | Description |\n+| -- | -- | -- |\n+| [e4bfa5c9e7](https://github.com/angular/angular/commit/e4bfa5c9e7feec48d3c4e9425a21a2ccf6532bdb) | fix | prevent duplicate imports in common-to-standalone migration |\n+\n+<!-- CHANGELOG SPLIT MARKER -->\n+\n <a name=\"21.1.0-rc.0\"></a>\n # 21.1.0-rc.0 (2026-01-08)\n ### common", "expectedMessage": "docs: release notes for the v21.0.9 release", "repository": "angular", "commitHash": "d12e6f0986a3392633604dffab103d46d9974ae8", "metadata": {}}
{"id": "angular-3f13db87", "diff": " .github/workflows/ci.yml                   |  2 +-\n adev/scripts/synonyms/algolia-synonyms.mts |  2 +-\n adev/scripts/synonyms/tsconfig.json        | 22 ++++++++++++++++++++++\n adev/scripts/synonyms/update-synonyms.mts  |  2 +-\n 4 files changed, 25 insertions(+), 3 deletions(-)\n\ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 04ff82f5..d1be1578 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -224,6 +224,6 @@ jobs:\n           configPath: 'adev/firebase.json'\n           distDir: 'dist/bin/adev/dist'\n       - name: Update Algolia synonym record\n-        run: pnpm tsx adev/scripts/synonyms/update-synonyms.mts\n+        run: node adev/scripts/synonyms/update-synonyms.mts\n         env:\n           ALGOLIA_KEY: ${{ secrets.ALGOLIA_SYNONYM_MANAGER }}\ndiff --git a/adev/scripts/synonyms/algolia-synonyms.mts b/adev/scripts/synonyms/algolia-synonyms.mts\nindex e50c8d28..78fe68c4 100644\n--- a/adev/scripts/synonyms/algolia-synonyms.mts\n+++ b/adev/scripts/synonyms/algolia-synonyms.mts\n@@ -6,7 +6,7 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {SynonymHit} from 'algoliasearch';\n+import {type SynonymHit} from 'algoliasearch';\n \n /**\n  * List of synonyms to upload to algolia.\ndiff --git a/adev/scripts/synonyms/tsconfig.json b/adev/scripts/synonyms/tsconfig.json\nnew file mode 100644\nindex 00000000..7f56507b\n--- /dev/null\n+++ b/adev/scripts/synonyms/tsconfig.json\n@@ -0,0 +1,22 @@\n+{\n+  \"compileOnSave\": false,\n+  \"compilerOptions\": {\n+    \"forceConsistentCasingInFileNames\": true,\n+    \"strict\": true,\n+    \"noImplicitOverride\": true,\n+    \"noPropertyAccessFromIndexSignature\": true,\n+    \"noImplicitReturns\": true,\n+    \"noFallthroughCasesInSwitch\": true,\n+    \"sourceMap\": true,\n+    \"declaration\": false,\n+    \"moduleResolution\": \"bundler\",\n+    \"preserveSymlinks\": true,\n+    \"importHelpers\": true,\n+    \"target\": \"ES2022\",\n+    \"module\": \"ES2022\",\n+    \"allowImportingTsExtensions\": true,\n+    \"lib\": [\"ES2022\"],\n+    \"types\": [],\n+    \"skipLibCheck\": true\n+  }\n+}\ndiff --git a/adev/scripts/synonyms/update-synonyms.mts b/adev/scripts/synonyms/update-synonyms.mts\nindex c0277df8..ee28ec30 100644\n--- a/adev/scripts/synonyms/update-synonyms.mts\n+++ b/adev/scripts/synonyms/update-synonyms.mts\n@@ -7,7 +7,7 @@\n  */\n \n import {algoliasearch} from 'algoliasearch';\n-import synonyms from './algolia-synonyms.mjs';\n+import synonyms from './algolia-synonyms.mts';\n \n /** The name of the index being updated. */\n const INDEX_NAME = 'angular_v17';", "expectedMessage": "ci: update algolia synonym updater to use node directly rather than tsx", "repository": "angular", "commitHash": "3f13db87e27f6ffc207fc642979776606a71fcec", "metadata": {}}
{"id": "angular-724e917f", "diff": " adev/shared-docs/pipeline/shared/linking.mts | 3 +++\n 1 file changed, 3 insertions(+)\n\ndiff --git a/adev/shared-docs/pipeline/shared/linking.mts b/adev/shared-docs/pipeline/shared/linking.mts\nindex a51a59bb..87ddb02e 100644\n--- a/adev/shared-docs/pipeline/shared/linking.mts\n+++ b/adev/shared-docs/pipeline/shared/linking.mts\n@@ -20,6 +20,9 @@ const LINK_EXEMPT = new Set([\n   'hidden',\n   'state',\n   'group',\n+  'animation',\n+  'transition',\n+  'trigger',\n ]);\n \n export function shouldLinkSymbol(symbol: string): boolean {", "expectedMessage": "docs(docs-infra): Exempts animation-related symbols from linking", "repository": "angular", "commitHash": "724e917f7a68529996bf1c0e93876b699c544213", "metadata": {}}
{"id": "angular-c9f584b9", "diff": " adev/src/content/guide/templates/pipes.md | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/guide/templates/pipes.md b/adev/src/content/guide/templates/pipes.md\nindex 61e558c2..1f8e5cdf 100644\n--- a/adev/src/content/guide/templates/pipes.md\n+++ b/adev/src/content/guide/templates/pipes.md\n@@ -271,7 +271,7 @@ export class MyCustomTransformationPipe implements PipeTransform {\n \n When you want a pipe to detect changes within arrays or objects, it must be marked as an impure function by passing the `pure` flag with a value of `false`.\n \n-Avoid creating impure pipes unless absolutely necessary, as they can incur a significant performance penalty if used without care.\n+IMPORTANT: Avoid creating impure pipes unless absolutely necessary, as they can incur a significant performance penalty if used without care.\n \n ```angular-ts\n import { Pipe, PipeTransform } from '@angular/core';", "expectedMessage": "docs: add IMPORTANT prefix to pipe usage warning and", "repository": "angular", "commitHash": "c9f584b91859838a4d811842a4f7ee1a7dca8d14", "metadata": {}}
{"id": "angular-074666b2", "diff": " .../components/search-dialog/search-dialog.component.ts            | 3 +--\n .../references/api-reference-list/api-reference-list.component.ts  | 7 ++-----\n 2 files changed, 3 insertions(+), 7 deletions(-)\n\ndiff --git a/adev/shared-docs/components/search-dialog/search-dialog.component.ts b/adev/shared-docs/components/search-dialog/search-dialog.component.ts\nindex 4eb83ac6..688d3fa7 100644\n--- a/adev/shared-docs/components/search-dialog/search-dialog.component.ts\n+++ b/adev/shared-docs/components/search-dialog/search-dialog.component.ts\n@@ -54,7 +54,6 @@ export class SearchDialog {\n   readonly onClose = output();\n   readonly dialog = viewChild.required<ElementRef<HTMLDialogElement>>('searchDialog');\n   readonly items = viewChildren(SearchItem);\n-  readonly textField = viewChild(TextField);\n \n   readonly history = inject(SearchHistory);\n   private readonly search = inject(Search);\n@@ -98,7 +97,7 @@ export class SearchDialog {\n         }\n         // We want to select the pre-existing text on opening\n         // In order to change the search input with minimal user interaction.\n-        this.textField()?.input().nativeElement.select();\n+        this.searchForm().focusBoundControl();\n       },\n     });\n \ndiff --git a/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts b/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts\nindex e4099e3e..770395ad 100644\n--- a/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts\n+++ b/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts\n@@ -18,7 +18,6 @@ import {\n   inject,\n   input,\n   linkedSignal,\n-  viewChild,\n } from '@angular/core';\n import {Select, SelectOption, TextField} from '@angular/docs';\n import {FormField, form} from '@angular/forms/signals';\n@@ -62,7 +61,6 @@ export default class ApiReferenceList {\n   // services\n   private readonly apiReferenceManager = inject(ApiReferenceManager);\n   private readonly router = inject(Router);\n-  private readonly filterInput = viewChild.required(TextField);\n   private readonly injector = inject(EnvironmentInjector);\n \n   // inputs\n@@ -137,13 +135,12 @@ export default class ApiReferenceList {\n \n   constructor() {\n     effect(() => {\n-      const filterInput = this.filterInput();\n+      const filterInput = this.form.query();\n       afterNextRender(\n         {\n           write: () => {\n-            // Why not improve this once https://github.com/orgs/angular/projects/60?pane=issue&itemId=143488813 is done\n             if (matchMedia('(hover: hover) and (pointer:fine)').matches) {\n-              scheduleOnIdle(() => filterInput.focus());\n+              scheduleOnIdle(() => filterInput.focusBoundControl());\n             }\n           },\n         },", "expectedMessage": "docs(docs-infra): use Signals Forms focusBoundControl", "repository": "angular", "commitHash": "074666b2e8c3c8e2b7bc473f8d5772ebec4fc586", "metadata": {}}
{"id": "angular-551f1205", "diff": " .bazelversion     | 2 +-\n MODULE.bazel.lock | 4 ++--\n 2 files changed, 3 insertions(+), 3 deletions(-)\n\ndiff --git a/.bazelversion b/.bazelversion\nindex 6d289079..f9c71a52 100644\n--- a/.bazelversion\n+++ b/.bazelversion\n@@ -1 +1 @@\n-8.5.0\n+8.5.1\ndiff --git a/MODULE.bazel.lock b/MODULE.bazel.lock\nindex 6dec6aa9..963c800f 100644\n--- a/MODULE.bazel.lock\n+++ b/MODULE.bazel.lock\n@@ -412,7 +412,7 @@\n     },\n     \"@@aspect_rules_js+//npm:extensions.bzl%pnpm\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"zVV86HvMwDBJ8IsFt27k/Sjq0vCMPr8b8X9OAuprQ6w=\",\n+        \"bzlTransitiveDigest\": \"VaGKuK2sKVTWlq9QBZfNc4fhigCeN9Wt4YhnhdGUkv8=\",\n         \"usagesDigest\": \"V3eYj3dhR+UR/L7u17ZGfCuqJZpobNrN/6oEZPkZgDc=\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n@@ -1508,7 +1508,7 @@\n     },\n     \"@@rules_python+//python/extensions:pip.bzl%pip\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"39J6fxZx6VyebAMZs6LDsQSGw91SROMECqQx77bSJqE=\",\n+        \"bzlTransitiveDigest\": \"rPZpN8uoLnuu3B+LRiijfMadoMlO1/dxOO8/emPCZV4=\",\n         \"usagesDigest\": \"/9NP3RV6/DWuNdYAsIU/8UCgCX0TdPUJr0X6O+0lrtk=\",\n         \"recordedFileInputs\": {\n           \"@@protobuf+//python/requirements.txt\": \"983be60d3cec4b319dcab6d48aeb3f5b2f7c3350f26b3a9e97486c37967c73c5\",", "expectedMessage": "build: update dependency bazel to v8.5.1", "repository": "angular", "commitHash": "551f120530353d5201667152bbae3cbdd2428759", "metadata": {}}
{"id": "angular-95e8c2fd", "diff": " package.json                                 | 1 -\n pnpm-lock.yaml                               | 3 ---\n vscode-ng-language-service/package.json      | 2 +-\n vscode-ng-language-service/tools/release.mts | 2 +-\n 4 files changed, 2 insertions(+), 6 deletions(-)\n\ndiff --git a/package.json b/package.json\nindex cea79494..125e98aa 100644\n--- a/package.json\n+++ b/package.json\n@@ -150,7 +150,6 @@\n     \"todomvc-common\": \"^1.0.5\",\n     \"tslib\": \"^2.3.0\",\n     \"tslint\": \"6.1.3\",\n-    \"tsx\": \"^4.7.2\",\n     \"typescript\": \"5.9.3\",\n     \"webtreemap\": \"^2.0.1\",\n     \"ws\": \"^8.15.0\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 3f21ba35..dc2963f0 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -310,9 +310,6 @@ importers:\n       tslint:\n         specifier: 6.1.3\n         version: 6.1.3(typescript@5.9.3)\n-      tsx:\n-        specifier: ^4.7.2\n-        version: 4.21.0\n       typescript:\n         specifier: 5.9.3\n         version: 5.9.3\ndiff --git a/vscode-ng-language-service/package.json b/vscode-ng-language-service/package.json\nindex 2597f8f6..a920c794 100644\n--- a/vscode-ng-language-service/package.json\n+++ b/vscode-ng-language-service/package.json\n@@ -257,7 +257,7 @@\n     \"test:inspect-common\": \"bazel run --config=debug //vscode-ng-language-service/common/tests:test\",\n     \"test:inspect-server\": \"bazel run --config=debug //vscode-ng-language-service/server/src/tests:test\",\n     \"test:inspect-syntaxes\": \"bazel run --config=debug //vscode-ng-language-service/syntaxes/test:test\",\n-    \"release\": \"tsx tools/release.mts\"\n+    \"release\": \"node tools/release.mts\"\n   },\n   \"dependencies\": {\n     \"@angular/language-service\": \"workspace:*\",\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex ef52502c..ced123d3 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -17,7 +17,7 @@ import {input, select} from '@inquirer/prompts';\n import chalk from 'chalk';\n import semver from 'semver';\n import {writeFile, readFile} from 'node:fs/promises';\n-import {exec as nodeExec, spawn, SpawnOptions} from 'node:child_process';\n+import {exec as nodeExec, spawn, type SpawnOptions} from 'node:child_process';\n import {promisify} from 'node:util';\n import {join} from 'node:path';\n ", "expectedMessage": "build: remove `tsx` dependency and update release script to use `node` directly", "repository": "angular", "commitHash": "95e8c2fdeec5b3484ed77297e21f53395b5d1be9", "metadata": {}}
{"id": "angular-cb5879f5", "diff": " packages/core/src/util/is_dev_mode.ts | 3 +++\n 1 file changed, 3 insertions(+)\n\ndiff --git a/packages/core/src/util/is_dev_mode.ts b/packages/core/src/util/is_dev_mode.ts\nindex 67e1df24..f868b46c 100644\n--- a/packages/core/src/util/is_dev_mode.ts\n+++ b/packages/core/src/util/is_dev_mode.ts\n@@ -40,5 +40,8 @@ export function enableProdMode(): void {\n   // `global['ngDevMode'] = false;` is also dropped.\n   if (typeof ngDevMode === 'undefined' || ngDevMode) {\n     global['ngDevMode'] = false;\n+    // The ngGlobal might already be init, for because initNgDevMode() is invoked from the top level,\n+    // an this function might executed later. So we need to clean up the global.ng as well.\n+    global['ng'] = undefined;\n   }\n }", "expectedMessage": "refactor(core): remove ng when invoking `enableProdMode`", "repository": "angular", "commitHash": "cb5879f566b799ab104bb3e5ceaa13e74c7263d0", "metadata": {}}
{"id": "angular-029685bd", "diff": " vscode-ng-language-service/tools/release.mts | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex d01e5482..37049db9 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -481,6 +481,7 @@ async function publishExtension(): Promise<void> {\n async function cherryPickChangelog(changelog: string, newVersion: string): Promise<void> {\n   console.log(chalk.blue('Cherry-picking changelog to main...'));\n \n+  await exec(`git stash`);\n   await exec(`git fetch ${angularRepoRemote} main`);\n   const cherryPickBranch = `vscode-changelog-cherry-pick${newVersion}`;\n   await exec(`git branch -D ${cherryPickBranch}`).catch(() => {});", "expectedMessage": "build: update cherrypick changelog to stash", "repository": "angular", "commitHash": "029685bd934c6ecf44c1187778085da986ddd320", "metadata": {}}
{"id": "angular-e45f8afd", "diff": " vscode-ng-language-service/CHANGELOG.md | 6 ++++++\n 1 file changed, 6 insertions(+)\n\ndiff --git a/vscode-ng-language-service/CHANGELOG.md b/vscode-ng-language-service/CHANGELOG.md\nindex c4e83534..9de2d943 100644\n--- a/vscode-ng-language-service/CHANGELOG.md\n+++ b/vscode-ng-language-service/CHANGELOG.md\n@@ -1,3 +1,9 @@\n+## 21.1.0 (2026-01-12)\n+\n+- fix(vscode-extension): convert enum member kind in completions correctly ([50674f8c28](https://github.com/angular/angular/commit/50674f8c28c970e6a9cfe222f9f55bace4e16321))\n+\n+<!-- CHANGELOG SPLIT MARKER -->\n+\n ## 21.0.1 (2025-12-17)\n \n - fix(language-service): Prevent language service from crashing on suggestion diagnostic errors ([5047be4bc1](https://github.com/angular/angular/commit/5047be4bc1c6f6016263703c743f8033f669f0ee))", "expectedMessage": "docs: release notes for the vscode extension 21.1.0 release", "repository": "angular", "commitHash": "e45f8afdab1ad26128a2f3865eafd52db7cd4265", "metadata": {}}
{"id": "angular-871fa1b2", "diff": " packages/core/src/change_detection/lifecycle_hooks.ts | 19 +++++++++++++++----\n 1 file changed, 15 insertions(+), 4 deletions(-)\n\ndiff --git a/packages/core/src/change_detection/lifecycle_hooks.ts b/packages/core/src/change_detection/lifecycle_hooks.ts\nindex 94ac41ed..4a61dc26 100644\n--- a/packages/core/src/change_detection/lifecycle_hooks.ts\n+++ b/packages/core/src/change_detection/lifecycle_hooks.ts\n@@ -9,7 +9,8 @@ import {SimpleChanges} from './simple_change';\n \n /**\n  * @description\n- * A lifecycle hook that is called when any data-bound property of a directive changes.\n+ * A lifecycle hook that is called when the value of one or more component or directive inputs\n+ * change. This includes both signal-based and decorator-based inputs.\n  * Define an `ngOnChanges()` method to handle the changes.\n  *\n  * @see {@link DoCheck}\n@@ -18,9 +19,19 @@ import {SimpleChanges} from './simple_change';\n  *\n  * @usageNotes\n  * The following snippet shows how a component can implement this interface to\n- * define an on-changes handler for an input property.\n- *\n- * {@example core/ts/metadata/lifecycle_hooks_spec.ts region='OnChanges'}\n+ * define an on-changes handler for an input property. While you should prefer\n+ * `computed` and `effect` when working with signal-based inputs, the `ngOnChanges`\n+ * method does include value changes for signal-based inputs.\n+ *\n+ * ```ts\n+ * @Component({ ... })\n+ * export class UserProfile implements OnChanges {\n+ *   userId = input<number>(0);\n+ *   ngOnChanges(changes: SimpleChanges<UserProfile>) {\n+ *     // changes.userId contains the old and new value.\n+ *   }\n+ * }\n+ * ```\n  *\n  * @publicApi\n  */", "expectedMessage": "docs: update OnChanges API reference w/ signal input", "repository": "angular", "commitHash": "871fa1b2ddf124c5e0ffe2cbea0c38f39ec6dc1c", "metadata": {}}
{"id": "angular-e8f8ac20", "diff": " package.json   |  1 -\n pnpm-lock.yaml | 14 --------------\n 2 files changed, 15 deletions(-)\n\ndiff --git a/package.json b/package.json\nindex 394bba95..cea79494 100644\n--- a/package.json\n+++ b/package.json\n@@ -162,7 +162,6 @@\n   \"devDependencies\": {\n     \"@actions/core\": \"^2.0.0\",\n     \"@actions/github\": \"^7.0.0\",\n-    \"@angular-devkit/architect-cli\": \"0.2101.0-rc.0\",\n     \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#486b075a283ef0c169475b981de1bd229114a000\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\n     \"@babel/plugin-transform-async-generator-functions\": \"^7.27.1\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex a4c5a79e..e774da61 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -338,9 +338,6 @@ importers:\n       '@actions/github':\n         specifier: ^7.0.0\n         version: 7.0.0\n-      '@angular-devkit/architect-cli':\n-        specifier: 0.2101.0-rc.0\n-        version: 0.2101.0-rc.0(chokidar@5.0.0)\n       '@angular/ng-dev':\n         specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#486b075a283ef0c169475b981de1bd229114a000\n         version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/486b075a283ef0c169475b981de1bd229114a000(@modelcontextprotocol/sdk@1.25.2)\n@@ -1533,11 +1530,6 @@ packages:\n     resolution: {integrity: sha512-30iZtAPgz+LTIYoeivqYo853f02jBYSd5uGnGpkFV0M3xOt9aN73erkgYAmZU43x4VfqcnLxW9Kpg3R5LC4YYw==}\n     engines: {node: '>=6.0.0'}\n \n-  '@angular-devkit/architect-cli@0.2101.0-rc.0':\n-    resolution: {integrity: sha512-hNCHyH1FjrTtZFHAmTH5tLPNo26+3xWwv64H0fQiiLsmdnKkONqJDJMw9YqjxOpjxzLnhyIuaAg4RJnYMLvRSA==}\n-    engines: {node: ^20.19.0 || ^22.12.0 || >=24.0.0, npm: ^6.11.0 || ^7.5.6 || >=8.0.0, yarn: '>= 1.13.0'}\n-    hasBin: true\n-\n   '@angular-devkit/architect@0.2101.0-rc.0':\n     resolution: {integrity: sha512-QohNOLzTorQejqb4Kr5GFB9gCiaTuarmTza53g8oYjSMzB/zLDDN6O5e7SW6lp+wdfIla2mnUWyVBJSTNOa+Hg==}\n     engines: {node: ^20.19.0 || ^22.12.0 || >=24.0.0, npm: ^6.11.0 || ^7.5.6 || >=8.0.0, yarn: '>= 1.13.0'}\n@@ -13540,12 +13532,6 @@ snapshots:\n       '@jridgewell/gen-mapping': 0.3.13\n       '@jridgewell/trace-mapping': 0.3.31\n \n-  '@angular-devkit/architect-cli@0.2101.0-rc.0(chokidar@5.0.0)':\n-    dependencies:\n-      '@angular-devkit/architect': 0.2101.0-rc.0(chokidar@5.0.0)\n-    transitivePeerDependencies:\n-      - chokidar\n-\n   '@angular-devkit/architect@0.2101.0-rc.0(chokidar@5.0.0)':\n     dependencies:\n       '@angular-devkit/core': 21.1.0-rc.0(chokidar@5.0.0)", "expectedMessage": "build: remove `@angular-devkit/architect-cli` from dev dependencies", "repository": "angular", "commitHash": "e8f8ac20d6934f48619d0f4ede8cd131dd3b3aa5", "metadata": {}}
{"id": "angular-910768f5", "diff": " adev/src/content/guide/di/hierarchical-dependency-injection.md | 4 ++--\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/adev/src/content/guide/di/hierarchical-dependency-injection.md b/adev/src/content/guide/di/hierarchical-dependency-injection.md\nindex 13a09681..72df6158 100644\n--- a/adev/src/content/guide/di/hierarchical-dependency-injection.md\n+++ b/adev/src/content/guide/di/hierarchical-dependency-injection.md\n@@ -959,8 +959,8 @@ export class VillainsList {}\n \n By providing `VillainsService` in the `VillainsList` metadata and nowhere else, the service becomes available only in the `VillainsList` and its subcomponent tree.\n \n-`VillainService` is a singleton with respect to `VillainsList` because that is where it is declared.\n-As long as `VillainsList` does not get destroyed it will be the same instance of `VillainService` but if there are multiple instances of `VillainsList`, then each instance of `VillainsList` will have its own instance of `VillainService`.\n+`VillainsService` is a singleton with respect to `VillainsList` because that is where it is declared.\n+As long as `VillainsList` does not get destroyed it will be the same instance of `VillainsService` but if there are multiple instances of `VillainsList`, then each instance of `VillainsList` will have its own instance of `VillainsService`.\n \n ### Scenario: multiple edit sessions\n ", "expectedMessage": "docs: update hierarchical-dependency-injection.md", "repository": "angular", "commitHash": "910768f5cc20a59e6a0f80a208d6cf67852cbbcb", "metadata": {}}
{"id": "angular-6e821674", "diff": " renovate.json | 3 ++-\n 1 file changed, 2 insertions(+), 1 deletion(-)\n\ndiff --git a/renovate.json b/renovate.json\nindex 6bed7478..3082af81 100644\n--- a/renovate.json\n+++ b/renovate.json\n@@ -27,12 +27,12 @@\n     },\n     {\n       \"matchManagers\": [\"bazel\", \"bazel-module\", \"bazelisk\", \"npm\"],\n-      \"matchDepNames\": [\"!pnpm\", \"!typescript\", \"*\"],\n       \"postUpgradeTasks\": {\n         \"commands\": [\n           \"git restore .npmrc\",\n           \"pnpm install --frozen-lockfile\",\n           \"pnpm bazel mod deps --lockfile_mode=update\",\n+          \"pnpm ng-dev misc sync-module-bazel\",\n           \"pnpm bazel run //.github/actions/deploy-docs-site:main\",\n           \"pnpm bazel run //packages/common:base_currencies_file\",\n           \"pnpm bazel run //packages/common/locales:closure_locale_file\",\n@@ -41,6 +41,7 @@\n         \"fileFilters\": [\n           \".github/actions/deploy-docs-site/**/*\",\n           \"packages/**/*\",\n+          \"MODULE.bazel\",\n           \"MODULE.bazel.lock\"\n         ],\n         \"executionMode\": \"branch\"", "expectedMessage": "ci: update Renovate configuration to replace Bazel module dependency command", "repository": "angular", "commitHash": "6e821674814a6f9fc8b3004abab5d7c5101801a4", "metadata": {}}
{"id": "angular-69da6390", "diff": " vscode-ng-language-service/tools/release.mts | 32 +++++++++++++++++++++++++---\n 1 file changed, 29 insertions(+), 3 deletions(-)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex 63541d8a..d01e5482 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -241,13 +241,39 @@ async function prepareReleasePullRequest(\n  */\n async function generateChangelog(fromVersion: string, toVersion: string): Promise<string> {\n   const previousTag = await getPreviousTag(fromVersion);\n-  let {stdout: commits} = await exec(\n+\n+  // Get all subjects from the previous release to filter out duplicates (cherry-picks).\n+  const {stdout: existingSubjectsOutput} = await exec(\n+    `git log ${previousTag} -E ` +\n+      '--grep=\"^(feat|fix|perf)\\\\((vscode-extension|language-server|language-service)\\\\):\" ' +\n+      '--format=\"%s\"',\n+  );\n+  const existingSubjects = new Set(\n+    existingSubjectsOutput\n+      .trim()\n+      .split('\\n')\n+      .map((s) => s.trim()),\n+  );\n+\n+  const {stdout: newCommitsRaw} = await exec(\n     `git log --left-only FETCH_HEAD...${previousTag} -E ` +\n       '--grep=\"^(feat|fix|perf)\\\\((vscode-extension|language-server|language-service)\\\\):\" ' +\n-      '--format=\"format:- %s ([%h](https://github.com/angular/angular/commit/%H))\"',\n+      '--format=\"%s|%h|%H\"',\n   );\n \n-  commits = commits.trim();\n+  const commits = newCommitsRaw\n+    .trim()\n+    .split('\\n')\n+    .filter((line) => {\n+      if (!line) return false;\n+      const [subject, shortHash, hash] = line.split('|');\n+      return !existingSubjects.has(subject.trim());\n+    })\n+    .map((line) => {\n+      const [subject, shortHash, hash] = line.split('|');\n+      return `- ${subject} ([${shortHash}](https://github.com/angular/angular/commit/${hash}))`;\n+    })\n+    .join('\\n');\n \n   const now = new Date();\n   const date = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;", "expectedMessage": "build: improve changelog generation and tag fetching in release script", "repository": "angular", "commitHash": "69da6390b1832f67ce0026da140ac7a50b082f5e", "metadata": {}}
{"id": "angular-78755771", "diff": " vscode-ng-language-service/tools/release.mts | 39 ++++++++++++++++++++++++++--\n 1 file changed, 37 insertions(+), 2 deletions(-)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex ebc675ce..63541d8a 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -80,7 +80,7 @@ async function main(): Promise<void> {\n   }\n \n   console.log(chalk.blue(`Releasing from ${branchToReleaseFrom}.`));\n-  await exec(`git fetch ${angularRepoRemote} ${branchToReleaseFrom}`);\n+  await exec(`git fetch ${angularRepoRemote} ${branchToReleaseFrom} --tags`);\n \n   const currentVersion = await getCurrentVersion();\n   const newVersion = await getNewVersion(currentVersion);\n@@ -240,8 +240,9 @@ async function prepareReleasePullRequest(\n  * @param toVersion The version to generate the changelog for.\n  */\n async function generateChangelog(fromVersion: string, toVersion: string): Promise<string> {\n+  const previousTag = await getPreviousTag(fromVersion);\n   let {stdout: commits} = await exec(\n-    `git log --left-only FETCH_HEAD...${getTagName(fromVersion)} -E ` +\n+    `git log --left-only FETCH_HEAD...${previousTag} -E ` +\n       '--grep=\"^(feat|fix|perf)\\\\((vscode-extension|language-server|language-service)\\\\):\" ' +\n       '--format=\"format:- %s ([%h](https://github.com/angular/angular/commit/%H))\"',\n   );\n@@ -519,6 +520,40 @@ function getRepoDetails(remoteUrl: string): {owner: string; repo: string} {\n   };\n }\n \n+/**\n+ * Gets the previous tag to version from.\n+ *\n+ * It checks if the tag for the `currentVersion` exists. If it does, returning it.\n+ * If not, it finds the latest tag that adheres to the semver versioning of the extension.\n+ */\n+async function getPreviousTag(currentVersion: string): Promise<string> {\n+  const currentTag = getTagName(currentVersion);\n+  try {\n+    await exec(`git rev-parse \"${currentTag}\"`);\n+    return currentTag;\n+  } catch {\n+    // Tag does not exist.\n+  }\n+\n+  const {stdout: tags} = await exec(`git tag --list \"${tagPrefix}*\"`);\n+  const versions = tags\n+    .trim()\n+    .split('\\n')\n+    .map((t) => t.trim())\n+    .filter((t) => t.startsWith(tagPrefix))\n+    .map((t) => t.slice(tagPrefix.length))\n+    .filter((v) => semver.valid(v));\n+\n+  if (versions.length === 0) {\n+    throw new Error('No previous release tags found.');\n+  }\n+\n+  // Sort versions in descending order\n+  versions.sort((a, b) => semver.rcompare(a, b));\n+\n+  return getTagName(versions[0]);\n+}\n+\n /**\n  * Gets the tag name for the given version.\n  *", "expectedMessage": "build: fix changelog generation for last rev", "repository": "angular", "commitHash": "78755771e1b998f9ee192d82c0f44fd6806f3629", "metadata": {}}
{"id": "angular-36c2f4b6", "diff": " adev/src/app/routing/router_providers.ts | 17 +++++++++--------\n 1 file changed, 9 insertions(+), 8 deletions(-)\n\ndiff --git a/adev/src/app/routing/router_providers.ts b/adev/src/app/routing/router_providers.ts\nindex 95340109..4d02a6be 100644\n--- a/adev/src/app/routing/router_providers.ts\n+++ b/adev/src/app/routing/router_providers.ts\n@@ -22,6 +22,7 @@ import {\n   RedirectCommand,\n   withNavigationErrorHandler,\n   withRouterConfig,\n+  isActive,\n } from '@angular/router';\n import {routes} from './routes';\n import {ADevTitleStrategy} from '../core/services/a-dev-title-strategy';\n@@ -51,14 +52,14 @@ export const routerProviders = [\n         const router = inject(Router);\n         const toTree = createUrlTreeFromSnapshot(to, []);\n         // Skip the transition if the only thing changing is the fragment and queryParams\n-        if (\n-          router.isActive(toTree, {\n-            paths: 'exact',\n-            matrixParams: 'exact',\n-            fragment: 'ignored',\n-            queryParams: 'ignored',\n-          })\n-        ) {\n+        const isTargetRouteCurrent = isActive(toTree, router, {\n+          paths: 'exact',\n+          matrixParams: 'exact',\n+          fragment: 'ignored',\n+          queryParams: 'ignored',\n+        });\n+\n+        if (isTargetRouteCurrent()) {\n           transition.skipTransition();\n         }\n       },", "expectedMessage": "docs(docs-infra): replace deprecated Router.isActive with isActive (#66430)", "repository": "angular", "commitHash": "36c2f4b6f931fa7e0c7e835577abef80c9c98ec3", "metadata": {}}
{"id": "angular-e8c44a00", "diff": " .../src/statemanager/navigation_state_manager.ts   | 13 ++++++++++--\n .../router/test/with_platform_navigation.spec.ts   | 24 +++++++++++++++++++++-\n 2 files changed, 34 insertions(+), 3 deletions(-)\n\ndiff --git a/packages/router/src/statemanager/navigation_state_manager.ts b/packages/router/src/statemanager/navigation_state_manager.ts\nindex 8bfac6fa..260b3639 100644\n--- a/packages/router/src/statemanager/navigation_state_manager.ts\n+++ b/packages/router/src/statemanager/navigation_state_manager.ts\n@@ -199,8 +199,17 @@ export class NavigationStateManager extends StateManager {\n         resolve();\n       });\n     } else if (e instanceof NavigationCancel || e instanceof NavigationError) {\n-      // TODO(atscott): We want to keep the navigation event on redirects if\n-      // the URL wasn't committed yet rather than cancelling it.\n+      // If redirecting and the URL hasn't been committed yet (via precommmitHandler),\n+      // the redirect will be handled by `commitUrl` using `controller.redirect` and\n+      // we should retain the current NavigateEvent.\n+      // Otherwise, a full cancellation and rollback is needed.\n+      const redirectingBeforeUrlCommit =\n+        e instanceof NavigationCancel &&\n+        e.code === NavigationCancellationCode.Redirect &&\n+        !!this.currentNavigation.commitUrl;\n+      if (redirectingBeforeUrlCommit) {\n+        return;\n+      }\n       void this.cancel(transition, e);\n     } else if (e instanceof NavigationEnd) {\n       const {resolveHandler, removeAbortListener} = this.currentNavigation;\ndiff --git a/packages/router/test/with_platform_navigation.spec.ts b/packages/router/test/with_platform_navigation.spec.ts\nindex 47b05cc6..7e32e9de 100644\n--- a/packages/router/test/with_platform_navigation.spec.ts\n+++ b/packages/router/test/with_platform_navigation.spec.ts\n@@ -7,7 +7,7 @@\n  */\n \n import {TestBed} from '@angular/core/testing';\n-import {provideRouter, Router} from '../src';\n+import {NavigationStart, provideRouter, Router} from '../src';\n import {withExperimentalPlatformNavigation, withRouterConfig} from '../src/provide_router';\n import {withBody} from '@angular/private/testing';\n import {\n@@ -15,6 +15,7 @@ import {\n   Location,\n   PlatformNavigation,\n   BrowserPlatformLocation,\n+  \u0275PRECOMMIT_HANDLER_SUPPORTED as PRECOMMIT_HANDLER_SUPPORTED,\n } from '@angular/common';\n import {\n   \u0275FakeNavigation as FakeNavigation,\n@@ -22,6 +23,7 @@ import {\n   provideLocationMocks,\n } from '@angular/common/testing';\n import {timeout, useAutoTick} from './helpers';\n+import {inject} from '@angular/core';\n \n /// <reference types=\"dom-navigation\" />\n \n@@ -159,6 +161,26 @@ describe('withPlatformNavigation feature', () => {\n       expect(navigateEvents.length).toBe(1);\n       expect(navigateEvents[0].navigationType).toBe('traverse');\n     });\n+\n+    it('retains a single NavigateEvent across redirects', async () => {\n+      const navigateEvents: NavigateEvent[] = [];\n+      navigation.addEventListener('navigate', (e: NavigateEvent) => navigateEvents.push(e));\n+\n+      router.resetConfig([\n+        {path: 'first', canActivate: [() => inject(Router).parseUrl('/redirected')], children: []},\n+        {path: '**', children: []},\n+      ]);\n+      const navPromise = router.navigateByUrl('/first');\n+      if (TestBed.inject(PRECOMMIT_HANDLER_SUPPORTED)) {\n+        router.events.subscribe((e) => {\n+          if (e instanceof NavigationStart) {\n+            expect(navigateEvents.length).toBe(1);\n+          }\n+        });\n+      }\n+      await navPromise;\n+      expect(navigateEvents.length).toBe(1);\n+    });\n   });\n \n   describe('eager url update', () => {", "expectedMessage": "refactor(router): Retain original navigateEvent across redirects", "repository": "angular", "commitHash": "e8c44a00f9a416979b2cc749f2eab0955aa51dd6", "metadata": {}}
{"id": "angular-e34365cf", "diff": " vscode-ng-language-service/package.json | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/vscode-ng-language-service/package.json b/vscode-ng-language-service/package.json\nindex a920c794..2597f8f6 100644\n--- a/vscode-ng-language-service/package.json\n+++ b/vscode-ng-language-service/package.json\n@@ -257,7 +257,7 @@\n     \"test:inspect-common\": \"bazel run --config=debug //vscode-ng-language-service/common/tests:test\",\n     \"test:inspect-server\": \"bazel run --config=debug //vscode-ng-language-service/server/src/tests:test\",\n     \"test:inspect-syntaxes\": \"bazel run --config=debug //vscode-ng-language-service/syntaxes/test:test\",\n-    \"release\": \"node tools/release.mts\"\n+    \"release\": \"tsx tools/release.mts\"\n   },\n   \"dependencies\": {\n     \"@angular/language-service\": \"workspace:*\",", "expectedMessage": "build: use tsx for release script", "repository": "angular", "commitHash": "e34365cfd5ed13cc1ad2f23fc912cb9d50467eb1", "metadata": {}}
{"id": "angular-7fd076bd", "diff": " .../test/node/api/validators/pattern.spec.ts       | 51 ++++++++++++++++++++++\n 1 file changed, 51 insertions(+)\n\ndiff --git a/packages/forms/signals/test/node/api/validators/pattern.spec.ts b/packages/forms/signals/test/node/api/validators/pattern.spec.ts\nindex 13f884fa..b043eaf3 100644\n--- a/packages/forms/signals/test/node/api/validators/pattern.spec.ts\n+++ b/packages/forms/signals/test/node/api/validators/pattern.spec.ts\n@@ -95,6 +95,57 @@ describe('pattern validator', () => {\n       expect(f.name().pattern()).toEqual([/pir.*jok/, /pelmeni/]);\n     });\n \n+    it('validates multiple patterns independently (AND logic)', () => {\n+      const model = signal('abc123');\n+      const f = form(\n+        model,\n+        (p) => {\n+          pattern(p, /abc/); // matches\n+          pattern(p, /\\d+/); // matches\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // Both patterns match, so no errors\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([]);\n+    });\n+\n+    it('validates multiple patterns independently - partial match produces errors', () => {\n+      const model = signal('abc');\n+      const f = form(\n+        model,\n+        (p) => {\n+          pattern(p, /abc/); // matches\n+          pattern(p, /\\d+/); // does not match\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // Only one pattern matches, so we get an error from the non-matching one\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([patternError(/\\d+/, {fieldTree: f})]);\n+    });\n+\n+    it('validates multiple patterns - no match produces multiple errors', () => {\n+      const model = signal('xyz');\n+      const f = form(\n+        model,\n+        (p) => {\n+          pattern(p, /abc/); // does not match\n+          pattern(p, /\\d+/); // does not match\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // No patterns match, so we get errors from both\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([\n+        patternError(/abc/, {fieldTree: f}),\n+        patternError(/\\d+/, {fieldTree: f}),\n+      ]);\n+    });\n+\n     it('PATTERN property defaults to empty list', () => {\n       const cat = signal({name: 'pelmeni-the-cat'});\n       const f = form(", "expectedMessage": "test(forms): improve test coverage for multiple pattern validators", "repository": "angular", "commitHash": "7fd076bdd329071d8705acc5de9a852cbc68ab60", "metadata": {}}
{"id": "angular-ebc90c26", "diff": " vscode-ng-language-service/server/src/session.ts | 19 ++++++++++++++++++-\n 1 file changed, 18 insertions(+), 1 deletion(-)\n\ndiff --git a/vscode-ng-language-service/server/src/session.ts b/vscode-ng-language-service/server/src/session.ts\nindex 780aca77..20282200 100644\n--- a/vscode-ng-language-service/server/src/session.ts\n+++ b/vscode-ng-language-service/server/src/session.ts\n@@ -1403,7 +1403,24 @@ export class Session {\n       options,\n     );\n     if (!completions) {\n-      return null;\n+      const sf = this.getDefaultProjectForScriptInfo(scriptInfo)?.getSourceFile(scriptInfo.path);\n+      if (!sf) {\n+        return null;\n+      }\n+      const node = getTokenAtPosition(sf, offset);\n+      if (!isInlineStyleNode(node)) {\n+        return null;\n+      }\n+      const virtualScssDocContents = getSCSSVirtualContent(sf);\n+      const virtualScssDoc = TextDocument.create(\n+        params.textDocument.uri.toString(),\n+        'scss',\n+        0,\n+        virtualScssDocContents,\n+      );\n+      const stylesheet = scssLS.parseStylesheet(virtualScssDoc);\n+      const scssCompletions = scssLS.doComplete(virtualScssDoc, params.position, stylesheet);\n+      return scssCompletions.items;\n     }\n     return completions.entries.map((e) =>\n       tsCompletionEntryToLspCompletionItem(e, params.position, scriptInfo),", "expectedMessage": "feat(language-server): Add completions and hover info for inline styles", "repository": "angular", "commitHash": "ebc90c26f5ff1ba1e0ca9b775a44e301ebfb9473", "metadata": {}}
{"id": "angular-573aadef", "diff": " .../server/src/embedded_support.ts                 |  2 +-\n vscode-ng-language-service/server/src/session.ts   | 33 ++++++++++++++++++++--\n 2 files changed, 32 insertions(+), 3 deletions(-)\n\ndiff --git a/vscode-ng-language-service/server/src/embedded_support.ts b/vscode-ng-language-service/server/src/embedded_support.ts\nindex 8f9b1891..1e14bec8 100644\n--- a/vscode-ng-language-service/server/src/embedded_support.ts\n+++ b/vscode-ng-language-service/server/src/embedded_support.ts\n@@ -69,7 +69,7 @@ export function getSCSSVirtualContent(sf: ts.SourceFile): string {\n   return content;\n }\n \n-function isInlineStyleNode(node: ts.Node) {\n+export function isInlineStyleNode(node: ts.Node) {\n   if (!ts.isStringLiteralLike(node)) {\n     return false;\n   }\ndiff --git a/vscode-ng-language-service/server/src/session.ts b/vscode-ng-language-service/server/src/session.ts\nindex cf1591a7..780aca77 100644\n--- a/vscode-ng-language-service/server/src/session.ts\n+++ b/vscode-ng-language-service/server/src/session.ts\n@@ -39,7 +39,7 @@ import {\n \n import {readNgCompletionData, tsCompletionEntryToLspCompletionItem} from './completion';\n import {tsDiagnosticToLspDiagnostic} from './diagnostic';\n-import {getHTMLVirtualContent, getSCSSVirtualContent} from './embedded_support';\n+import {getHTMLVirtualContent, getSCSSVirtualContent, isInlineStyleNode} from './embedded_support';\n import {ServerHost} from './server_host';\n import {documentationToMarkdown} from './text_render';\n import {\n@@ -1327,7 +1327,23 @@ export class Session {\n     const offset = lspPositionToTsPosition(scriptInfo, params.position);\n     const info = languageService.getQuickInfoAtPosition(scriptInfo.fileName, offset);\n     if (!info) {\n-      return null;\n+      const sf = this.getDefaultProjectForScriptInfo(scriptInfo)?.getSourceFile(scriptInfo.path);\n+      if (!sf) {\n+        return null;\n+      }\n+      const node = getTokenAtPosition(sf, offset);\n+      if (!isInlineStyleNode(node)) {\n+        return null;\n+      }\n+      const virtualScssDocContents = getSCSSVirtualContent(sf);\n+      const virtualScssDoc = TextDocument.create(\n+        params.textDocument.uri.toString(),\n+        'scss',\n+        0,\n+        virtualScssDocContents,\n+      );\n+      const stylesheet = scssLS.parseStylesheet(virtualScssDoc);\n+      return scssLS.doHover(virtualScssDoc, params.position, stylesheet);\n     }\n     const {kind, kindModifiers, textSpan, displayParts, documentation, tags} = info;\n     let desc = kindModifiers ? kindModifiers + ' ' : '';\n@@ -1668,3 +1684,16 @@ function generateCommandAndTextEditsFromCodeActions(\n     additionalTextEdits: additionalTextEdits.length ? additionalTextEdits : undefined,\n   };\n }\n+\n+function getTokenAtPosition(sourceFile: ts.SourceFile, position: number): ts.Node {\n+  let current: ts.Node = sourceFile;\n+  while (true) {\n+    const child = current\n+      .getChildren(sourceFile)\n+      .find((c) => c.getStart(sourceFile) <= position && c.getEnd() > position);\n+    if (!child || child.kind === ts.SyntaxKind.EndOfFileToken) {\n+      return current;\n+    }\n+    current = child;\n+  }\n+}", "expectedMessage": "feat(language-server): Add quick info for inline styles", "repository": "angular", "commitHash": "573aadef7eb8b6b5e83b82a16f95d2a556f27c01", "metadata": {}}
{"id": "angular-27276374", "diff": " .devcontainer/recommended-Dockerfile              | 17 +++++------------\n .devcontainer/recommended-devcontainer.json       | 11 ++++++-----\n .gitignore                                        |  3 +++\n contributing-docs/building-and-testing-angular.md | 16 ++++++++++++++++\n 4 files changed, 30 insertions(+), 17 deletions(-)\n\ndiff --git a/.devcontainer/recommended-Dockerfile b/.devcontainer/recommended-Dockerfile\nindex d1288512..0992ceb9 100644\n--- a/.devcontainer/recommended-Dockerfile\n+++ b/.devcontainer/recommended-Dockerfile\n@@ -1,23 +1,16 @@\n # Image metadata and config.\n # Ideally, the Node.js version should match what we use on CI.\n-FROM cimg/node:18.13.0@sha256:45d0ee279f522c4562a464df71108104cc9b2187205333ffd0707d4f05589731\n-\n+FROM cimg/node:22.21.1-browsers@sha256:eee8ed828d5a54196456a86ac6872c43325acad54e59632261e23b486c458992\n \n LABEL name=\"Angular dev environment\" \\\n-      description=\"This image can be used to create a dev environment for building Angular.\" \\\n-      vendor=\"angular\" \\\n-      version=\"1.0\"\n-\n-EXPOSE 4000 4200 4433 5000 8080 9876\n+  description=\"This image can be used to create a dev environment for building Angular.\" \\\n+  vendor=\"angular\" \\\n+  version=\"1.0\"\n \n+EXPOSE 4200 4201 4205 4206 9876\n \n # Switch to `root`.\n USER root\n \n-\n-# Configure `Node.js`/`npm`.\n-RUN npm config --global set user root\n-\n-\n # Go! (And keep going.)\n CMD [\"tail\", \"--follow\", \"/dev/null\"]\ndiff --git a/.devcontainer/recommended-devcontainer.json b/.devcontainer/recommended-devcontainer.json\nindex 03a2e3b5..61316086 100644\n--- a/.devcontainer/recommended-devcontainer.json\n+++ b/.devcontainer/recommended-devcontainer.json\n@@ -2,10 +2,11 @@\n {\n   \"name\": \"Angular dev container\",\n   \"dockerFile\": \"Dockerfile\",\n-  \"appPort\": [4000, 4200, 4433, 5000, 8080, 9876],\n+  \"forwardPorts\": [4200, 4201, 4205, 4206, 9876],\n   \"postCreateCommand\": \"pnpm install\",\n-  \"extensions\": [\n-    \"devondcarew.bazel-code\",\n-    \"ms-vscode.vscode-typescript-tslint-plugin\"\n-  ],\n+  \"customizations\": {\n+    \"vscode\": {\n+      \"extensions\": [\"BazelBuild.vscode-bazel\", \"ms-vscode.vscode-typescript-tslint-plugin\"]\n+    }\n+  }\n }\ndiff --git a/.gitignore b/.gitignore\nindex 3a7c650d..a7b08fdc 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -54,3 +54,6 @@ baseline.json\n \n # Ignore cache created with the Angular CLI.\n .angular/\n+\n+# pnpm store\n+.pnpm-store\ndiff --git a/contributing-docs/building-and-testing-angular.md b/contributing-docs/building-and-testing-angular.md\nindex fe304b44..2d3264e6 100644\n--- a/contributing-docs/building-and-testing-angular.md\n+++ b/contributing-docs/building-and-testing-angular.md\n@@ -5,6 +5,7 @@ It also explains the basic mechanics of using `git`, `node`, and `pnpm`.\n \n - [Building and Testing Angular](#building-and-testing-angular)\n   - [Prerequisite Software](#prerequisite-software)\n+  - [Development in a Container](#development-in-a-container)\n   - [Getting the Sources](#getting-the-sources)\n   - [Installing NPM Modules](#installing-npm-modules)\n   - [Building](#building)\n@@ -52,6 +53,21 @@ following on your development machine:\n - On Windows: [MSYS2](https://www.msys2.org/) which is used by Bazel. Follow\n   the [instructions](https://bazel.build/install/windows#installing-compilers-and-language-runtimes)\n \n+## Development in a Container\n+\n+You can also use the provided [Dev Container](https://containers.dev/) configuration to set up a development environment. This approach uses Docker to create a container with all the necessary tools (Node.js, pnpm, etc.) pre-installed.\n+\n+**Prerequisites:**\n+\n+- [Docker Desktop](https://www.docker.com/products/docker-desktop)\n+- [VS Code](https://code.visualstudio.com/)\n+- [Dev Containers extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers)\n+\n+**Usage:**\n+\n+1. Open the Angular repository in VS Code.\n+2. Run the **Dev Containers: Reopen in Container** command from the Command Palette (`Ctrl+Shift+P` or `Cmd+Shift+P`).\n+\n ## Getting the Sources\n \n Fork and clone the Angular repository:", "expectedMessage": "build: update dev container configuration", "repository": "angular", "commitHash": "27276374ab4f8af00fe5b6c8b18aca9e9f2af3da", "metadata": {}}
{"id": "angular-f53f878e", "diff": " adev/shared-docs/styles/_reference.scss | 4 ++--\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/adev/shared-docs/styles/_reference.scss b/adev/shared-docs/styles/_reference.scss\nindex 1538df84..89f7eec4 100644\n--- a/adev/shared-docs/styles/_reference.scss\n+++ b/adev/shared-docs/styles/_reference.scss\n@@ -64,10 +64,10 @@\n   }\n \n   .docs-reference-section-heading {\n-    padding-block-start: 3rem;\n+    margin-block-start: 3rem;\n \n     &--sub {\n-      padding-block-start: 1rem;\n+      margin-block-start: 1rem;\n     }\n \n     & > a {", "expectedMessage": "fix(docs-infra): use margin instead of padding to prevent heading hover overflow", "repository": "angular", "commitHash": "f53f878e0fdf658bd6bcdd8c349229324f8fd437", "metadata": {}}
{"id": "angular-933ca9e5", "diff": " adev/src/content/guide/signals/overview.md | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/guide/signals/overview.md b/adev/src/content/guide/signals/overview.md\nindex cffc0924..7180209b 100644\n--- a/adev/src/content/guide/signals/overview.md\n+++ b/adev/src/content/guide/signals/overview.md\n@@ -188,7 +188,7 @@ effect(() => {\n \n ## Advanced derivations\n \n-While `computed` handles simple readonly derivations, you might find youself needing a writable state that is dependant on other signals.\n+While `computed` handles simple readonly derivations, you might find yourself needing a writable state that is dependant on other signals.\n For more information see the [Dependent state with linkedSignal](/guide/signals/linked-signal) guide.\n \n All signal APIs are synchronous\u2014 `signal`, `computed`, `input`, etc. However, applications often need to deal with data that is available asynchronously. A `Resource` gives you a way to incorporate async data into your application's signal-based code and still allow you to access its data synchronously. For more information see the [Async reactivity with resources](/guide/signals/resource) guide.", "expectedMessage": "docs: fix spelling mistake in documentation", "repository": "angular", "commitHash": "933ca9e5dce1b0439a8c923459f2f16d7b5a27c8", "metadata": {}}
{"id": "angular-4d6a6aaf", "diff": " .ng-dev/github.mjs | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/.ng-dev/github.mjs b/.ng-dev/github.mjs\nindex 57b58572..8df9dcd8 100644\n--- a/.ng-dev/github.mjs\n+++ b/.ng-dev/github.mjs\n@@ -9,4 +9,5 @@ export const github = {\n   name: 'angular',\n   mainBranchName: 'main',\n   mergeMode: 'caretaker-only',\n+  requireReleaseModeForRelease: true,\n };", "expectedMessage": "build: begin requring usage of release mode for releases", "repository": "angular", "commitHash": "4d6a6aafeecc0449025b3ad94c08223770af1b97", "metadata": {}}
{"id": "angular-c63bc58e", "diff": " adev/src/content/guide/components/queries.md | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/guide/components/queries.md b/adev/src/content/guide/components/queries.md\nindex eb0ac018..badbc171 100644\n--- a/adev/src/content/guide/components/queries.md\n+++ b/adev/src/content/guide/components/queries.md\n@@ -107,7 +107,7 @@ By default, content queries find only _direct_ children of the component and do\n \n You can also query for multiple results with the `contentChildren` function.\n \n-```angular-ts {highlight: [14, 16, 17, 18, 19, 20]}\n+```angular-ts {highlight: [15, 16]}\n @Component({\n   selector: 'custom-menu-item',\n   /*...*/", "expectedMessage": "docs: correct line number highlighting in query examples", "repository": "angular", "commitHash": "c63bc58e0f1828a0133460cfd05cfdb97252db57", "metadata": {}}
{"id": "angular-e38c1bf7", "diff": " packages/common/http/src/xsrf.ts | 1 -\n 1 file changed, 1 deletion(-)\n\ndiff --git a/packages/common/http/src/xsrf.ts b/packages/common/http/src/xsrf.ts\nindex f6e485e4..c893474d 100644\n--- a/packages/common/http/src/xsrf.ts\n+++ b/packages/common/http/src/xsrf.ts\n@@ -41,7 +41,6 @@ export const XSRF_DEFAULT_HEADER_NAME = 'X-XSRF-TOKEN';\n export const XSRF_HEADER_NAME = new InjectionToken<string>(\n   typeof ngDevMode !== 'undefined' && ngDevMode ? 'XSRF_HEADER_NAME' : '',\n   {\n-    providedIn: 'root',\n     factory: () => XSRF_DEFAULT_HEADER_NAME,\n   },\n );", "expectedMessage": "refactor(http): remove redundant providedIn: 'root' in XSRF_HEADER_NAME", "repository": "angular", "commitHash": "e38c1bf743be5f9dfa3cc4dc8e7dc87437cc821a", "metadata": {}}
{"id": "angular-fa6e82b5", "diff": " packages/core/src/change_detection/scheduling/ng_zone_scheduling.ts    | 3 ++-\n .../core/src/change_detection/scheduling/zoneless_scheduling_impl.ts   | 3 ++-\n 2 files changed, 4 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/core/src/change_detection/scheduling/ng_zone_scheduling.ts b/packages/core/src/change_detection/scheduling/ng_zone_scheduling.ts\nindex 8a3c365a..f714e5fb 100644\n--- a/packages/core/src/change_detection/scheduling/ng_zone_scheduling.ts\n+++ b/packages/core/src/change_detection/scheduling/ng_zone_scheduling.ts\n@@ -31,9 +31,10 @@ import {\n } from './zoneless_scheduling';\n import {SCHEDULE_IN_ROOT_ZONE_DEFAULT} from './flags';\n import {INTERNAL_APPLICATION_ERROR_HANDLER} from '../../error_handler';\n+import {OnDestroy} from '../lifecycle_hooks';\n \n @Injectable({providedIn: 'root'})\n-export class NgZoneChangeDetectionScheduler {\n+export class NgZoneChangeDetectionScheduler implements OnDestroy {\n   private readonly zone = inject(NgZone);\n   private readonly changeDetectionScheduler = inject(ChangeDetectionScheduler);\n   private readonly applicationRef = inject(ApplicationRef);\ndiff --git a/packages/core/src/change_detection/scheduling/zoneless_scheduling_impl.ts b/packages/core/src/change_detection/scheduling/zoneless_scheduling_impl.ts\nindex dcc0de84..2c44a2cd 100644\n--- a/packages/core/src/change_detection/scheduling/zoneless_scheduling_impl.ts\n+++ b/packages/core/src/change_detection/scheduling/zoneless_scheduling_impl.ts\n@@ -31,6 +31,7 @@ import {\n } from './zoneless_scheduling';\n import {TracingService} from '../../application/tracing';\n import {INTERNAL_APPLICATION_ERROR_HANDLER} from '../../error_handler';\n+import {OnDestroy} from '../lifecycle_hooks';\n \n const CONSECUTIVE_MICROTASK_NOTIFICATION_LIMIT = 100;\n let consecutiveMicrotaskNotifications = 0;\n@@ -56,7 +57,7 @@ function trackMicrotaskNotificationForDebugging() {\n }\n \n @Injectable({providedIn: 'root'})\n-export class ChangeDetectionSchedulerImpl implements ChangeDetectionScheduler {\n+export class ChangeDetectionSchedulerImpl implements ChangeDetectionScheduler, OnDestroy {\n   private readonly applicationErrorHandler = inject(INTERNAL_APPLICATION_ERROR_HANDLER);\n   private readonly appRef = inject(ApplicationRef);\n   private readonly taskService = inject(PendingTasksInternal);", "expectedMessage": "refactor(core): Add missing OnDestroy to zone and zoneless change detection schedulers", "repository": "angular", "commitHash": "fa6e82b569b99a4d9ecfcea0f008a0333d330f32", "metadata": {}}
