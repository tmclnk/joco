{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" packages/common/http/src/xsrf.ts | 1 -\n 1 file changed, 1 deletion(-)\n\ndiff --git a/packages/common/http/src/xsrf.ts b/packages/common/http/src/xsrf.ts\nindex f6e485e4..c893474d 100644\n--- a/packages/common/http/src/xsrf.ts\n+++ b/packages/common/http/src/xsrf.ts\n@@ -41,7 +41,6 @@ export const XSRF_DEFAULT_HEADER_NAME \u003d \u0027X-XSRF-TOKEN\u0027;\n export const XSRF_HEADER_NAME \u003d new InjectionToken\u003cstring\u003e(\n   typeof ngDevMode !\u003d\u003d \u0027undefined\u0027 \u0026\u0026 ngDevMode ? \u0027XSRF_HEADER_NAME\u0027 : \u0027\u0027,\n   {\n-    providedIn: \u0027root\u0027,\n     factory: () \u003d\u003e XSRF_DEFAULT_HEADER_NAME,\n   },\n );","output":"refactor(http): remove redundant providedIn: \u0027root\u0027 in XSRF_HEADER_NAME","metadata":{"id":"angular-e38c1bf7","repository":"angular","commit_hash":"e38c1bf743be5f9dfa3cc4dc8e7dc87437cc821a","author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e","type":"refactor","scope":"http","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .../marked/extensions/docs-card/docs-card.mts      | 24 +++++++++++-----------\n .../pipeline/shared/marked/renderer.mts            |  2 ++\n .../shared/marked/test/heading/heading.spec.mts    | 17 +++++++++++++--\n .../shared/marked/test/renderer-context.mts        |  1 +\n .../shared/marked/transformations/heading.mts      |  4 +++-\n .../shared/marked/transformations/link.mts         | 14 ++-----------\n 6 files changed, 35 insertions(+), 27 deletions(-)\n\ndiff --git a/adev/shared-docs/pipeline/shared/marked/extensions/docs-card/docs-card.mts b/adev/shared-docs/pipeline/shared/marked/extensions/docs-card/docs-card.mts\nindex 457936a0..f21fa846 100644\n--- a/adev/shared-docs/pipeline/shared/marked/extensions/docs-card/docs-card.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/extensions/docs-card/docs-card.mts\n@@ -6,9 +6,9 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {Tokens, Token, RendererThis, TokenizerThis} from \u0027marked\u0027;\n-import {loadWorkspaceRelativeFile, anchorTarget} from \u0027../../helpers.mjs\u0027;\n-import {setInsideLink} from \u0027../../transformations/link.mjs\u0027;\n+import {RendererThis, Token, TokenizerThis, Tokens} from \u0027marked\u0027;\n+import {anchorTarget, loadWorkspaceRelativeFile} from \u0027../../helpers.mjs\u0027;\n+import {AdevDocsRenderer} from \u0027../../renderer.mjs\u0027;\n \n interface DocsCardToken extends Tokens.Generic {\n   type: \u0027docs-card\u0027;\n@@ -67,11 +67,13 @@ export const docsCardExtension \u003d {\n     return undefined;\n   },\n   renderer(this: RendererThis, token: DocsCardToken) {\n-    return token.imgSrc ? getCardWithSvgIllustration(this, token) : getStandardCard(this, token);\n+    return token.imgSrc\n+      ? getCardWithSvgIllustration(this, token)\n+      : getStandardCard(this.parser.renderer as AdevDocsRenderer, token);\n   },\n };\n \n-function getStandardCard(renderer: RendererThis, token: DocsCardToken) {\n+function getStandardCard(renderer: AdevDocsRenderer, token: DocsCardToken) {\n   if (token.iconImgSrc \u0026\u0026 token.href) {\n     // We can assume that all icons are svg files since they are custom.\n     // We need to read svg content, instead of renering svg with `img`,\n@@ -110,13 +112,11 @@ function getStandardCard(renderer: RendererThis, token: DocsCardToken) {\n   `;\n }\n \n-function parseWithoutCreatingLinks(renderer: RendererThis, token: DocsCardToken) {\n-  setInsideLink(true);\n-  try {\n-    return renderer.parser.parse(token.tokens);\n-  } finally {\n-    setInsideLink(false);\n-  }\n+function parseWithoutCreatingLinks(renderer: AdevDocsRenderer, token: DocsCardToken) {\n+  renderer.context.disableAutoLinking \u003d true;\n+  const parsed \u003d renderer.parser.parse(token.tokens);\n+  renderer.context.disableAutoLinking \u003d false;\n+  return parsed;\n }\n \n function getCardWithSvgIllustration(renderer: RendererThis, token: DocsCardToken) {\ndiff --git a/adev/shared-docs/pipeline/shared/marked/renderer.mts b/adev/shared-docs/pipeline/shared/marked/renderer.mts\nindex dc884fae..fe07d2a8 100644\n--- a/adev/shared-docs/pipeline/shared/marked/renderer.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/renderer.mts\n@@ -31,6 +31,8 @@ export interface RendererContext {\n   apiEntries?: Record\u003cstring, {moduleName: string; aliases?: string[]}\u003e;\n   highlighter: HighlighterGeneric\u003cany, any\u003e;\n   headerIds: Map\u003cstring, number\u003e;\n+  /** In the case we want to disable auto-linking because anchor blocks might be incompatible where some code blocks are being rendered */\n+  disableAutoLinking: boolean;\n }\n \n /**\ndiff --git a/adev/shared-docs/pipeline/shared/marked/test/heading/heading.spec.mts b/adev/shared-docs/pipeline/shared/marked/test/heading/heading.spec.mts\nindex 16faedf0..dd3bb563 100644\n--- a/adev/shared-docs/pipeline/shared/marked/test/heading/heading.spec.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/test/heading/heading.spec.mts\n@@ -6,10 +6,10 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {parseMarkdown} from \u0027../../parse.mjs\u0027;\n-import {resolve} from \u0027node:path\u0027;\n import {readFile} from \u0027fs/promises\u0027;\n import {JSDOM} from \u0027jsdom\u0027;\n+import {resolve} from \u0027node:path\u0027;\n+import {parseMarkdown} from \u0027../../parse.mjs\u0027;\n import {rendererContext} from \u0027../renderer-context.mjs\u0027;\n \n describe(\u0027markdown to html\u0027, () \u003d\u003e {\n@@ -118,4 +118,17 @@ describe(\u0027markdown to html\u0027, () \u003d\u003e {\n \n     expect(h2.firstElementChild!.innerHTML).toBe(\u0027Query for the \u003ccode\u003e\u0026lt;h1\u0026gt;\u003c/code\u003e\u0027);\n   });\n+\n+  it(\u0027shoud now link symbols in headings\u0027, () \u003d\u003e {\n+    const markdownDocument \u003d JSDOM.fragment(\n+      parseMarkdown(\u0027## Hello **NEW** `Router` \u0027, rendererContext),\n+    );\n+    const h2 \u003d markdownDocument.querySelector(\u0027h2\u0027)!;\n+\n+    // The anchor element should be to only child, no nested anchor\n+    expect(h2.children.length).toBe(1);\n+\n+    // We ensure that we still style the heading content\n+    expect(markdownDocument.querySelector(\u0027strong\u0027)).toBeDefined();\n+  });\n });\ndiff --git a/adev/shared-docs/pipeline/shared/marked/test/renderer-context.mts b/adev/shared-docs/pipeline/shared/marked/test/renderer-context.mts\nindex dfaf5ce1..d202cb00 100644\n--- a/adev/shared-docs/pipeline/shared/marked/test/renderer-context.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/test/renderer-context.mts\n@@ -25,6 +25,7 @@ export const rendererContext: RendererContext \u003d {\n     Router: {moduleName: \u0027angular/router\u0027},\n   },\n   headerIds: new Map\u003cstring, number\u003e(),\n+  disableAutoLinking: false,\n };\n \n export async function setHighlighter() {\ndiff --git a/adev/shared-docs/pipeline/shared/marked/transformations/heading.mts b/adev/shared-docs/pipeline/shared/marked/transformations/heading.mts\nindex 3bd651ee..f5ed377e 100644\n--- a/adev/shared-docs/pipeline/shared/marked/transformations/heading.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/transformations/heading.mts\n@@ -13,7 +13,9 @@ export function headingRender(\n   this: AdevDocsRenderer,\n   {depth, tokens, text: headingText, raw}: Tokens.Heading,\n ): string {\n-  const parsedText \u003d this?.parser.parseInline(tokens);\n+  this.context.disableAutoLinking \u003d true;\n+  const parsedText \u003d this?.parser.parseInline(tokens, this);\n+  this.context.disableAutoLinking \u003d false;\n   if (depth \u003d\u003d\u003d 1) {\n     return `\n     \u003cheader class\u003d\"docs-header\"\u003e\ndiff --git a/adev/shared-docs/pipeline/shared/marked/transformations/link.mts b/adev/shared-docs/pipeline/shared/marked/transformations/link.mts\nindex 50263558..d01b65ab 100644\n--- a/adev/shared-docs/pipeline/shared/marked/transformations/link.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/transformations/link.mts\n@@ -6,20 +6,10 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n+import {Tokens} from \u0027marked\u0027;\n import {anchorTarget} from \u0027../helpers.mjs\u0027;\n-import {Renderer, Tokens} from \u0027marked\u0027;\n import {AdevDocsRenderer} from \u0027../renderer.mjs\u0027;\n \n-/**\n- * Tracks whether the current renderer is inside a link.\n- *\n- * This is necessary because nested links are invalid HTML and can cause rendering issues.\n- */\n-let insideLink \u003d false;\n-export function setInsideLink(value: boolean) {\n-  insideLink \u003d value;\n-}\n-\n export function linkRender(this: AdevDocsRenderer, {href, title, tokens}: Tokens.Link) {\n   // We have render-time check that we don\u0027t create absolute links (which are rendered as external links)\n   // in our guides\n@@ -40,7 +30,7 @@ export function linkRender(this: AdevDocsRenderer, {href, title, tokens}: Tokens\n     );\n   }\n \n-  if (insideLink) {\n+  if (this.context.disableAutoLinking) {\n     return this.parser.parseInline(tokens);\n   }\n ","output":"docs(docs-infra): prevent heading from linking symbols","metadata":{"id":"angular-a792315f","repository":"angular","commit_hash":"a792315f095961ad82de8e6b9b77868f8850ac1a","author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e","type":"docs","scope":"docs-infra","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/src/content/guide/templates/pipes.md | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/guide/templates/pipes.md b/adev/src/content/guide/templates/pipes.md\nindex 61e558c2..1f8e5cdf 100644\n--- a/adev/src/content/guide/templates/pipes.md\n+++ b/adev/src/content/guide/templates/pipes.md\n@@ -271,7 +271,7 @@ export class MyCustomTransformationPipe implements PipeTransform {\n \n When you want a pipe to detect changes within arrays or objects, it must be marked as an impure function by passing the `pure` flag with a value of `false`.\n \n-Avoid creating impure pipes unless absolutely necessary, as they can incur a significant performance penalty if used without care.\n+IMPORTANT: Avoid creating impure pipes unless absolutely necessary, as they can incur a significant performance penalty if used without care.\n \n ```angular-ts\n import { Pipe, PipeTransform } from \u0027@angular/core\u0027;","output":"docs: add IMPORTANT prefix to pipe usage warning and","metadata":{"id":"angular-c9f584b9","repository":"angular","commit_hash":"c9f584b91859838a4d811842a4f7ee1a7dca8d14","author":"Shuaib Hasan Akib \u003cakibh805@gmail.com\u003e","type":"docs","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/src/content/guide/components/queries.md | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/guide/components/queries.md b/adev/src/content/guide/components/queries.md\nindex eb0ac018..badbc171 100644\n--- a/adev/src/content/guide/components/queries.md\n+++ b/adev/src/content/guide/components/queries.md\n@@ -107,7 +107,7 @@ By default, content queries find only _direct_ children of the component and do\n \n You can also query for multiple results with the `contentChildren` function.\n \n-```angular-ts {highlight: [14, 16, 17, 18, 19, 20]}\n+```angular-ts {highlight: [15, 16]}\n @Component({\n   selector: \u0027custom-menu-item\u0027,\n   /*...*/","output":"docs: correct line number highlighting in query examples","metadata":{"id":"angular-c63bc58e","repository":"angular","commit_hash":"c63bc58e0f1828a0133460cfd05cfdb97252db57","author":"Shuaib Hasan Akib \u003cakibh805@gmail.com\u003e","type":"docs","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .../template/pipeline/src/phases/var_counting.ts   | 93 +++++++++++++---------\n 1 file changed, 54 insertions(+), 39 deletions(-)\n\ndiff --git a/packages/compiler/src/template/pipeline/src/phases/var_counting.ts b/packages/compiler/src/template/pipeline/src/phases/var_counting.ts\nindex efc01304..258502ff 100644\n--- a/packages/compiler/src/template/pipeline/src/phases/var_counting.ts\n+++ b/packages/compiler/src/template/pipeline/src/phases/var_counting.ts\n@@ -7,6 +7,7 @@\n  */\n \n import * as ir from \u0027../../ir\u0027;\n+import * as o from \u0027../../../../output/output_ast\u0027;\n import {CompilationJob, ComponentCompilationJob} from \u0027../compilation\u0027;\n \n /**\n@@ -28,50 +29,64 @@ export function countVariables(job: CompilationJob): void {\n     // Count variables on expressions inside ops. We do this later because some of these expressions\n     // might be conditional (e.g. `pipeBinding` inside of a ternary), and we don\u0027t want to interfere\n     // with indices for top-level binding slots (e.g. `property`).\n-    for (const op of unit.ops()) {\n-      ir.visitExpressionsInOp(op, (expr) \u003d\u003e {\n-        if (!ir.isIrExpression(expr)) {\n-          return;\n-        }\n+    const firstPassCountExpressionVars \u003d (expr: o.Expression) \u003d\u003e {\n+      if (!ir.isIrExpression(expr)) {\n+        return;\n+      }\n \n-        // TemplateDefinitionBuilder assigns variable offsets for everything but pure functions\n-        // first, and then assigns offsets to pure functions lazily. We emulate that behavior by\n-        // assigning offsets in two passes instead of one, only in compatibility mode.\n-        if (\n-          job.compatibility \u003d\u003d\u003d ir.CompatibilityMode.TemplateDefinitionBuilder \u0026\u0026\n-          expr instanceof ir.PureFunctionExpr\n-        ) {\n-          return;\n-        }\n+      // TemplateDefinitionBuilder assigns variable offsets for everything but pure functions\n+      // first, and then assigns offsets to pure functions lazily. We emulate that behavior by\n+      // assigning offsets in two passes instead of one, only in compatibility mode.\n+      if (\n+        job.compatibility \u003d\u003d\u003d ir.CompatibilityMode.TemplateDefinitionBuilder \u0026\u0026\n+        expr instanceof ir.PureFunctionExpr\n+      ) {\n+        return;\n+      }\n \n-        // Some expressions require knowledge of the number of variable slots consumed.\n-        if (ir.hasUsesVarOffsetTrait(expr)) {\n-          expr.varOffset \u003d varCount;\n-        }\n+      // Some expressions require knowledge of the number of variable slots consumed.\n+      if (ir.hasUsesVarOffsetTrait(expr)) {\n+        expr.varOffset \u003d varCount;\n+      }\n \n-        if (ir.hasConsumesVarsTrait(expr)) {\n-          varCount +\u003d varsUsedByIrExpression(expr);\n-        }\n-      });\n-    }\n+      if (ir.hasConsumesVarsTrait(expr)) {\n+        varCount +\u003d varsUsedByIrExpression(expr);\n+      }\n+    };\n \n     // Compatibility mode pass for pure function offsets (as explained above).\n+    const secondPassCountExpressionVars \u003d (expr: o.Expression) \u003d\u003e {\n+      if (!ir.isIrExpression(expr) || !(expr instanceof ir.PureFunctionExpr)) {\n+        return;\n+      }\n+\n+      // Some expressions require knowledge of the number of variable slots consumed.\n+      if (ir.hasUsesVarOffsetTrait(expr)) {\n+        expr.varOffset \u003d varCount;\n+      }\n+\n+      if (ir.hasConsumesVarsTrait(expr)) {\n+        varCount +\u003d varsUsedByIrExpression(expr);\n+      }\n+    };\n+\n+    // Note: we iterate over `create` and `update` separately, instead of going using `unit.ops()`,\n+    // because `unit.ops()` will visit nested ops too (e.g. the `ListenerOp.handlerOps`). We\n+    // don\u0027t want that, because the `visitExpressionsInOp` call below will visit the same nested\n+    // ops again, leading to vars in some expressions to be counted twice.\n+    for (const createOp of unit.create) {\n+      ir.visitExpressionsInOp(createOp, firstPassCountExpressionVars);\n+    }\n+    for (const updateOp of unit.update) {\n+      ir.visitExpressionsInOp(updateOp, firstPassCountExpressionVars);\n+    }\n+\n     if (job.compatibility \u003d\u003d\u003d ir.CompatibilityMode.TemplateDefinitionBuilder) {\n-      for (const op of unit.ops()) {\n-        ir.visitExpressionsInOp(op, (expr) \u003d\u003e {\n-          if (!ir.isIrExpression(expr) || !(expr instanceof ir.PureFunctionExpr)) {\n-            return;\n-          }\n-\n-          // Some expressions require knowledge of the number of variable slots consumed.\n-          if (ir.hasUsesVarOffsetTrait(expr)) {\n-            expr.varOffset \u003d varCount;\n-          }\n-\n-          if (ir.hasConsumesVarsTrait(expr)) {\n-            varCount +\u003d varsUsedByIrExpression(expr);\n-          }\n-        });\n+      for (const createOp of unit.create) {\n+        ir.visitExpressionsInOp(createOp, secondPassCountExpressionVars);\n+      }\n+      for (const updateOp of unit.update) {\n+        ir.visitExpressionsInOp(updateOp, secondPassCountExpressionVars);\n       }\n     }\n \n@@ -164,7 +179,7 @@ function varsUsedByOp(op: (ir.CreateOp | ir.UpdateOp) \u0026 ir.ConsumesVarsTrait): n\n   }\n }\n \n-export function varsUsedByIrExpression(expr: ir.Expression \u0026 ir.ConsumesVarsTrait): number {\n+function varsUsedByIrExpression(expr: ir.Expression \u0026 ir.ConsumesVarsTrait): number {\n   switch (expr.kind) {\n     case ir.ExpressionKind.PureFunctionExpr:\n       return 1 + expr.args.length;","output":"fix(compiler): variable counter visiting some expressions twice","metadata":{"id":"angular-3242a61b","repository":"angular","commit_hash":"3242a61bae02253d13abb510b666376c665e61ac","author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e","type":"fix","scope":"compiler","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .../server/src/embedded_support.ts                 |  2 +-\n vscode-ng-language-service/server/src/session.ts   | 33 ++++++++++++++++++++--\n 2 files changed, 32 insertions(+), 3 deletions(-)\n\ndiff --git a/vscode-ng-language-service/server/src/embedded_support.ts b/vscode-ng-language-service/server/src/embedded_support.ts\nindex 8f9b1891..1e14bec8 100644\n--- a/vscode-ng-language-service/server/src/embedded_support.ts\n+++ b/vscode-ng-language-service/server/src/embedded_support.ts\n@@ -69,7 +69,7 @@ export function getSCSSVirtualContent(sf: ts.SourceFile): string {\n   return content;\n }\n \n-function isInlineStyleNode(node: ts.Node) {\n+export function isInlineStyleNode(node: ts.Node) {\n   if (!ts.isStringLiteralLike(node)) {\n     return false;\n   }\ndiff --git a/vscode-ng-language-service/server/src/session.ts b/vscode-ng-language-service/server/src/session.ts\nindex cf1591a7..780aca77 100644\n--- a/vscode-ng-language-service/server/src/session.ts\n+++ b/vscode-ng-language-service/server/src/session.ts\n@@ -39,7 +39,7 @@ import {\n \n import {readNgCompletionData, tsCompletionEntryToLspCompletionItem} from \u0027./completion\u0027;\n import {tsDiagnosticToLspDiagnostic} from \u0027./diagnostic\u0027;\n-import {getHTMLVirtualContent, getSCSSVirtualContent} from \u0027./embedded_support\u0027;\n+import {getHTMLVirtualContent, getSCSSVirtualContent, isInlineStyleNode} from \u0027./embedded_support\u0027;\n import {ServerHost} from \u0027./server_host\u0027;\n import {documentationToMarkdown} from \u0027./text_render\u0027;\n import {\n@@ -1327,7 +1327,23 @@ export class Session {\n     const offset \u003d lspPositionToTsPosition(scriptInfo, params.position);\n     const info \u003d languageService.getQuickInfoAtPosition(scriptInfo.fileName, offset);\n     if (!info) {\n-      return null;\n+      const sf \u003d this.getDefaultProjectForScriptInfo(scriptInfo)?.getSourceFile(scriptInfo.path);\n+      if (!sf) {\n+        return null;\n+      }\n+      const node \u003d getTokenAtPosition(sf, offset);\n+      if (!isInlineStyleNode(node)) {\n+        return null;\n+      }\n+      const virtualScssDocContents \u003d getSCSSVirtualContent(sf);\n+      const virtualScssDoc \u003d TextDocument.create(\n+        params.textDocument.uri.toString(),\n+        \u0027scss\u0027,\n+        0,\n+        virtualScssDocContents,\n+      );\n+      const stylesheet \u003d scssLS.parseStylesheet(virtualScssDoc);\n+      return scssLS.doHover(virtualScssDoc, params.position, stylesheet);\n     }\n     const {kind, kindModifiers, textSpan, displayParts, documentation, tags} \u003d info;\n     let desc \u003d kindModifiers ? kindModifiers + \u0027 \u0027 : \u0027\u0027;\n@@ -1668,3 +1684,16 @@ function generateCommandAndTextEditsFromCodeActions(\n     additionalTextEdits: additionalTextEdits.length ? additionalTextEdits : undefined,\n   };\n }\n+\n+function getTokenAtPosition(sourceFile: ts.SourceFile, position: number): ts.Node {\n+  let current: ts.Node \u003d sourceFile;\n+  while (true) {\n+    const child \u003d current\n+      .getChildren(sourceFile)\n+      .find((c) \u003d\u003e c.getStart(sourceFile) \u003c\u003d position \u0026\u0026 c.getEnd() \u003e position);\n+    if (!child || child.kind \u003d\u003d\u003d ts.SyntaxKind.EndOfFileToken) {\n+      return current;\n+    }\n+    current \u003d child;\n+  }\n+}","output":"feat(language-server): Add quick info for inline styles","metadata":{"id":"angular-573aadef","repository":"angular","commit_hash":"573aadef7eb8b6b5e83b82a16f95d2a556f27c01","author":"Andrew Scott \u003catscott@google.com\u003e","type":"feat","scope":"language-server","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .github/workflows/ci.yml                   |  2 +-\n adev/scripts/synonyms/algolia-synonyms.mts |  2 +-\n adev/scripts/synonyms/tsconfig.json        | 22 ++++++++++++++++++++++\n adev/scripts/synonyms/update-synonyms.mts  |  2 +-\n 4 files changed, 25 insertions(+), 3 deletions(-)\n\ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 04ff82f5..d1be1578 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -224,6 +224,6 @@ jobs:\n           configPath: \u0027adev/firebase.json\u0027\n           distDir: \u0027dist/bin/adev/dist\u0027\n       - name: Update Algolia synonym record\n-        run: pnpm tsx adev/scripts/synonyms/update-synonyms.mts\n+        run: node adev/scripts/synonyms/update-synonyms.mts\n         env:\n           ALGOLIA_KEY: ${{ secrets.ALGOLIA_SYNONYM_MANAGER }}\ndiff --git a/adev/scripts/synonyms/algolia-synonyms.mts b/adev/scripts/synonyms/algolia-synonyms.mts\nindex e50c8d28..78fe68c4 100644\n--- a/adev/scripts/synonyms/algolia-synonyms.mts\n+++ b/adev/scripts/synonyms/algolia-synonyms.mts\n@@ -6,7 +6,7 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {SynonymHit} from \u0027algoliasearch\u0027;\n+import {type SynonymHit} from \u0027algoliasearch\u0027;\n \n /**\n  * List of synonyms to upload to algolia.\ndiff --git a/adev/scripts/synonyms/tsconfig.json b/adev/scripts/synonyms/tsconfig.json\nnew file mode 100644\nindex 00000000..7f56507b\n--- /dev/null\n+++ b/adev/scripts/synonyms/tsconfig.json\n@@ -0,0 +1,22 @@\n+{\n+  \"compileOnSave\": false,\n+  \"compilerOptions\": {\n+    \"forceConsistentCasingInFileNames\": true,\n+    \"strict\": true,\n+    \"noImplicitOverride\": true,\n+    \"noPropertyAccessFromIndexSignature\": true,\n+    \"noImplicitReturns\": true,\n+    \"noFallthroughCasesInSwitch\": true,\n+    \"sourceMap\": true,\n+    \"declaration\": false,\n+    \"moduleResolution\": \"bundler\",\n+    \"preserveSymlinks\": true,\n+    \"importHelpers\": true,\n+    \"target\": \"ES2022\",\n+    \"module\": \"ES2022\",\n+    \"allowImportingTsExtensions\": true,\n+    \"lib\": [\"ES2022\"],\n+    \"types\": [],\n+    \"skipLibCheck\": true\n+  }\n+}\ndiff --git a/adev/scripts/synonyms/update-synonyms.mts b/adev/scripts/synonyms/update-synonyms.mts\nindex c0277df8..ee28ec30 100644\n--- a/adev/scripts/synonyms/update-synonyms.mts\n+++ b/adev/scripts/synonyms/update-synonyms.mts\n@@ -7,7 +7,7 @@\n  */\n \n import {algoliasearch} from \u0027algoliasearch\u0027;\n-import synonyms from \u0027./algolia-synonyms.mjs\u0027;\n+import synonyms from \u0027./algolia-synonyms.mts\u0027;\n \n /** The name of the index being updated. */\n const INDEX_NAME \u003d \u0027angular_v17\u0027;","output":"ci: update algolia synonym updater to use node directly rather than tsx","metadata":{"id":"angular-3f13db87","repository":"angular","commit_hash":"3f13db87e27f6ffc207fc642979776606a71fcec","author":"Joey Perrott \u003cjosephperrott@gmail.com\u003e","type":"ci","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/src/app/core/layout/footer/footer.component.html | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/app/core/layout/footer/footer.component.html b/adev/src/app/core/layout/footer/footer.component.html\nindex 2b053543..d49100e9 100644\n--- a/adev/src/app/core/layout/footer/footer.component.html\n+++ b/adev/src/app/core/layout/footer/footer.component.html\n@@ -93,7 +93,7 @@\n       \u003c/ul\u003e\n     \u003c/div\u003e\n     \u003cdiv\u003e\n-      \u003ch2\u003eLanguages\u003c/h2\u003e\n+      \u003ch2\u003eCommunity translations\u003c/h2\u003e\n       \u003cul\u003e\n         \u003cli\u003e\n           \u003ca href\u003d\"https://angular.cn/\" title\u003d\"简体中文版\"\u003e简体中文版\u003c/a\u003e","output":"docs: change language section to \"community translations\"","metadata":{"id":"angular-ad699ceb","repository":"angular","commit_hash":"ad699cebb5bf55ef42e86081cdb1a02051292fb9","author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e","type":"docs","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" packages/compiler/src/expression_parser/ast.ts | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex b351da84..79d822c6 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -385,7 +385,7 @@ export class Unary extends Binary {\n   private constructor(\n     span: ParseSpan,\n     sourceSpan: AbsoluteSourceSpan,\n-    public operator: string,\n+    public operator: \u0027+\u0027 | \u0027-\u0027,\n     public expr: AST,\n     binaryOp: BinaryOperation,\n     binaryLeft: AST,","output":"refactor(compiler): tighten `Unary.operator` type","metadata":{"id":"angular-a7e470a1","repository":"angular","commit_hash":"a7e470a1b38e70916bafdb754e5c37cf346332e4","author":"fisker \u003clionkay@gmail.com\u003e","type":"refactor","scope":"compiler","quality_score":100}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" vscode-ng-language-service/tools/release.mts | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex d01e5482..37049db9 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -481,6 +481,7 @@ async function publishExtension(): Promise\u003cvoid\u003e {\n async function cherryPickChangelog(changelog: string, newVersion: string): Promise\u003cvoid\u003e {\n   console.log(chalk.blue(\u0027Cherry-picking changelog to main...\u0027));\n \n+  await exec(`git stash`);\n   await exec(`git fetch ${angularRepoRemote} main`);\n   const cherryPickBranch \u003d `vscode-changelog-cherry-pick${newVersion}`;\n   await exec(`git branch -D ${cherryPickBranch}`).catch(() \u003d\u003e {});","output":"build: update cherrypick changelog to stash","metadata":{"id":"angular-029685bd","repository":"angular","commit_hash":"029685bd934c6ecf44c1187778085da986ddd320","author":"Andrew Scott \u003catscott@google.com\u003e","type":"build","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/src/content/guide/animations/migration.md | 8 ++++----\n 1 file changed, 4 insertions(+), 4 deletions(-)\n\ndiff --git a/adev/src/content/guide/animations/migration.md b/adev/src/content/guide/animations/migration.md\nindex 7872a9b5..69d0b479 100644\n--- a/adev/src/content/guide/animations/migration.md\n+++ b/adev/src/content/guide/animations/migration.md\n@@ -126,20 +126,20 @@ The animations package offered the previously mentioned pattern matching for ent\n     \u003cdocs-code header\u003d\"insert-remove.component.css\" path\u003d\"adev/src/content/examples/animations/src/app/animations-package/insert-remove.component.css\" /\u003e\n \u003c/docs-code-multifile\u003e\n \n-Here\u0027s how the same thing can be accomplished without the animations package using `animate.enter`.\n-\n #### With Native CSS\n \n+Here\u0027s how the same thing can be accomplished without the animations package using `animate.enter`.\n+\n \u003cdocs-code-multifile preview path\u003d\"adev/src/content/examples/animations/src/app/native-css/insert.component.ts\"\u003e\n     \u003cdocs-code header\u003d\"insert.component.ts\" path\u003d\"adev/src/content/examples/animations/src/app/native-css/insert.component.ts\" /\u003e\n     \u003cdocs-code header\u003d\"insert.component.html\" path\u003d\"adev/src/content/examples/animations/src/app/native-css/insert.component.html\" /\u003e\n     \u003cdocs-code header\u003d\"insert.component.css\" path\u003d\"adev/src/content/examples/animations/src/app/native-css/insert.component.css\"  /\u003e\n \u003c/docs-code-multifile\u003e\n \n-Use `animate.leave` to animate elements as they leave the view, which will apply the specified CSS classes to the element as it leaves the view.\n-\n #### With Native CSS\n \n+Use `animate.leave` to animate elements as they leave the view, which will apply the specified CSS classes to the element as it leaves the view.\n+\n \u003cdocs-code-multifile preview path\u003d\"adev/src/content/examples/animations/src/app/native-css/remove.component.ts\"\u003e\n     \u003cdocs-code header\u003d\"remove.component.ts\" path\u003d\"adev/src/content/examples/animations/src/app/native-css/remove.component.ts\" /\u003e\n     \u003cdocs-code header\u003d\"remove.component.html\" path\u003d\"adev/src/content/examples/animations/src/app/native-css/remove.component.html\" /\u003e","output":"docs: improve separation between enter and leave example","metadata":{"id":"angular-7f1b790f","repository":"angular","commit_hash":"7f1b790f843c575acdf6a42648a1c68c43821222","author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e","type":"docs","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/src/content/ai/ai-tutor.md | 11 ++++++++++-\n 1 file changed, 10 insertions(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/ai/ai-tutor.md b/adev/src/content/ai/ai-tutor.md\nindex fd3b01ae..7c922be0 100644\n--- a/adev/src/content/ai/ai-tutor.md\n+++ b/adev/src/content/ai/ai-tutor.md\n@@ -108,7 +108,7 @@ If the tutor doesn\u0027t respond correctly or you suspect an issue with your applica\n \n ## **Your Learning Journey: The Phased Path**\n \n-You will build your application over a four-phase journey. You can follow this path from start to finish to create a complete, fully-functional Angular application. Each module builds logically upon the last, taking you from the basics to advanced, real-world features.\n+You will build your application over a five-phase journey. You can follow this path from start to finish to create a complete, fully-functional Angular application. Each module builds logically upon the last, taking you from the basics to advanced, real-world features.\n \n **A Note on Automated Setup:** Some modules require a setup step, like creating interfaces or mock data. In these cases, the tutor will present you with the code and file instructions. You will be responsible for creating and modifying these files as instructed before the exercise begins.\n \n@@ -141,6 +141,15 @@ You will build your application over a four-phase journey. You can follow this p\n - **Module 16:** Introduction to Forms\n - **Module 17:** Intro to Angular Material\n \n+### **Phase 5: Experimental Signal Forms (⚠️ WARNING: Subject to Change)**\n+\n+**CRITICAL NOTE FOR THIS PHASE:** Signal Forms are currently an [**EXPERIMENTAL** feature](/reference/releases#experimental). The API may change significantly in future Angular releases. Please proceed with the understanding that this section demonstrates a cutting-edge feature.\n+\n+- **Module 18**: **Introduction to Signal Forms**\n+- **Module 19**: **Submitting \u0026 Resetting**\n+- **Module 20**: **Validation in Signal Forms**\n+- **Module 21**: **Field State \u0026 Error Messages**\n+\n ---\n \n ## **A Note on AI \u0026 Feedback**","output":"docs: add ai tutor signal forms docs","metadata":{"id":"angular-09234753","repository":"angular","commit_hash":"09234753e14aba458ccace0a891a99529b75095a","author":"Devin Chasanoff \u003cdevchas@google.com\u003e","type":"docs","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .../src/statemanager/navigation_state_manager.ts   | 13 ++++++++++--\n .../router/test/with_platform_navigation.spec.ts   | 24 +++++++++++++++++++++-\n 2 files changed, 34 insertions(+), 3 deletions(-)\n\ndiff --git a/packages/router/src/statemanager/navigation_state_manager.ts b/packages/router/src/statemanager/navigation_state_manager.ts\nindex 8bfac6fa..260b3639 100644\n--- a/packages/router/src/statemanager/navigation_state_manager.ts\n+++ b/packages/router/src/statemanager/navigation_state_manager.ts\n@@ -199,8 +199,17 @@ export class NavigationStateManager extends StateManager {\n         resolve();\n       });\n     } else if (e instanceof NavigationCancel || e instanceof NavigationError) {\n-      // TODO(atscott): We want to keep the navigation event on redirects if\n-      // the URL wasn\u0027t committed yet rather than cancelling it.\n+      // If redirecting and the URL hasn\u0027t been committed yet (via precommmitHandler),\n+      // the redirect will be handled by `commitUrl` using `controller.redirect` and\n+      // we should retain the current NavigateEvent.\n+      // Otherwise, a full cancellation and rollback is needed.\n+      const redirectingBeforeUrlCommit \u003d\n+        e instanceof NavigationCancel \u0026\u0026\n+        e.code \u003d\u003d\u003d NavigationCancellationCode.Redirect \u0026\u0026\n+        !!this.currentNavigation.commitUrl;\n+      if (redirectingBeforeUrlCommit) {\n+        return;\n+      }\n       void this.cancel(transition, e);\n     } else if (e instanceof NavigationEnd) {\n       const {resolveHandler, removeAbortListener} \u003d this.currentNavigation;\ndiff --git a/packages/router/test/with_platform_navigation.spec.ts b/packages/router/test/with_platform_navigation.spec.ts\nindex 47b05cc6..7e32e9de 100644\n--- a/packages/router/test/with_platform_navigation.spec.ts\n+++ b/packages/router/test/with_platform_navigation.spec.ts\n@@ -7,7 +7,7 @@\n  */\n \n import {TestBed} from \u0027@angular/core/testing\u0027;\n-import {provideRouter, Router} from \u0027../src\u0027;\n+import {NavigationStart, provideRouter, Router} from \u0027../src\u0027;\n import {withExperimentalPlatformNavigation, withRouterConfig} from \u0027../src/provide_router\u0027;\n import {withBody} from \u0027@angular/private/testing\u0027;\n import {\n@@ -15,6 +15,7 @@ import {\n   Location,\n   PlatformNavigation,\n   BrowserPlatformLocation,\n+  ɵPRECOMMIT_HANDLER_SUPPORTED as PRECOMMIT_HANDLER_SUPPORTED,\n } from \u0027@angular/common\u0027;\n import {\n   ɵFakeNavigation as FakeNavigation,\n@@ -22,6 +23,7 @@ import {\n   provideLocationMocks,\n } from \u0027@angular/common/testing\u0027;\n import {timeout, useAutoTick} from \u0027./helpers\u0027;\n+import {inject} from \u0027@angular/core\u0027;\n \n /// \u003creference types\u003d\"dom-navigation\" /\u003e\n \n@@ -159,6 +161,26 @@ describe(\u0027withPlatformNavigation feature\u0027, () \u003d\u003e {\n       expect(navigateEvents.length).toBe(1);\n       expect(navigateEvents[0].navigationType).toBe(\u0027traverse\u0027);\n     });\n+\n+    it(\u0027retains a single NavigateEvent across redirects\u0027, async () \u003d\u003e {\n+      const navigateEvents: NavigateEvent[] \u003d [];\n+      navigation.addEventListener(\u0027navigate\u0027, (e: NavigateEvent) \u003d\u003e navigateEvents.push(e));\n+\n+      router.resetConfig([\n+        {path: \u0027first\u0027, canActivate: [() \u003d\u003e inject(Router).parseUrl(\u0027/redirected\u0027)], children: []},\n+        {path: \u0027**\u0027, children: []},\n+      ]);\n+      const navPromise \u003d router.navigateByUrl(\u0027/first\u0027);\n+      if (TestBed.inject(PRECOMMIT_HANDLER_SUPPORTED)) {\n+        router.events.subscribe((e) \u003d\u003e {\n+          if (e instanceof NavigationStart) {\n+            expect(navigateEvents.length).toBe(1);\n+          }\n+        });\n+      }\n+      await navPromise;\n+      expect(navigateEvents.length).toBe(1);\n+    });\n   });\n \n   describe(\u0027eager url update\u0027, () \u003d\u003e {","output":"refactor(router): Retain original navigateEvent across redirects","metadata":{"id":"angular-e8c44a00","repository":"angular","commit_hash":"e8c44a00f9a416979b2cc749f2eab0955aa51dd6","author":"Andrew Scott \u003catscott@google.com\u003e","type":"refactor","scope":"router","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/src/app/core/layout/footer/footer.component.html | 3 +++\n 1 file changed, 3 insertions(+)\n\ndiff --git a/adev/src/app/core/layout/footer/footer.component.html b/adev/src/app/core/layout/footer/footer.component.html\nindex d49100e9..7b2627bd 100644\n--- a/adev/src/app/core/layout/footer/footer.component.html\n+++ b/adev/src/app/core/layout/footer/footer.component.html\n@@ -107,6 +107,9 @@\n         \u003cli\u003e\n           \u003ca href\u003d\"https://angular.kr/\" title\u003d\"한국어\"\u003e한국어\u003c/a\u003e\n         \u003c/li\u003e\n+        \u003cli\u003e\n+          \u003ca href\u003d\"https://angular-docs.ru/\" title\u003d\"Русский\"\u003eРусский\u003c/a\u003e\n+        \u003c/li\u003e\n       \u003c/ul\u003e\n     \u003c/div\u003e\n   \u003c/div\u003e","output":"docs(docs-infra): Add community russian translation","metadata":{"id":"angular-33b2d990","repository":"angular","commit_hash":"33b2d9905d6bb2d532b25df04dd32a83c18a0525","author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e","type":"docs","scope":"docs-infra","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" packages/core/src/change_detection/lifecycle_hooks.ts | 19 +++++++++++++++----\n 1 file changed, 15 insertions(+), 4 deletions(-)\n\ndiff --git a/packages/core/src/change_detection/lifecycle_hooks.ts b/packages/core/src/change_detection/lifecycle_hooks.ts\nindex 94ac41ed..4a61dc26 100644\n--- a/packages/core/src/change_detection/lifecycle_hooks.ts\n+++ b/packages/core/src/change_detection/lifecycle_hooks.ts\n@@ -9,7 +9,8 @@ import {SimpleChanges} from \u0027./simple_change\u0027;\n \n /**\n  * @description\n- * A lifecycle hook that is called when any data-bound property of a directive changes.\n+ * A lifecycle hook that is called when the value of one or more component or directive inputs\n+ * change. This includes both signal-based and decorator-based inputs.\n  * Define an `ngOnChanges()` method to handle the changes.\n  *\n  * @see {@link DoCheck}\n@@ -18,9 +19,19 @@ import {SimpleChanges} from \u0027./simple_change\u0027;\n  *\n  * @usageNotes\n  * The following snippet shows how a component can implement this interface to\n- * define an on-changes handler for an input property.\n- *\n- * {@example core/ts/metadata/lifecycle_hooks_spec.ts region\u003d\u0027OnChanges\u0027}\n+ * define an on-changes handler for an input property. While you should prefer\n+ * `computed` and `effect` when working with signal-based inputs, the `ngOnChanges`\n+ * method does include value changes for signal-based inputs.\n+ *\n+ * ```ts\n+ * @Component({ ... })\n+ * export class UserProfile implements OnChanges {\n+ *   userId \u003d input\u003cnumber\u003e(0);\n+ *   ngOnChanges(changes: SimpleChanges\u003cUserProfile\u003e) {\n+ *     // changes.userId contains the old and new value.\n+ *   }\n+ * }\n+ * ```\n  *\n  * @publicApi\n  */","output":"docs: update OnChanges API reference w/ signal input","metadata":{"id":"angular-871fa1b2","repository":"angular","commit_hash":"871fa1b2ddf124c5e0ffe2cbea0c38f39ec6dc1c","author":"Jeremy Elbourn \u003cjelbourn@google.com\u003e","type":"docs","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" CHANGELOG.md | 14 ++++++++++++++\n 1 file changed, 14 insertions(+)\n\ndiff --git a/CHANGELOG.md b/CHANGELOG.md\nindex b6b603e0..596420e2 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,3 +1,17 @@\n+\u003ca name\u003d\"21.0.9\"\u003e\u003c/a\u003e\n+# 21.0.9 (2026-01-14)\n+### forms\n+| Commit | Type | Description |\n+| -- | -- | -- |\n+| [82d556a8fb](https://github.com/angular/angular/commit/82d556a8fb38cd2024e3d098c55254305ba12b6b) | fix | Ensure the control instruction comes after the other bindings |\n+| [0055f3cc79](https://github.com/angular/angular/commit/0055f3cc79f387b8dec6ce5e1a33fad5486f9341) | fix | Rename signal form [field] to [formField] |\n+### migrations\n+| Commit | Type | Description |\n+| -- | -- | -- |\n+| [e4bfa5c9e7](https://github.com/angular/angular/commit/e4bfa5c9e7feec48d3c4e9425a21a2ccf6532bdb) | fix | prevent duplicate imports in common-to-standalone migration |\n+\n+\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n+\n \u003ca name\u003d\"21.1.0-rc.0\"\u003e\u003c/a\u003e\n # 21.1.0-rc.0 (2026-01-08)\n ### common","output":"docs: release notes for the v21.0.9 release","metadata":{"id":"angular-d12e6f09","repository":"angular","commit_hash":"d12e6f0986a3392633604dffab103d46d9974ae8","author":"Jessica Janiuk \u003cjessica.janiuk@gmail.com\u003e","type":"docs","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" vscode-ng-language-service/tools/release.mts | 95 ++++++++++++++++++++++++----\n 1 file changed, 82 insertions(+), 13 deletions(-)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex 37049db9..ef52502c 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -13,7 +13,7 @@\n  */\n \n // tslint:disable:no-console\n-import {input} from \u0027@inquirer/prompts\u0027;\n+import {input, select} from \u0027@inquirer/prompts\u0027;\n import chalk from \u0027chalk\u0027;\n import semver from \u0027semver\u0027;\n import {writeFile, readFile} from \u0027node:fs/promises\u0027;\n@@ -68,6 +68,8 @@ async function main(): Promise\u003cvoid\u003e {\n \n   // Ensure the user has a clean working directory before starting the release process.\n   await checkCleanWorkingDirectory();\n+  // Ensure there is a github token before starting the release process.\n+  ensureGithubToken();\n \n   let branchToReleaseFrom: string | undefined \u003d process.env[\u0027BRANCH_TO_RELEASE\u0027];\n   if (!branchToReleaseFrom) {\n@@ -91,10 +93,13 @@ async function main(): Promise\u003cvoid\u003e {\n   await installDependencies();\n   await buildExtension();\n \n-  await prepareReleasePullRequest(releaseBranch, `${releaseCommitPrefix}${newVersion}`, [\n-    packageJsonPath,\n-    changelogPath,\n-  ]);\n+  const forkRemote \u003d await getForkRemoteName();\n+  await prepareReleasePullRequest(\n+    releaseBranch,\n+    `${releaseCommitPrefix}${newVersion}`,\n+    [packageJsonPath, changelogPath],\n+    forkRemote,\n+  );\n   await waitForPRToBeMergedAndTag(newVersion, branchToReleaseFrom);\n \n   await publishExtension();\n@@ -102,7 +107,7 @@ async function main(): Promise\u003cvoid\u003e {\n   await createGithubRelease(newVersion, changelog);\n \n   if (branchToReleaseFrom !\u003d\u003d \u0027main\u0027) {\n-    await cherryPickChangelog(changelog, newVersion);\n+    await cherryPickChangelog(changelog, newVersion, forkRemote);\n   }\n \n   console.log(chalk.green(\u0027VSCode extension release process complete!\u0027));\n@@ -216,10 +221,11 @@ async function prepareReleasePullRequest(\n   branch: string,\n   commitMessage: string,\n   files: string[],\n+  forkRemote: string,\n ): Promise\u003cvoid\u003e {\n   await exec(`git commit -m \"${commitMessage}\" \"${files.join(\u0027\" \"\u0027)}\"`);\n-  await exec(`git push origin ${branch} --force-with-lease`);\n-  const {stdout: remoteUrl} \u003d await exec(\u0027git remote get-url origin\u0027);\n+  await exec(`git push ${forkRemote} ${branch} --force-with-lease`);\n+  const {stdout: remoteUrl} \u003d await exec(`git remote get-url ${forkRemote}`);\n   const {owner, repo} \u003d getRepoDetails(remoteUrl);\n \n   console.log(\n@@ -382,6 +388,17 @@ async function buildExtension(): Promise\u003cvoid\u003e {\n   console.log(chalk.green(`VSCode extension packaged at ${extensionPath}`));\n }\n \n+function ensureGithubToken(): string {\n+  // https://github.com/angular/dev-infra/blob/8ce8257f740613a7291256173e2706fb2ed8aefa/ng-dev/utils/git/github-yargs.ts#L45\n+  const token \u003d process.env[\u0027GITHUB_TOKEN\u0027] ?? process.env[\u0027TOKEN\u0027];\n+  if (!token) {\n+    throw new Error(\n+      \u0027GITHUB_TOKEN nor TOKEN environment variable is not set. Cannot create GitHub release.\u0027,\n+    );\n+  }\n+  return token;\n+}\n+\n /**\n  * Creates a GitHub release and uploads the extension asset.\n  *\n@@ -389,10 +406,7 @@ async function buildExtension(): Promise\u003cvoid\u003e {\n  * @param changelog The changelog content for the release.\n  */\n async function createGithubRelease(version: string, changelog: string): Promise\u003cvoid\u003e {\n-  const token \u003d process.env[\u0027GITHUB_TOKEN\u0027];\n-  if (!token) {\n-    throw new Error(\u0027GITHUB_TOKEN environment variable is not set. Cannot create GitHub release.\u0027);\n-  }\n+  const token \u003d ensureGithubToken();\n \n   console.log(chalk.blue(\u0027Creating GitHub release...\u0027));\n \n@@ -478,7 +492,11 @@ async function publishExtension(): Promise\u003cvoid\u003e {\n  * @param changelog The changelog content to add.\n  * @param newVersion The new version number.\n  */\n-async function cherryPickChangelog(changelog: string, newVersion: string): Promise\u003cvoid\u003e {\n+async function cherryPickChangelog(\n+  changelog: string,\n+  newVersion: string,\n+  forkRemote: string,\n+): Promise\u003cvoid\u003e {\n   console.log(chalk.blue(\u0027Cherry-picking changelog to main...\u0027));\n \n   await exec(`git stash`);\n@@ -497,6 +515,7 @@ async function cherryPickChangelog(changelog: string, newVersion: string): Promi\n     cherryPickBranch,\n     `docs: release notes for the vscode extension ${newVersion} release`,\n     [changelogPath],\n+    forkRemote,\n   );\n }\n \n@@ -591,6 +610,56 @@ function getTagName(version: string): string {\n   return `${tagPrefix}${version}`;\n }\n \n+/**\n+ * Gets the name of the remote to use as the user\u0027s fork.\n+ *\n+ * This function lists all configured remotes and attempts to identify the user\u0027s fork.\n+ * - If \u0027origin\u0027 exists and is not the upstream angular repo, it is used.\n+ * - If there are other candidates (remotes that are not the upstream angular repo),\n+ *   it asks the user to select one if there are multiple.\n+ *\n+ * @returns The name of the remote to use.\n+ */\n+async function getForkRemoteName(): Promise\u003cstring\u003e {\n+  const {stdout} \u003d await exec(\u0027git remote -v\u0027);\n+  const remotes \u003d new Map\u003cstring, string\u003e();\n+  for (const line of stdout.split(\u0027\\n\u0027)) {\n+    const parts \u003d line.split(/\\s+/);\n+    if (parts.length \u003e\u003d 2) {\n+      const [name, url] \u003d parts;\n+      remotes.set(name, url);\n+    }\n+  }\n+\n+  const candidates: string[] \u003d [];\n+  for (const [name, url] of remotes) {\n+    if (getRepoDetails(url).owner !\u003d\u003d \u0027angular\u0027) {\n+      candidates.push(name);\n+    }\n+  }\n+\n+  // If origin is a candidate, we prefer it appropriately IF it\u0027s likely the user\u0027s fork.\n+  // The check `getRepoDetails(url).owner !\u003d\u003d \u0027angular\u0027` already filters out upstream.\n+  // So if `origin` is in candidates, it\u0027s safe to use?\n+  // User wanted: \"If origin exists and is a candidate ... return \u0027origin\u0027\".\n+  if (candidates.includes(\u0027origin\u0027)) {\n+    return \u0027origin\u0027;\n+  }\n+\n+  if (candidates.length \u003d\u003d\u003d 0) {\n+    throw new Error(\u0027No suitable fork remote found. Please add a remote for your fork.\u0027);\n+  }\n+\n+  if (candidates.length \u003d\u003d\u003d 1) {\n+    return candidates[0];\n+  }\n+\n+  return await select({\n+    message: \u0027Which remote should be used as your fork (to push the release commit to for the PR)?\u0027,\n+    choices: candidates.map((c) \u003d\u003e ({value: c})),\n+  });\n+}\n+\n // Start the release process.\n main().catch((err) \u003d\u003e {\n   console.error(chalk.red(err));","output":"build: Update vscode release script","metadata":{"id":"angular-227acddd","repository":"angular","commit_hash":"227acddd3a075a59a7e3c66c967aef06846187fa","author":"Andrew Scott \u003catscott@google.com\u003e","type":"build","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" packages/compiler/src/expression_parser/ast.ts    | 12 +++++++++++-\n packages/compiler/src/expression_parser/parser.ts |  6 +++++-\n 2 files changed, 16 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex 099c4059..b351da84 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -268,7 +268,17 @@ export class Interpolation extends AST {\n   }\n }\n \n-type AssignmentOperation \u003d \u0027\u003d\u0027 | \u0027+\u003d\u0027 | \u0027-\u003d\u0027 | \u0027*\u003d\u0027 | \u0027/\u003d\u0027 | \u0027%\u003d\u0027 | \u0027**\u003d\u0027 | \u0027\u0026\u0026\u003d\u0027 | \u0027||\u003d\u0027 | \u0027??\u003d\u0027;\n+export type AssignmentOperation \u003d\n+  | \u0027\u003d\u0027\n+  | \u0027+\u003d\u0027\n+  | \u0027-\u003d\u0027\n+  | \u0027*\u003d\u0027\n+  | \u0027/\u003d\u0027\n+  | \u0027%\u003d\u0027\n+  | \u0027**\u003d\u0027\n+  | \u0027\u0026\u0026\u003d\u0027\n+  | \u0027||\u003d\u0027\n+  | \u0027??\u003d\u0027;\n type BinaryOperation \u003d\n   | AssignmentOperation\n   // Logical\ndiff --git a/packages/compiler/src/expression_parser/parser.ts b/packages/compiler/src/expression_parser/parser.ts\nindex a8e819e9..f8b404be 100644\n--- a/packages/compiler/src/expression_parser/parser.ts\n+++ b/packages/compiler/src/expression_parser/parser.ts\n@@ -56,6 +56,7 @@ import {\n   Unary,\n   VariableBinding,\n   VoidExpression,\n+  type AssignmentOperation,\n } from \u0027./ast\u0027;\n import {EOF, Lexer, StringTokenKind, Token, TokenType} from \u0027./lexer\u0027;\n export interface InterpolationPiece {\n@@ -730,7 +731,10 @@ class _ParseAST {\n     }\n   }\n \n-  private isAssignmentOperator(token: Token): boolean {\n+  private isAssignmentOperator(token: Token): token is Token \u0026 {\n+    type: typeof TokenType.Operator;\n+    strValue: AssignmentOperation;\n+  } {\n     return token.type \u003d\u003d\u003d TokenType.Operator \u0026\u0026 Binary.isAssignmentOperation(token.strValue);\n   }\n ","output":"refactor: `_ParseAST.isAssignmentOperator` to type guard","metadata":{"id":"angular-4d19408e","repository":"angular","commit_hash":"4d19408e9bfeadf2edfbdc68defdc66fcd002463","author":"fisker \u003clionkay@gmail.com\u003e","type":"refactor","quality_score":70}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .bazelversion     | 2 +-\n MODULE.bazel.lock | 4 ++--\n 2 files changed, 3 insertions(+), 3 deletions(-)\n\ndiff --git a/.bazelversion b/.bazelversion\nindex 6d289079..f9c71a52 100644\n--- a/.bazelversion\n+++ b/.bazelversion\n@@ -1 +1 @@\n-8.5.0\n+8.5.1\ndiff --git a/MODULE.bazel.lock b/MODULE.bazel.lock\nindex 6dec6aa9..963c800f 100644\n--- a/MODULE.bazel.lock\n+++ b/MODULE.bazel.lock\n@@ -412,7 +412,7 @@\n     },\n     \"@@aspect_rules_js+//npm:extensions.bzl%pnpm\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"zVV86HvMwDBJ8IsFt27k/Sjq0vCMPr8b8X9OAuprQ6w\u003d\",\n+        \"bzlTransitiveDigest\": \"VaGKuK2sKVTWlq9QBZfNc4fhigCeN9Wt4YhnhdGUkv8\u003d\",\n         \"usagesDigest\": \"V3eYj3dhR+UR/L7u17ZGfCuqJZpobNrN/6oEZPkZgDc\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n@@ -1508,7 +1508,7 @@\n     },\n     \"@@rules_python+//python/extensions:pip.bzl%pip\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"39J6fxZx6VyebAMZs6LDsQSGw91SROMECqQx77bSJqE\u003d\",\n+        \"bzlTransitiveDigest\": \"rPZpN8uoLnuu3B+LRiijfMadoMlO1/dxOO8/emPCZV4\u003d\",\n         \"usagesDigest\": \"/9NP3RV6/DWuNdYAsIU/8UCgCX0TdPUJr0X6O+0lrtk\u003d\",\n         \"recordedFileInputs\": {\n           \"@@protobuf+//python/requirements.txt\": \"983be60d3cec4b319dcab6d48aeb3f5b2f7c3350f26b3a9e97486c37967c73c5\",","output":"build: update dependency bazel to v8.5.1","metadata":{"id":"angular-551f1205","repository":"angular","commit_hash":"551f120530353d5201667152bbae3cbdd2428759","author":"Angular Robot \u003cangular-robot@google.com\u003e","type":"build","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts | 13 ++++++-------\n packages/compiler/src/expression_parser/ast.ts              |  4 +++-\n 2 files changed, 9 insertions(+), 8 deletions(-)\n\ndiff --git a/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts b/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\nindex 1275ea57..36197ee3 100644\n--- a/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\n+++ b/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\n@@ -129,13 +129,6 @@ class AstTranslator implements AstVisitor {\n       ast \u003d ast.ast;\n     }\n \n-    // The `EmptyExpr` doesn\u0027t have a dedicated method on `AstVisitor`, so it\u0027s special cased here.\n-    if (ast instanceof EmptyExpr) {\n-      const res \u003d ts.factory.createIdentifier(\u0027undefined\u0027);\n-      addParseSpanInfo(res, ast.sourceSpan);\n-      return res;\n-    }\n-\n     // First attempt to let any custom resolution logic provide a translation for the given node.\n     const resolved \u003d this.maybeResolve(ast);\n     if (resolved !\u003d\u003d null) {\n@@ -494,6 +487,12 @@ class AstTranslator implements AstVisitor {\n     return node;\n   }\n \n+  visitEmptyExpr(ast: EmptyExpr, context: any) {\n+    const node \u003d ts.factory.createIdentifier(\u0027undefined\u0027);\n+    addParseSpanInfo(node, ast.sourceSpan);\n+    return node;\n+  }\n+\n   private convertToSafeCall(\n     ast: Call | SafeCall,\n     expr: ts.Expression,\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex 3d851bac..2f6fcc18 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -47,7 +47,7 @@ export abstract class ASTWithName extends AST {\n \n export class EmptyExpr extends AST {\n   override visit(visitor: AstVisitor, context: any \u003d null) {\n-    // do nothing\n+    return visitor.visitEmptyExpr?.(this, context);\n   }\n }\n \n@@ -651,6 +651,7 @@ export interface AstVisitor {\n   visitRegularExpressionLiteral(ast: RegularExpressionLiteral, context: any): any;\n   visitSpreadElement(ast: SpreadElement, context: any): any;\n   visitASTWithSource?(ast: ASTWithSource, context: any): any;\n+  visitEmptyExpr?(ast: EmptyExpr, context: any): any;\n   /**\n    * This function is optionally defined to allow classes that implement this\n    * interface to selectively decide if the specified `ast` should be visited.\n@@ -756,6 +757,7 @@ export class RecursiveAstVisitor implements AstVisitor {\n   visitSpreadElement(ast: SpreadElement, context: any) {\n     this.visit(ast.expression, context);\n   }\n+  visitEmptyExpr(ast: EmptyExpr, context: any): any {}\n   // This is not part of the AstVisitor interface, just a helper method\n   visitAll(asts: AST[], context: any): any {\n     for (const ast of asts) {","output":"feat(compiler): support `AstVisitor.visitEmptyExpr()`","metadata":{"id":"angular-04ba09a8","repository":"angular","commit_hash":"04ba09a8d9454013bebdd643eacb737642161952","author":"fisker \u003clionkay@gmail.com\u003e","type":"feat","scope":"compiler","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/package.json                                   |  2 +-\n .../src/app/editor/terminal/interactive-terminal.ts | 15 +++++++++++++--\n .../app/editor/terminal/terminal-handler.service.ts | 21 ++++++++++++++++-----\n pnpm-lock.yaml                                      | 10 +++++-----\n 4 files changed, 35 insertions(+), 13 deletions(-)\n\ndiff --git a/adev/package.json b/adev/package.json\nindex 6d977a33..39788126 100644\n--- a/adev/package.json\n+++ b/adev/package.json\n@@ -48,7 +48,7 @@\n     \"@typescript/vfs\": \"1.6.2\",\n     \"@webcontainer/api\": \"1.6.1\",\n     \"@xterm/addon-fit\": \"0.11.0\",\n-    \"@xterm/xterm\": \"5.5.0\",\n+    \"@xterm/xterm\": \"6.0.0\",\n     \"algoliasearch\": \"5.46.2\",\n     \"angular-split\": \"20.0.0\",\n     \"crelt\": \"1.0.6\",\ndiff --git a/adev/src/app/editor/terminal/interactive-terminal.ts b/adev/src/app/editor/terminal/interactive-terminal.ts\nindex 33ed288c..cc95de50 100644\n--- a/adev/src/app/editor/terminal/interactive-terminal.ts\n+++ b/adev/src/app/editor/terminal/interactive-terminal.ts\n@@ -7,7 +7,7 @@\n  */\n \n import {Subject} from \u0027rxjs\u0027;\n-import {Terminal} from \u0027@xterm/xterm\u0027;\n+import {Terminal, ITerminalOptions, ITerminalInitOnlyOptions} from \u0027@xterm/xterm\u0027;\n \n import {CommandValidator} from \u0027./command-validator.service\u0027;\n \n@@ -21,6 +21,16 @@ export const ALLOWED_KEYS: Array\u003cKeyboardEvent[\u0027key\u0027]\u003e \u003d [\n   \u0027ArrowDown\u0027,\n ];\n \n+/** Set of defaults to use for all terminal instances in adev. */\n+export const adevTerminalDefaultOptions: ITerminalOptions \u003d {\n+  convertEol: true,\n+  theme: {\n+    background: \u0027#00000000\u0027,\n+  },\n+  fontFamily: \u0027courier-new, courier, monospace\u0027,\n+  fontSize: 15,\n+};\n+\n export class InteractiveTerminal extends Terminal {\n   private readonly breakProcess \u003d new Subject\u003cvoid\u003e();\n \n@@ -28,10 +38,11 @@ export class InteractiveTerminal extends Terminal {\n   breakProcess$ \u003d this.breakProcess.asObservable();\n \n   constructor(\n+    options: ITerminalOptions \u0026 ITerminalInitOnlyOptions,\n     readonly window: Window,\n     readonly commandValidator: CommandValidator,\n   ) {\n-    super({convertEol: true, disableStdin: false});\n+    super(options);\n \n     // bypass command validation if sudo\u003dtrue is present in the query string\n     if (!this.window.location.search.includes(\u0027sudo\u003dtrue\u0027)) {\ndiff --git a/adev/src/app/editor/terminal/terminal-handler.service.ts b/adev/src/app/editor/terminal/terminal-handler.service.ts\nindex 2ae13380..9bdb8dac 100644\n--- a/adev/src/app/editor/terminal/terminal-handler.service.ts\n+++ b/adev/src/app/editor/terminal/terminal-handler.service.ts\n@@ -9,7 +9,7 @@\n import {computed, inject, Injectable, signal, Signal, untracked} from \u0027@angular/core\u0027;\n import {Terminal} from \u0027@xterm/xterm\u0027;\n import {FitAddon} from \u0027@xterm/addon-fit\u0027;\n-import {InteractiveTerminal} from \u0027./interactive-terminal\u0027;\n+import {InteractiveTerminal, adevTerminalDefaultOptions} from \u0027./interactive-terminal\u0027;\n import {WINDOW} from \u0027@angular/docs\u0027;\n import {CommandValidator} from \u0027./command-validator.service\u0027;\n \n@@ -28,11 +28,18 @@ export class TerminalHandler {\n     // Because colors are parsed\n     // See https://github.com/xtermjs/xterm.js/blob/854e2736f66ca3e5d3ab5a7b65bf3fd6fba8b707/src/browser/services/ThemeService.ts#L125\n     [TerminalType.READONLY]: signal({\n-      instance: new Terminal({convertEol: true, disableStdin: true}),\n+      instance: new Terminal({\n+        ...adevTerminalDefaultOptions,\n+        disableStdin: true,\n+      }),\n       fitAddon: new FitAddon(),\n     }),\n     [TerminalType.INTERACTIVE]: signal({\n-      instance: new InteractiveTerminal(this.window, this.commandValidator),\n+      instance: new InteractiveTerminal(\n+        adevTerminalDefaultOptions,\n+        this.window,\n+        this.commandValidator,\n+      ),\n       fitAddon: new FitAddon(),\n     }),\n   };\n@@ -59,10 +66,14 @@ export class TerminalHandler {\n       instance.dispose();\n       fitAddon \u003d new FitAddon();\n       if (type \u003d\u003d\u003d TerminalType.READONLY) {\n-        instance \u003d new Terminal({convertEol: true, disableStdin: true});\n+        instance \u003d new Terminal({...adevTerminalDefaultOptions, disableStdin: true});\n         this.terminals[type].set({instance, fitAddon});\n       } else {\n-        const newInstance \u003d new InteractiveTerminal(this.window, this.commandValidator);\n+        const newInstance \u003d new InteractiveTerminal(\n+          adevTerminalDefaultOptions,\n+          this.window,\n+          this.commandValidator,\n+        );\n         instance \u003d newInstance;\n         this.terminals[type].set({instance: newInstance, fitAddon});\n       }\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 9aa0bc63..b092da8a 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -609,8 +609,8 @@ importers:\n         specifier: 0.11.0\n         version: 0.11.0\n       \u0027@xterm/xterm\u0027:\n-        specifier: 5.5.0\n-        version: 5.5.0\n+        specifier: 6.0.0\n+        version: 6.0.0\n       algoliasearch:\n         specifier: 5.46.2\n         version: 5.46.2\n@@ -5770,8 +5770,8 @@ packages:\n   \u0027@xterm/addon-fit@0.11.0\u0027:\n     resolution: {integrity: sha512-jYcgT6xtVYhnhgxh3QgYDnnNMYTcf8ElbxxFzX0IZo+vabQqSPAjC3c1wJrKB5E19VwQei89QCiZZP86DCPF7g\u003d\u003d}\n \n-  \u0027@xterm/xterm@5.5.0\u0027:\n-    resolution: {integrity: sha512-hqJHYaQb5OptNunnyAnkHyM8aCjZ1MEIDTQu1iIbbTD/xops91NB5yq1ZK/dC2JDbVWtF23zUtl9JE2NqwT87A\u003d\u003d}\n+  \u0027@xterm/xterm@6.0.0\u0027:\n+    resolution: {integrity: sha512-TQwDdQGtwwDt+2cgKDLn0IRaSxYu1tSUjgKarSDkUM0ZNiSRXFpjxEsvc/Zgc5kq5omJ+V0a8/kIM2WD3sMOYg\u003d\u003d}\n \n   \u0027@xtuc/ieee754@1.2.0\u0027:\n     resolution: {integrity: sha512-DX8nKgqcGwsc0eJSqYt5lwP4DH5FlHnmuWWBRy7X0NcaGR0ZtuyeESgMwTYVEtxmsNGY+qit4QYT/MIYTOTPeA\u003d\u003d}\n@@ -18723,7 +18723,7 @@ snapshots:\n \n   \u0027@xterm/addon-fit@0.11.0\u0027: {}\n \n-  \u0027@xterm/xterm@5.5.0\u0027: {}\n+  \u0027@xterm/xterm@6.0.0\u0027: {}\n \n   \u0027@xtuc/ieee754@1.2.0\u0027: {}\n ","output":"build(docs-infra): Update dependency @xterm/xterm to v6","metadata":{"id":"angular-4d983e99","repository":"angular","commit_hash":"4d983e9904d16a209ce2c97156636d67752a3b89","author":"Angelo Parziale \u003cangeloparziale94@gmail.com\u003e","type":"build","scope":"docs-infra","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" vscode-ng-language-service/tools/release.mts | 39 ++++++++++++++++++++++++++--\n 1 file changed, 37 insertions(+), 2 deletions(-)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex ebc675ce..63541d8a 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -80,7 +80,7 @@ async function main(): Promise\u003cvoid\u003e {\n   }\n \n   console.log(chalk.blue(`Releasing from ${branchToReleaseFrom}.`));\n-  await exec(`git fetch ${angularRepoRemote} ${branchToReleaseFrom}`);\n+  await exec(`git fetch ${angularRepoRemote} ${branchToReleaseFrom} --tags`);\n \n   const currentVersion \u003d await getCurrentVersion();\n   const newVersion \u003d await getNewVersion(currentVersion);\n@@ -240,8 +240,9 @@ async function prepareReleasePullRequest(\n  * @param toVersion The version to generate the changelog for.\n  */\n async function generateChangelog(fromVersion: string, toVersion: string): Promise\u003cstring\u003e {\n+  const previousTag \u003d await getPreviousTag(fromVersion);\n   let {stdout: commits} \u003d await exec(\n-    `git log --left-only FETCH_HEAD...${getTagName(fromVersion)} -E ` +\n+    `git log --left-only FETCH_HEAD...${previousTag} -E ` +\n       \u0027--grep\u003d\"^(feat|fix|perf)\\\\((vscode-extension|language-server|language-service)\\\\):\" \u0027 +\n       \u0027--format\u003d\"format:- %s ([%h](https://github.com/angular/angular/commit/%H))\"\u0027,\n   );\n@@ -519,6 +520,40 @@ function getRepoDetails(remoteUrl: string): {owner: string; repo: string} {\n   };\n }\n \n+/**\n+ * Gets the previous tag to version from.\n+ *\n+ * It checks if the tag for the `currentVersion` exists. If it does, returning it.\n+ * If not, it finds the latest tag that adheres to the semver versioning of the extension.\n+ */\n+async function getPreviousTag(currentVersion: string): Promise\u003cstring\u003e {\n+  const currentTag \u003d getTagName(currentVersion);\n+  try {\n+    await exec(`git rev-parse \"${currentTag}\"`);\n+    return currentTag;\n+  } catch {\n+    // Tag does not exist.\n+  }\n+\n+  const {stdout: tags} \u003d await exec(`git tag --list \"${tagPrefix}*\"`);\n+  const versions \u003d tags\n+    .trim()\n+    .split(\u0027\\n\u0027)\n+    .map((t) \u003d\u003e t.trim())\n+    .filter((t) \u003d\u003e t.startsWith(tagPrefix))\n+    .map((t) \u003d\u003e t.slice(tagPrefix.length))\n+    .filter((v) \u003d\u003e semver.valid(v));\n+\n+  if (versions.length \u003d\u003d\u003d 0) {\n+    throw new Error(\u0027No previous release tags found.\u0027);\n+  }\n+\n+  // Sort versions in descending order\n+  versions.sort((a, b) \u003d\u003e semver.rcompare(a, b));\n+\n+  return getTagName(versions[0]);\n+}\n+\n /**\n  * Gets the tag name for the given version.\n  *","output":"build: fix changelog generation for last rev","metadata":{"id":"angular-78755771","repository":"angular","commit_hash":"78755771e1b998f9ee192d82c0f44fd6806f3629","author":"Andrew Scott \u003catscott@google.com\u003e","type":"build","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .github/workflows/scorecard.yml | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/.github/workflows/scorecard.yml b/.github/workflows/scorecard.yml\nindex 94274a52..cf03ef88 100644\n--- a/.github/workflows/scorecard.yml\n+++ b/.github/workflows/scorecard.yml\n@@ -47,6 +47,6 @@ jobs:\n \n       # Upload the results to GitHub\u0027s code scanning dashboard.\n       - name: \u0027Upload to code-scanning\u0027\n-        uses: github/codeql-action/upload-sarif@5d4e8d1aca955e8d8589aabd499c5cae939e33c7 # v4.31.9\n+        uses: github/codeql-action/upload-sarif@cdefb33c0f6224e58673d9004f47f7cb3e328b89 # v4.31.10\n         with:\n           sarif_file: results.sarif","output":"build: update github/codeql-action action to v4.31.10","metadata":{"id":"angular-849b8401","repository":"angular","commit_hash":"849b8401a071eed956f8cd043e200f1911063c9e","author":"Angular Robot \u003cangular-robot@google.com\u003e","type":"build","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" packages/compiler/src/render3/r3_identifiers.ts    |  3 ++\n .../src/template/pipeline/src/instruction.ts       |  8 ++++\n .../src/template/pipeline/src/phases/chaining.ts   |  1 +\n packages/core/src/core_render3_private_export.ts   |  2 +\n packages/core/src/render3/index.ts                 |  2 +\n packages/core/src/render3/instructions/all.ts      |  1 +\n .../src/render3/instructions/callback_storage.ts   | 45 ++++++++++++++++++++++\n packages/core/src/render3/jit/environment.ts       |  2 +\n 8 files changed, 64 insertions(+)\n\ndiff --git a/packages/compiler/src/render3/r3_identifiers.ts b/packages/compiler/src/render3/r3_identifiers.ts\nindex 28a1b369..67fc9e9b 100644\n--- a/packages/compiler/src/render3/r3_identifiers.ts\n+++ b/packages/compiler/src/render3/r3_identifiers.ts\n@@ -421,6 +421,9 @@ export class Identifiers {\n   static storeLet: o.ExternalReference \u003d {name: \u0027ɵɵstoreLet\u0027, moduleName: CORE};\n   static readContextLet: o.ExternalReference \u003d {name: \u0027ɵɵreadContextLet\u0027, moduleName: CORE};\n \n+  static storeCallback: o.ExternalReference \u003d {name: \u0027ɵɵstoreCallback\u0027, moduleName: CORE};\n+  static getCallback: o.ExternalReference \u003d {name: \u0027ɵɵgetCallback\u0027, moduleName: CORE};\n+\n   static attachSourceLocations: o.ExternalReference \u003d {\n     name: \u0027ɵɵattachSourceLocations\u0027,\n     moduleName: CORE,\ndiff --git a/packages/compiler/src/template/pipeline/src/instruction.ts b/packages/compiler/src/template/pipeline/src/instruction.ts\nindex d7c326e5..d05ac780 100644\n--- a/packages/compiler/src/template/pipeline/src/instruction.ts\n+++ b/packages/compiler/src/template/pipeline/src/instruction.ts\n@@ -940,6 +940,14 @@ export function attachSourceLocation(\n   return call(Identifiers.attachSourceLocations, [o.literal(templatePath), locations], null);\n }\n \n+export function storeCallback(slotOffset: number, expression: o.Expression): ir.CreateOp {\n+  return call(Identifiers.storeCallback, [o.literal(slotOffset), expression], null);\n+}\n+\n+export function getCallback(slotOffset: number): o.Expression {\n+  return o.importExpr(Identifiers.getCallback).callFn([o.literal(slotOffset)]);\n+}\n+\n /**\n  * Collates the string an expression arguments for an interpolation instruction.\n  */\ndiff --git a/packages/compiler/src/template/pipeline/src/phases/chaining.ts b/packages/compiler/src/template/pipeline/src/phases/chaining.ts\nindex 16b91e50..d8a4fa12 100644\n--- a/packages/compiler/src/template/pipeline/src/phases/chaining.ts\n+++ b/packages/compiler/src/template/pipeline/src/phases/chaining.ts\n@@ -47,6 +47,7 @@ const CHAIN_COMPATIBILITY \u003d new Map\u003co.ExternalReference, o.ExternalReference\u003e([\n   [R3.animationLeave, R3.animationLeave],\n   [R3.animationEnterListener, R3.animationEnterListener],\n   [R3.animationLeaveListener, R3.animationLeaveListener],\n+  [R3.storeCallback, R3.storeCallback],\n ]);\n \n /**\ndiff --git a/packages/core/src/core_render3_private_export.ts b/packages/core/src/core_render3_private_export.ts\nindex 63805889..3898c82d 100644\n--- a/packages/core/src/core_render3_private_export.ts\n+++ b/packages/core/src/core_render3_private_export.ts\n@@ -239,6 +239,8 @@ export {\n   ɵɵanimateEnterListener,\n   ɵɵanimateLeave,\n   ɵɵanimateLeaveListener,\n+  ɵɵstoreCallback,\n+  ɵɵgetCallback,\n } from \u0027./render3/index\u0027;\n export {CONTAINER_HEADER_OFFSET as ɵCONTAINER_HEADER_OFFSET} from \u0027./render3/interfaces/container\u0027;\n export {LContext as ɵLContext} from \u0027./render3/interfaces/context\u0027;\ndiff --git a/packages/core/src/render3/index.ts b/packages/core/src/render3/index.ts\nindex a86dd2f5..09549a2a 100644\n--- a/packages/core/src/render3/index.ts\n+++ b/packages/core/src/render3/index.ts\n@@ -165,6 +165,8 @@ export {\n   ɵɵanimateEnterListener,\n   ɵɵanimateLeave,\n   ɵɵanimateLeaveListener,\n+  ɵɵstoreCallback,\n+  ɵɵgetCallback,\n } from \u0027./instructions/all\u0027;\n export {\n   ɵɵdeferEnableTimerScheduling,\ndiff --git a/packages/core/src/render3/instructions/all.ts b/packages/core/src/render3/instructions/all.ts\nindex 762de4f7..06d26347 100644\n--- a/packages/core/src/render3/instructions/all.ts\n+++ b/packages/core/src/render3/instructions/all.ts\n@@ -63,3 +63,4 @@ export * from \u0027./two_way\u0027;\n export * from \u0027./let_declaration\u0027;\n export * from \u0027./attach_source_locations\u0027;\n export * from \u0027./value_interpolation\u0027;\n+export * from \u0027./callback_storage\u0027;\ndiff --git a/packages/core/src/render3/instructions/callback_storage.ts b/packages/core/src/render3/instructions/callback_storage.ts\nnew file mode 100644\nindex 00000000..e121a3eb\n--- /dev/null\n+++ b/packages/core/src/render3/instructions/callback_storage.ts\n@@ -0,0 +1,45 @@\n+/*!\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.dev/license\n+ */\n+\n+import {assertFunction, assertNotDefined} from \u0027../../util/assert\u0027;\n+import {HEADER_OFFSET} from \u0027../interfaces/view\u0027;\n+import {getContextLView, getLView, getTView} from \u0027../state\u0027;\n+import {load, store} from \u0027../util/view_utils\u0027;\n+\n+/**\n+ * Creation instruction that stores a callback function so it can be reused later.\n+ *\n+ * @param slotOffset the offset from binding root to the reserved slot\n+ * @param declaration Function to be stored.\n+ * @returns Itself for chaining purposes.\n+ *\n+ * @codeGenApi\n+ */\n+export function ɵɵstoreCallback(index: number, declaration: Function): typeof ɵɵstoreCallback {\n+  const tView \u003d getTView();\n+  const lView \u003d getLView();\n+  const adjustedIndex \u003d index + HEADER_OFFSET;\n+  ngDevMode \u0026\u0026\n+    assertNotDefined(lView[adjustedIndex], \u0027Expected callback not to have been initialized.\u0027);\n+  store(tView, lView, adjustedIndex, declaration);\n+  return ɵɵstoreCallback;\n+}\n+\n+/**\n+ * Retrieves a callback stored by `ɵɵstoreCallback`.\n+ *\n+ * @param slotOffset the offset from binding root to the reserved slot\n+ *\n+ * @codeGenApi\n+ */\n+export function ɵɵgetCallback(index: number): Function {\n+  const contextLView \u003d getContextLView();\n+  const value \u003d load\u003cFunction\u003e(contextLView, HEADER_OFFSET + index);\n+  ngDevMode \u0026\u0026 assertFunction(value, \u0027Expected stored callback to be a function.\u0027);\n+  return value;\n+}\ndiff --git a/packages/core/src/render3/jit/environment.ts b/packages/core/src/render3/jit/environment.ts\nindex bf37779c..1cff9710 100644\n--- a/packages/core/src/render3/jit/environment.ts\n+++ b/packages/core/src/render3/jit/environment.ts\n@@ -166,6 +166,8 @@ export const angularCoreEnv: {[name: string]: unknown} \u003d (() \u003d\u003e ({\n   \u0027ɵsetClassDebugInfo\u0027: r3.ɵsetClassDebugInfo,\n   \u0027ɵɵdeclareLet\u0027: r3.ɵɵdeclareLet,\n   \u0027ɵɵstoreLet\u0027: r3.ɵɵstoreLet,\n+  \u0027ɵɵstoreCallback\u0027: r3.ɵɵstoreCallback,\n+  \u0027ɵɵgetCallback\u0027: r3.ɵɵgetCallback,\n   \u0027ɵɵreadContextLet\u0027: r3.ɵɵreadContextLet,\n   \u0027ɵɵattachSourceLocations\u0027: r3.ɵɵattachSourceLocations,\n   \u0027ɵɵinterpolate\u0027: r3.ɵɵinterpolate,","output":"refactor(core): add instructions for callback storage and retrieval","metadata":{"id":"angular-17733b70","repository":"angular","commit_hash":"17733b70a3625c2295794df8e07142c98716f016","author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e","type":"refactor","scope":"core","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .../signals-visualizer.component.ts                | 14 ++++---\n .../signals-visualizer/signals-visualizer.ts       | 49 ++++++++++++++--------\n 2 files changed, 41 insertions(+), 22 deletions(-)\n\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.component.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.component.ts\nindex 206e3855..19afb4ed 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.component.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.component.ts\n@@ -62,9 +62,6 @@ export class SignalsVisualizerComponent {\n     return Array.from(clusterIds).map((id) \u003d\u003e graph.clusters[id]);\n   });\n \n-  private onResize \u003d () \u003d\u003e this.signalsVisualizer?.resize();\n-  private observer \u003d new ResizeObserver(this.onResize);\n-\n   constructor() {\n     const injector \u003d inject(Injector);\n \n@@ -73,9 +70,18 @@ export class SignalsVisualizerComponent {\n         this.setUpSignalsVisualizer();\n \n         runInInjectionContext(injector, () \u003d\u003e {\n+          let lastElement: ElementPosition | undefined;\n+\n           effect(() \u003d\u003e {\n             const graph \u003d this.graph();\n             this.signalsVisualizer!.render(graph!);\n+            const currElement \u003d untracked(this.element);\n+\n+            // Snap to root node only if the element changes.\n+            if (lastElement !\u003d\u003d currElement) {\n+              this.signalsVisualizer!.snapToRootNode();\n+            }\n+            lastElement \u003d currElement;\n           });\n \n           effect(() \u003d\u003e {\n@@ -92,12 +98,10 @@ export class SignalsVisualizerComponent {\n             untracked(() \u003d\u003e this.signalsVisualizer!.reset());\n           });\n         });\n-        this.observer.observe(this.svgHost().nativeElement);\n       },\n     });\n \n     inject(DestroyRef).onDestroy(() \u003d\u003e {\n-      this.observer.disconnect();\n       this.signalsVisualizer?.cleanup();\n     });\n   }\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\nindex 377ccd7a..a430c667 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\n@@ -53,6 +53,8 @@ const NODE_WIDTH \u003d 100;\n const NODE_HEIGHT \u003d 60;\n const NODE_EPOCH_UPDATE_ANIM_DURATION \u003d 250;\n \n+const TEMPL_NODE_ZOOM_SCALE \u003d 0.8;\n+\n const CLUSTER_EXPAND_ANIM_DURATION \u003d 1100; // Empirical value based on Dagre\u0027s behavior with an included leeway\n \n // Terminology:\n@@ -88,7 +90,6 @@ export class SignalsGraphVisualizer {\n \n     const d3svg \u003d d3.select(this.svg);\n     d3svg.attr(\u0027height\u0027, \u0027100%\u0027).attr(\u0027width\u0027, \u0027100%\u0027);\n-    this.resize();\n \n     const g \u003d d3svg.append(\u0027g\u0027);\n \n@@ -100,6 +101,36 @@ export class SignalsGraphVisualizer {\n     d3svg.call(this.zoomController);\n   }\n \n+  /** Snaps to the root node – either the template or the first node depending which exists. */\n+  snapToRootNode() {\n+    let node \u003d\n+      this.inputGraph?.nodes.find((n) \u003d\u003e isSignalNode(n) \u0026\u0026 n.kind \u003d\u003d\u003d \u0027template\u0027) ??\n+      this.inputGraph?.nodes[0];\n+\n+    if (!node) {\n+      return;\n+    }\n+\n+    // TODO(Georgi): Drop `any` when Dagre is updated.\n+    const dagreNode \u003d this.graph.node(node.id) as any;\n+    if (!dagreNode) {\n+      return;\n+    }\n+\n+    const contWidth \u003d this.svg.clientWidth;\n+    const contHeight \u003d this.svg.clientHeight;\n+    const x \u003d contWidth / 2 - dagreNode.x * TEMPL_NODE_ZOOM_SCALE;\n+    const y \u003d contHeight / 2 - dagreNode.y * TEMPL_NODE_ZOOM_SCALE;\n+\n+    d3.select(this.svg)\n+      .transition()\n+      .duration(500)\n+      .call(\n+        this.zoomController.transform,\n+        d3.zoomIdentity.translate(x, y).scale(TEMPL_NODE_ZOOM_SCALE),\n+      );\n+  }\n+\n   setSelected(selected: string | null) {\n     d3.select(this.svg)\n       .select(\u0027.output .nodes\u0027)\n@@ -144,28 +175,12 @@ export class SignalsGraphVisualizer {\n \n     this.drender(g, this.graph);\n \n-    // if there are no nodes, we reset the transform to 0\n-    const {width, height} \u003d this.graph.graph();\n-    const xTransform \u003d isFinite(width) ? -width / 2 : 0;\n-    const yTransform \u003d isFinite(height) ? -height / 2 : 0;\n-    g.select(\u0027.output\u0027).attr(\u0027transform\u0027, `translate(${xTransform}, ${yTransform})`);\n-\n     this.addCloseButtonsToClusters(g);\n     this.reinforceNodeDimensions();\n \n     this.inputGraph \u003d signalGraph;\n   }\n \n-  resize() {\n-    const svg \u003d d3.select(this.svg);\n-    svg.attr(\u0027viewBox\u0027, [\n-      -this.svg.clientWidth / 2,\n-      -this.svg.clientHeight / 2,\n-      this.svg.clientWidth,\n-      this.svg.clientHeight,\n-    ]);\n-  }\n-\n   setClusterState(clusterId: string, expanded: boolean) {\n     if (!this.inputGraph) {\n       return;","output":"refactor(devtools): snap to root node on signal graph render","metadata":{"id":"angular-72109478","repository":"angular","commit_hash":"721094788a5cc287882156551517ae134c102460","author":"hawkgs \u003chawk.dvp@gmail.com\u003e","type":"refactor","scope":"devtools","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" packages/compiler/src/expression_parser/ast.ts     | 29 ++++++++++++++++++++++\n .../compiler/src/expression_parser/serializer.ts   | 12 +++++++++\n .../test/expression_parser/utils/unparser.ts       | 11 ++++++++\n .../test/expression_parser/utils/validator.ts      |  5 ++++\n packages/compiler/test/render3/util/expression.ts  |  5 ++++\n 5 files changed, 62 insertions(+)\n\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex c2908e10..abefe44e 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -542,6 +542,31 @@ export class ParenthesizedExpression extends AST {\n   }\n }\n \n+export class ArrowFunctionIdentifierParameter {\n+  constructor(\n+    public name: string,\n+    public span: ParseSpan,\n+    public sourceSpan: AbsoluteSourceSpan,\n+  ) {}\n+}\n+\n+export type ArrowFunctionParameter \u003d ArrowFunctionIdentifierParameter; // TODO(crisbeto): also rest parameters?\n+\n+export class ArrowFunction extends AST {\n+  constructor(\n+    span: ParseSpan,\n+    sourceSpan: AbsoluteSourceSpan,\n+    public parameters: ArrowFunctionParameter[],\n+    public body: AST,\n+  ) {\n+    super(span, sourceSpan);\n+  }\n+\n+  override visit(visitor: AstVisitor, context?: any) {\n+    return visitor.visitArrowFunction(this, context);\n+  }\n+}\n+\n export class RegularExpressionLiteral extends AST {\n   constructor(\n     span: ParseSpan,\n@@ -686,6 +711,7 @@ export interface AstVisitor {\n   visitTemplateLiteralElement(ast: TemplateLiteralElement, context: any): any;\n   visitTaggedTemplateLiteral(ast: TaggedTemplateLiteral, context: any): any;\n   visitParenthesizedExpression(ast: ParenthesizedExpression, context: any): any;\n+  visitArrowFunction(ast: ArrowFunction, context: any): any;\n   visitRegularExpressionLiteral(ast: RegularExpressionLiteral, context: any): any;\n   visitSpreadElement(ast: SpreadElement, context: any): any;\n   visitASTWithSource?(ast: ASTWithSource, context: any): any;\n@@ -791,6 +817,9 @@ export class RecursiveAstVisitor implements AstVisitor {\n   visitParenthesizedExpression(ast: ParenthesizedExpression, context: any) {\n     this.visit(ast.expression, context);\n   }\n+  visitArrowFunction(ast: ArrowFunction, context: any): any {\n+    this.visit(ast.body, context);\n+  }\n   visitRegularExpressionLiteral(ast: RegularExpressionLiteral, context: any) {}\n   visitSpreadElement(ast: SpreadElement, context: any) {\n     this.visit(ast.expression, context);\ndiff --git a/packages/compiler/src/expression_parser/serializer.ts b/packages/compiler/src/expression_parser/serializer.ts\nindex 68b311f6..79703527 100644\n--- a/packages/compiler/src/expression_parser/serializer.ts\n+++ b/packages/compiler/src/expression_parser/serializer.ts\n@@ -141,6 +141,18 @@ class SerializeExpressionVisitor implements expr.AstVisitor {\n     return `/${ast.body}/${ast.flags || \u0027\u0027}`;\n   }\n \n+  visitArrowFunction(ast: expr.ArrowFunction, context: any) {\n+    let params: string;\n+\n+    if (ast.parameters.length \u003d\u003d\u003d 1) {\n+      params \u003d ast.parameters[0].name;\n+    } else {\n+      params \u003d `(${ast.parameters.map((e) \u003d\u003e e.name).join(\u0027, \u0027)})`;\n+    }\n+\n+    return `${params} \u003d\u003e ${ast.body.visit(this, context)}`;\n+  }\n+\n   visitASTWithSource(ast: expr.ASTWithSource, context: any): string {\n     return ast.ast.visit(this, context);\n   }\ndiff --git a/packages/compiler/test/expression_parser/utils/unparser.ts b/packages/compiler/test/expression_parser/utils/unparser.ts\nindex 9677d74f..6bea18a1 100644\n--- a/packages/compiler/test/expression_parser/utils/unparser.ts\n+++ b/packages/compiler/test/expression_parser/utils/unparser.ts\n@@ -7,6 +7,7 @@\n  */\n \n import {\n+  ArrowFunction,\n   AST,\n   AstVisitor,\n   ASTWithSource,\n@@ -254,6 +255,16 @@ class Unparser implements AstVisitor {\n     this._visit(ast.expression);\n   }\n \n+  visitArrowFunction(ast: ArrowFunction, context: any) {\n+    if (ast.parameters.length \u003d\u003d\u003d 1) {\n+      this._expression +\u003d ast.parameters[0].name;\n+    } else {\n+      this._expression +\u003d `(${ast.parameters.map((e) \u003d\u003e e.name).join(\u0027, \u0027)})`;\n+    }\n+    this._expression +\u003d \u0027 \u003d\u003e \u0027;\n+    this._visit(ast.body);\n+  }\n+\n   private _visit(ast: AST) {\n     ast.visit(this);\n   }\ndiff --git a/packages/compiler/test/expression_parser/utils/validator.ts b/packages/compiler/test/expression_parser/utils/validator.ts\nindex d65a5ca7..b1b949b3 100644\n--- a/packages/compiler/test/expression_parser/utils/validator.ts\n+++ b/packages/compiler/test/expression_parser/utils/validator.ts\n@@ -7,6 +7,7 @@\n  */\n \n import {\n+  ArrowFunction,\n   AST,\n   Binary,\n   BindingPipe,\n@@ -165,6 +166,10 @@ class ASTValidator extends RecursiveAstVisitor {\n   override visitSpreadElement(ast: SpreadElement, context: any): void {\n     this.validate(ast, () \u003d\u003e super.visitSpreadElement(ast, context));\n   }\n+\n+  override visitArrowFunction(ast: ArrowFunction, context: any) {\n+    this.validate(ast, () \u003d\u003e super.visitArrowFunction(ast, context));\n+  }\n }\n \n function inSpan(span: ParseSpan, parentSpan: ParseSpan | undefined): parentSpan is ParseSpan {\ndiff --git a/packages/compiler/test/render3/util/expression.ts b/packages/compiler/test/render3/util/expression.ts\nindex 0e1b6f1d..e9eb3375 100644\n--- a/packages/compiler/test/render3/util/expression.ts\n+++ b/packages/compiler/test/render3/util/expression.ts\n@@ -136,6 +136,11 @@ class ExpressionSourceHumanizer extends e.RecursiveAstVisitor implements t.Visit\n     super.visitSpreadElement(ast, null);\n   }\n \n+  override visitArrowFunction(ast: e.ArrowFunction) {\n+    this.recordAst(ast);\n+    super.visitArrowFunction(ast, null);\n+  }\n+\n   visitTemplate(ast: t.Template) {\n     t.visitAll(this, ast.directives);\n     t.visitAll(this, ast.children);","output":"refactor(compiler): add AST nodes for arrow functions","metadata":{"id":"angular-ab536f8f","repository":"angular","commit_hash":"ab536f8f326c316b46f06440e93ea5fd4f403360","author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e","type":"refactor","scope":"compiler","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" vscode-ng-language-service/server/src/session.ts | 19 ++++++++++++++++++-\n 1 file changed, 18 insertions(+), 1 deletion(-)\n\ndiff --git a/vscode-ng-language-service/server/src/session.ts b/vscode-ng-language-service/server/src/session.ts\nindex 780aca77..20282200 100644\n--- a/vscode-ng-language-service/server/src/session.ts\n+++ b/vscode-ng-language-service/server/src/session.ts\n@@ -1403,7 +1403,24 @@ export class Session {\n       options,\n     );\n     if (!completions) {\n-      return null;\n+      const sf \u003d this.getDefaultProjectForScriptInfo(scriptInfo)?.getSourceFile(scriptInfo.path);\n+      if (!sf) {\n+        return null;\n+      }\n+      const node \u003d getTokenAtPosition(sf, offset);\n+      if (!isInlineStyleNode(node)) {\n+        return null;\n+      }\n+      const virtualScssDocContents \u003d getSCSSVirtualContent(sf);\n+      const virtualScssDoc \u003d TextDocument.create(\n+        params.textDocument.uri.toString(),\n+        \u0027scss\u0027,\n+        0,\n+        virtualScssDocContents,\n+      );\n+      const stylesheet \u003d scssLS.parseStylesheet(virtualScssDoc);\n+      const scssCompletions \u003d scssLS.doComplete(virtualScssDoc, params.position, stylesheet);\n+      return scssCompletions.items;\n     }\n     return completions.entries.map((e) \u003d\u003e\n       tsCompletionEntryToLspCompletionItem(e, params.position, scriptInfo),","output":"feat(language-server): Add completions and hover info for inline styles","metadata":{"id":"angular-ebc90c26","repository":"angular","commit_hash":"ebc90c26f5ff1ba1e0ca9b775a44e301ebfb9473","author":"Andrew Scott \u003catscott@google.com\u003e","type":"feat","scope":"language-server","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .../components/search-dialog/search-dialog.component.ts            | 3 +--\n .../references/api-reference-list/api-reference-list.component.ts  | 7 ++-----\n 2 files changed, 3 insertions(+), 7 deletions(-)\n\ndiff --git a/adev/shared-docs/components/search-dialog/search-dialog.component.ts b/adev/shared-docs/components/search-dialog/search-dialog.component.ts\nindex 4eb83ac6..688d3fa7 100644\n--- a/adev/shared-docs/components/search-dialog/search-dialog.component.ts\n+++ b/adev/shared-docs/components/search-dialog/search-dialog.component.ts\n@@ -54,7 +54,6 @@ export class SearchDialog {\n   readonly onClose \u003d output();\n   readonly dialog \u003d viewChild.required\u003cElementRef\u003cHTMLDialogElement\u003e\u003e(\u0027searchDialog\u0027);\n   readonly items \u003d viewChildren(SearchItem);\n-  readonly textField \u003d viewChild(TextField);\n \n   readonly history \u003d inject(SearchHistory);\n   private readonly search \u003d inject(Search);\n@@ -98,7 +97,7 @@ export class SearchDialog {\n         }\n         // We want to select the pre-existing text on opening\n         // In order to change the search input with minimal user interaction.\n-        this.textField()?.input().nativeElement.select();\n+        this.searchForm().focusBoundControl();\n       },\n     });\n \ndiff --git a/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts b/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts\nindex e4099e3e..770395ad 100644\n--- a/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts\n+++ b/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts\n@@ -18,7 +18,6 @@ import {\n   inject,\n   input,\n   linkedSignal,\n-  viewChild,\n } from \u0027@angular/core\u0027;\n import {Select, SelectOption, TextField} from \u0027@angular/docs\u0027;\n import {FormField, form} from \u0027@angular/forms/signals\u0027;\n@@ -62,7 +61,6 @@ export default class ApiReferenceList {\n   // services\n   private readonly apiReferenceManager \u003d inject(ApiReferenceManager);\n   private readonly router \u003d inject(Router);\n-  private readonly filterInput \u003d viewChild.required(TextField);\n   private readonly injector \u003d inject(EnvironmentInjector);\n \n   // inputs\n@@ -137,13 +135,12 @@ export default class ApiReferenceList {\n \n   constructor() {\n     effect(() \u003d\u003e {\n-      const filterInput \u003d this.filterInput();\n+      const filterInput \u003d this.form.query();\n       afterNextRender(\n         {\n           write: () \u003d\u003e {\n-            // Why not improve this once https://github.com/orgs/angular/projects/60?pane\u003dissue\u0026itemId\u003d143488813 is done\n             if (matchMedia(\u0027(hover: hover) and (pointer:fine)\u0027).matches) {\n-              scheduleOnIdle(() \u003d\u003e filterInput.focus());\n+              scheduleOnIdle(() \u003d\u003e filterInput.focusBoundControl());\n             }\n           },\n         },","output":"docs(docs-infra): use Signals Forms focusBoundControl","metadata":{"id":"angular-074666b2","repository":"angular","commit_hash":"074666b2e8c3c8e2b7bc473f8d5772ebec4fc586","author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e","type":"docs","scope":"docs-infra","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/shared-docs/pipeline/shared/linking.mts | 3 +++\n 1 file changed, 3 insertions(+)\n\ndiff --git a/adev/shared-docs/pipeline/shared/linking.mts b/adev/shared-docs/pipeline/shared/linking.mts\nindex a51a59bb..87ddb02e 100644\n--- a/adev/shared-docs/pipeline/shared/linking.mts\n+++ b/adev/shared-docs/pipeline/shared/linking.mts\n@@ -20,6 +20,9 @@ const LINK_EXEMPT \u003d new Set([\n   \u0027hidden\u0027,\n   \u0027state\u0027,\n   \u0027group\u0027,\n+  \u0027animation\u0027,\n+  \u0027transition\u0027,\n+  \u0027trigger\u0027,\n ]);\n \n export function shouldLinkSymbol(symbol: string): boolean {","output":"docs(docs-infra): Exempts animation-related symbols from linking","metadata":{"id":"angular-724e917f","repository":"angular","commit_hash":"724e917f7a68529996bf1c0e93876b699c544213","author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e","type":"docs","scope":"docs-infra","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .../signals-view/signals-visualizer/BUILD.bazel         |  2 +-\n .../signals-visualizer/signals-visualizer.ts            | 16 +++++++---------\n .../{dagre-d3-types.ts \u003d\u003e visualizer-types.ts}          | 17 +++++------------\n 3 files changed, 13 insertions(+), 22 deletions(-)\n\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/BUILD.bazel b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/BUILD.bazel\nindex b12c11a5..9ddfd7f7 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/BUILD.bazel\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/BUILD.bazel\n@@ -13,9 +13,9 @@ sass_binary(\n ng_project(\n     name \u003d \"signals-visualizer\",\n     srcs \u003d [\n-        \"dagre-d3-types.ts\",\n         \"signals-visualizer.component.ts\",\n         \"signals-visualizer.ts\",\n+        \"visualizer-types.ts\",\n     ],\n     angular_assets \u003d [\n         \"signals-visualizer.component.html\",\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\nindex a430c667..114d1abd 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\n@@ -17,7 +17,7 @@ import {\n   DevtoolsSignalNode,\n } from \u0027../../signal-graph\u0027;\n import {DebugSignalGraphNode} from \u0027../../../../../../../protocol\u0027;\n-import type {DagreGraph, DagreGraphCluster, DagreGraphNode} from \u0027./dagre-d3-types\u0027;\n+import type {DagreCluster, DagreEdge, DagreNode, DagreRegularNode} from \u0027./visualizer-types\u0027;\n \n const KIND_CLASS_MAP: {[key in DebugSignalGraphNode[\u0027kind\u0027]]: string} \u003d {\n   \u0027signal\u0027: \u0027kind-signal\u0027,\n@@ -65,7 +65,7 @@ const CLUSTER_EXPAND_ANIM_DURATION \u003d 1100; // Empirical value based on Dagre\u0027s b\n // - Standard cluster node – A cluster node, visualized as a standard node (i.e. collapsed)\n // - Expanded cluster node – A cluster node, visualized as a container of its child nodes (i.e. expanded)\n export class SignalsGraphVisualizer {\n-  private graph: DagreGraph;\n+  private graph: graphlib.Graph\u003cany, DagreNode, DagreEdge\u003e;\n   private drender: ReturnType\u003ctypeof dagreRender\u003e;\n \n   zoomController: d3.ZoomBehavior\u003cSVGSVGElement, unknown\u003e;\n@@ -302,7 +302,7 @@ export class SignalsGraphVisualizer {\n     // Add new/update existing nodes\n     for (const n of signalGraph.nodes) {\n       const isSignal \u003d isSignalNode(n);\n-      const existingNode \u003d this.graph.node(n.id) as DagreGraphNode | undefined;\n+      const existingNode \u003d this.graph.node(n.id) as DagreRegularNode | undefined;\n \n       if (existingNode) {\n         if (isSignal \u0026\u0026 n.epoch !\u003d\u003d existingNode.epoch) {\n@@ -408,7 +408,7 @@ export class SignalsGraphVisualizer {\n \n   private updateDagreNode(\n     newNode: DevtoolsSignalNode,\n-    existingNode: DagreGraphNode,\n+    existingNode: DagreRegularNode,\n     signalGraph: DevtoolsSignalGraph,\n   ) {\n     const count \u003d this.animatedNodesMap.get(newNode.id) ?? 0;\n@@ -548,7 +548,7 @@ export class SignalsGraphVisualizer {\n       .each((nodeId, idx, group) \u003d\u003e {\n         const node \u003d group[idx];\n         const d3Node \u003d d3.select(node);\n-        const {width, height} \u003d this.graph.node(nodeId as string) as DagreGraphNode;\n+        const {width, height} \u003d this.graph.node(nodeId as string) as DagreRegularNode;\n \n         d3Node\n           .select(\u0027g\u0027)\n@@ -600,8 +600,6 @@ function convertNodesToMap(nodes: DevtoolsSignalGraphNode[]): Map\u003cstring, Devtoo\n   return new Map(nodes.map((n) \u003d\u003e [n.id, n]));\n }\n \n-function isDagreClusterNode(\n-  node: DagreGraphCluster | DagreGraphNode | undefined,\n-): node is DagreGraphCluster {\n-  return !!(node as DagreGraphCluster)?.clusterLabelPos;\n+function isDagreClusterNode(node: DagreNode | undefined): node is DagreCluster {\n+  return !!(node as DagreCluster)?.clusterLabelPos;\n }\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/dagre-d3-types.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/visualizer-types.ts\nsimilarity index 61%\nrename from devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/dagre-d3-types.ts\nrename to devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/visualizer-types.ts\nindex 014285c0..cd773b9e 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/dagre-d3-types.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/visualizer-types.ts\n@@ -6,10 +6,8 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {graphlib} from \u0027dagre-d3-es\u0027;\n-\n // Non-exhaustive; Alter based on Dagre D3 docs if required\n-export interface DagreGraphNode {\n+export interface DagreRegularNode {\n   label: HTMLDivElement;\n   labelType: string;\n   shape: string;\n@@ -21,24 +19,19 @@ export interface DagreGraphNode {\n }\n \n // Non-exhaustive; Alter based on Dagre D3 docs if required\n-export interface DagreGraphCluster {\n+export interface DagreCluster {\n   label: string;\n   clusterLabelPos: string;\n   class?: string;\n   style?: string;\n }\n \n+export type DagreNode \u003d DagreRegularNode | DagreCluster;\n+\n // Non-exhaustive; Alter based on Dagre D3 docs if required\n-export interface DagreGraphEdge {\n+export interface DagreEdge {\n   curve: any;\n   style?: string;\n   arrowheadStyle?: string;\n   class?: string;\n }\n-\n-// Improve Graphlib types\n-export declare class DagreGraph extends graphlib.Graph {\n-  override setNode(id: string, value: DagreGraphNode | DagreGraphCluster, ...args: any[]): this;\n-  override node(id: string): DagreGraphNode | DagreGraphCluster;\n-  override edges(): {v: string; w: string}[];\n-}","output":"refactor(devtools): drop dagre graph type","metadata":{"id":"angular-87f47973","repository":"angular","commit_hash":"87f4797321f3d005cba08d5d4d936574e8d28a36","author":"hawkgs \u003chawk.dvp@gmail.com\u003e","type":"refactor","scope":"devtools","quality_score":100}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/shared-docs/styles/_colors.scss | 4 ++--\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/adev/shared-docs/styles/_colors.scss b/adev/shared-docs/styles/_colors.scss\nindex 4b7f4c94..74e603e4 100644\n--- a/adev/shared-docs/styles/_colors.scss\n+++ b/adev/shared-docs/styles/_colors.scss\n@@ -40,7 +40,7 @@\n   --symbolic-pink: oklch(63.67% 0.254 13.47); // #ff025c\n   --symbolic-orange: oklch(64.73% 0.23769984683784018 33.18328352127882); // #fe3700\n   --symbolic-yellow: oklch(78.09% 0.163 65.69); // #fd9f28\n-  --symbolic-green: oklch(67.83% 0.229 142.73); // #00b80a\n+  --symbolic-green: oklch(48% 0.16 145); // #008B38\n   --symbolic-cyan: oklch(67.05% 0.1205924489987394 181.34025902203868); // #00ad9a\n   --symbolic-magenta: oklch(51.74% 0.25453048882711515 315.26261625862725); // #9c00c8\n   --symbolic-teal: oklch(57.59% 0.083 230.58); // #3f82a1\n@@ -288,7 +288,7 @@\n     var(--full-contrast) 65%\n   );\n   --symbolic-yellow: color-mix(in srgb, oklch(78.09% 0.163 65.69), var(--full-contrast) 65%);\n-  --symbolic-green: color-mix(in srgb, oklch(67.83% 0.229 142.73), var(--full-contrast) 65%);\n+  --symbolic-green: color-mix(in srgb, oklch(48% 0.16 145), var(--full-contrast) 65%);\n   --symbolic-cyan: color-mix(\n     in srgb,\n     oklch(67.05% 0.1205924489987394 181.34025902203868),","output":"fix(docs-infra): improve symbolic green contrast for WCAG compliance","metadata":{"id":"angular-405b0560","repository":"angular","commit_hash":"405b05607c44abf0f3070157fb55c9619ca5dff5","author":"omar-almasry11 \u003chello@omaralmasry.com\u003e","type":"fix","scope":"docs-infra","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .../test/node/api/validators/pattern.spec.ts       | 51 ++++++++++++++++++++++\n 1 file changed, 51 insertions(+)\n\ndiff --git a/packages/forms/signals/test/node/api/validators/pattern.spec.ts b/packages/forms/signals/test/node/api/validators/pattern.spec.ts\nindex 13f884fa..b043eaf3 100644\n--- a/packages/forms/signals/test/node/api/validators/pattern.spec.ts\n+++ b/packages/forms/signals/test/node/api/validators/pattern.spec.ts\n@@ -95,6 +95,57 @@ describe(\u0027pattern validator\u0027, () \u003d\u003e {\n       expect(f.name().pattern()).toEqual([/pir.*jok/, /pelmeni/]);\n     });\n \n+    it(\u0027validates multiple patterns independently (AND logic)\u0027, () \u003d\u003e {\n+      const model \u003d signal(\u0027abc123\u0027);\n+      const f \u003d form(\n+        model,\n+        (p) \u003d\u003e {\n+          pattern(p, /abc/); // matches\n+          pattern(p, /\\d+/); // matches\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // Both patterns match, so no errors\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([]);\n+    });\n+\n+    it(\u0027validates multiple patterns independently - partial match produces errors\u0027, () \u003d\u003e {\n+      const model \u003d signal(\u0027abc\u0027);\n+      const f \u003d form(\n+        model,\n+        (p) \u003d\u003e {\n+          pattern(p, /abc/); // matches\n+          pattern(p, /\\d+/); // does not match\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // Only one pattern matches, so we get an error from the non-matching one\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([patternError(/\\d+/, {fieldTree: f})]);\n+    });\n+\n+    it(\u0027validates multiple patterns - no match produces multiple errors\u0027, () \u003d\u003e {\n+      const model \u003d signal(\u0027xyz\u0027);\n+      const f \u003d form(\n+        model,\n+        (p) \u003d\u003e {\n+          pattern(p, /abc/); // does not match\n+          pattern(p, /\\d+/); // does not match\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // No patterns match, so we get errors from both\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([\n+        patternError(/abc/, {fieldTree: f}),\n+        patternError(/\\d+/, {fieldTree: f}),\n+      ]);\n+    });\n+\n     it(\u0027PATTERN property defaults to empty list\u0027, () \u003d\u003e {\n       const cat \u003d signal({name: \u0027pelmeni-the-cat\u0027});\n       const f \u003d form(","output":"test(forms): improve test coverage for multiple pattern validators","metadata":{"id":"angular-7fd076bd","repository":"angular","commit_hash":"7fd076bdd329071d8705acc5de9a852cbc68ab60","author":"cexbrayat \u003ccedric@ninja-squad.com\u003e","type":"test","scope":"forms","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/src/content/tools/libraries/angular-package-format.md | 2 ++\n 1 file changed, 2 insertions(+)\n\ndiff --git a/adev/src/content/tools/libraries/angular-package-format.md b/adev/src/content/tools/libraries/angular-package-format.md\nindex 9f29cfb2..4254feed 100644\n--- a/adev/src/content/tools/libraries/angular-package-format.md\n+++ b/adev/src/content/tools/libraries/angular-package-format.md\n@@ -206,6 +206,7 @@ The Angular compiler can generate index ES module files. Tools like Rollup can u\n \n FESM is a file format created by flattening all ES Modules accessible from an entrypoint into a single ES Module.\n It\u0027s formed by following all imports from a package and copying that code into a single file while preserving all public ES exports and removing all private imports.\n+However, in some cases, the FESM may depend on shared chunks that are shared between multiple entry points.\n \n The abbreviated name, FESM, pronounced _phe-som_, can be followed by a number such as FESM2020.\n The number refers to the language level of the JavaScript inside the module.\n@@ -300,6 +301,7 @@ Short for ECMAScript Modules \\(see above\\).\n ### FESM\n \n Short for Flattened ES Modules and consists of a file format created by flattening all ES Modules accessible from an entry point into a single ES Module.\n+Note that FESM is typically a single file, but it can depend on a shared chunk that is shared with other FESMs.\n \n ### Module ID\n ","output":"docs: clarify that FESM can depend on shared chunks","metadata":{"id":"angular-c7eee830","repository":"angular","commit_hash":"c7eee8300f31102a52f8132dc0522da9aa3a4a54","author":"Alan Agius \u003c17563226+alan-agius4@users.noreply.github.com\u003e","type":"docs","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" vscode-ng-language-service/CHANGELOG.md | 6 ++++++\n 1 file changed, 6 insertions(+)\n\ndiff --git a/vscode-ng-language-service/CHANGELOG.md b/vscode-ng-language-service/CHANGELOG.md\nindex c4e83534..9de2d943 100644\n--- a/vscode-ng-language-service/CHANGELOG.md\n+++ b/vscode-ng-language-service/CHANGELOG.md\n@@ -1,3 +1,9 @@\n+## 21.1.0 (2026-01-12)\n+\n+- fix(vscode-extension): convert enum member kind in completions correctly ([50674f8c28](https://github.com/angular/angular/commit/50674f8c28c970e6a9cfe222f9f55bace4e16321))\n+\n+\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n+\n ## 21.0.1 (2025-12-17)\n \n - fix(language-service): Prevent language service from crashing on suggestion diagnostic errors ([5047be4bc1](https://github.com/angular/angular/commit/5047be4bc1c6f6016263703c743f8033f669f0ee))","output":"docs: release notes for the vscode extension 21.1.0 release","metadata":{"id":"angular-e45f8afd","repository":"angular","commit_hash":"e45f8afdab1ad26128a2f3865eafd52db7cd4265","author":"Andrew Scott \u003catscott@google.com\u003e","type":"docs","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" vscode-ng-language-service/package.json | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/vscode-ng-language-service/package.json b/vscode-ng-language-service/package.json\nindex a920c794..2597f8f6 100644\n--- a/vscode-ng-language-service/package.json\n+++ b/vscode-ng-language-service/package.json\n@@ -257,7 +257,7 @@\n     \"test:inspect-common\": \"bazel run --config\u003ddebug //vscode-ng-language-service/common/tests:test\",\n     \"test:inspect-server\": \"bazel run --config\u003ddebug //vscode-ng-language-service/server/src/tests:test\",\n     \"test:inspect-syntaxes\": \"bazel run --config\u003ddebug //vscode-ng-language-service/syntaxes/test:test\",\n-    \"release\": \"node tools/release.mts\"\n+    \"release\": \"tsx tools/release.mts\"\n   },\n   \"dependencies\": {\n     \"@angular/language-service\": \"workspace:*\",","output":"build: use tsx for release script","metadata":{"id":"angular-e34365cf","repository":"angular","commit_hash":"e34365cfd5ed13cc1ad2f23fc912cb9d50467eb1","author":"Andrew Scott \u003catscott@google.com\u003e","type":"build","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .../content/guide/forms/signals/field-state-management.md   | 10 +++++-----\n adev/src/content/guide/forms/signals/validation.md          | 13 +++++++++++++\n packages/forms/signals/src/api/structure.ts                 |  7 ++++---\n 3 files changed, 22 insertions(+), 8 deletions(-)\n\ndiff --git a/adev/src/content/guide/forms/signals/field-state-management.md b/adev/src/content/guide/forms/signals/field-state-management.md\nindex 093c6039..bfc9ddb6 100644\n--- a/adev/src/content/guide/forms/signals/field-state-management.md\n+++ b/adev/src/content/guide/forms/signals/field-state-management.md\n@@ -109,11 +109,11 @@ When checking validity in code, use `invalid()` instead of `!valid()` if you wan\n \n Access the array of validation errors with `errors()`. Each error object contains:\n \n-| Property  | Description                                                     |\n-| --------- | --------------------------------------------------------------- |\n-| `kind`    | The validation rule that failed (such as \"required\" or \"email\") |\n-| `message` | Optional human-readable error message                           |\n-| `field`   | Reference to the `FieldTree` where the error occurred           |\n+| Property    | Description                                                     |\n+| ----------- | --------------------------------------------------------------- |\n+| `kind`      | The validation rule that failed (such as \"required\" or \"email\") |\n+| `message`   | Optional human-readable error message                           |\n+| `fieldTree` | Reference to the `FieldTree` where the error occurred           |\n \n NOTE: The `message` property is optional. Validators can provide custom error messages, but if not specified, you may need to map error `kind` values to your own messages.\n \ndiff --git a/adev/src/content/guide/forms/signals/validation.md b/adev/src/content/guide/forms/signals/validation.md\nindex b1e0aa26..991a02a0 100644\n--- a/adev/src/content/guide/forms/signals/validation.md\n+++ b/adev/src/content/guide/forms/signals/validation.md\n@@ -461,6 +461,19 @@ export class UrlFormComponent {\n }\n ```\n \n+For submission errors that target specific fields, use the `fieldTree` property:\n+\n+```ts\n+// In a submit function\n+return [\n+  {\n+    fieldTree: registrationForm.username, // Target specific field\n+    kind: \u0027server\u0027,\n+    message: \u0027Username already taken\u0027,\n+  },\n+];\n+```\n+\n The validator function receives a `FieldContext` object with:\n \n | Property        | Type       | Description                                 |\ndiff --git a/packages/forms/signals/src/api/structure.ts b/packages/forms/signals/src/api/structure.ts\nindex 917e7081..8cf03ff9 100644\n--- a/packages/forms/signals/src/api/structure.ts\n+++ b/packages/forms/signals/src/api/structure.ts\n@@ -332,7 +332,7 @@ export function applyWhenValue(\n /**\n  * Submits a given `FieldTree` using the given action function and applies any submission errors\n  * resulting from the action to the field. Submission errors returned by the `action` will be integrated\n- * into the field as a `ValidationError` on the sub-field indicated by the `field` property of the\n+ * into the field as a `ValidationError` on the sub-field indicated by the `fieldTree` property of the\n  * submission error.\n  *\n  * @example\n@@ -341,8 +341,9 @@ export function applyWhenValue(\n  *   const result \u003d await myClient.registerNewUser(registrationForm().value());\n  *   if (result.errorCode \u003d\u003d\u003d myClient.ErrorCode.USERNAME_TAKEN) {\n  *     return [{\n- *       field: registrationForm.username,\n- *       error: {kind: \u0027server\u0027, message: \u0027Username already taken\u0027}\n+ *       fieldTree: registrationForm.username,\n+ *       kind: \u0027server\u0027,\n+ *       message: \u0027Username already taken\u0027\n  *     }];\n  *   }\n  *   return undefined;","output":"docs(forms): Clarify returning errors from submit functions","metadata":{"id":"angular-7d985ce0","repository":"angular","commit_hash":"7d985ce08e521308c3bf90184b7916cb4f246183","author":"kirjs \u003ckirts@google.com\u003e","type":"docs","scope":"forms","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .../ng-devtools/src/lib/shared/button/button.component.scss       | 8 ++++++++\n .../ng-devtools/src/lib/shared/button/button.component.spec.ts    | 5 +++++\n .../ng-devtools/src/lib/shared/button/button.component.ts         | 3 ++-\n 3 files changed, 15 insertions(+), 1 deletion(-)\n\ndiff --git a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.scss b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.scss\nindex d4aa9310..118580ec 100644\n--- a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.scss\n+++ b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.scss\n@@ -20,6 +20,14 @@\n     color: var(--septenary-contrast);\n   }\n \n+  \u0026.type-secondary {\n+    border-radius: 2rem;\n+    background: transparent;\n+    box-sizing: border-box;\n+    border: 1px solid var(--quaternary-contrast);\n+    color: var(--color-text);\n+  }\n+\n   \u0026.type-icon {\n     background: transparent;\n     border: none;\ndiff --git a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts\nindex 6cfeb0a5..25e69b85 100644\n--- a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts\n+++ b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts\n@@ -31,6 +31,11 @@ describe(\u0027ButtonComponent\u0027, () \u003d\u003e {\n     expect(element.classList.contains(\u0027size-compact\u0027)).toBeFalse();\n   });\n \n+  it(\u0027should change the type to secondary\u0027, () \u003d\u003e {\n+    expect(component.btnType()).toEqual(\u0027secondary\u0027);\n+    expect(element.classList.contains(\u0027type-secondary\u0027)).toBeTrue();\n+  });\n+\n   it(\u0027should be compact size\u0027, async () \u003d\u003e {\n     fixture.componentRef.setInput(\u0027size\u0027, \u0027compact\u0027);\n     await fixture.whenStable();\ndiff --git a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.ts b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.ts\nindex 10f67393..925823f7 100644\n--- a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.ts\n+++ b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.ts\n@@ -8,7 +8,7 @@\n \n import {ChangeDetectionStrategy, Component, input} from \u0027@angular/core\u0027;\n \n-type ButtonType \u003d \u0027primary\u0027 | \u0027icon\u0027;\n+type ButtonType \u003d \u0027primary\u0027 | \u0027secondary\u0027 | \u0027icon\u0027;\n type ButtonSize \u003d \u0027standard\u0027 | \u0027mid\u0027 | \u0027compact\u0027;\n \n @Component({\n@@ -19,6 +19,7 @@ type ButtonSize \u003d \u0027standard\u0027 | \u0027mid\u0027 | \u0027compact\u0027;\n   host: {\n     class: \u0027ng-button\u0027,\n     \u0027[class.type-primary]\u0027: `btnType() \u003d\u003d\u003d \u0027primary\u0027`,\n+    \u0027[class.type-secondary]\u0027: `btnType() \u003d\u003d\u003d \u0027secondary\u0027`,\n     \u0027[class.type-icon]\u0027: `btnType() \u003d\u003d\u003d \u0027icon\u0027`,\n     \u0027[class.size-compact]\u0027: `size() \u003d\u003d\u003d \u0027compact\u0027`,\n     \u0027[class.size-mid]\u0027: `size() \u003d\u003d\u003d \u0027mid\u0027`,","output":"refactor(devtools): add secondary type button","metadata":{"id":"angular-bea58408","repository":"angular","commit_hash":"bea5840864444c252b9a80420be3058036c8bc29","author":"hawkgs \u003chawk.dvp@gmail.com\u003e","type":"refactor","scope":"devtools","quality_score":100}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/src/content/guide/di/hierarchical-dependency-injection.md | 4 ++--\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/adev/src/content/guide/di/hierarchical-dependency-injection.md b/adev/src/content/guide/di/hierarchical-dependency-injection.md\nindex 13a09681..72df6158 100644\n--- a/adev/src/content/guide/di/hierarchical-dependency-injection.md\n+++ b/adev/src/content/guide/di/hierarchical-dependency-injection.md\n@@ -959,8 +959,8 @@ export class VillainsList {}\n \n By providing `VillainsService` in the `VillainsList` metadata and nowhere else, the service becomes available only in the `VillainsList` and its subcomponent tree.\n \n-`VillainService` is a singleton with respect to `VillainsList` because that is where it is declared.\n-As long as `VillainsList` does not get destroyed it will be the same instance of `VillainService` but if there are multiple instances of `VillainsList`, then each instance of `VillainsList` will have its own instance of `VillainService`.\n+`VillainsService` is a singleton with respect to `VillainsList` because that is where it is declared.\n+As long as `VillainsList` does not get destroyed it will be the same instance of `VillainsService` but if there are multiple instances of `VillainsList`, then each instance of `VillainsList` will have its own instance of `VillainsService`.\n \n ### Scenario: multiple edit sessions\n ","output":"docs: update hierarchical-dependency-injection.md","metadata":{"id":"angular-910768f5","repository":"angular","commit_hash":"910768f5cc20a59e6a0f80a208d6cf67852cbbcb","author":"lyutails \u003c101958335+lyutails@users.noreply.github.com\u003e","type":"docs","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" packages/compiler/src/expression_parser/ast.ts | 32 ++++++++++++++++++++++++--\n 1 file changed, 30 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex 2f6fcc18..099c4059 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -268,11 +268,39 @@ export class Interpolation extends AST {\n   }\n }\n \n+type AssignmentOperation \u003d \u0027\u003d\u0027 | \u0027+\u003d\u0027 | \u0027-\u003d\u0027 | \u0027*\u003d\u0027 | \u0027/\u003d\u0027 | \u0027%\u003d\u0027 | \u0027**\u003d\u0027 | \u0027\u0026\u0026\u003d\u0027 | \u0027||\u003d\u0027 | \u0027??\u003d\u0027;\n+type BinaryOperation \u003d\n+  | AssignmentOperation\n+  // Logical\n+  | \u0027\u0026\u0026\u0027\n+  | \u0027||\u0027\n+  | \u0027??\u0027\n+  // Equality\n+  | \u0027\u003d\u003d\u0027\n+  | \u0027!\u003d\u0027\n+  | \u0027\u003d\u003d\u003d\u0027\n+  | \u0027!\u003d\u003d\u0027\n+  // Relational\n+  | \u0027\u003c\u0027\n+  | \u0027\u003e\u0027\n+  | \u0027\u003c\u003d\u0027\n+  | \u0027\u003e\u003d\u0027\n+  | \u0027in\u0027\n+  // Additive\n+  | \u0027+\u0027\n+  | \u0027-\u0027\n+  // Multiplicative\n+  | \u0027*\u0027\n+  | \u0027%\u0027\n+  | \u0027/\u0027\n+  // Exponentiation\n+  | \u0027**\u0027;\n+\n export class Binary extends AST {\n   constructor(\n     span: ParseSpan,\n     sourceSpan: AbsoluteSourceSpan,\n-    public operation: string,\n+    public operation: BinaryOperation,\n     public left: AST,\n     public right: AST,\n   ) {\n@@ -349,7 +377,7 @@ export class Unary extends Binary {\n     sourceSpan: AbsoluteSourceSpan,\n     public operator: string,\n     public expr: AST,\n-    binaryOp: string,\n+    binaryOp: BinaryOperation,\n     binaryLeft: AST,\n     binaryRight: AST,\n   ) {","output":"refactor(compiler): tighten `Binary.operation` type","metadata":{"id":"angular-07a08ab9","repository":"angular","commit_hash":"07a08ab9f8a209172c2f4a59169e5fde64e032ea","author":"fisker \u003clionkay@gmail.com\u003e","type":"refactor","scope":"compiler","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" packages/compiler/src/expression_parser/lexer.ts   | 28 +++++++++++++++-------\n .../compiler/test/expression_parser/lexer_spec.ts  | 24 +++++++++++++++++++\n 2 files changed, 44 insertions(+), 8 deletions(-)\n\ndiff --git a/packages/compiler/src/expression_parser/lexer.ts b/packages/compiler/src/expression_parser/lexer.ts\nindex f18bfc27..c91bf800 100644\n--- a/packages/compiler/src/expression_parser/lexer.ts\n+++ b/packages/compiler/src/expression_parser/lexer.ts\n@@ -343,15 +343,9 @@ class _Scanner {\n       case chars.$GT:\n         return this.scanComplexOperator(start, String.fromCharCode(peek), chars.$EQ, \u0027\u003d\u0027);\n       case chars.$BANG:\n+        return this.scanComplexOperator(start, \u0027!\u0027, chars.$EQ, \u0027\u003d\u0027, chars.$EQ, \u0027\u003d\u0027);\n       case chars.$EQ:\n-        return this.scanComplexOperator(\n-          start,\n-          String.fromCharCode(peek),\n-          chars.$EQ,\n-          \u0027\u003d\u0027,\n-          chars.$EQ,\n-          \u0027\u003d\u0027,\n-        );\n+        return this.scanEquals(start);\n       case chars.$AMPERSAND:\n         return this.scanComplexOperator(start, \u0027\u0026\u0027, chars.$AMPERSAND, \u0027\u0026\u0027, chars.$EQ, \u0027\u003d\u0027);\n       case chars.$BAR:\n@@ -424,6 +418,24 @@ class _Scanner {\n     return newOperatorToken(start, this.index, str);\n   }\n \n+  private scanEquals(start: number): Token {\n+    this.advance();\n+    let str: string \u003d \u0027\u003d\u0027;\n+    if (this.peek \u003d\u003d\u003d chars.$EQ) {\n+      this.advance();\n+      str +\u003d \u0027\u003d\u0027;\n+    } else if (this.peek \u003d\u003d\u003d chars.$GT) {\n+      this.advance();\n+      str +\u003d \u0027\u003e\u0027;\n+      return newOperatorToken(start, this.index, str);\n+    }\n+    if (this.peek \u003d\u003d\u003d chars.$EQ) {\n+      this.advance();\n+      str +\u003d \u0027\u003d\u0027;\n+    }\n+    return newOperatorToken(start, this.index, str);\n+  }\n+\n   private scanIdentifier(): Token {\n     const start: number \u003d this.index;\n     this.advance();\ndiff --git a/packages/compiler/test/expression_parser/lexer_spec.ts b/packages/compiler/test/expression_parser/lexer_spec.ts\nindex 31cbbba8..00ebb071 100644\n--- a/packages/compiler/test/expression_parser/lexer_spec.ts\n+++ b/packages/compiler/test/expression_parser/lexer_spec.ts\n@@ -967,6 +967,30 @@ describe(\u0027lexer\u0027, () \u003d\u003e {\n           \u0027Lexer Error: Unterminated regular expression at column 2 in expression [/a]\u0027,\n         );\n       });\n+\n+      it(\u0027should tokenize an arrow function without parenthesis\u0027, () \u003d\u003e {\n+        const tokens \u003d lex(\u0027a \u003d\u003e a + 1\u0027);\n+        expect(tokens.length).toBe(5);\n+        expectIdentifierToken(tokens[0], 0, 1, \u0027a\u0027);\n+        expectOperatorToken(tokens[1], 2, 4, \u0027\u003d\u003e\u0027);\n+        expectIdentifierToken(tokens[2], 5, 6, \u0027a\u0027);\n+        expectOperatorToken(tokens[3], 7, 8, \u0027+\u0027);\n+        expectNumberToken(tokens[4], 9, 10, 1);\n+      });\n+\n+      it(\u0027should tokenize an arrow function with parenthesis\u0027, () \u003d\u003e {\n+        const tokens \u003d lex(\u0027(a, b) \u003d\u003e a + b\u0027);\n+        expect(tokens.length).toBe(9);\n+        expectCharacterToken(tokens[0], 0, 1, \u0027(\u0027);\n+        expectIdentifierToken(tokens[1], 1, 2, \u0027a\u0027);\n+        expectCharacterToken(tokens[2], 2, 3, \u0027,\u0027);\n+        expectIdentifierToken(tokens[3], 4, 5, \u0027b\u0027);\n+        expectCharacterToken(tokens[4], 5, 6, \u0027)\u0027);\n+        expectOperatorToken(tokens[5], 7, 9, \u0027\u003d\u003e\u0027);\n+        expectIdentifierToken(tokens[6], 10, 11, \u0027a\u0027);\n+        expectOperatorToken(tokens[7], 12, 13, \u0027+\u0027);\n+        expectIdentifierToken(tokens[8], 14, 15, \u0027b\u0027);\n+      });\n     });\n   });\n });","output":"refactor(compiler): tokenize \u003d\u003e","metadata":{"id":"angular-d01e54de","repository":"angular","commit_hash":"d01e54dea4b853d0110f41adcb7d544abd33c8fd","author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e","type":"refactor","scope":"compiler","quality_score":100}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/src/content/guide/signals/overview.md | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/guide/signals/overview.md b/adev/src/content/guide/signals/overview.md\nindex cffc0924..7180209b 100644\n--- a/adev/src/content/guide/signals/overview.md\n+++ b/adev/src/content/guide/signals/overview.md\n@@ -188,7 +188,7 @@ effect(() \u003d\u003e {\n \n ## Advanced derivations\n \n-While `computed` handles simple readonly derivations, you might find youself needing a writable state that is dependant on other signals.\n+While `computed` handles simple readonly derivations, you might find yourself needing a writable state that is dependant on other signals.\n For more information see the [Dependent state with linkedSignal](/guide/signals/linked-signal) guide.\n \n All signal APIs are synchronous— `signal`, `computed`, `input`, etc. However, applications often need to deal with data that is available asynchronously. A `Resource` gives you a way to incorporate async data into your application\u0027s signal-based code and still allow you to access its data synchronously. For more information see the [Async reactivity with resources](/guide/signals/resource) guide.","output":"docs: fix spelling mistake in documentation","metadata":{"id":"angular-933ca9e5","repository":"angular","commit_hash":"933ca9e5dce1b0439a8c923459f2f16d7b5a27c8","author":"Roshith \u003c107235573+roshith844@users.noreply.github.com\u003e","type":"docs","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" adev/shared-docs/services/search.service.ts | 16 +++++++++++-----\n 1 file changed, 11 insertions(+), 5 deletions(-)\n\ndiff --git a/adev/shared-docs/services/search.service.ts b/adev/shared-docs/services/search.service.ts\nindex 96df876a..a557ebd2 100644\n--- a/adev/shared-docs/services/search.service.ts\n+++ b/adev/shared-docs/services/search.service.ts\n@@ -105,17 +105,23 @@ export class Search {\n       const content \u003d hitItem._snippetResult.content;\n       const hierarchy \u003d hitItem._snippetResult.hierarchy;\n       const category \u003d hitItem.hierarchy?.lvl0 ?? null;\n-      const hasSubLabel \u003d hierarchy?.lvl2 || hierarchy?.lvl3 || hierarchy?.lvl4;\n+\n+      const lvl1Value \u003d hierarchy?.lvl1?.value || hitItem.hierarchy?.lvl1;\n+\n+      const sublabelSnippet \u003d this.getBestSnippetForMatch(hitItem);\n+\n+      // If no lvl1, promote sublabel to label to avoid empty titles\n+      const label \u003d lvl1Value || sublabelSnippet || \u0027\u0027;\n+\n+      const hasSubLabel \u003d lvl1Value \u0026\u0026 (hierarchy?.lvl2 || hierarchy?.lvl3 || hierarchy?.lvl4);\n \n       return {\n         id: hitItem.objectID,\n         type: hitItem.hierarchy.lvl0 \u003d\u003d\u003d \u0027Tutorials\u0027 ? \u0027code\u0027 : \u0027doc\u0027,\n         url: hitItem.url,\n \n-        labelHtml: this.parseLabelToHtml(hitItem._snippetResult.hierarchy?.lvl1?.value ?? \u0027\u0027),\n-        subLabelHtml: this.parseLabelToHtml(\n-          hasSubLabel ? this.getBestSnippetForMatch(hitItem) : null,\n-        ),\n+        labelHtml: this.parseLabelToHtml(label),\n+        subLabelHtml: this.parseLabelToHtml(hasSubLabel ? sublabelSnippet : null),\n         contentHtml: content ? this.parseLabelToHtml(content.value) : null,\n         package: category \u003d\u003d\u003d \u0027Reference\u0027 ? extractPackageNameFromUrl(hitItem.url) : null,\n ","output":"docs(docs-infra): improve label fallback logic in search results","metadata":{"id":"angular-3a65814f","repository":"angular","commit_hash":"3a65814f535c03d44bbe13545e0a325e1453eaf5","author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e","type":"docs","scope":"docs-infra","quality_score":90}}
