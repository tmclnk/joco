{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/02-guides/upgrading/codemods.mdx\n\ndiff --git a/docs/01-app/02-guides/upgrading/codemods.mdx b/docs/01-app/02-guides/upgrading/codemods.mdx\nindex dacfcb097..dc4c166fc 100644\n--- a/docs/01-app/02-guides/upgrading/codemods.mdx\n+++ b/docs/01-app/02-guides/upgrading/codemods.mdx\n@@ -40,6 +40,69 @@ This codemod removes the `experimental_ppr` Route Segment Config from App Router\n - export const experimental_ppr = true;\n ```\n \n+#### Remove `unstable_` prefix from stabilized API\n+\n+##### `remove-unstable-prefix`\n+\n+```bash filename=\"Terminal\"\n+npx @next/codemod@latest remove-unstable-prefix .\n+```\n+\n+This codemod removes the `unstable_` prefix from stabilized API.\n+\n+For example:\n+\n+```ts\n+import { unstable_cacheTag as cacheTag } from 'next/cache'\n+\n+cacheTag()\n+```\n+\n+Transforms into:\n+\n+```ts\n+import { cacheTag } from 'next/cache'\n+\n+cacheTag()\n+```\n+\n+#### Migrate from deprecated `middleware` convention to `proxy`\n+\n+##### `middleware-to-proxy`\n+\n+```bash filename=\"Terminal\"\n+npx @next/codemod@latest middleware-to-proxy .\n+```\n+\n+This codemod migrates projects from using the deprecated `middleware` convention to using the `proxy` convention. It:\n+\n+- Renames `middleware.<extension>` to `proxy.<extension>` (e.g. `middleware.ts` to `proxy.ts`)\n+- Renames named export `middleware` to `proxy`\n+- Renames Next.js config property `experimental.middlewarePrefetch` to `experimental.proxyPrefetch`\n+- Renames Next.js config property `experimental.middlewareClientMaxBodySize` to `experimental.proxyClientMaxBodySize`\n+- Renames Next.js config property `experimental.externalMiddlewareRewritesResolve` to `experimental.externalProxyRewritesResolve`\n+- Renames Next.js config property `skipMiddlewareUrlNormalize` to `skipProxyUrlNormalize`\n+\n+For example:\n+\n+```ts filename=\"middleware.ts\"\n+import { NextResponse } from 'next/server'\n+\n+export function middleware() {\n+  return NextResponse.next()\n+}\n+```\n+\n+Transforms into:\n+\n+```ts filename=\"proxy.ts\"\n+import { NextResponse } from 'next/server'\n+\n+export function proxy() {\n+  return NextResponse.next()\n+}\n+```\n+\n #### Migrate from `next lint` to ESLint CLI\n \n ##### `next-lint-to-eslint-cli`"}, {"role": "assistant", "content": "docs: Add missing codemod docs (#84980)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n shell/browser/net/proxying_websocket.cc\n\ndiff --git a/shell/browser/net/proxying_websocket.cc b/shell/browser/net/proxying_websocket.cc\nindex 02ae781d..e9cfd087 100644\n--- a/shell/browser/net/proxying_websocket.cc\n+++ b/shell/browser/net/proxying_websocket.cc\n@@ -401,7 +401,7 @@ void ProxyingWebSocket::OnHeadersReceivedCompleteForAuth(\n \n   auto continuation = base::BindRepeating(\n       &ProxyingWebSocket::OnAuthRequiredComplete, weak_factory_.GetWeakPtr());\n-  auto auth_rv = AuthRequiredResponse::kIoPending;\n+  auto auth_rv = AuthRequiredResponse::kCancelAuth;\n   PauseIncomingMethodCallProcessing();\n \n   OnAuthRequiredComplete(auth_rv);"}, {"role": "assistant", "content": "fix: auth required websocket crash (#48510)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/archaeologist-dig.yml\n\ndiff --git a/.github/workflows/archaeologist-dig.yml b/.github/workflows/archaeologist-dig.yml\nindex d5a63cfe..a08f6960 100644\n--- a/.github/workflows/archaeologist-dig.yml\n+++ b/.github/workflows/archaeologist-dig.yml\n@@ -45,7 +45,7 @@ jobs:\n           sha-file: .dig-old\n           filename: electron.old.d.ts\n       - name: Upload artifacts\n-        uses: actions/upload-artifact@330a01c490aca151604b8cf639adc76d48f6c5d4 #v5.0.0\n+        uses: actions/upload-artifact@b7c566a772e6b6bfb58ed0dc250532a479d7789f #v6.0.0\n         with:\n           name: artifacts\n           path: electron/artifacts\ndiff --git a/.github/workflows/pipeline-segment-electron-test.yml b/.github/workflows/pipeline-segment-electron-test.yml\nindex b5e88b07..ecd676f6 100644\n--- a/.github/workflows/pipeline-segment-electron-test.yml\n+++ b/.github/workflows/pipeline-segment-electron-test.yml\n@@ -266,7 +266,7 @@ jobs:\n       if: always() && !cancelled()\n     - name: Upload Test Artifacts\n       if: always() && !cancelled()\n-      uses: actions/upload-artifact@330a01c490aca151604b8cf639adc76d48f6c5d4\n+      uses: actions/upload-artifact@b7c566a772e6b6bfb58ed0dc250532a479d7789f\n       with:\n         name: test_artifacts_${{ env.ARTIFACT_KEY }}_${{ matrix.shard }}\n         path: src/electron/spec/artifacts\ndiff --git a/.github/workflows/scorecards.yml b/.github/workflows/scorecards.yml\nindex 2a251572..407a70d6 100644\n--- a/.github/workflows/scorecards.yml\n+++ b/.github/workflows/scorecards.yml\n@@ -42,7 +42,7 @@ jobs:\n       # Upload the results as artifacts (optional). Commenting out will disable uploads of run results in SARIF\n       # format to the repository Actions tab.\n       - name: \"Upload artifact\"\n-        uses: actions/upload-artifact@330a01c490aca151604b8cf639adc76d48f6c5d4 # v5.0.0\n+        uses: actions/upload-artifact@b7c566a772e6b6bfb58ed0dc250532a479d7789f # v6.0.0\n         with:\n           name: SARIF file\n           path: results.sarif"}, {"role": "assistant", "content": "build(deps): bump actions/upload-artifact from 5.0.0 to 6.0.0 (#49220)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/runtime-dom/src/jsx.ts | 6 +++++-\n 1 file changed, 5 insertions(+), 1 deletion(-)\n\ndiff --git a/packages/runtime-dom/src/jsx.ts b/packages/runtime-dom/src/jsx.ts\nindex 3d09278..eb43ccb 100644\n--- a/packages/runtime-dom/src/jsx.ts\n+++ b/packages/runtime-dom/src/jsx.ts\n@@ -547,7 +547,7 @@ export interface InputHTMLAttributes extends HTMLAttributes {\n   checked?: Booleanish | any[] | Set<any> | undefined // for IDE v-model multi-checkbox support\n   crossorigin?: string | undefined\n   disabled?: Booleanish | undefined\n-  enterKeyHint?:\n+  enterkeyhint?:\n     | 'enter'\n     | 'done'\n     | 'go'\n@@ -556,6 +556,10 @@ export interface InputHTMLAttributes extends HTMLAttributes {\n     | 'search'\n     | 'send'\n     | undefined\n+  /**\n+   * @deprecated Use `enterkeyhint` instead.\n+   */\n+  enterKeyHint?: InputHTMLAttributes['enterkeyhint']\n   form?: string | undefined\n   formaction?: string | undefined\n   formenctype?: string | undefined"}, {"role": "assistant", "content": "fix(jsx): correct enterkeyhint attribute casing"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n script/nan-spec-runner.js\n\ndiff --git a/script/nan-spec-runner.js b/script/nan-spec-runner.js\nindex 8fc48ba0..f54da087 100644\n--- a/script/nan-spec-runner.js\n+++ b/script/nan-spec-runner.js\n@@ -133,12 +133,7 @@ async function main () {\n \n   const DISABLED_TESTS = new Set([\n     'nannew-test.js',\n-    'buffer-test.js',\n-    // These two are incompatible with crrev.com/c/4733273\n-    // They are disabled upstream starting in \"Node.js 24\" (note: the incompatible change above\n-    // landed in V8 v13.7), so we can remove them from this list once we upgrade Node.js to 24.\n-    'weak-test.js',\n-    'weak2-test.js'\n+    'buffer-test.js'\n   ]);\n   const testsToRun = fs.readdirSync(path.resolve(NAN_DIR, 'test', 'js'))\n     .filter(test => !DISABLED_TESTS.has(test))"}, {"role": "assistant", "content": "test: remove already disabled nan tests from our disable list (#49050)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n eslint/babel-eslint-tests/package.json\n\ndiff --git a/eslint/babel-eslint-tests/package.json b/eslint/babel-eslint-tests/package.json\nindex 54bd8651f..5fcc70b3b 100644\n--- a/eslint/babel-eslint-tests/package.json\n+++ b/eslint/babel-eslint-tests/package.json\n@@ -7,10 +7,9 @@\n     \"@babel/core\": \"workspace:^\",\n     \"@babel/eslint-parser\": \"workspace:^\",\n     \"@babel/preset-react\": \"workspace:^\",\n-    \"@eslint/compat\": \"^1.1.1\",\n     \"dedent\": \"^1.5.3\",\n     \"eslint\": \"^9.7.0\",\n-    \"eslint-plugin-import\": \"^2.25.4\",\n+    \"eslint-plugin-import\": \"^2.31.0\",\n     \"globals\": \"^15.9.0\",\n     \"npm-babel-parser\": \"npm:@babel/parser@^7.14.0\"\n   },\ndiff --git a/eslint/babel-eslint-tests/test/fixtures/eslint-plugin-import/eslint.config.mjs b/eslint/babel-eslint-tests/test/fixtures/eslint-plugin-import/eslint.config.mjs\nindex 3d4f0e990..64eeffadc 100644\n--- a/eslint/babel-eslint-tests/test/fixtures/eslint-plugin-import/eslint.config.mjs\n+++ b/eslint/babel-eslint-tests/test/fixtures/eslint-plugin-import/eslint.config.mjs\n@@ -1,11 +1,10 @@\n-import _import from \"eslint-plugin-import\";\n-import { fixupPluginRules } from \"@eslint/compat\";\n+import importPlugin from \"eslint-plugin-import\";\n import babelParser from \"@babel/eslint-parser\";\n \n export default [\n   {\n     plugins: {\n-      import: fixupPluginRules(_import),\n+      import: importPlugin,\n     },\n \n     languageOptions: {\ndiff --git a/yarn.lock b/yarn.lock\nindex cea966c86..48cdd1cce 100644\n--- a/yarn.lock\n+++ b/yarn.lock\n@@ -480,10 +480,9 @@ __metadata:\n     \"@babel/core\": \"workspace:^\"\n     \"@babel/eslint-parser\": \"workspace:^\"\n     \"@babel/preset-react\": \"workspace:^\"\n-    \"@eslint/compat\": \"npm:^1.1.1\"\n     dedent: \"npm:^1.5.3\"\n     eslint: \"npm:^9.7.0\"\n-    eslint-plugin-import: \"npm:^2.25.4\"\n+    eslint-plugin-import: \"npm:^2.31.0\"\n     globals: \"npm:^15.9.0\"\n     npm-babel-parser: \"npm:@babel/parser@^7.14.0\"\n   languageName: unknown\n@@ -4310,13 +4309,6 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n-\"@eslint/compat@npm:^1.1.1\":\n-  version: 1.1.1\n-  resolution: \"@eslint/compat@npm:1.1.1\"\n-  checksum: 10/9004697701e9e9a7749d9e37452ee965af3620af46796ac0ee196478bbda490c780d17686c2888353c2a12d764837fa71c027c3ca18b1c3af6136105caa93642\n-  languageName: node\n-  linkType: hard\n-\n \"@eslint/config-array@npm:^0.18.0\":\n   version: 0.18.0\n   resolution: \"@eslint/config-array@npm:0.18.0\"\n@@ -9019,7 +9011,7 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n-\"eslint-plugin-import@npm:^2.25.4, eslint-plugin-import@npm:^2.31.0\":\n+\"eslint-plugin-import@npm:^2.31.0\":\n   version: 2.31.0\n   resolution: \"eslint-plugin-import@npm:2.31.0\"\n   dependencies:"}, {"role": "assistant", "content": "chore: remove eslint/compat (#16922)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/compiler-sfc/src/compileScript.ts\n\ndiff --git a/packages/compiler-sfc/src/compileScript.ts b/packages/compiler-sfc/src/compileScript.ts\nindex 094120c3..7d171a9b 100644\n--- a/packages/compiler-sfc/src/compileScript.ts\n+++ b/packages/compiler-sfc/src/compileScript.ts\n@@ -284,11 +284,9 @@ export function compileScript(\n       userImportAlias[imported] = local\n     }\n \n-    // template usage check is only needed in non-inline mode, so we can skip\n-    // the work if inlineTemplate is true.\n     let isUsedInTemplate = true\n-    if (isTS && sfc.template && !sfc.template.src && !sfc.template.lang) {\n-      isUsedInTemplate = isImportUsed(local, sfc)\n+    if (sfc.template && !sfc.template.src && !sfc.template.lang) {\n+      isUsedInTemplate = isImportUsed(local, sfc, isTS)\n     }\n \n     userImports[local] = {\n@@ -1782,7 +1780,7 @@ function getObjectOrArrayExpressionKeys(value: Node): string[] {\n \n const templateUsageCheckCache = new LRU<string, string>(512)\n \n-function resolveTemplateUsageCheckString(sfc: SFCDescriptor) {\n+function resolveTemplateUsageCheckString(sfc: SFCDescriptor, isTS: boolean) {\n   const { content } = sfc.template!\n   const cached = templateUsageCheckCache.get(content)\n   if (cached) {\n@@ -1809,7 +1807,7 @@ function resolveTemplateUsageCheckString(sfc: SFCDescriptor) {\n             code += `,v${capitalize(camelize(baseName))}`\n           }\n           if (value) {\n-            code += `,${processExp(value, baseName)}`\n+            code += `,${processExp(value, isTS, baseName)}`\n           }\n         }\n       }\n@@ -1817,7 +1815,7 @@ function resolveTemplateUsageCheckString(sfc: SFCDescriptor) {\n     chars(text) {\n       const res = parseText(text)\n       if (res) {\n-        code += `,${processExp(res.expression)}`\n+        code += `,${processExp(res.expression, isTS)}`\n       }\n     }\n   })\n@@ -1829,8 +1827,8 @@ function resolveTemplateUsageCheckString(sfc: SFCDescriptor) {\n \n const forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/\n \n-function processExp(exp: string, dir?: string): string {\n-  if (/ as\\s+\\w|<.*>|:/.test(exp)) {\n+function processExp(exp: string, isTS: boolean, dir?: string): string {\n+  if (isTS && / as\\s+\\w|<.*>|:/.test(exp)) {\n     if (dir === 'slot') {\n       exp = `(${exp})=>{}`\n     } else if (dir === 'on') {\n@@ -1839,7 +1837,7 @@ function processExp(exp: string, dir?: string): string {\n       const inMatch = exp.match(forAliasRE)\n       if (inMatch) {\n         const [, LHS, RHS] = inMatch\n-        return processExp(`(${LHS})=>{}`) + processExp(RHS)\n+        return processExp(`(${LHS})=>{}`, true) + processExp(RHS, true)\n       }\n     }\n     let ret = ''\n@@ -1867,36 +1865,38 @@ function stripTemplateString(str: string): string {\n   return ''\n }\n \n-function isImportUsed(local: string, sfc: SFCDescriptor): boolean {\n+function isImportUsed(\n+  local: string,\n+  sfc: SFCDescriptor,\n+  isTS: boolean\n+): boolean {\n   return new RegExp(\n     // #4274 escape $ since it's a special char in regex\n     // (and is the only regex special char that is valid in identifiers)\n     `[^\\\\w$_]${local.replace(/\\$/g, '\\\\$')}[^\\\\w$_]`\n-  ).test(resolveTemplateUsageCheckString(sfc))\n+  ).test(resolveTemplateUsageCheckString(sfc, isTS))\n }\n \n /**\n  * Note: this comparison assumes the prev/next script are already identical,\n- * and only checks the special case where <script setup lang=\"ts\"> unused import\n+ * and only checks the special case where <script setup> unused import\n  * pruning result changes due to template changes.\n  */\n export function hmrShouldReload(\n   prevImports: Record<string, ImportBinding>,\n   next: SFCDescriptor\n ): boolean {\n-  if (\n-    !next.scriptSetup ||\n-    (next.scriptSetup.lang !== 'ts' && next.scriptSetup.lang !== 'tsx')\n-  ) {\n+  if (!next.scriptSetup) {\n     return false\n   }\n \n+  const isTS = next.scriptSetup.lang === 'ts' || next.scriptSetup.lang === 'tsx'\n   // for each previous import, check if its used status remain the same based on\n   // the next descriptor's template\n   for (const key in prevImports) {\n     // if an import was previous unused, but now is used, we need to force\n     // reload so that the script now includes that import.\n-    if (!prevImports[key].isUsedInTemplate && isImportUsed(key, next)) {\n+    if (!prevImports[key].isUsedInTemplate && isImportUsed(key, next, isTS)) {\n       return true\n     }\n   }\ndiff --git a/packages/compiler-sfc/test/__snapshots__/compileScript.spec.ts.snap b/packages/compiler-sfc/test/__snapshots__/compileScript.spec.ts.snap\nindex 6bad46ad..bb52a66b 100644\n--- a/packages/compiler-sfc/test/__snapshots__/compileScript.spec.ts.snap\n+++ b/packages/compiler-sfc/test/__snapshots__/compileScript.spec.ts.snap\n@@ -20,7 +20,7 @@ exports[`SFC analyze <script> bindings > auto name inference > do not overwrite\n export default /*#__PURE__*/Object.assign(__default__, {\n   setup(__props) {\n const a = 1\n-return { a, defineComponent }\n+return { a }\n }\n \n })\""}, {"role": "assistant", "content": "fix(sfc): prune returned bindings for non-TS as well"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/core/observer/index.ts\n\ndiff --git a/src/core/observer/index.ts b/src/core/observer/index.ts\nindex 3ad49493..c043f392 100644\n--- a/src/core/observer/index.ts\n+++ b/src/core/observer/index.ts\n@@ -19,6 +19,8 @@ import { isReadonly, isRef } from '../../v3'\n \n const arrayKeys = Object.getOwnPropertyNames(arrayMethods)\n \n+const NO_INIITIAL_VALUE = {}\n+\n /**\n  * In some cases we may want to disable observation inside a component's\n  * update computation.\n@@ -67,7 +69,7 @@ export class Observer {\n     const keys = Object.keys(obj)\n     for (let i = 0; i < keys.length; i++) {\n       const key = keys[i]\n-      defineReactive(obj, key, obj[key], undefined, shallow)\n+      defineReactive(obj, key, NO_INIITIAL_VALUE, undefined, shallow)\n     }\n   }\n \n@@ -149,7 +151,10 @@ export function defineReactive(\n   // cater for pre-defined getter/setters\n   const getter = property && property.get\n   const setter = property && property.set\n-  if ((!getter || setter) && arguments.length === 2) {\n+  if (\n+    (!getter || setter) &&\n+    (val === NO_INIITIAL_VALUE || arguments.length === 2)\n+  ) {\n     val = obj[key]\n   }\n \ndiff --git a/test/unit/features/directives/class.spec.ts b/test/unit/features/directives/class.spec.ts\nindex 153294ba..f2c00110 100644\n--- a/test/unit/features/directives/class.spec.ts\n+++ b/test/unit/features/directives/class.spec.ts\n@@ -1,4 +1,5 @@\n import Vue from 'vue'\n+import { isFunction } from 'core/util'\n \n function assertClass(assertions, done) {\n   const vm = new Vue({\ndiff --git a/test/unit/modules/compiler/codegen.spec.ts b/test/unit/modules/compiler/codegen.spec.ts\nindex ad7da7e5..e893a819 100644\n--- a/test/unit/modules/compiler/codegen.spec.ts\n+++ b/test/unit/modules/compiler/codegen.spec.ts\n@@ -1,7 +1,7 @@\n import { parse } from 'compiler/parser/index'\n import { optimize } from 'compiler/optimizer'\n import { generate } from 'compiler/codegen'\n-import { isObject, extend } from 'shared/util'\n+import { isObject, isFunction, extend } from 'shared/util'\n import { isReservedTag } from 'web/util/index'\n import { baseOptions } from 'web/compiler/options'"}, {"role": "assistant", "content": "chore: fix unit tests"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/ci.yml\n\ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex c94a13d8..e2154508 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -150,6 +150,10 @@ jobs:\n               working-directory: ${{ matrix.package.directory }}\n               run: npm run test:types\n \n+    test_package_manager:\n+        name: Test Package Managers\n+        uses: eslint/workflows/.github/workflows/ci-package-manager.yml@main\n+\n     pnpm_test:\n         name: Test pnpm Type Support\n         runs-on: ubuntu-latest"}, {"role": "assistant", "content": "ci: create package manager test (#20392)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n lib/ConstPlugin.js\n\ndiff --git a/lib/ConstPlugin.js b/lib/ConstPlugin.js\nindex 82ac18cac..5efb75a45 100644\n--- a/lib/ConstPlugin.js\n+++ b/lib/ConstPlugin.js\n@@ -180,7 +180,7 @@ class ConstPlugin {\n \t\t\t\t\t\t\t\t? statement.alternate\n \t\t\t\t\t\t\t\t: statement.consequent;\n \t\t\t\t\t\t\tif (branchToRemove) {\n-\t\t\t\t\t\t\t\tthis.eliminateUnusedStatement(parser, branchToRemove);\n+\t\t\t\t\t\t\t\tthis.eliminateUnusedStatement(parser, branchToRemove, true);\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\treturn bool;\n \t\t\t\t\t\t}\n@@ -193,7 +193,7 @@ class ConstPlugin {\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\treturn;\n \t\t\t\t\t\t}\n-\t\t\t\t\t\tthis.eliminateUnusedStatement(parser, statement);\n+\t\t\t\t\t\tthis.eliminateUnusedStatement(parser, statement, false);\n \t\t\t\t\t\treturn true;\n \t\t\t\t\t});\n \t\t\t\t\tparser.hooks.expressionConditionalOperator.tap(\n@@ -509,9 +509,10 @@ class ConstPlugin {\n \t * Eliminate an unused statement.\n \t * @param {JavascriptParser} parser the parser\n \t * @param {Statement} statement the statement to remove\n+\t * @param {boolean} alwaysInBlock whether to always generate curly brackets\n \t * @returns {void}\n \t */\n-\teliminateUnusedStatement(parser, statement) {\n+\teliminateUnusedStatement(parser, statement, alwaysInBlock) {\n \t\t// Before removing the unused branch, the hoisted declarations\n \t\t// must be collected.\n \t\t//\n@@ -545,8 +546,14 @@ class ConstPlugin {\n \t\tconst declarations = parser.scope.isStrict\n \t\t\t? getHoistedDeclarations(statement, false)\n \t\t\t: getHoistedDeclarations(statement, true);\n-\t\tconst replacement =\n-\t\t\tdeclarations.length > 0 ? `{ var ${declarations.join(\", \")}; }` : \"{}\";\n+\n+\t\tconst inBlock = alwaysInBlock || statement.type === \"BlockStatement\";\n+\n+\t\tlet replacement = inBlock ? \"{\" : \"\";\n+\t\treplacement +=\n+\t\t\tdeclarations.length > 0 ? ` var ${declarations.join(\", \")}; ` : \"\";\n+\t\treplacement += inBlock ? \"}\" : \"\";\n+\n \t\tconst dep = new ConstDependency(\n \t\t\t`// removed by dead control flow\\n${replacement}`,\n \t\t\t/** @type {Range} */ (statement.range)"}, {"role": "assistant", "content": "fix: avoid empty block for unused statement"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n types/index.d.ts\n\ndiff --git a/types/index.d.ts b/types/index.d.ts\nindex 2b5d3a89..19fce987 100644\n--- a/types/index.d.ts\n+++ b/types/index.d.ts\n@@ -41,7 +41,7 @@ export * from './v3-setup-helpers'\n \n export { Data } from './common'\n export { SetupContext } from './v3-setup-context'\n-export { defineComponent } from './v3-define-component'\n+export { defineComponent, DefineComponent } from './v3-define-component'\n export { defineAsyncComponent } from './v3-define-async-component'\n export {\n   SetupFunction,\ndiff --git a/types/v3-define-component.d.ts b/types/v3-define-component.d.ts\nindex a2c47322..69f65a2e 100644\n--- a/types/v3-define-component.d.ts\n+++ b/types/v3-define-component.d.ts\n@@ -20,7 +20,7 @@ import { Data, HasDefined } from './common'\n import { EmitsOptions } from './v3-setup-context'\n import { CreateElement, RenderContext } from './umd'\n \n-type DefineComponent<\n+export type DefineComponent<\n   PropsOrPropOptions = {},\n   RawBindings = {},\n   D = {},"}, {"role": "assistant", "content": "feat(types): export DefineComponent"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .../runtime-dom/src/components/TransitionGroup.ts  | 22 ++++++---\n packages/vue/__tests__/e2e/TransitionGroup.spec.ts | 56 ++++++++++++++++++++++\n 2 files changed, 71 insertions(+), 7 deletions(-)\n\ndiff --git a/packages/runtime-dom/src/components/TransitionGroup.ts b/packages/runtime-dom/src/components/TransitionGroup.ts\nindex 3ba59f0..eb86dd4 100644\n--- a/packages/runtime-dom/src/components/TransitionGroup.ts\n+++ b/packages/runtime-dom/src/components/TransitionGroup.ts\n@@ -29,8 +29,13 @@ import {\n } from '@vue/runtime-core'\n import { extend } from '@vue/shared'\n \n-const positionMap = new WeakMap<VNode, DOMRect>()\n-const newPositionMap = new WeakMap<VNode, DOMRect>()\n+interface Position {\n+  top: number\n+  left: number\n+}\n+\n+const positionMap = new WeakMap<VNode, Position>()\n+const newPositionMap = new WeakMap<VNode, Position>()\n const moveCbKey = Symbol('_moveCb')\n const enterCbKey = Symbol('_enterCb')\n \n@@ -145,10 +150,10 @@ const TransitionGroupImpl: ComponentOptions = /*@__PURE__*/ decorate({\n                 instance,\n               ),\n             )\n-            positionMap.set(\n-              child,\n-              (child.el as Element).getBoundingClientRect(),\n-            )\n+            positionMap.set(child, {\n+              left: (child.el as HTMLElement).offsetLeft,\n+              top: (child.el as HTMLElement).offsetTop,\n+            })\n           }\n         }\n       }\n@@ -189,7 +194,10 @@ function callPendingCbs(c: VNode) {\n }\n \n function recordPosition(c: VNode) {\n-  newPositionMap.set(c, (c.el as Element).getBoundingClientRect())\n+  newPositionMap.set(c, {\n+    left: (c.el as HTMLElement).offsetLeft,\n+    top: (c.el as HTMLElement).offsetTop,\n+  })\n }\n \n function applyTranslation(c: VNode): VNode | undefined {\ndiff --git a/packages/vue/__tests__/e2e/TransitionGroup.spec.ts b/packages/vue/__tests__/e2e/TransitionGroup.spec.ts\nindex 62d89db..09f137b 100644\n--- a/packages/vue/__tests__/e2e/TransitionGroup.spec.ts\n+++ b/packages/vue/__tests__/e2e/TransitionGroup.spec.ts\n@@ -646,6 +646,62 @@ describe('e2e: TransitionGroup', () => {\n     E2E_TIMEOUT,\n   )\n \n+  // #6105\n+  test(\n+    'with scale',\n+    async () => {\n+      await page().evaluate(() => {\n+        const { createApp, ref, onMounted } = (window as any).Vue\n+        createApp({\n+          template: `\n+            <div id=\"container\">\n+              <div class=\"scale\" style=\"transform: scale(2) translateX(50%) translateY(50%)\">\n+                <transition-group tag=\"ul\">\n+                  <li v-for=\"item in items\" :key=\"item\">{{item}}</li>\n+                </transition-group>\n+                <button id=\"toggleBtn\" @click=\"click\">button</button>\n+              </div>\n+            </div>\n+          `,\n+          setup: () => {\n+            const items = ref(['a', 'b', 'c'])\n+            const click = () => {\n+              items.value.reverse()\n+            }\n+\n+            onMounted(() => {\n+              const styleNode = document.createElement('style')\n+              styleNode.innerHTML = `.v-move {\n+                transition: transform 0.5s ease;\n+              }`\n+              document.body.appendChild(styleNode)\n+            })\n+\n+            return { items, click }\n+          },\n+        }).mount('#app')\n+      })\n+\n+      const original_top = await page().$eval('ul li:nth-child(1)', node => {\n+        return node.getBoundingClientRect().top\n+      })\n+      const new_top = await page().evaluate(() => {\n+        const el = document.querySelector('ul li:nth-child(1)')\n+        const p = new Promise(resolve => {\n+          el!.addEventListener('transitionstart', () => {\n+            const new_top = el!.getBoundingClientRect().top\n+            resolve(new_top)\n+          })\n+        })\n+        ;(document.querySelector('#toggleBtn') as any)!.click()\n+        return p\n+      })\n+\n+      expect(original_top).toBeLessThan(new_top as number)\n+    },\n+    E2E_TIMEOUT,\n+  )\n+\n   test(\n     'not leaking after children unmounted',\n     async () => {"}, {"role": "assistant", "content": "fix(transition-group): use offsetLeft/Top instead of"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/services/organizeImports.ts\n\ndiff --git a/src/services/organizeImports.ts b/src/services/organizeImports.ts\nindex c972649de..573f908ab 100644\n--- a/src/services/organizeImports.ts\n+++ b/src/services/organizeImports.ts\n@@ -60,7 +60,6 @@ import {\n     SortKind,\n     SourceFile,\n     stableSort,\n-    suppressLeadingTrivia,\n     SyntaxKind,\n     textChanges,\n     TransformFlags,\n@@ -137,7 +136,7 @@ export function organizeImports(\n         // on the first import because it is probably the header comment for the file.\n         // Consider: we could do a more careful check that this trivia is actually a header,\n         // but the consequences of being wrong are very minor.\n-        suppressLeadingTrivia(oldImportDecls[0]);\n+        setEmitFlags(oldImportDecls[0], EmitFlags.NoLeadingComments);\n \n         const oldImportGroups = shouldCombine\n             ? group(oldImportDecls, importDecl => getExternalModuleName(importDecl.moduleSpecifier)!)\ndiff --git a/tests/cases/fourslash/organizeImports21.ts b/tests/cases/fourslash/organizeImports21.ts\nnew file mode 100644\nindex 000000000..a28042c1d\n--- /dev/null\n+++ b/tests/cases/fourslash/organizeImports21.ts\n@@ -0,0 +1,27 @@\n+/// <reference path=\"fourslash.ts\" />\n+\n+// @filename: /a.ts\n+////export interface LocationDefinitions {}\n+////export interface PersonDefinitions {}\n+\n+// @filename: /b.ts\n+////export {\n+////    /** @deprecated Use LocationDefinitions instead */\n+////    LocationDefinitions as AddressDefinitions,\n+////    LocationDefinitions,\n+////    /** @deprecated Use PersonDefinitions instead */\n+////    PersonDefinitions as NameDefinitions,\n+////    PersonDefinitions,\n+////} from './a';\n+\n+goTo.file(\"/b.ts\");\n+verify.organizeImports(\n+`export {\n+    /** @deprecated Use LocationDefinitions instead */\n+    LocationDefinitions as AddressDefinitions,\n+    LocationDefinitions,\n+    /** @deprecated Use PersonDefinitions instead */\n+    PersonDefinitions as NameDefinitions,\n+    PersonDefinitions\n+} from './a';\n+`);"}, {"role": "assistant", "content": "fix(54068): Organize Imports removes first deprecated JSDoc comment (#54071)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/src/assets/scss/eslint-site-footer.scss\n\ndiff --git a/docs/src/assets/scss/eslint-site-footer.scss b/docs/src/assets/scss/eslint-site-footer.scss\nindex e9b25d68..8efe4279 100644\n--- a/docs/src/assets/scss/eslint-site-footer.scss\n+++ b/docs/src/assets/scss/eslint-site-footer.scss\n@@ -29,7 +29,7 @@\n \t\t\tmargin-inline-end: 0.5rem;\n \n \t\t\t&:not(:last-of-type)::after {\n-\t\t\t\tcontent: \"|\";\n+\t\t\t\tcontent: \"|\" / \"\";\n \t\t\t\tmargin-left: 0.5rem;\n \t\t\t\tmargin-inline-start: 0.5rem;\n \t\t\t}\ndiff --git a/docs/src/assets/scss/languages.scss b/docs/src/assets/scss/languages.scss\nindex 468d55b3..a0f760ac 100644\n--- a/docs/src/assets/scss/languages.scss\n+++ b/docs/src/assets/scss/languages.scss\n@@ -27,7 +27,7 @@\n \t\t\tcolor: var(--link-color);\n \n \t\t\t&::after {\n-\t\t\t\tcontent: \" \u2714\ufe0f\";\n+\t\t\t\tcontent: \" \u2714\ufe0f\" / \"check mark\";\n \t\t\t\twhite-space: pre;\n \t\t\t\tcolor: rgba(100%, 0%, 0%, 0);\n \t\t\t\ttext-shadow: 0 0 0 var(--headings-color);\ndiff --git a/docs/src/assets/scss/versions.scss b/docs/src/assets/scss/versions.scss\nindex bcaac951..38a71912 100644\n--- a/docs/src/assets/scss/versions.scss\n+++ b/docs/src/assets/scss/versions.scss\n@@ -28,7 +28,7 @@\n \t\t\tcolor: var(--link-color);\n \n \t\t\t&::after {\n-\t\t\t\tcontent: \" \u2714\ufe0f\";\n+\t\t\t\tcontent: \" \u2714\ufe0f\" / \"check mark\";\n \t\t\t\twhite-space: pre;\n \t\t\t\tcolor: rgba(100%, 0%, 0%, 0);\n \t\t\t\ttext-shadow: 0 0 0 var(--headings-color);"}, {"role": "assistant", "content": "docs: improve web accessibility by hiding non-semantic character (#20205)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n script/lib/util.py\n\ndiff --git a/script/lib/util.py b/script/lib/util.py\nindex a65321b8..040a144c 100644\n--- a/script/lib/util.py\n+++ b/script/lib/util.py\n@@ -84,6 +84,12 @@ def make_zip(zip_file_path, files, dirs):\n       zip_file.close()\n \n \n+def make_tar_xz(tar_file_path, files, dirs):\n+  safe_unlink(tar_file_path)\n+  allfiles = files + dirs\n+  execute(['tar', '-cJf', tar_file_path] + allfiles)\n+\n+\n def rm_rf(path):\n   try:\n     shutil.rmtree(path)\ndiff --git a/script/zip-symbols.py b/script/zip-symbols.py\nindex 2b365566..45635a1f 100755\n--- a/script/zip-symbols.py\n+++ b/script/zip-symbols.py\n@@ -6,7 +6,7 @@ import os\n import sys\n \n from lib.config import PLATFORM\n-from lib.util import scoped_cwd, get_electron_version, make_zip, \\\n+from lib.util import scoped_cwd, get_electron_version, make_zip, make_tar_xz, \\\n                      get_electron_branding, get_out_dir, execute\n \n ELECTRON_VERSION = get_electron_version()\n@@ -27,16 +27,15 @@ def main():\n     make_zip(zip_file, licenses, dirs)\n \n   if PLATFORM == 'darwin':\n-    dsym_name = 'dsym.zip'\n+    dsym_name = 'dsym.tar.xz'\n     with scoped_cwd(args.build_dir):\n       dsyms = glob.glob('*.dSYM')\n       snapshot_dsyms = ['v8_context_snapshot_generator.dSYM']\n       for dsym in snapshot_dsyms:\n         if (dsym in dsyms):\n           dsyms.remove(dsym)\n-      dsym_zip_file = os.path.join(args.build_dir, dsym_name)\n-      print('Making dsym zip: ' + dsym_zip_file)\n-      make_zip(dsym_zip_file, licenses, dsyms)\n+      dsym_tar_file = os.path.join(args.build_dir, dsym_name)\n+      make_tar_xz(dsym_tar_file, licenses, dsyms)\n       dsym_snapshot_name = 'dsym-snapshot.zip'\n       dsym_snapshot_zip_file = os.path.join(args.build_dir, dsym_snapshot_name)\n       print('Making dsym snapshot zip: ' + dsym_snapshot_zip_file)"}, {"role": "assistant", "content": "build: apply additional compression to dsym on upload (#48930)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/jest-worker/src/workers/__tests__/WorkerEdgeCases.test.ts\n\ndiff --git a/packages/jest-worker/src/workers/__tests__/WorkerEdgeCases.test.ts b/packages/jest-worker/src/workers/__tests__/WorkerEdgeCases.test.ts\nindex e9fd0493..b616e614 100644\n--- a/packages/jest-worker/src/workers/__tests__/WorkerEdgeCases.test.ts\n+++ b/packages/jest-worker/src/workers/__tests__/WorkerEdgeCases.test.ts\n@@ -31,7 +31,9 @@ const threadChildWorkerPath = join(writeDestination, 'workers/threadChild.js');\n // https://github.com/nodejs/node/issues/51766\n if (\n   process.platform === 'win32' &&\n-  (process.version.startsWith('v21.') || process.version.startsWith('v22.'))\n+  (process.version.startsWith('v21.') ||\n+    process.version.startsWith('v22.') ||\n+    process.version.startsWith('v23.'))\n ) {\n   // eslint-disable-next-line jest/no-focused-tests\n   test.only('skipping test on broken platform', () => {"}, {"role": "assistant", "content": "chore: skip flaky test on node 23 as well"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/babel-cli/src/babel/util.ts\n\ndiff --git a/packages/babel-cli/src/babel/util.ts b/packages/babel-cli/src/babel/util.ts\nindex 875e6925c..71ab8c486 100644\n--- a/packages/babel-cli/src/babel/util.ts\n+++ b/packages/babel-cli/src/babel/util.ts\n@@ -103,6 +103,7 @@ const CALLER = {\n export function transformRepl(filename: string, code: string, opts: any) {\n   opts = {\n     ...opts,\n+    sourceMaps: opts.sourceMaps === \"inline\" ? true : opts.sourceMaps,\n     caller: CALLER,\n     filename,\n   };\ndiff --git a/packages/babel-cli/test/fixtures/babel/stdin --source-maps inline/stdout.txt b/packages/babel-cli/test/fixtures/babel/stdin --source-maps inline/stdout.txt\nindex eed2f14c2..ca54b523f 100644\n--- a/packages/babel-cli/test/fixtures/babel/stdin --source-maps inline/stdout.txt\t\n+++ b/packages/babel-cli/test/fixtures/babel/stdin --source-maps inline/stdout.txt\t\n@@ -3,6 +3,5 @@\n arr.map(function (x) {\n   return x * x;\n });\n-//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcnIiLCJtYXAiLCJ4Il0sInNvdXJjZXMiOlsic3RkaW4iXSwic291cmNlc0NvbnRlbnQiOlsiYXJyLm1hcCh4ID0+IHggKiB4KTsiXSwibWFwcGluZ3MiOiI7O0FBQUFBLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLFVBQUFDLENBQUM7RUFBQSxPQUFJQSxDQUFDLEdBQUdBLENBQUM7QUFBQSxFQUFDIiwiaWdub3JlTGlzdCI6W119\n \n-//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Rkb3V0IiwibmFtZXMiOltdLCJzb3VyY2VzIjpbXSwic291cmNlc0NvbnRlbnQiOltdLCJtYXBwaW5ncyI6IiIsImlnbm9yZUxpc3QiOltdfQ==\n+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Rkb3V0IiwibmFtZXMiOlsiYXJyIiwibWFwIiwieCJdLCJzb3VyY2VzIjpbInN0ZGluIl0sInNvdXJjZXNDb250ZW50IjpbImFyci5tYXAoeCA9PiB4ICogeCk7Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxHQUFHLENBQUNDLEdBQUcsQ0FBQyxVQUFBQyxDQUFDO0VBQUEsT0FBSUEsQ0FBQyxHQUFHQSxDQUFDO0FBQUEsRUFBQyIsImlnbm9yZUxpc3QiOltdfQ=="}, {"role": "assistant", "content": "fix: `@babel/cli` generates duplicate inline source maps (#17182)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/input.js\n\ndiff --git a/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/input.js b/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/input.js\nnew file mode 100644\nindex 000000000..80faad5b4\n--- /dev/null\n+++ b/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/input.js\n@@ -0,0 +1,11 @@\n+import React from 'react';\n+\n+export default function App() {\n+  return (\n+    <div className=\"App\">\n+      <h1>Welcome to my application!</h1>\n+      This is my app!\n+      <strong>MINE.</strong>\n+    </div>\n+  )\n+}\ndiff --git a/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/options.json b/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/options.json\nnew file mode 100644\nindex 000000000..70749cdfc\n--- /dev/null\n+++ b/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/options.json\n@@ -0,0 +1,5 @@\n+{\n+  \"sourceType\": \"module\",\n+  \"plugins\": [[\"transform-react-jsx\", { \"runtime\": \"classic\" }]],\n+  \"sourceMap\": true\n+}\ndiff --git a/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/output.mjs b/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/output.mjs\nnew file mode 100644\nindex 000000000..d295dcddc\n--- /dev/null\n+++ b/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/output.mjs\n@@ -0,0 +1,6 @@\n+import React from 'react';\n+export default function App() {\n+  return /*#__PURE__*/React.createElement(\"div\", {\n+    className: \"App\"\n+  }, /*#__PURE__*/React.createElement(\"h1\", null, \"Welcome to my application!\"), \"This is my app!\", /*#__PURE__*/React.createElement(\"strong\", null, \"MINE.\"));\n+}\ndiff --git a/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/source-map.json b/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/source-map.json\nnew file mode 100644\nindex 000000000..1afb281ac\n--- /dev/null\n+++ b/packages/babel-plugin-transform-react-jsx/test/fixtures/sourcemaps/JSXText/source-map.json\n@@ -0,0 +1,14 @@\n+{\n+  \"version\": 3,\n+  \"names\": [\n+    \"React\",\n+    \"App\"\n+  ],\n+  \"sources\": [\n+    \"sourcemaps/JSXText/input.js\"\n+  ],\n+  \"sourcesContent\": [\n+    \"import React from 'react';\\n\\nexport default function App() {\\n  return (\\n    <div className=\\\"App\\\">\\n      <h1>Welcome to my application!</h1>\\n      This is my app!\\n      <strong>MINE.</strong>\\n    </div>\\n  )\\n}\"\n+  ],\n+  \"mappings\": \"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,eAAe,SAASC,GAAG,GAAG;EAC5B,oBACE;IAAK,SAAS,EAAC;EAAK,gBAClB,gCAAI,4BAA0B,CAAK,mBAEnC,mDAAQ,OAAK,CAAS,CAClB;AAEV\"\n+}\n\\ No newline at end of file\ndiff --git a/packages/babel-types/src/utils/react/cleanJSXElementLiteralChild.ts b/packages/babel-types/src/utils/react/cleanJSXElementLiteralChild.ts\nindex a4039e65c..969ae0ffb 100644\n--- a/packages/babel-types/src/utils/react/cleanJSXElementLiteralChild.ts\n+++ b/packages/babel-types/src/utils/react/cleanJSXElementLiteralChild.ts\n@@ -1,10 +1,9 @@\n import { stringLiteral } from \"../../builders/generated\";\n import type * as t from \"../..\";\n+import { inherits } from \"../..\";\n \n export default function cleanJSXElementLiteralChild(\n-  child: {\n-    value: string;\n-  },\n+  child: t.JSXText,\n   args: Array<t.Node>,\n ) {\n   const lines = child.value.split(/\\r\\n|\\n|\\r/);\n@@ -48,5 +47,5 @@ export default function cleanJSXElementLiteralChild(\n     }\n   }\n \n-  if (str) args.push(stringLiteral(str));\n+  if (str) args.push(inherits(stringLiteral(str), child));\n }"}, {"role": "assistant", "content": "fix: Emit correct sourcemap ranges for `JSXText` (#15233)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/codeql-analysis.yml\n\ndiff --git a/.github/workflows/codeql-analysis.yml b/.github/workflows/codeql-analysis.yml\nindex 86d597ba..ed1f8b53 100644\n--- a/.github/workflows/codeql-analysis.yml\n+++ b/.github/workflows/codeql-analysis.yml\n@@ -44,7 +44,7 @@ jobs:\n \n             # Initializes the CodeQL tools for scanning.\n             - name: Initialize CodeQL\n-              uses: github/codeql-action/init@v3\n+              uses: github/codeql-action/init@v4\n               with:\n                   languages: ${{ matrix.language }}\n \n@@ -56,7 +56,7 @@ jobs:\n             # Autobuild attempts to build any compiled languages  (C/C++, C#, or Java).\n             # If this step fails, then you should remove it and run the build manually (see below)\n             - name: Autobuild\n-              uses: github/codeql-action/autobuild@v3\n+              uses: github/codeql-action/autobuild@v4\n \n             # \u2139\ufe0f Command-line programs to run using the OS shell.\n             # \ud83d\udcda See https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepsrun\n@@ -70,4 +70,4 @@ jobs:\n             #   make release\n \n             - name: Perform CodeQL Analysis\n-              uses: github/codeql-action/analyze@v3\n+              uses: github/codeql-action/analyze@v4"}, {"role": "assistant", "content": "ci: bump github/codeql-action from 3 to 4 (#20211)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/compiler/utilities.ts\n\ndiff --git a/src/compiler/utilities.ts b/src/compiler/utilities.ts\nindex 345ccedcb..b22ba8367 100644\n--- a/src/compiler/utilities.ts\n+++ b/src/compiler/utilities.ts\n@@ -2123,7 +2123,7 @@ export function entityNameToString(name: EntityNameOrEntityNameExpression | JSDo\n                 return Debug.assertNever(name.name);\n             }\n         case SyntaxKind.JSDocMemberName:\n-            return entityNameToString(name.left) + entityNameToString(name.right);\n+            return entityNameToString(name.left) + \"#\" + entityNameToString(name.right);\n         case SyntaxKind.JsxNamespacedName:\n             return entityNameToString(name.namespace) + \":\" + entityNameToString(name.name);\n         default:\ndiff --git a/src/testRunner/unittests/jsDocParsing.ts b/src/testRunner/unittests/jsDocParsing.ts\nindex 0635aff6c..02f5c8e19 100644\n--- a/src/testRunner/unittests/jsDocParsing.ts\n+++ b/src/testRunner/unittests/jsDocParsing.ts\n@@ -543,4 +543,21 @@ oh.no\n             assert.equal((doc?.jsDoc.tags?.[0] as ts.JSDocTemplateTag).typeParameters.length, 0);\n         });\n     });\n+    describe(\"getTextOfJSDocComment\", () => {\n+        it(\"should preserve hash in string representation of JsDocMemberName\", () => {\n+            const sourceText = `\n+/**\n+ *\n+ * @see {@link foo#bar label}\n+ */\n+class Foo  {};\n+`;\n+\n+            const root = ts.createSourceFile(\"foo.ts\", sourceText, ts.ScriptTarget.ES5, /*setParentNodes*/ true);\n+            const [classDecl] = root.statements;\n+            const [seeTag] = ts.getJSDocTags(classDecl);\n+\n+            assert.equal(ts.getTextOfJSDocComment(seeTag.comment), \"{@link foo#bar label}\");\n+        });\n+    });\n });"}, {"role": "assistant", "content": "fix(58259): getTextOfJSDocComment is stripping # from JSDoc comment (#58338)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/crypto/internal/fips140test/acvp_test.go  | 4 ++--\n src/crypto/internal/fips140test/check_test.go | 2 +-\n src/crypto/tls/bogo_shim_test.go              | 2 +-\n 3 files changed, 4 insertions(+), 4 deletions(-)\n\ndiff --git a/src/crypto/internal/fips140test/acvp_test.go b/src/crypto/internal/fips140test/acvp_test.go\nindex e94bab74..6a0b46af 100644\n--- a/src/crypto/internal/fips140test/acvp_test.go\n+++ b/src/crypto/internal/fips140test/acvp_test.go\n@@ -2146,7 +2146,7 @@ func TestACVP(t *testing.T) {\n \t}\n \tconfigPath := filepath.Join(cwd, testConfigFile)\n \tt.Logf(\"running check_expected.go\\ncwd: %q\\ndata_dir: %q\\nconfig: %q\\ntool: %q\\nmodule-wrapper: %q\\n\",\n-\t\tcwd, dataDir, configPath, toolPath, os.Args[0])\n+\t\tcwd, dataDir, configPath, toolPath, testenv.Executable(t))\n \n \t// Run the check_expected test driver using the acvptool we built, and this test binary as the\n \t// module wrapper. The file paths in the config file are specified relative to the dataDir root\n@@ -2157,7 +2157,7 @@ func TestACVP(t *testing.T) {\n \t\t\"-tool\",\n \t\ttoolPath,\n \t\t// Note: module prefix must match Wrapper value in testConfigFile.\n-\t\t\"-module-wrappers\", \"go:\" + os.Args[0],\n+\t\t\"-module-wrappers\", \"go:\" + testenv.Executable(t),\n \t\t\"-tests\", configPath,\n \t}\n \tcmd = testenv.Command(t, testenv.GoToolPath(t), args...)\ndiff --git a/src/crypto/internal/fips140test/check_test.go b/src/crypto/internal/fips140test/check_test.go\nindex 8aef1f9b..d70ffbb7 100644\n--- a/src/crypto/internal/fips140test/check_test.go\n+++ b/src/crypto/internal/fips140test/check_test.go\n@@ -46,7 +46,7 @@ func TestIntegrityCheckFailure(t *testing.T) {\n \tmoduleStatus(t)\n \tcryptotest.MustSupportFIPS140(t)\n \n-\tbin, err := os.ReadFile(os.Args[0])\n+\tbin, err := os.ReadFile(testenv.Executable(t))\n \tif err != nil {\n \t\tt.Fatal(err)\n \t}\ndiff --git a/src/crypto/tls/bogo_shim_test.go b/src/crypto/tls/bogo_shim_test.go\nindex 1b5fc49c..ccac47c2 100644\n--- a/src/crypto/tls/bogo_shim_test.go\n+++ b/src/crypto/tls/bogo_shim_test.go\n@@ -577,7 +577,7 @@ func TestBogoSuite(t *testing.T) {\n \t\t\"test\",\n \t\t\".\",\n \t\tfmt.Sprintf(\"-shim-config=%s\", filepath.Join(cwd, \"bogo_config.json\")),\n-\t\tfmt.Sprintf(\"-shim-path=%s\", os.Args[0]),\n+\t\tfmt.Sprintf(\"-shim-path=%s\", testenv.Executable(t)),\n \t\t\"-shim-extra-flags=-bogo-mode\",\n \t\t\"-allow-unimplemented\",\n \t\t\"-loose-errors\", // TODO(roland): this should be removed eventually"}, {"role": "assistant", "content": "refactor(crypto): use testenv.Executable instead of os.Args[0]"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n compiler/rustc_attr_parsing/src/attributes/cfg.rs | 1 -\n compiler/rustc_attr_parsing/src/attributes/doc.rs | 6 ------\n compiler/rustc_attr_parsing/src/parser.rs         | 8 +++-----\n 3 files changed, 3 insertions(+), 12 deletions(-)\n\ndiff --git a/compiler/rustc_attr_parsing/src/attributes/cfg.rs b/compiler/rustc_attr_parsing/src/attributes/cfg.rs\nindex ccf0a394afd..dcb74dda81a 100644\n--- a/compiler/rustc_attr_parsing/src/attributes/cfg.rs\n+++ b/compiler/rustc_attr_parsing/src/attributes/cfg.rs\n@@ -94,7 +94,6 @@ pub fn parse_cfg_entry<S: Stage>(\n             LitKind::Bool(b) => CfgEntry::Bool(b, lit.span),\n             _ => return Err(cx.expected_identifier(lit.span)),\n         },\n-        MetaItemOrLitParser::Err(_, err) => return Err(*err),\n     })\n }\n \ndiff --git a/compiler/rustc_attr_parsing/src/attributes/doc.rs b/compiler/rustc_attr_parsing/src/attributes/doc.rs\nindex 6cc4ac35ead..409102a79c0 100644\n--- a/compiler/rustc_attr_parsing/src/attributes/doc.rs\n+++ b/compiler/rustc_attr_parsing/src/attributes/doc.rs\n@@ -514,9 +514,6 @@ macro_rules! string_arg_and_crate_level {\n                         MetaItemOrLitParser::Lit(lit) => {\n                             cx.unexpected_literal(lit.span);\n                         }\n-                        MetaItemOrLitParser::Err(..) => {\n-                            // already had an error here, move on.\n-                        }\n                     }\n                 }\n             }\n@@ -600,9 +597,6 @@ fn accept_single_doc_attr<S: Stage>(\n                         MetaItemOrLitParser::Lit(lit) => {\n                             cx.expected_name_value(lit.span, None);\n                         }\n-                        MetaItemOrLitParser::Err(..) => {\n-                            // already had an error here, move on.\n-                        }\n                     }\n                 }\n             }\ndiff --git a/compiler/rustc_attr_parsing/src/parser.rs b/compiler/rustc_attr_parsing/src/parser.rs\nindex 68265649d18..ebf12dd1dfd 100644\n--- a/compiler/rustc_attr_parsing/src/parser.rs\n+++ b/compiler/rustc_attr_parsing/src/parser.rs\n@@ -18,7 +18,7 @@\n use rustc_parse::parser::{ForceCollect, Parser, PathStyle, token_descr};\n use rustc_session::errors::{create_lit_error, report_lit_error};\n use rustc_session::parse::ParseSess;\n-use rustc_span::{ErrorGuaranteed, Ident, Span, Symbol, sym};\n+use rustc_span::{Ident, Span, Symbol, sym};\n use thin_vec::ThinVec;\n \n use crate::ShouldEmit;\n@@ -192,7 +192,6 @@ pub fn no_args(&self) -> Result<(), Span> {\n pub enum MetaItemOrLitParser {\n     MetaItemParser(MetaItemParser),\n     Lit(MetaItemLit),\n-    Err(Span, ErrorGuaranteed),\n }\n \n impl MetaItemOrLitParser {\n@@ -210,21 +209,20 @@ pub fn span(&self) -> Span {\n                 generic_meta_item_parser.span()\n             }\n             MetaItemOrLitParser::Lit(meta_item_lit) => meta_item_lit.span,\n-            MetaItemOrLitParser::Err(span, _) => *span,\n         }\n     }\n \n     pub fn lit(&self) -> Option<&MetaItemLit> {\n         match self {\n             MetaItemOrLitParser::Lit(meta_item_lit) => Some(meta_item_lit),\n-            _ => None,\n+            MetaItemOrLitParser::MetaItemParser(_) => None,\n         }\n     }\n \n     pub fn meta_item(&self) -> Option<&MetaItemParser> {\n         match self {\n             MetaItemOrLitParser::MetaItemParser(parser) => Some(parser),\n-            _ => None,\n+            MetaItemOrLitParser::Lit(_) => None,\n         }\n     }\n }"}, {"role": "assistant", "content": "refactor: remove unused error variant from MetaItemOrLitParser"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/reactivity/__tests__/readonly.spec.ts   | 13 ++++++\n packages/reactivity/src/arrayInstrumentations.ts | 54 ++++++++++++++++++++----\n 2 files changed, 58 insertions(+), 9 deletions(-)\n\ndiff --git a/packages/reactivity/__tests__/readonly.spec.ts b/packages/reactivity/__tests__/readonly.spec.ts\nindex a6f7542..96e688e 100644\n--- a/packages/reactivity/__tests__/readonly.spec.ts\n+++ b/packages/reactivity/__tests__/readonly.spec.ts\n@@ -172,6 +172,19 @@ describe('reactivity/readonly', () => {\n       expect(dummy).toBe(1)\n       expect(`target is readonly`).toHaveBeenWarnedTimes(2)\n     })\n+\n+    it('should maintain identity when iterating readonly ref array', () => {\n+      const list = readonly(ref([{}, {}, {}]))\n+      const computedList = computed(() => {\n+        const newList: any[] = []\n+        list.value.forEach(x => newList.push(x))\n+        return newList\n+      })\n+\n+      expect(list.value[0]).toBe(computedList.value[0])\n+      expect(isReadonly(computedList.value[0])).toBe(true)\n+      expect(isReactive(computedList.value[0])).toBe(true)\n+    })\n   })\n \n   const maps = [Map, WeakMap]\ndiff --git a/packages/reactivity/src/arrayInstrumentations.ts b/packages/reactivity/src/arrayInstrumentations.ts\nindex 981a10d..f37b056 100644\n--- a/packages/reactivity/src/arrayInstrumentations.ts\n+++ b/packages/reactivity/src/arrayInstrumentations.ts\n@@ -1,6 +1,14 @@\n import { TrackOpTypes } from './constants'\n import { endBatch, pauseTracking, resetTracking, startBatch } from './effect'\n-import { isProxy, isShallow, toRaw, toReactive } from './reactive'\n+import {\n+  isProxy,\n+  isReactive,\n+  isReadonly,\n+  isShallow,\n+  toRaw,\n+  toReactive,\n+  toReadonly,\n+} from './reactive'\n import { ARRAY_ITERATE_KEY, track } from './dep'\n import { isArray } from '@vue/shared'\n \n@@ -24,11 +32,18 @@ export function shallowReadArray<T>(arr: T[]): T[] {\n   return arr\n }\n \n+function toWrapped(target: unknown, item: unknown) {\n+  if (isReadonly(target)) {\n+    return isReactive(target) ? toReadonly(toReactive(item)) : toReadonly(item)\n+  }\n+  return toReactive(item)\n+}\n+\n export const arrayInstrumentations: Record<string | symbol, Function> = <any>{\n   __proto__: null,\n \n   [Symbol.iterator]() {\n-    return iterator(this, Symbol.iterator, toReactive)\n+    return iterator(this, Symbol.iterator, item => toWrapped(this, item))\n   },\n \n   concat(...args: unknown[]) {\n@@ -39,7 +54,7 @@ export const arrayInstrumentations: Record<string | symbol, Function> = <any>{\n \n   entries() {\n     return iterator(this, 'entries', (value: [number, unknown]) => {\n-      value[1] = toReactive(value[1])\n+      value[1] = toWrapped(this, value[1])\n       return value\n     })\n   },\n@@ -55,14 +70,28 @@ export const arrayInstrumentations: Record<string | symbol, Function> = <any>{\n     fn: (item: unknown, index: number, array: unknown[]) => unknown,\n     thisArg?: unknown,\n   ) {\n-    return apply(this, 'filter', fn, thisArg, v => v.map(toReactive), arguments)\n+    return apply(\n+      this,\n+      'filter',\n+      fn,\n+      thisArg,\n+      v => v.map((item: unknown) => toWrapped(this, item)),\n+      arguments,\n+    )\n   },\n \n   find(\n     fn: (item: unknown, index: number, array: unknown[]) => boolean,\n     thisArg?: unknown,\n   ) {\n-    return apply(this, 'find', fn, thisArg, toReactive, arguments)\n+    return apply(\n+      this,\n+      'find',\n+      fn,\n+      thisArg,\n+      item => toWrapped(this, item),\n+      arguments,\n+    )\n   },\n \n   findIndex(\n@@ -76,7 +105,14 @@ export const arrayInstrumentations: Record<string | symbol, Function> = <any>{\n     fn: (item: unknown, index: number, array: unknown[]) => boolean,\n     thisArg?: unknown,\n   ) {\n-    return apply(this, 'findLast', fn, thisArg, toReactive, arguments)\n+    return apply(\n+      this,\n+      'findLast',\n+      fn,\n+      thisArg,\n+      item => toWrapped(this, item),\n+      arguments,\n+    )\n   },\n \n   findLastIndex(\n@@ -189,7 +225,7 @@ export const arrayInstrumentations: Record<string | symbol, Function> = <any>{\n   },\n \n   values() {\n-    return iterator(this, 'values', toReactive)\n+    return iterator(this, 'values', item => toWrapped(this, item))\n   },\n }\n \n@@ -257,7 +293,7 @@ function apply(\n   if (arr !== self) {\n     if (needsWrap) {\n       wrappedFn = function (this: unknown, item, index) {\n-        return fn.call(this, toReactive(item), index, self)\n+        return fn.call(this, toWrapped(self, item), index, self)\n       }\n     } else if (fn.length > 2) {\n       wrappedFn = function (this: unknown, item, index) {\n@@ -281,7 +317,7 @@ function reduce(\n   if (arr !== self) {\n     if (!isShallow(self)) {\n       wrappedFn = function (this: unknown, acc, item, index) {\n-        return fn.call(this, acc, toReactive(item), index, self)\n+        return fn.call(this, acc, toWrapped(self, item), index, self)\n       }\n     } else if (fn.length > 3) {\n       wrappedFn = function (this: unknown, acc, item, index) {"}, {"role": "assistant", "content": "fix(reactivity): maintain readonly identity when iterating arrays"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n Cargo.lock\n\ndiff --git a/Cargo.lock b/Cargo.lock\nindex 6c61e61db..e186925b8 100644\n--- a/Cargo.lock\n+++ b/Cargo.lock\n@@ -4944,11 +4944,11 @@ checksum = \"8835116a5c179084a830efb3adc117ab007512b535bc1a21c991d3b32a6b44dd\"\n \n [[package]]\n name = \"patricia_tree\"\n-version = \"0.5.5\"\n+version = \"0.10.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"062a6297f2cd3969a780156ccb288eafb34bb5ed0f3c9a2b4500dbde869d4b86\"\n+checksum = \"4df0e43512f12f23a6b08c7b893192b7d6ec937b95ee03af040847907fe5cef7\"\n dependencies = [\n- \"bitflags 1.3.2\",\n+ \"serde\",\n ]\n \n [[package]]\ndiff --git a/turbopack/crates/turbopack-core/Cargo.toml b/turbopack/crates/turbopack-core/Cargo.toml\nindex f9b0f227b..51f16c5af 100644\n--- a/turbopack/crates/turbopack-core/Cargo.toml\n+++ b/turbopack/crates/turbopack-core/Cargo.toml\n@@ -23,7 +23,7 @@ data-encoding = { workspace = true }\n either = { workspace = true }\n indexmap = { workspace = true }\n once_cell = { workspace = true }\n-patricia_tree = \"0.5.5\"\n+patricia_tree = { version = \"0.10.1\", features = [\"serde\"] }\n petgraph = { workspace = true, features = [\"serde-1\"] }\n roaring = { workspace = true, features = [\"serde\"] }\n ref-cast = \"1.0.20\"\ndiff --git a/turbopack/crates/turbopack-core/src/resolve/alias_map.rs b/turbopack/crates/turbopack-core/src/resolve/alias_map.rs\nindex 4c73f9d13..a6c85fdd1 100644\n--- a/turbopack/crates/turbopack-core/src/resolve/alias_map.rs\n+++ b/turbopack/crates/turbopack-core/src/resolve/alias_map.rs\n@@ -6,12 +6,7 @@ use std::{\n \n use anyhow::Result;\n use patricia_tree::PatriciaMap;\n-use serde::{\n-    Deserialize, Deserializer, Serialize, Serializer,\n-    de::{MapAccess, Visitor},\n-    ser::SerializeMap,\n-};\n-use serde_bytes::{ByteBuf, Bytes};\n+use serde::{Deserialize, Serialize};\n use turbo_rcstr::RcStr;\n use turbo_tasks::{\n     NonLocalValue,\n@@ -29,7 +24,8 @@ use super::pattern::Pattern;\n ///\n /// If the pattern does not have a wildcard character, it will only match the\n /// exact string, and return the template as-is.\n-#[derive(Clone)]\n+#[derive(Clone, Serialize, Deserialize)]\n+#[serde(transparent)]\n pub struct AliasMap<T> {\n     map: PatriciaMap<BTreeMap<AliasKey, T>>,\n }\n@@ -55,63 +51,6 @@ where\n \n impl<T> Eq for AliasMap<T> where T: Eq {}\n \n-impl<T> Serialize for AliasMap<T>\n-where\n-    T: Serialize,\n-{\n-    fn serialize<S>(&self, serializer: S) -> Result<S::Ok, S::Error>\n-    where\n-        S: Serializer,\n-    {\n-        let mut map = serializer.serialize_map(Some(self.map.len()))?;\n-        for (prefix, value) in self.map.iter() {\n-            let key = ByteBuf::from(prefix);\n-            map.serialize_entry(&key, value)?;\n-        }\n-        map.end()\n-    }\n-}\n-\n-struct AliasMapVisitor<T> {\n-    marker: std::marker::PhantomData<T>,\n-}\n-\n-impl<'de, T> Visitor<'de> for AliasMapVisitor<T>\n-where\n-    T: Deserialize<'de>,\n-{\n-    type Value = AliasMap<T>;\n-\n-    fn expecting(&self, formatter: &mut std::fmt::Formatter) -> std::fmt::Result {\n-        formatter.write_str(\"a map of alias patterns to templates\")\n-    }\n-\n-    fn visit_map<M>(self, mut access: M) -> Result<Self::Value, M::Error>\n-    where\n-        M: MapAccess<'de>,\n-    {\n-        let mut map = AliasMap::new();\n-        while let Some((key, value)) = access.next_entry::<&Bytes, _>()? {\n-            map.map.insert(key, value);\n-        }\n-        Ok(map)\n-    }\n-}\n-\n-impl<'a, T> Deserialize<'a> for AliasMap<T>\n-where\n-    T: Deserialize<'a>,\n-{\n-    fn deserialize<D>(deserializer: D) -> Result<Self, D::Error>\n-    where\n-        D: Deserializer<'a>,\n-    {\n-        deserializer.deserialize_map(AliasMapVisitor {\n-            marker: std::marker::PhantomData,\n-        })\n-    }\n-}\n-\n impl<T> TraceRawVcs for AliasMap<T>\n where\n     T: TraceRawVcs,\n@@ -392,7 +331,7 @@ impl<'a, T> IntoIterator for &'a AliasMap<T> {\n ///\n /// [PATTERN_KEY_COMPARE]: https://nodejs.org/api/esm.html#resolver-algorithm-specification\n pub struct AliasMapIntoIter<T> {\n-    iter: patricia_tree::map::IntoIter<BTreeMap<AliasKey, T>>,\n+    iter: patricia_tree::map::IntoIter<Vec<u8>, BTreeMap<AliasKey, T>>,\n     current_prefix_iterator: Option<AliasMapIntoIterItem<T>>,\n }\n \n@@ -457,7 +396,7 @@ impl<T> Iterator for AliasMapIntoIter<T> {\n ///\n /// [PATTERN_KEY_COMPARE]: https://nodejs.org/api/esm.html#resolver-algorithm-specification\n pub struct AliasMapIter<'a, T> {\n-    iter: patricia_tree::map::Iter<'a, BTreeMap<AliasKey, T>>,\n+    iter: patricia_tree::map::Iter<'a, Vec<u8>, BTreeMap<AliasKey, T>>,\n     current_prefix_iterator: Option<AliasMapIterItem<'a, T>>,\n }"}, {"role": "assistant", "content": "chore: Update patricia_tree dependency, remove manual serde impls (#85785)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/cmd/compile/internal/inline/inl.go         |  3 ++\n src/cmd/compile/testdata/script/issue77033.txt | 40 ++++++++++++++++++++++++++\n 2 files changed, 43 insertions(+)\n\ndiff --git a/src/cmd/compile/internal/inline/inl.go b/src/cmd/compile/internal/inline/inl.go\nindex 33f9c325..4fa9cf07 100644\n--- a/src/cmd/compile/internal/inline/inl.go\n+++ b/src/cmd/compile/internal/inline/inl.go\n@@ -516,6 +516,9 @@ opSwitch:\n \t\t\t\t\t\tbreak opSwitch\n \t\t\t\t\tcase \"panicrangestate\":\n \t\t\t\t\t\tcheap = true\n+\t\t\t\t\tcase \"deferrangefunc\":\n+\t\t\t\t\t\tv.reason = \"defer call in range func\"\n+\t\t\t\t\t\treturn true\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\ndiff --git a/src/cmd/compile/testdata/script/issue77033.txt b/src/cmd/compile/testdata/script/issue77033.txt\nnew file mode 100644\nindex 00000000..3b977e54\n--- /dev/null\n+++ b/src/cmd/compile/testdata/script/issue77033.txt\n@@ -0,0 +1,40 @@\n+go test -bench=Foo -cpuprofile=default.pgo\n+go test -bench=Foo -pgo=default.pgo\n+! stdout 'FAIL'\n+\n+-- main_test.go --\n+package main\n+\n+import (\n+\t\"testing\"\n+)\n+\n+var a int\n+\n+func save(x int) {\n+\ta = x\n+}\n+\n+func foo() {\n+\tfor i := range yield1 {\n+\t\tdefer save(i)\n+\t}\n+}\n+\n+func yield1(yield func(int) bool) {\n+\tyield(1)\n+}\n+\n+func BenchmarkFoo(b *testing.B) {\n+\tfor i := 0; i < b.N; i++ {\n+\t\tfoo()\n+\t}\n+\tif a != 1 {\n+\t\tb.Fatalf(\"a = %d; want 1\", a)\n+\t}\n+}\n+\n+-- go.mod --\n+module demo\n+\n+go 1.24"}, {"role": "assistant", "content": "fix(compile): prevent inlining defer in range func"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n shell/browser/native_window.h\n\ndiff --git a/shell/browser/native_window.h b/shell/browser/native_window.h\nindex 2c25fa54..bf7fab11 100644\n--- a/shell/browser/native_window.h\n+++ b/shell/browser/native_window.h\n@@ -50,10 +50,6 @@ namespace electron {\n class ElectronMenuModel;\n class BackgroundThrottlingSource;\n \n-namespace api {\n-class BrowserView;\n-}\n-\n #if BUILDFLAG(IS_MAC)\n using NativeWindowHandle = gfx::NativeView;\n #else\n@@ -434,8 +430,6 @@ class NativeWindow : public base::SupportsUserData,\n   void UpdateBackgroundThrottlingState();\n \n  protected:\n-  friend class api::BrowserView;\n-\n   NativeWindow(const gin_helper::Dictionary& options, NativeWindow* parent);\n \n   void set_titlebar_overlay_height(int height) {"}, {"role": "assistant", "content": "chore: remove unused reference to `api::BrowserView` (#48474)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/src/use/rule-deprecation.md\n\ndiff --git a/docs/src/use/rule-deprecation.md b/docs/src/use/rule-deprecation.md\nindex e7e150b7..27d7db66 100644\n--- a/docs/src/use/rule-deprecation.md\n+++ b/docs/src/use/rule-deprecation.md\n@@ -10,7 +10,7 @@ The ESLint team is committed to making upgrading as easy and painless as possibl\n     - The rule has been replaced by another core rule.\n     - A plugin exists with a functionally equivalent rule.\n - Rules will be deprecated as needed, and marked as such in all documentation.\n-- After a rule has been deprecated, the team will no longer do any work on it. This includes bug fixes, enhancements, and updates to the rule's documentation. Issues and pull requests related to deprecated rule will not be accepted and will be closed.\n+- After a rule has been deprecated, the team will no longer do any work on it. This includes bug fixes, enhancements, and updates to the rule's documentation. Issues and pull requests related to the deprecated rule will not be accepted and will be closed.\n \n You can continue to use deprecated rules indefinitely if they are working for you. However, keep in mind that deprecated rules will effectively be unmaintained and may be removed at some point."}, {"role": "assistant", "content": "docs: add missing \"the\" in rule deprecation docs (#20050)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/03-api-reference/01-directives/use-cache.mdx\n\ndiff --git a/docs/01-app/03-api-reference/01-directives/use-cache.mdx b/docs/01-app/03-api-reference/01-directives/use-cache.mdx\nindex 124df2817..8fd646464 100644\n--- a/docs/01-app/03-api-reference/01-directives/use-cache.mdx\n+++ b/docs/01-app/03-api-reference/01-directives/use-cache.mdx\n@@ -518,6 +518,24 @@ export default function ClientComponent({ action }) {\n \n ## Troubleshooting\n \n+### Debugging cache behavior\n+\n+#### Verbose logging\n+\n+Set `NEXT_PRIVATE_DEBUG_CACHE=1` for verbose cache logging:\n+\n+```bash\n+NEXT_PRIVATE_DEBUG_CACHE=1 npm run dev\n+# or for production\n+NEXT_PRIVATE_DEBUG_CACHE=1 npm run start\n+```\n+\n+> **Good to know:** This environment variable also logs ISR and other caching mechanisms. See [Verifying correct production behavior](/docs/app/guides/incremental-static-regeneration#verifying-correct-production-behavior) for more details.\n+\n+#### Console log replays\n+\n+In development, console logs from cached functions appear with a `Cache` prefix.\n+\n ### Build Hangs (Cache Timeout)\n \n If your build hangs, you're accessing Promises that resolve to dynamic or runtime data, created outside a `use cache` boundary. The cached function waits for data that can't resolve during the build, causing a timeout after 50 seconds."}, {"role": "assistant", "content": "docs: use cache debugging notes (#86937)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/v3/apiSetup.ts\n\ndiff --git a/src/v3/apiSetup.ts b/src/v3/apiSetup.ts\nindex 123f9211..e0573586 100644\n--- a/src/v3/apiSetup.ts\n+++ b/src/v3/apiSetup.ts\n@@ -12,7 +12,7 @@ import {\n } from '../shared/util'\n import { currentInstance, setCurrentInstance } from './currentInstance'\n import { shallowReactive } from './reactivity/reactive'\n-import { isRef } from './reactivity/ref'\n+import { proxyWithRefUnwrap } from './reactivity/ref'\n \n /**\n  * @internal\n@@ -68,7 +68,9 @@ export function initSetup(vm: Component) {\n         // exposed for compiled render fn\n         const proxy = (vm._setupProxy = {})\n         for (const key in setupResult) {\n-          proxyWithRefUnwrap(proxy, setupResult, key)\n+          if (key !== '__sfc') {\n+            proxyWithRefUnwrap(proxy, setupResult, key)\n+          }\n         }\n       }\n     } else if (__DEV__ && setupResult !== undefined) {\n@@ -81,25 +83,6 @@ export function initSetup(vm: Component) {\n   }\n }\n \n-export function proxyWithRefUnwrap(\n-  target: any,\n-  source: Record<string, any>,\n-  key: string\n-) {\n-  Object.defineProperty(target, key, {\n-    enumerable: true,\n-    configurable: true,\n-    get: () => {\n-      const raw = source[key]\n-      return isRef(raw) ? raw.value : raw\n-    },\n-    set: newVal => {\n-      const raw = source[key]\n-      isRef(raw) ? (raw.value = newVal) : (source[key] = newVal)\n-    }\n-  })\n-}\n-\n function createSetupContext(vm: Component): SetupContext {\n   let exposeCalled = false\n   return {\ndiff --git a/src/v3/index.ts b/src/v3/index.ts\nindex e2bec70e..75c21ad3 100644\n--- a/src/v3/index.ts\n+++ b/src/v3/index.ts\n@@ -7,6 +7,7 @@ export {\n   toRef,\n   toRefs,\n   unref,\n+  proxyRefs,\n   customRef,\n   triggerRef,\n   Ref,\ndiff --git a/src/v3/reactivity/ref.ts b/src/v3/reactivity/ref.ts\nindex c61e29b1..3b8d2fc7 100644\n--- a/src/v3/reactivity/ref.ts\n+++ b/src/v3/reactivity/ref.ts\n@@ -93,6 +93,40 @@ export function unref<T>(ref: T | Ref<T>): T {\n   return isRef(ref) ? (ref.value as any) : ref\n }\n \n+export function proxyRefs<T extends object>(\n+  objectWithRefs: T\n+): ShallowUnwrapRef<T> {\n+  if (isReactive(objectWithRefs)) {\n+    return objectWithRefs as any\n+  }\n+  const proxy = {}\n+  const keys = Object.keys(objectWithRefs)\n+  for (let i = 0; i < keys.length; i++) {\n+    proxyWithRefUnwrap(proxy, objectWithRefs, keys[i])\n+  }\n+  return proxy as any\n+}\n+\n+export function proxyWithRefUnwrap(\n+  target: any,\n+  source: Record<string, any>,\n+  key: string\n+) {\n+  Object.defineProperty(target, key, {\n+    enumerable: true,\n+    configurable: true,\n+    get: () => unref(source[key]),\n+    set: value => {\n+      const oldValue = source[key]\n+      if (isRef(oldValue) && !isRef(value)) {\n+        oldValue.value = value\n+      } else {\n+        source[key] = value\n+      }\n+    }\n+  })\n+}\n+\n export type CustomRefFactory<T> = (\n   track: () => void,\n   trigger: () => void"}, {"role": "assistant", "content": "fix: export proxyRefs"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/babel-plugin-jest-hoist/package.json\n\ndiff --git a/packages/babel-plugin-jest-hoist/package.json b/packages/babel-plugin-jest-hoist/package.json\nindex c8ede36a..178f65f7 100644\n--- a/packages/babel-plugin-jest-hoist/package.json\n+++ b/packages/babel-plugin-jest-hoist/package.json\n@@ -31,7 +31,7 @@\n     \"@babel/core\": \"^7.11.6\",\n     \"@babel/preset-react\": \"^7.12.1\",\n     \"@babel/preset-typescript\": \"^7.0.0\",\n-    \"@prettier/sync\": \"^0.3.0\",\n+    \"@prettier/sync\": \"^0.5.0\",\n     \"@types/babel__template\": \"^7.0.2\",\n     \"@types/node\": \"*\",\n     \"@types/prettier\": \"^2.1.5\",\ndiff --git a/yarn.lock b/yarn.lock\nindex 890f2eaf..c0fa5768 100644\n--- a/yarn.lock\n+++ b/yarn.lock\n@@ -4005,12 +4005,14 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n-\"@prettier/sync@npm:^0.3.0\":\n-  version: 0.3.0\n-  resolution: \"@prettier/sync@npm:0.3.0\"\n+\"@prettier/sync@npm:^0.5.0\":\n+  version: 0.5.0\n+  resolution: \"@prettier/sync@npm:0.5.0\"\n+  dependencies:\n+    make-synchronized: ^0.2.5\n   peerDependencies:\n-    prettier: ^3.0.0\n-  checksum: a663ceca292629c66c2c983662293b047b48435942c25b7ea76f0eab899e434f2bc17ae3dce56ee66b29929f7853118073f716fd4c7dabc3cccf78458a168dd4\n+    prettier: \"*\"\n+  checksum: 491e30148a05128a5e290916a58ab8c328dfd1e6aafa13688ad031caedb47da2ffaea22e12afa14f786c1ae998cbd332fe0ff6bd1152bd176b7a862752a39944\n   languageName: node\n   linkType: hard\n \n@@ -6734,7 +6736,7 @@ __metadata:\n     \"@babel/preset-typescript\": ^7.0.0\n     \"@babel/template\": ^7.3.3\n     \"@babel/types\": ^7.3.3\n-    \"@prettier/sync\": ^0.3.0\n+    \"@prettier/sync\": ^0.5.0\n     \"@types/babel__core\": ^7.1.14\n     \"@types/babel__template\": ^7.0.2\n     \"@types/babel__traverse\": ^7.0.6\n@@ -14151,6 +14153,13 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"make-synchronized@npm:^0.2.5\":\n+  version: 0.2.5\n+  resolution: \"make-synchronized@npm:0.2.5\"\n+  checksum: 36cc5ecc287a4ac5924e1f5bc38d435c26278717c6b7238a5bbc2486d616ba28c6e4a0b3fbbf1b0c2aaa018341f5283e7a682aa1e094656fb2846c46df2f998e\n+  languageName: node\n+  linkType: hard\n+\n \"makeerror@npm:1.0.12\":\n   version: 1.0.12\n   resolution: \"makeerror@npm:1.0.12\""}, {"role": "assistant", "content": "chore(deps): update dependency @prettier/sync to ^0.5.0 (#14862)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/types-integration.yml\n\ndiff --git a/.github/workflows/types-integration.yml b/.github/workflows/types-integration.yml\nindex 26caa368..9e3a807d 100644\n--- a/.github/workflows/types-integration.yml\n+++ b/.github/workflows/types-integration.yml\n@@ -171,7 +171,7 @@ jobs:\n               run: |\n                   npm install\n                   npm run build\n-                  npm install ../eslint\n+                  npm install ../eslint @eslint/core@latest\n \n             - name: Run TSC\n               working-directory: json\ndiff --git a/package.json b/package.json\nindex 20f5a27e..dcd7bf46 100644\n--- a/package.json\n+++ b/package.json\n@@ -110,7 +110,7 @@\n     \"@eslint-community/regexpp\": \"^4.12.1\",\n     \"@eslint/config-array\": \"^0.21.1\",\n     \"@eslint/config-helpers\": \"^0.4.1\",\n-    \"@eslint/core\": \"^0.16.0\",\n+    \"@eslint/core\": \"^0.17.0\",\n     \"@eslint/eslintrc\": \"^3.3.1\",\n     \"@eslint/js\": \"9.38.0\",\n     \"@eslint/plugin-kit\": \"^0.4.0\","}, {"role": "assistant", "content": "chore: update dependency @eslint/core to ^0.17.0 (#20256)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/test.yml\n\ndiff --git a/.github/workflows/test.yml b/.github/workflows/test.yml\nindex e398ff819..e44d7b9c3 100644\n--- a/.github/workflows/test.yml\n+++ b/.github/workflows/test.yml\n@@ -97,9 +97,10 @@ jobs:\n       - run: yarn link webpack --frozen-lockfile\n \n       - name: Run benchmarks\n-        uses: CodSpeedHQ/action@76578c2a7ddd928664caa737f0e962e3085d4e7c # v3.8.1\n+        uses: CodSpeedHQ/action@6eeb021fd0f305388292348b775d96d95253adf4 # v4.0.0\n         with:\n           run: yarn benchmark --ci\n+          mode: \"instrumentation\"\n           token: ${{ secrets.CODSPEED_TOKEN }}\n         env:\n           LAST_COMMIT: 1"}, {"role": "assistant", "content": "ci: fix CodSpeedHQ (#19873)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/en/docs/release-notes.md | 4 ++++\n 1 file changed, 4 insertions(+)\n\ndiff --git a/docs/en/docs/release-notes.md b/docs/en/docs/release-notes.md\nindex 9bd794f..f9b694e 100644\n--- a/docs/en/docs/release-notes.md\n+++ b/docs/en/docs/release-notes.md\n@@ -7,6 +7,10 @@ hide:\n \n ## Latest Changes\n \n+### Docs\n+\n+* \ud83d\udcdd Specify language code for code block. PR [#14656](https://github.com/fastapi/fastapi/pull/14656) by [@YuriiMotov](https://github.com/YuriiMotov).\n+\n ### Translations\n \n * \ud83d\udd27 Add LLM prompt file for Turkish, generated from the existing translations. PR [#14547](https://github.com/fastapi/fastapi/pull/14547) by [@tiangolo](https://github.com/tiangolo)."}, {"role": "assistant", "content": "docs: add release notes for PR #14656"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n lib/ModuleSourceTypesConstants.js\n\ndiff --git a/lib/ModuleSourceTypesConstants.js b/lib/ModuleSourceTypesConstants.js\nindex d81fc8aa0..3325323d5 100644\n--- a/lib/ModuleSourceTypesConstants.js\n+++ b/lib/ModuleSourceTypesConstants.js\n@@ -44,11 +44,6 @@ const JS_TYPE = \"javascript\";\n  */\n const JS_TYPES = new Set([\"javascript\"]);\n \n-/**\n- * @type {ReadonlySet<\"javascript\" | \"css-export\">}\n- */\n-const JS_AND_CSS_EXPORT_TYPES = new Set([\"javascript\", \"css-export\"]);\n-\n /**\n  * @type {ReadonlySet<\"javascript\" | \"css-url\">}\n  */\n@@ -111,7 +106,6 @@ module.exports.CSS_IMPORT_TYPES = CSS_IMPORT_TYPES;\n module.exports.CSS_TYPE = CSS_TYPE;\n module.exports.CSS_TYPES = CSS_TYPES;\n module.exports.CSS_URL_TYPES = CSS_URL_TYPES;\n-module.exports.JS_AND_CSS_EXPORT_TYPES = JS_AND_CSS_EXPORT_TYPES;\n module.exports.JS_AND_CSS_TYPES = JS_AND_CSS_TYPES;\n module.exports.JS_AND_CSS_URL_TYPES = JS_AND_CSS_URL_TYPES;\n module.exports.JS_TYPE = JS_TYPE;\ndiff --git a/lib/css/CssGenerator.js b/lib/css/CssGenerator.js\nindex 7341c5d9b..afdd1e2c9 100644\n--- a/lib/css/CssGenerator.js\n+++ b/lib/css/CssGenerator.js\n@@ -12,7 +12,6 @@ const InitFragment = require(\"../InitFragment\");\n const {\n \tCSS_TYPE,\n \tCSS_TYPES,\n-\tJS_AND_CSS_EXPORT_TYPES,\n \tJS_AND_CSS_TYPES,\n \tJS_TYPE,\n \tJS_TYPES\n@@ -413,13 +412,11 @@ class CssGenerator extends Generator {\n \t */\n \tgetTypes(module) {\n \t\tconst exportType = /** @type {BuildMeta} */ (module.buildMeta).exportType;\n-\t\tif (exportType && exportType !== \"link\") {\n+\t\tconst onlyJsOutput =\n+\t\t\tthis.exportsOnly || (exportType && exportType !== \"link\");\n+\t\tif (onlyJsOutput) {\n \t\t\treturn JS_TYPES;\n \t\t}\n-\t\t// TODO, find a better way to prevent the original module from being removed after concatenation, maybe it is a bug\n-\t\tif (this.exportsOnly) {\n-\t\t\treturn JS_AND_CSS_EXPORT_TYPES;\n-\t\t}\n \t\tconst sourceTypes = new Set();\n \t\tconst connections = this._moduleGraph.getIncomingConnections(module);\n \t\tfor (const connection of connections) {\ndiff --git a/lib/ids/IdHelpers.js b/lib/ids/IdHelpers.js\nindex 9419dd9f1..861218a28 100644\n--- a/lib/ids/IdHelpers.js\n+++ b/lib/ids/IdHelpers.js\n@@ -5,7 +5,6 @@\n \n \"use strict\";\n \n-const CssModule = require(\"../CssModule\");\n const createHash = require(\"../util/createHash\");\n const { makePathsRelative } = require(\"../util/identifier\");\n const numberHash = require(\"../util/numberHash\");\n@@ -16,6 +15,7 @@ const numberHash = require(\"../util/numberHash\");\n /** @typedef {import(\"../Module\")} Module */\n /** @typedef {typeof import(\"../util/Hash\")} Hash */\n /** @typedef {import(\"../util/identifier\").AssociatedObjectForCache} AssociatedObjectForCache */\n+/** @typedef {import(\"../Module\").BuildMeta} BuildMeta */\n \n /**\n  * @param {string} str string to hash\n@@ -248,8 +248,8 @@ const getUsedModuleIdsAndModules = (compilation, filter) => {\n \t\t} else if (\n \t\t\t(!filter || filter(module)) &&\n \t\t\t(chunkGraph.getNumberOfModuleChunks(module) !== 0 ||\n-\t\t\t\t// CSS modules need IDs even when not in chunks, for generating CSS class names([id]-[local])\n-\t\t\t\tmodule instanceof CssModule)\n+\t\t\t\t// CSS modules need IDs even when not in chunks, for generating CSS class names(i.e. [id]-[local])\n+\t\t\t\t/** @type {BuildMeta} */ (module.buildMeta).isCSSModule)\n \t\t) {\n \t\t\tmodules.push(module);\n \t\t}\ndiff --git a/test/configCases/chunk-index/issue-18008/webpack.config.js b/test/configCases/chunk-index/issue-18008/webpack.config.js\nindex 3a338ae71..c5cc95497 100644\n--- a/test/configCases/chunk-index/issue-18008/webpack.config.js\n+++ b/test/configCases/chunk-index/issue-18008/webpack.config.js\n@@ -53,7 +53,7 @@ module.exports = {\n \t\t\t\t\t\t\"B-2Index\": \"0: ./B-2.js\",\n \t\t\t\t\t\tBIndex: \"0: ./B.js\",\n \t\t\t\t\t\tmainIndex: \"0: ./main.js\",\n-\t\t\t\t\t\tsharedIndex: \"1: css ./m.css, 2: css ./n.css\"\n+\t\t\t\t\t\tsharedIndex: \"1: css ./m.css\"\n \t\t\t\t\t});\n \t\t\t\t});\n \t\t\t};\ndiff --git a/test/configCases/chunk-index/recalc-index/webpack.config.js b/test/configCases/chunk-index/recalc-index/webpack.config.js\nindex 540a4b9a2..18dd22a18 100644\n--- a/test/configCases/chunk-index/recalc-index/webpack.config.js\n+++ b/test/configCases/chunk-index/recalc-index/webpack.config.js\n@@ -45,7 +45,7 @@ module.exports = {\n \t\t\t\t\t\tdata[`${name}Index`] = text;\n \t\t\t\t\t}\n \t\t\t\t\texpect(data).toEqual({\n-\t\t\t\t\t\tdynamicIndex: \"0: css ./a.css, 1: css ./b.css\",\n+\t\t\t\t\t\tdynamicIndex: \"0: css ./a.css\",\n \t\t\t\t\t\tmainIndex: \"0: ./index.js\"\n \t\t\t\t\t});\n \t\t\t\t});"}, {"role": "assistant", "content": "refactor(css): remove the css-export type (#20091)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .../react-devtools-shared/src/__tests__/storeComponentFilters-test.js   | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/packages/react-devtools-shared/src/__tests__/storeComponentFilters-test.js b/packages/react-devtools-shared/src/__tests__/storeComponentFilters-test.js\nindex 45b89ec..16b013c 100644\n--- a/packages/react-devtools-shared/src/__tests__/storeComponentFilters-test.js\n+++ b/packages/react-devtools-shared/src/__tests__/storeComponentFilters-test.js\n@@ -753,7 +753,7 @@ describe('Store component filters', () => {\n     });\n   });\n \n-  // @reactVersion >= 16.6\n+  // @reactVersion >= 18.0\n   it('resets forced error and fallback states when filters are changed', async () => {\n     store.componentFilters = [];\n     class ErrorBoundary extends React.Component {"}, {"role": "assistant", "content": "test: update react version constraint for filter test"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/nodejs.yml\n\ndiff --git a/.github/workflows/nodejs.yml b/.github/workflows/nodejs.yml\nindex 46a9b3ed..b993cfe6 100644\n--- a/.github/workflows/nodejs.yml\n+++ b/.github/workflows/nodejs.yml\n@@ -213,7 +213,7 @@ jobs:\n       - name: map coverage\n         run: node ./scripts/mapCoverage.mjs\n         if: always()\n-      - uses: codecov/codecov-action@0565863a31f2c772f9f0395002a31e3f06189574 # v5.4.0\n+      - uses: codecov/codecov-action@ad3126e916f78f00edff4ed0317cf185271ccc2d # v5.4.2\n         if: always()\n         with:\n           directory: ./coverage"}, {"role": "assistant", "content": "chore(deps): update codecov/codecov-action action to v5.4.2 (#15573)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/01-getting-started/02-project-structure.mdx\n\ndiff --git a/docs/01-app/01-getting-started/02-project-structure.mdx b/docs/01-app/01-getting-started/02-project-structure.mdx\nindex 8e117955a..e4c18f191 100644\n--- a/docs/01-app/01-getting-started/02-project-structure.mdx\n+++ b/docs/01-app/01-getting-started/02-project-structure.mdx\n@@ -85,7 +85,7 @@ Parameterize segments with square brackets. Use `[segment]` for a single param,\n | Path                            | URL pattern                                                          |\n | ------------------------------- | -------------------------------------------------------------------- |\n | `app/blog/[slug]/page.tsx`      | `/blog/my-first-post`                                                |\n-| `app/shop/[...slug]/page.tsx`   | `/shop/clothing/shoes`, `/shop/clothing/shirts`                      |\n+| `app/shop/[...slug]/page.tsx`   | `/shop/clothing`, `/shop/clothing/shirts`                            |\n | `app/docs/[[...slug]]/page.tsx` | `/docs`, `/docs/layouts-and-pages`, `/docs/api-reference/use-router` |\n \n ### Route Groups and private folders"}, {"role": "assistant", "content": "docs: improve dynamic routes example in project structure page (#84086)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/jest-worker/package.json\n\ndiff --git a/packages/jest-worker/package.json b/packages/jest-worker/package.json\nindex 0ece0cec..d47993a0 100644\n--- a/packages/jest-worker/package.json\n+++ b/packages/jest-worker/package.json\n@@ -27,7 +27,7 @@\n   },\n   \"devDependencies\": {\n     \"@babel/core\": \"^7.11.6\",\n-    \"@types/merge-stream\": \"^1.1.2\",\n+    \"@types/merge-stream\": \"^2.0.0\",\n     \"@types/supports-color\": \"^8.1.0\",\n     \"@types/ungap__structured-clone\": \"^1.2.0\",\n     \"get-stream\": \"^6.0.0\",\ndiff --git a/yarn.lock b/yarn.lock\nindex df455806..8126c294 100644\n--- a/yarn.lock\n+++ b/yarn.lock\n@@ -5610,12 +5610,12 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n-\"@types/merge-stream@npm:^1.1.2\":\n-  version: 1.1.5\n-  resolution: \"@types/merge-stream@npm:1.1.5\"\n+\"@types/merge-stream@npm:^2.0.0\":\n+  version: 2.0.0\n+  resolution: \"@types/merge-stream@npm:2.0.0\"\n   dependencies:\n     \"@types/node\": \"*\"\n-  checksum: 79b4b10b9b887ddc3c28c88cc56527800153b257b7d7b97e7520f061ba3b6daf629e2f819cfb6ac65be1ce705bf61c7b8830d0f1adb93b3fd61c916bbf7252dd\n+  checksum: a310412bbc6b4d99cc95cad0572b215e17cb6b75734e94deea8855058007bea9beea486f7c435683514574ccc84da54c75a3883562d1ebfaae3bb040ed8e8d90\n   languageName: node\n   linkType: hard\n \n@@ -13836,7 +13836,7 @@ __metadata:\n   resolution: \"jest-worker@workspace:packages/jest-worker\"\n   dependencies:\n     \"@babel/core\": ^7.11.6\n-    \"@types/merge-stream\": ^1.1.2\n+    \"@types/merge-stream\": ^2.0.0\n     \"@types/node\": \"*\"\n     \"@types/supports-color\": ^8.1.0\n     \"@types/ungap__structured-clone\": ^1.2.0"}, {"role": "assistant", "content": "chore(deps): update dependency @types/merge-stream to v2 (#15326)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n eslint/babel-eslint-parser/package.json\n\ndiff --git a/eslint/babel-eslint-parser/package.json b/eslint/babel-eslint-parser/package.json\nindex 4ac3102e2..64b1554f9 100644\n--- a/eslint/babel-eslint-parser/package.json\n+++ b/eslint/babel-eslint-parser/package.json\n@@ -49,7 +49,8 @@\n     \"@types/estree\": \"^1.0.5\",\n     \"@typescript-eslint/scope-manager\": \"^6.19.0\",\n     \"dedent\": \"^1.5.3\",\n-    \"eslint\": \"^9.21.0\"\n+    \"eslint\": \"^9.21.0\",\n+    \"typescript-eslint\": \"8.26.1\"\n   },\n   \"conditions\": {\n     \"BABEL_8_BREAKING\": [\ndiff --git a/eslint/babel-eslint-parser/test/typescript-estree.test.js b/eslint/babel-eslint-parser/test/typescript-estree.test.js\nnew file mode 100644\nindex 000000000..749da8716\n--- /dev/null\n+++ b/eslint/babel-eslint-parser/test/typescript-estree.test.js\n@@ -0,0 +1,134 @@\n+import path from \"node:path\";\n+import { parseForESLint } from \"../lib/index.cjs\";\n+import { ESLint } from \"eslint\";\n+import { itDummy, commonJS } from \"$repo-utils\";\n+\n+const ESLINT_VERSION = ESLint.version;\n+const isESLint9 = ESLINT_VERSION.startsWith(\"9.\");\n+const { require } = commonJS(import.meta.url);\n+\n+const PROPS_TO_REMOVE = [\n+  // typescript-eslint generates start/end in the loc object, while Babel generate both start/end and loc\n+  { key: \"start\", type: \"Node\" },\n+  { key: \"end\", type: \"Node\" },\n+\n+  { key: \"importKind\", type: \"Node\" },\n+  { key: \"exportKind\", type: \"Node\" },\n+  { key: \"variance\", type: \"Node\" },\n+  { key: \"typeArguments\", type: \"Node\" },\n+  { key: \"filename\", type: null },\n+  { key: \"identifierName\", type: null },\n+  // For legacy estree AST\n+  { key: \"attributes\", type: \"ImportExpression\" },\n+];\n+\n+function deeplyRemoveProperties(obj, props) {\n+  for (const [k, v] of Object.entries(obj)) {\n+    if (\n+      props.some(\n+        ({ key, type }) =>\n+          key === k &&\n+          ((type === \"Node\" && obj.type) || type === obj.type || type == null),\n+      )\n+    ) {\n+      delete obj[k];\n+      continue;\n+    }\n+\n+    if (typeof v === \"object\") {\n+      if (Array.isArray(v)) {\n+        for (const el of v) {\n+          if (el != null) {\n+            deeplyRemoveProperties(el, props);\n+          }\n+        }\n+      }\n+\n+      if (v != null) {\n+        deeplyRemoveProperties(v, props);\n+      }\n+    }\n+  }\n+}\n+\n+// Only ESLint 9 or above will be tested\n+(isESLint9 ? describe : describe.skip)(\n+  \"Babel should output the same AST as TypeScript-Estree\",\n+  () => {\n+    /**\n+     * @type {import(\"@typescript-eslint/typescript-estree\")}\n+     */\n+    let tsEstree;\n+\n+    /**\n+     * @type {import(\"@typescript-eslint/typescript-estree\").TSESTreeOptions}\n+     */\n+    const tsEstreeOptions = {\n+      filePath: \"typescript-estree.test.js-test-input.tsx\",\n+      jsx: true,\n+      tokens: true,\n+      loc: true,\n+      range: true,\n+      comment: true,\n+      sourceType: \"module\",\n+    };\n+\n+    function parseAndAssertSame(code, babelEcmaFeatures = null) {\n+      const tsEstreeAST = tsEstree.parse(code, tsEstreeOptions);\n+      const babelAST = parseForESLint(code, {\n+        eslintVisitorKeys: true,\n+        eslintScopeManager: true,\n+        ecmaFeatures: babelEcmaFeatures,\n+        requireConfigFile: false,\n+        babelOptions: {\n+          configFile: false,\n+          parserOpts: {\n+            plugins: [\"jsx\", \"typescript\"],\n+          },\n+        },\n+      }).ast;\n+\n+      deeplyRemoveProperties(babelAST, PROPS_TO_REMOVE);\n+      expect(babelAST).toEqual(tsEstreeAST);\n+    }\n+\n+    beforeAll(() => {\n+      // Use the version of TS-Espree that is a dependency of\n+      // the version of typescript-eslint we are testing against.\n+      const tsEstreePath = require.resolve(\n+        \"@typescript-eslint/typescript-estree\",\n+        {\n+          paths: [path.dirname(require.resolve(\"typescript-eslint\"))],\n+        },\n+      );\n+\n+      tsEstree = require(tsEstreePath);\n+    });\n+\n+    it.each([\n+      [\"empty\", \"\"],\n+\n+      [\"boolean\", \"true\"],\n+      [\"boolean\", \"false\"],\n+\n+      [\"numeric\", \"0\"],\n+      // [\"bigint\", \"0n\"],\n+\n+      [\"regexp without flag\", `/foo/;`],\n+      [\"regexp u flag\", `/foo/dgimsuy;`],\n+      [\"regexp v flag\", `/foo/dgimsvy;`],\n+\n+      [\"logical NOT\", `!0`],\n+      [\"bitwise NOT\", `~0`],\n+    ])(\"%s: %s\", (_, input) => {\n+      parseAndAssertSame(input);\n+    });\n+  },\n+);\n+\n+(isESLint9 ? describe.skip : describe)(\n+  \"typescript-estree test for older ESLint versions\",\n+  () => {\n+    itDummy(\"is skipped\", () => {});\n+  },\n+);\ndiff --git a/yarn.lock b/yarn.lock\nindex 715dcd8d4..6e4f50740 100644\n--- a/yarn.lock\n+++ b/yarn.lock\n@@ -419,6 +419,7 @@ __metadata:\n     eslint-scope: \"condition:BABEL_8_BREAKING ? ^7.1.1 : \"\n     eslint-visitor-keys: \"condition:BABEL_8_BREAKING ? ^3.3.0 : ^2.1.0\"\n     semver: \"condition:BABEL_8_BREAKING ? ^7.3.4 : ^6.3.1\"\n+    typescript-eslint: \"npm:8.26.1\"\n   peerDependencies:\n     \"@babel/core\": ^7.11.0\n     eslint: ^7.5.0 || ^8.0.0 || ^9.0.0"}, {"role": "assistant", "content": "test: add basic typescript-eslint integration tests (#17219)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/benchmarks.yml\n\ndiff --git a/.github/workflows/benchmarks.yml b/.github/workflows/benchmarks.yml\nindex e9ba285ff..046dbd6a8 100644\n--- a/.github/workflows/benchmarks.yml\n+++ b/.github/workflows/benchmarks.yml\n@@ -27,7 +27,7 @@ jobs:\n           fetch-depth: 0\n \n       - name: Use Node.js\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903 # v6.0.0\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6.1.0\n         with:\n           node-version: lts/*\n           cache: yarn\ndiff --git a/.github/workflows/examples.yml b/.github/workflows/examples.yml\nindex db8ed98f6..4c808d452 100644\n--- a/.github/workflows/examples.yml\n+++ b/.github/workflows/examples.yml\n@@ -19,7 +19,7 @@ jobs:\n           fetch-depth: 0\n \n       - name: Use Node.js\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903 # v6.0.0\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6.1.0\n         with:\n           node-version: lts/*\n           cache: yarn\ndiff --git a/.github/workflows/publish-to-pkg-pr-new.yml b/.github/workflows/publish-to-pkg-pr-new.yml\nindex 945debf14..c3491527c 100644\n--- a/.github/workflows/publish-to-pkg-pr-new.yml\n+++ b/.github/workflows/publish-to-pkg-pr-new.yml\n@@ -26,7 +26,7 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n       - run: corepack enable\n       - name: Use Node.js\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903 # v6.0.0\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6.1.0\n         with:\n           node-version: lts/*\n           cache: yarn\ndiff --git a/.github/workflows/release.yml b/.github/workflows/release.yml\nindex 74e89460f..2a23195df 100644\n--- a/.github/workflows/release.yml\n+++ b/.github/workflows/release.yml\n@@ -20,7 +20,7 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n \n       - name: Use Node.js\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903 # v6.0.0\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6.1.0\n         with:\n           node-version: lts/*\n           cache: yarn\ndiff --git a/.github/workflows/test.yml b/.github/workflows/test.yml\nindex 366efbc89..cf692d6c6 100644\n--- a/.github/workflows/test.yml\n+++ b/.github/workflows/test.yml\n@@ -16,7 +16,7 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n \n       - name: Use Node.js\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903 # v6.0.0\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6.1.0\n         with:\n           node-version: lts/*\n           cache: yarn\n@@ -58,7 +58,7 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n \n       - name: Use Node.js 10.x\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903 # v6.0.0\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6.1.0\n         with:\n           node-version: 10.x\n           cache: yarn\n@@ -74,7 +74,7 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n \n       - name: Use Node.js\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903 # v6.0.0\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6.1.0\n         with:\n           node-version: lts/*\n           cache: yarn\n@@ -93,7 +93,7 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n \n       - name: Use Node.js\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903 # v6.0.0\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6.1.0\n         with:\n           node-version: lts/*\n           cache: yarn\n@@ -167,7 +167,7 @@ jobs:\n             }\n \n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903 # v6.0.0\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6.1.0\n         with:\n           node-version: ${{ matrix.node-version }}\n           architecture: ${{ steps.calculate_architecture.outputs.result }}"}, {"role": "assistant", "content": "chore(deps): bump actions/setup-node from 6.0.0 to 6.1.0 (#20203)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .circleci/config.yml\n\ndiff --git a/.circleci/config.yml b/.circleci/config.yml\nindex 852c9f25..2b7e69c8 100644\n--- a/.circleci/config.yml\n+++ b/.circleci/config.yml\n@@ -12,7 +12,7 @@ aliases:\n     app-dir: ~/jest\n \n orbs:\n-  node: circleci/node@5.2.0\n+  node: circleci/node@7.1.0\n \n jobs:\n   test-node:\n@@ -58,5 +58,5 @@ workflows:\n           name: test-node-partial-<< matrix.node-version >>\n           matrix:\n             parameters:\n-              node-version: ['16', '18', '20', '21']\n+              node-version: ['16', '18', '20', '21', '22']\n       - test-jest-jasmine"}, {"role": "assistant", "content": "chore(circle-ci): update Node orb (#15564)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/test.yml\n\ndiff --git a/.github/workflows/test.yml b/.github/workflows/test.yml\nindex e44d7b9c3..7ec6047f9 100644\n--- a/.github/workflows/test.yml\n+++ b/.github/workflows/test.yml\n@@ -153,7 +153,7 @@ jobs:\n       - run: yarn cover:unit --ci --cacheDirectory .jest-cache\n \n       - name: Codecov\n-        uses: codecov/codecov-action@fdcc8476540edceab3de004e990f80d881c6cc00 # v5.5.0\n+        uses: codecov/codecov-action@5a1091511ad55cbe89839c7260b706298ca349f7 # v5.5.1\n         with:\n           flags: unit\n         env:\n@@ -252,7 +252,7 @@ jobs:\n       - run: yarn cover:merge\n \n       - name: Codecov\n-        uses: codecov/codecov-action@fdcc8476540edceab3de004e990f80d881c6cc00 # v5.5.0\n+        uses: codecov/codecov-action@5a1091511ad55cbe89839c7260b706298ca349f7 # v5.5.1\n         with:\n           flags: integration\n         env:"}, {"role": "assistant", "content": "chore(deps): bump codecov/codecov-action from 5.5.0 to 5.5.1 (#19876)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/en/docs/release-notes.md | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/docs/en/docs/release-notes.md b/docs/en/docs/release-notes.md\nindex 5498039..a25c94b 100644\n--- a/docs/en/docs/release-notes.md\n+++ b/docs/en/docs/release-notes.md\n@@ -20,6 +20,7 @@ hide:\n \n ### Internal\n \n+* \ud83d\udd28 Refactor translation script to allow committing in place. PR [#14687](https://github.com/fastapi/fastapi/pull/14687) by [@tiangolo](https://github.com/tiangolo).\n * \ud83d\udc1b Fix translation script path. PR [#14685](https://github.com/fastapi/fastapi/pull/14685) by [@tiangolo](https://github.com/tiangolo).\n * \u2705 Enable tests in CI for scripts. PR [#14684](https://github.com/fastapi/fastapi/pull/14684) by [@tiangolo](https://github.com/tiangolo).\n * \ud83d\udd27 Add pre-commit local script to fix language translations. PR [#14683](https://github.com/fastapi/fastapi/pull/14683) by [@tiangolo](https://github.com/tiangolo)."}, {"role": "assistant", "content": "docs: add release note for translation script refactor"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages-private/template-explorer/package.json |  2 +-\n pnpm-lock.yaml                                  | 20 +++++++++++---------\n 2 files changed, 12 insertions(+), 10 deletions(-)\n\ndiff --git a/packages-private/template-explorer/package.json b/packages-private/template-explorer/package.json\nindex eace79a..04b8794 100644\n--- a/packages-private/template-explorer/package.json\n+++ b/packages-private/template-explorer/package.json\n@@ -11,7 +11,7 @@\n     \"enableNonBrowserBranches\": true\n   },\n   \"dependencies\": {\n-    \"monaco-editor\": \"^0.54.0\",\n+    \"monaco-editor\": \"^0.55.1\",\n     \"source-map-js\": \"^1.2.1\"\n   }\n }\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex c550a30..5c6b55a 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -226,8 +226,8 @@ importers:\n   packages-private/template-explorer:\n     dependencies:\n       monaco-editor:\n-        specifier: ^0.54.0\n-        version: 0.54.0\n+        specifier: ^0.55.1\n+        version: 0.55.1\n       source-map-js:\n         specifier: ^1.2.1\n         version: 1.2.1\n@@ -2015,8 +2015,8 @@ packages:\n   doctypes@1.1.0:\n     resolution: {integrity: sha512-LLBi6pEqS6Do3EKQ3J0NqHWV5hhb78Pi8vvESYwyOy2c31ZEZVdtitdzsQsKb7878PEERhzUk0ftqGhG6Mz+pQ==}\n \n-  dompurify@3.1.7:\n-    resolution: {integrity: sha512-VaTstWtsneJY8xzy7DekmYWEOZcmzIe3Qb3zPd4STve1OBTa+e+WmS1ITQec1fZYXI3HCsOZZiSMpG6oxoWMWQ==}\n+  dompurify@3.2.7:\n+    resolution: {integrity: sha512-WhL/YuveyGXJaerVlMYGWhvQswa7myDG17P7Vu65EWC05o8vfeNbvNf4d/BOvH99+ZW+LlQsc1GDKMa1vNK6dw==}\n \n   dot-prop@5.3.0:\n     resolution: {integrity: sha512-QM8q3zDe58hqUqjraQOmzZ1LIH9SWQJTlEKCH4kJ2oQvLZk7RbQXvtDM2XEq3fwkV9CCvvH4LA0AV+ogFsBM2Q==}\n@@ -2754,8 +2754,8 @@ packages:\n   mitt@3.0.1:\n     resolution: {integrity: sha512-vKivATfr97l2/QBCYAkXYDbrIWPM2IIKEl7YPhjCvKlG3kE2gm+uBo6nEXK3M5/Ffh/FLpKExzOQ3JJoJGFKBw==}\n \n-  monaco-editor@0.54.0:\n-    resolution: {integrity: sha512-hx45SEUoLatgWxHKCmlLJH81xBo0uXP4sRkESUpmDQevfi+e7K1VuiSprK6UpQ8u4zOcKNiH0pMvHvlMWA/4cw==}\n+  monaco-editor@0.55.1:\n+    resolution: {integrity: sha512-jz4x+TJNFHwHtwuV9vA9rMujcZRb0CEilTEwG2rRSpe/A7Jdkuj8xPKttCgOh+v/lkHy7HsZ64oj+q3xoAFl9A==}\n \n   ms@2.0.0:\n     resolution: {integrity: sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==}\n@@ -5028,7 +5028,9 @@ snapshots:\n \n   doctypes@1.1.0: {}\n \n-  dompurify@3.1.7: {}\n+  dompurify@3.2.7:\n+    optionalDependencies:\n+      '@types/trusted-types': 2.0.7\n \n   dot-prop@5.3.0:\n     dependencies:\n@@ -5832,9 +5834,9 @@ snapshots:\n \n   mitt@3.0.1: {}\n \n-  monaco-editor@0.54.0:\n+  monaco-editor@0.55.1:\n     dependencies:\n-      dompurify: 3.1.7\n+      dompurify: 3.2.7\n       marked: 14.0.0\n \n   ms@2.0.0: {}"}, {"role": "assistant", "content": "build(deps): update monaco-editor to 0.55.1"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n tests/ui/const-generics/mgca/tuple_expr_arg_bad-issue-151048.rs   | 8 ++++++++\n .../ui/const-generics/mgca/tuple_expr_arg_bad-issue-151048.stderr | 8 ++++++++\n 2 files changed, 16 insertions(+)\n\ndiff --git a/tests/ui/const-generics/mgca/tuple_expr_arg_bad-issue-151048.rs b/tests/ui/const-generics/mgca/tuple_expr_arg_bad-issue-151048.rs\nnew file mode 100644\nindex 00000000000..4aecd30e86b\n--- /dev/null\n+++ b/tests/ui/const-generics/mgca/tuple_expr_arg_bad-issue-151048.rs\n@@ -0,0 +1,8 @@\n+#![feature(min_generic_const_args)]\n+#![expect(incomplete_features)]\n+\n+struct Y {\n+    stuff: [u8; { ([1, 2], 3, [4, 5]) }], //~ ERROR expected `usize`, found const tuple\n+}\n+\n+fn main() {}\ndiff --git a/tests/ui/const-generics/mgca/tuple_expr_arg_bad-issue-151048.stderr b/tests/ui/const-generics/mgca/tuple_expr_arg_bad-issue-151048.stderr\nnew file mode 100644\nindex 00000000000..468bf703d90\n--- /dev/null\n+++ b/tests/ui/const-generics/mgca/tuple_expr_arg_bad-issue-151048.stderr\n@@ -0,0 +1,8 @@\n+error: expected `usize`, found const tuple\n+  --> $DIR/tuple_expr_arg_bad-issue-151048.rs:5:19\n+   |\n+LL |     stuff: [u8; { ([1, 2], 3, [4, 5]) }],\n+   |                   ^^^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to 1 previous error\n+"}, {"role": "assistant", "content": "test: add regression test for issue 151048"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/03-api-reference/05-config/01-next-config-js/useLightningcss.mdx\n\ndiff --git a/docs/01-app/03-api-reference/05-config/01-next-config-js/useLightningcss.mdx b/docs/01-app/03-api-reference/05-config/01-next-config-js/useLightningcss.mdx\nindex 4ff8b2aca..c8105a4f5 100644\n--- a/docs/01-app/03-api-reference/05-config/01-next-config-js/useLightningcss.mdx\n+++ b/docs/01-app/03-api-reference/05-config/01-next-config-js/useLightningcss.mdx\n@@ -4,14 +4,18 @@ description: Enable experimental support for Lightning CSS.\n version: experimental\n ---\n \n-Experimental support for using [Lightning CSS](https://lightningcss.dev), a fast CSS bundler and minifier, written in Rust.\n+Experimental support for using [Lightning CSS](https://lightningcss.dev) with webpack. Lightning CSS is a fast CSS transformer and minifier, written in Rust.\n+\n+If this option is not set, Next.js on webpack uses [PostCSS](https://postcss.org/) with [`postcss-preset-env`](https://www.npmjs.com/package/postcss-preset-env) by default.\n+\n+Turbopack uses Lightning CSS by default since Next 14.2. This configuration option has no effect on Turbopack. Turbopack always uses Lightning CSS.\n \n ```ts filename=\"next.config.ts\" switcher\n import type { NextConfig } from 'next'\n \n const nextConfig: NextConfig = {\n   experimental: {\n-    useLightningcss: true,\n+    useLightningcss: false, // default, ignored on Turbopack\n   },\n }\n \n@@ -22,9 +26,16 @@ export default nextConfig\n /** @type {import('next').NextConfig} */\n const nextConfig = {\n   experimental: {\n-    useLightningcss: true,\n+    useLightningcss: true, // disables PostCSS on webpack\n   },\n }\n \n module.exports = nextConfig\n ```\n+\n+## Version History\n+\n+| Version  | Changes                                                                                                                                                                                      |\n+| -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n+| `15.1.0` | Support for `useSwcCss` was removed from Turbopack.                                                                                                                                          |\n+| `14.2.0` | Turbopack's default CSS processor was changed from `@swc/css` to Lightning CSS. `useLightningcss` became ignored on Turbopack, and a legacy `experimental.turbo.useSwcCss` option was added. |\ndiff --git a/packages/next/src/lib/turbopack-warning.ts b/packages/next/src/lib/turbopack-warning.ts\nindex b0fe5cd59..a61bdd796 100644\n--- a/packages/next/src/lib/turbopack-warning.ts\n+++ b/packages/next/src/lib/turbopack-warning.ts\n@@ -40,6 +40,9 @@ const unsupportedTurbopackNextConfigOptions = [\n   'experimental.fullySpecified',\n   'experimental.urlImports',\n   'experimental.slowModuleDetection',\n+\n+  // We always use lightningcss\n+  'experimental.useLightningcss',\n ]\n \n /**  */"}, {"role": "assistant", "content": "docs: Add more details to `useLightningcss` docs (#84581)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/examples.yml\n\ndiff --git a/.github/workflows/examples.yml b/.github/workflows/examples.yml\nindex 2ad40261a..6ea6e2162 100644\n--- a/.github/workflows/examples.yml\n+++ b/.github/workflows/examples.yml\n@@ -32,7 +32,7 @@ jobs:\n       - run: yarn build:examples\n \n       - name: Create Pull Request\n-        uses: peter-evans/create-pull-request@271a8d0340265f705b14b6d32b9829c1cb33d45e # v7.0.8\n+        uses: peter-evans/create-pull-request@84ae59a2cdc2258d6fa0732dd66352dddae2a412 # v7.0.9\n         with:\n           token: ${{ secrets.GITHUB_TOKEN }}\n           delete-branch: true"}, {"role": "assistant", "content": "chore(deps): bump peter-evans/create-pull-request from 7.0.8 to 7.0.9 (#20157)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/tutorials/fundamentals/part-7-standard-patterns.md\n\ndiff --git a/docs/tutorials/fundamentals/part-7-standard-patterns.md b/docs/tutorials/fundamentals/part-7-standard-patterns.md\nindex d4225711..df750338 100644\n--- a/docs/tutorials/fundamentals/part-7-standard-patterns.md\n+++ b/docs/tutorials/fundamentals/part-7-standard-patterns.md\n@@ -895,7 +895,7 @@ This means that **we can write thunk functions that return a promise, and wait o\n \n We already have our `<Header>` component dispatching a thunk to save new todo entries to the server. Let's add some loading state inside the `<Header>` component, then disable the text input and show another loading spinner while we're waiting for the server:\n \n-```js title=\"src/features/header.Header.js\"\n+```js title=\"src/features/header/Header.js\"\n const Header = () => {\n   const [text, setText] = useState('')\n   // highlight-next-line"}, {"role": "assistant", "content": "fix: typo file name (#4008)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n lib/esm/ExportWebpackRequireRuntimeModule.js\n\ndiff --git a/lib/esm/ExportWebpackRequireRuntimeModule.js b/lib/esm/ExportWebpackRequireRuntimeModule.js\nindex 0f1a4c70c..21834a736 100644\n--- a/lib/esm/ExportWebpackRequireRuntimeModule.js\n+++ b/lib/esm/ExportWebpackRequireRuntimeModule.js\n@@ -6,10 +6,6 @@\n \n const RuntimeGlobals = require(\"../RuntimeGlobals\");\n const RuntimeModule = require(\"../RuntimeModule\");\n-const Template = require(\"../Template\");\n-\n-// CompatibilityPlugin renames `__webpack_require__` but doesn\u2019t account for `export { __webpack_require__ }`, so we create a temporary variable to handle it.\n-const EXPORT_TEMP_NAME = \"__webpack_require_temp__\";\n \n class ExportWebpackRequireRuntimeModule extends RuntimeModule {\n \tconstructor() {\n@@ -27,10 +23,7 @@ class ExportWebpackRequireRuntimeModule extends RuntimeModule {\n \t * @returns {string | null} runtime code\n \t */\n \tgenerate() {\n-\t\treturn Template.asString([\n-\t\t\t`var ${EXPORT_TEMP_NAME} = ${RuntimeGlobals.require};`,\n-\t\t\t`export { ${EXPORT_TEMP_NAME} as ${RuntimeGlobals.require} };`\n-\t\t]);\n+\t\treturn `export { ${RuntimeGlobals.require} };`;\n \t}\n }"}, {"role": "assistant", "content": "refactor(esm): simplify export statements (#20046)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/compiler-sfc/src/templateCompilerModules/utils.ts\n\ndiff --git a/packages/compiler-sfc/src/templateCompilerModules/utils.ts b/packages/compiler-sfc/src/templateCompilerModules/utils.ts\nindex d7831c84..fa02fd2b 100644\n--- a/packages/compiler-sfc/src/templateCompilerModules/utils.ts\n+++ b/packages/compiler-sfc/src/templateCompilerModules/utils.ts\n@@ -14,8 +14,11 @@ export function urlToRequire(\n     url = url.slice(secondChar === '/' ? 2 : 1)\n   }\n \n-  const uriParts = parseUriParts(url)\n+  if (isExternalUrl(url) || isDataUrl(url) || firstChar === '#') {\n+    return returnValue\n+  }\n \n+  const uriParts = parseUriParts(url)\n   if (transformAssetUrlsOption.base) {\n     // explicit base - directly rewrite the url into absolute url\n     // does not apply to absolute urls or urls that start with `@`\n@@ -67,3 +70,13 @@ function parseUriParts(urlString: string): UrlWithStringQuery {\n   }\n   return returnValue\n }\n+\n+const externalRE = /^(https?:)?\\/\\//\n+function isExternalUrl(url: string): boolean {\n+  return externalRE.test(url)\n+}\n+\n+const dataUrlRE = /^\\s*data:/i\n+function isDataUrl(url: string): boolean {\n+  return dataUrlRE.test(url)\n+}\ndiff --git a/packages/compiler-sfc/test/compileStyle.spec.ts b/packages/compiler-sfc/test/compileStyle.spec.ts\nindex 97647795..8ad69ef4 100644\n--- a/packages/compiler-sfc/test/compileStyle.spec.ts\n+++ b/packages/compiler-sfc/test/compileStyle.spec.ts\n@@ -9,7 +9,7 @@ test('preprocess less', () => {\n       '.color { color: @red; }\\n' +\n       '</style>\\n',\n     filename: 'example.vue',\n-    needMap: true\n+    sourceMap: true\n   }).styles[0]\n \n   const result = compileStyle({\n@@ -34,7 +34,7 @@ test('preprocess scss', () => {\n       '.color { color: $red; }\\n' +\n       '</style>\\n',\n     filename: 'example.vue',\n-    needMap: true\n+    sourceMap: true\n   }).styles[0]\n   const result = compileStyle({\n     id: 'v-scope-xxx',\n@@ -59,7 +59,7 @@ test('preprocess sass', () => {\n       '   color: $red\\n' +\n       '</style>\\n',\n     filename: 'example.vue',\n-    needMap: true\n+    sourceMap: true\n   }).styles[0]\n   const result = compileStyle({\n     id: 'v-scope-xxx',\n@@ -84,7 +84,7 @@ test('preprocess stylus', () => {\n       '   color: red-color\\n' +\n       '</style>\\n',\n     filename: 'example.vue',\n-    needMap: true\n+    sourceMap: true\n   }).styles[0]\n   const result = compileStyle({\n     id: 'v-scope-xxx',\ndiff --git a/packages/compiler-sfc/test/compileTemplate.spec.ts b/packages/compiler-sfc/test/compileTemplate.spec.ts\nindex d679dc7b..bba5d032 100644\n--- a/packages/compiler-sfc/test/compileTemplate.spec.ts\n+++ b/packages/compiler-sfc/test/compileTemplate.spec.ts\n@@ -48,7 +48,7 @@ test('preprocess pug', () => {\n       '   p Cool Pug example!\\n' +\n       '</template>\\n',\n     filename: 'example.vue',\n-    needMap: true\n+    sourceMap: true\n   }).template as SFCBlock\n \n   const result = compileTemplate({\n@@ -103,7 +103,7 @@ test('warn missing preprocessor', () => {\n     source: '<template lang=\"unknownLang\">\\n' + '</template>\\n',\n \n     filename: 'example.vue',\n-    needMap: true\n+    sourceMap: true\n   }).template as SFCBlock\n \n   const result = compileTemplate({\n@@ -141,7 +141,6 @@ test('transform assetUrls', () => {\n })\n \n test('transform srcset', () => {\n-  // TODO:\n   const source = `\n <div>\n   <img src=\"./logo.png\">\n@@ -227,3 +226,29 @@ test('transform assetUrls and srcset with base option', () => {\n     '/base/logo.png 2x, /base/logo.png 3x'\n   )\n })\n+\n+test('transform with includeAbsolute', () => {\n+  const source = `\n+  <div>\n+    <img src=\"./logo.png\">\n+    <img src=\"/logo.png\">\n+    <img src=\"https://foo.com/logo.png\">\n+  </div>\n+  `\n+  const result = compileTemplate({\n+    filename: 'example.vue',\n+    source,\n+    transformAssetUrls: true,\n+    transformAssetUrlsOptions: { includeAbsolute: true }\n+  })\n+\n+  expect(result.errors.length).toBe(0)\n+\n+  const vnode = mockRender(result.code, {\n+    './logo.png': 'relative',\n+    '/logo.png': 'absolute'\n+  })\n+  expect(vnode.children[0].data.attrs.src).toBe('relative')\n+  expect(vnode.children[2].data.attrs.src).toBe('absolute')\n+  expect(vnode.children[4].data.attrs.src).toBe('https://foo.com/logo.png')\n+})"}, {"role": "assistant", "content": "fix(compiler-sfc): do not transform external and data urls in templates"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/cmd/go/testdata/vcstest/git/legacytest.txt | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/src/cmd/go/testdata/vcstest/git/legacytest.txt b/src/cmd/go/testdata/vcstest/git/legacytest.txt\nindex 5846983c..6465242d 100644\n--- a/src/cmd/go/testdata/vcstest/git/legacytest.txt\n+++ b/src/cmd/go/testdata/vcstest/git/legacytest.txt\n@@ -6,7 +6,7 @@ env GIT_COMMITTER_NAME=$GIT_AUTHOR_NAME\n env GIT_COMMITTER_EMAIL=$GIT_AUTHOR_EMAIL\n \n git init\n-git branch -M master\n+git checkout -b master\n \n at 2018-07-17T12:41:39-04:00\n cp x_cf92c7b.go x.go"}, {"role": "assistant", "content": "test: use checkout -b instead of branch -M for git init"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n patches/v8/.patches\n\ndiff --git a/patches/v8/.patches b/patches/v8/.patches\nindex dc985442..19408f80 100644\n--- a/patches/v8/.patches\n+++ b/patches/v8/.patches\n@@ -1 +1,2 @@\n chore_allow_customizing_microtask_policy_per_context.patch\n+cherry-pick-ec6c18478382.patch\ndiff --git a/patches/v8/cherry-pick-ec6c18478382.patch b/patches/v8/cherry-pick-ec6c18478382.patch\nnew file mode 100644\nindex 00000000..3efa9c04\n--- /dev/null\n+++ b/patches/v8/cherry-pick-ec6c18478382.patch\n@@ -0,0 +1,45 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: Darius Mercadier <dmercadier@chromium.org>\n+Date: Tue, 16 Sep 2025 16:40:24 +0200\n+Subject: Don't assume that upper 32-bit of Int32MulOvfCheck are 0\n+\n+Because Arm64 doesn't have a flag-setting 32-bit multiplication,\n+which means that instead with use a 64-bit multiplication, and compare\n+result.X() and result.W() to check if an overflow happened. But this\n+leads to the upper 32-bit not being zeroed.\n+\n+Fixed: 445380761\n+Change-Id: I31287faf37dc615695047021324e9d1d802cbec2\n+Reviewed-on: https://chromium-review.googlesource.com/c/v8/v8/+/6954290\n+Auto-Submit: Darius Mercadier <dmercadier@chromium.org>\n+Commit-Queue: Leszek Swirski <leszeks@chromium.org>\n+Reviewed-by: Leszek Swirski <leszeks@chromium.org>\n+Cr-Commit-Position: refs/heads/main@{#102530}\n+\n+diff --git a/src/compiler/backend/arm64/instruction-selector-arm64.cc b/src/compiler/backend/arm64/instruction-selector-arm64.cc\n+index 60ff1ee97931edfcca28b6f5f7c4918d015af974..0212f4570750599bc266a1cd8c9efa19ea26e85c 100644\n+--- a/src/compiler/backend/arm64/instruction-selector-arm64.cc\n++++ b/src/compiler/backend/arm64/instruction-selector-arm64.cc\n+@@ -2958,9 +2958,19 @@ bool InstructionSelector::ZeroExtendsWord32ToWord64NoPhis(OpIndex node) {\n+       return op.Cast<ShiftOp>().rep == WordRepresentation::Word32();\n+     case Opcode::kComparison:\n+       return op.Cast<ComparisonOp>().rep == RegisterRepresentation::Word32();\n+-    case Opcode::kOverflowCheckedBinop:\n+-      return op.Cast<OverflowCheckedBinopOp>().rep ==\n+-             WordRepresentation::Word32();\n++    case Opcode::kOverflowCheckedBinop: {\n++      const OverflowCheckedBinopOp& binop = op.Cast<OverflowCheckedBinopOp>();\n++      if (binop.rep != WordRepresentation::Word32()) return false;\n++      switch (binop.kind) {\n++        case OverflowCheckedBinopOp::Kind::kSignedAdd:\n++        case OverflowCheckedBinopOp::Kind::kSignedSub:\n++          return true;\n++        case OverflowCheckedBinopOp::Kind::kSignedMul:\n++          // EmitInt32MulWithOverflow doesn't zero-extend because Arm64 doesn't\n++          // have a flag-setting int32 multiplication.\n++          return false;\n++      }\n++    }\n+     case Opcode::kProjection:\n+       return ZeroExtendsWord32ToWord64NoPhis(op.Cast<ProjectionOp>().input());\n+     case Opcode::kLoad: {"}, {"role": "assistant", "content": "chore: cherry-pick ec6c18478382 from v8 (#48335)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/compiler-sfc/src/compileScript.ts\n\ndiff --git a/packages/compiler-sfc/src/compileScript.ts b/packages/compiler-sfc/src/compileScript.ts\nindex e2589dc5..1c8c39e1 100644\n--- a/packages/compiler-sfc/src/compileScript.ts\n+++ b/packages/compiler-sfc/src/compileScript.ts\n@@ -42,7 +42,7 @@ import { warnOnce } from './warn'\n import { isReservedTag } from 'web/util'\n import { dirRE } from 'compiler/parser'\n import { parseText } from 'compiler/parser/text-parser'\n-import { DEFAULT_FILENAME } from './parse'\n+import { DEFAULT_FILENAME } from './parseComponent'\n \n // Special compiler macros\n const DEFINE_PROPS = 'defineProps'\ndiff --git a/packages/compiler-sfc/src/parse.ts b/packages/compiler-sfc/src/parse.ts\nindex dfc8faab..bd6381d1 100644\n--- a/packages/compiler-sfc/src/parse.ts\n+++ b/packages/compiler-sfc/src/parse.ts\n@@ -3,13 +3,13 @@ import { RawSourceMap, VueTemplateCompiler } from './types'\n import {\n   parseComponent,\n   VueTemplateCompilerParseOptions,\n-  SFCDescriptor\n+  SFCDescriptor,\n+  DEFAULT_FILENAME\n } from './parseComponent'\n \n import hash from 'hash-sum'\n import LRU from 'lru-cache'\n-\n-export const DEFAULT_FILENAME = 'anonymous.vue'\n+import { hmrShouldReload } from './compileScript'\n \n const cache = new LRU<string, SFCDescriptor>(100)\n \n@@ -52,6 +52,8 @@ export function parse(options: ParseOptions): SFCDescriptor {\n   }\n \n   output.filename = filename\n+  output.shouldForceReload = prevImports =>\n+    hmrShouldReload(prevImports, output!)\n \n   if (needMap) {\n     if (output.script && !output.script.src) {\ndiff --git a/packages/compiler-sfc/src/parseComponent.ts b/packages/compiler-sfc/src/parseComponent.ts\nindex a4194ce8..a396bbfe 100644\n--- a/packages/compiler-sfc/src/parseComponent.ts\n+++ b/packages/compiler-sfc/src/parseComponent.ts\n@@ -3,8 +3,9 @@ import { parseHTML } from 'compiler/parser/html-parser'\n import { makeMap } from 'shared/util'\n import { ASTAttr, WarningMessage } from 'types/compiler'\n import { BindingMetadata, RawSourceMap } from './types'\n-import { hmrShouldReload, ImportBinding } from './compileScript'\n-import { DEFAULT_FILENAME } from './parse'\n+import type { ImportBinding } from './compileScript'\n+\n+export const DEFAULT_FILENAME = 'anonymous.vue'\n \n const splitRE = /\\r?\\n/g\n const replaceRE = /./g\n@@ -84,7 +85,7 @@ export function parseComponent(\n     styles: [],\n     customBlocks: [],\n     errors: [],\n-    shouldForceReload: prevImports => hmrShouldReload(prevImports, sfc)\n+    shouldForceReload: null as any // attached in parse() by compiler-sfc\n   }\n   let depth = 0\n   let currentBlock: SFCBlock | null = null\ndiff --git a/scripts/config.js b/scripts/config.js\nindex 0fc581bb..9d5914c2 100644\n--- a/scripts/config.js\n+++ b/scripts/config.js\n@@ -211,7 +211,6 @@ const builds = {\n     entry: resolve('packages/compiler-sfc/src/index.ts'),\n     dest: resolve('packages/compiler-sfc/dist/compiler-sfc.js'),\n     format: 'cjs',\n-    transpile: false,\n     external: Object.keys(\n       require('../packages/compiler-sfc/package.json').dependencies\n     ),\n@@ -251,7 +250,10 @@ function genConfig(name) {\n           compilerOptions: {\n             // if targeting browser, target es5\n             // if targeting node, es2017 means Node 8\n-            target: opts.transpile === false ? 'es2017' : 'es5'\n+            target:\n+              opts.transpile === false || opts.format === 'cjs'\n+                ? 'es2017'\n+                : 'es5'\n           },\n           exclude: ['test', 'test-dts']\n         }"}, {"role": "assistant", "content": "build: fix compiler build"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/testRunner/unittests/helpers/baseline.ts\n\ndiff --git a/src/testRunner/unittests/helpers/baseline.ts b/src/testRunner/unittests/helpers/baseline.ts\nindex 2daac6854..2dca51f5b 100644\n--- a/src/testRunner/unittests/helpers/baseline.ts\n+++ b/src/testRunner/unittests/helpers/baseline.ts\n@@ -178,7 +178,7 @@ export type ReadableProgramBuildInfoFileInfo<T> = Omit<ts.BuilderState.FileInfo,\n };\n export type ReadableProgramBuildInfoRoot =\n     | [original: ts.ProgramBuildInfoFileId, readable: string]\n-    | [orginal: ts.ProgramBuildInfoRootStartEnd, readable: readonly string[]];\n+    | [original: ts.ProgramBuildInfoRootStartEnd, readable: readonly string[]];\n export type ReadableProgramMultiFileEmitBuildInfo = Omit<ts.ProgramMultiFileEmitBuildInfo, \"fileIdsList\" | \"fileInfos\" | \"root\" | \"referencedMap\" | \"exportedModulesMap\" | \"semanticDiagnosticsPerFile\" | \"affectedFilesPendingEmit\" | \"changeFileSet\" | \"emitSignatures\"> & {\n     fileNamesList: readonly (readonly string[])[] | undefined;\n     fileInfos: ts.MapLike<ReadableProgramBuildInfoFileInfo<ts.ProgramMultiFileEmitBuildInfoFileInfo>>;"}, {"role": "assistant", "content": "fix: type key typo (#55443)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/compiler-sfc/src/compileTemplate.ts\n\ndiff --git a/packages/compiler-sfc/src/compileTemplate.ts b/packages/compiler-sfc/src/compileTemplate.ts\nindex d88adc02..68e5be35 100644\n--- a/packages/compiler-sfc/src/compileTemplate.ts\n+++ b/packages/compiler-sfc/src/compileTemplate.ts\n@@ -1,8 +1,4 @@\n-import {\n-  BindingMetadata,\n-  VueTemplateCompiler,\n-  VueTemplateCompilerOptions\n-} from './types'\n+import { BindingMetadata, TemplateCompiler } from './types'\n import assetUrlsModule, {\n   AssetURLOptions,\n   TransformAssetUrlsOptions\n@@ -11,13 +7,13 @@ import srcsetModule from './templateCompilerModules/srcset'\n import consolidate from '@vue/consolidate'\n import * as _compiler from 'web/entry-compiler'\n import { prefixIdentifiers } from './prefixIdentifiers'\n-import { WarningMessage } from 'types/compiler'\n+import { CompilerOptions, WarningMessage } from 'types/compiler'\n \n export interface SFCTemplateCompileOptions {\n   source: string\n   filename: string\n-  compiler?: VueTemplateCompiler\n-  compilerOptions?: VueTemplateCompilerOptions\n+  compiler?: TemplateCompiler\n+  compilerOptions?: CompilerOptions\n   transformAssetUrls?: AssetURLOptions | boolean\n   transformAssetUrlsOptions?: TransformAssetUrlsOptions\n   preprocessLang?: string\n@@ -31,7 +27,7 @@ export interface SFCTemplateCompileOptions {\n   bindings?: BindingMetadata\n }\n \n-export interface SFCTemplateCompileResult {\n+export interface SFCTemplateCompileResults {\n   ast: Object | undefined\n   code: string\n   source: string\n@@ -41,7 +37,7 @@ export interface SFCTemplateCompileResult {\n \n export function compileTemplate(\n   options: SFCTemplateCompileOptions\n-): SFCTemplateCompileResult {\n+): SFCTemplateCompileResults {\n   const { preprocessLang } = options\n   const preprocessor = preprocessLang && consolidate[preprocessLang]\n   if (preprocessor) {\n@@ -100,7 +96,7 @@ function preprocess(\n \n function actuallyCompile(\n   options: SFCTemplateCompileOptions\n-): SFCTemplateCompileResult {\n+): SFCTemplateCompileResults {\n   const {\n     source,\n     compiler = _compiler,\ndiff --git a/packages/compiler-sfc/src/index.ts b/packages/compiler-sfc/src/index.ts\nindex 083a3ba3..c6829127 100644\n--- a/packages/compiler-sfc/src/index.ts\n+++ b/packages/compiler-sfc/src/index.ts\n@@ -6,10 +6,17 @@ export { compileScript } from './compileScript'\n export { generateCodeFrame } from 'compiler/codeframe'\n \n // types\n-export { SFCBlock, SFCCustomBlock, SFCDescriptor } from './parseComponent'\n+export { CompilerOptions } from 'types/compiler'\n+export { TemplateCompiler } from './types'\n+export {\n+  SFCBlock,\n+  SFCCustomBlock,\n+  SFCScriptBlock,\n+  SFCDescriptor\n+} from './parseComponent'\n export {\n   SFCTemplateCompileOptions,\n-  SFCTemplateCompileResult\n+  SFCTemplateCompileResults\n } from './compileTemplate'\n export { SFCStyleCompileOptions, SFCStyleCompileResults } from './compileStyle'\n export { SFCScriptCompileOptions } from './compileScript'\ndiff --git a/packages/compiler-sfc/src/parse.ts b/packages/compiler-sfc/src/parse.ts\nindex bd6381d1..48209e89 100644\n--- a/packages/compiler-sfc/src/parse.ts\n+++ b/packages/compiler-sfc/src/parse.ts\n@@ -1,5 +1,5 @@\n import { SourceMapGenerator } from 'source-map'\n-import { RawSourceMap, VueTemplateCompiler } from './types'\n+import { RawSourceMap, TemplateCompiler } from './types'\n import {\n   parseComponent,\n   VueTemplateCompilerParseOptions,\n@@ -19,7 +19,7 @@ const emptyRE = /^(?:\\/\\/)?\\s*$/\n export interface ParseOptions {\n   source: string\n   filename?: string\n-  compiler?: VueTemplateCompiler\n+  compiler?: TemplateCompiler\n   compilerParseOptions?: VueTemplateCompilerParseOptions\n   sourceRoot?: string\n   needMap?: boolean\ndiff --git a/packages/compiler-sfc/src/types.ts b/packages/compiler-sfc/src/types.ts\nindex 93564db3..c62f74c7 100644\n--- a/packages/compiler-sfc/src/types.ts\n+++ b/packages/compiler-sfc/src/types.ts\n@@ -14,27 +14,12 @@ export interface RawSourceMap extends StartOfSourceMap {\n   mappings: string\n }\n \n-export interface VueTemplateCompiler {\n+export interface TemplateCompiler {\n   parseComponent(source: string, options?: any): SFCDescriptor\n-\n-  compile(\n-    template: string,\n-    options: VueTemplateCompilerOptions\n-  ): VueTemplateCompilerResults\n-\n-  ssrCompile(\n-    template: string,\n-    options: VueTemplateCompilerOptions\n-  ): VueTemplateCompilerResults\n+  compile(template: string, options: CompilerOptions): CompiledResult\n+  ssrCompile(template: string, options: CompilerOptions): CompiledResult\n }\n \n-// we'll just shim this much for now - in the future these types\n-// should come from vue-template-compiler directly, or this package should be\n-// part of the vue monorepo.\n-export type VueTemplateCompilerOptions = CompilerOptions\n-\n-export type VueTemplateCompilerResults = CompiledResult\n-\n export const enum BindingTypes {\n   /**\n    * returned from data()"}, {"role": "assistant", "content": "fix: further align types with v3"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/MockFunctions.md\n\ndiff --git a/docs/MockFunctions.md b/docs/MockFunctions.md\nindex 0238bce1..59e24b73 100644\n--- a/docs/MockFunctions.md\n+++ b/docs/MockFunctions.md\n@@ -22,7 +22,7 @@ export function forEach(items, callback) {\n To test this function, we can use a mock function, and inspect the mock's state to ensure the callback is invoked as expected.\n \n ```js title=\"forEach.test.js\"\n-import { forEach } from './forEach';\n+import {forEach} from './forEach';\n \n const mockCallback = jest.fn(x => 42 + x);"}, {"role": "assistant", "content": "chore: fix prettier violation (#15615)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n test/e2e/modal.ts\n\ndiff --git a/test/e2e/modal.ts b/test/e2e/modal.ts\ndeleted file mode 100644\nindex 947bab17..00000000\n--- a/test/e2e/modal.ts\n+++ /dev/null\n@@ -1,27 +0,0 @@\n-module.exports = {\n-  'modal': function (browser) {\n-    browser\n-    .url('http://localhost:8080/examples/modal/')\n-      .waitForElementVisible('#app', 1000)\n-      .assert.elementNotPresent('.modal-mask')\n-      .click('#show-modal')\n-      .assert.elementPresent('.modal-mask')\n-      .assert.elementPresent('.modal-wrapper')\n-      .assert.elementPresent('.modal-container')\n-      .waitFor(50)\n-      .assert.cssClassPresent('.modal-mask', 'modal-enter-active')\n-      .waitFor(300)\n-      .assert.cssClassNotPresent('.modal-mask', 'modal-enter-active')\n-      .assert.containsText('.modal-header h3', 'custom header')\n-      .assert.containsText('.modal-body', 'default body')\n-      .assert.containsText('.modal-footer', 'default footer')\n-      .click('.modal-default-button')\n-      // should have transition\n-      .assert.elementPresent('.modal-mask')\n-      .waitFor(50)\n-      .assert.cssClassPresent('.modal-mask', 'modal-leave-active')\n-      .waitFor(300)\n-      .assert.elementNotPresent('.modal-mask')\n-      .end()\n-  }\n-}\ndiff --git a/test/e2e/select2.ts b/test/e2e/select2.ts\ndeleted file mode 100644\nindex 24a2a87b..00000000\n--- a/test/e2e/select2.ts\n+++ /dev/null\n@@ -1,47 +0,0 @@\n-declare const vm: any \n-\n-module.exports = {\n-  'select2': function (browser) {\n-    browser\n-    .url('http://localhost:8080/examples/select2/')\n-      .waitForElementVisible('.select2', 1000)\n-      .assert.elementPresent('select')\n-      .assert.containsText('p', 'Selected: 0')\n-      .assert.containsText('span.select2', 'Select one')\n-\n-      .click('.select2-selection__rendered')\n-      .assert.count('.select2-results__option', 3)\n-      .assert.containsText('.select2-results__option:nth-child(1)', 'Select one')\n-      .assert.containsText('.select2-results__option:nth-child(2)', 'Hello')\n-      .assert.containsText('.select2-results__option:nth-child(3)', 'World')\n-      .assert.attributePresent('.select2-results__option:nth-child(1)', 'aria-disabled')\n-\n-      .click('.select2-results__option:nth-child(2)')\n-      .assert.count('.select2-results__option', 0)\n-      .assert.containsText('p', 'Selected: 1')\n-      .assert.containsText('span.select2', 'Hello')\n-\n-      // test dynamic options\n-      .execute(function () {\n-        vm.options.push({ id: 3, text: 'Vue' })\n-      })\n-      .click('.select2-selection__rendered')\n-      .assert.count('.select2-results__option', 4)\n-      .assert.containsText('.select2-results__option:nth-child(1)', 'Select one')\n-      .assert.containsText('.select2-results__option:nth-child(2)', 'Hello')\n-      .assert.containsText('.select2-results__option:nth-child(3)', 'World')\n-      .assert.containsText('.select2-results__option:nth-child(4)', 'Vue')\n-\n-      .click('.select2-results__option:nth-child(4)')\n-      .assert.count('.select2-results__option', 0)\n-      .assert.containsText('p', 'Selected: 3')\n-      .assert.containsText('span.select2', 'Vue')\n-\n-      .execute(function () {\n-        vm.selected = 2\n-      })\n-      .assert.containsText('p', 'Selected: 2')\n-      .assert.containsText('span.select2', 'World')\n-      .end()\n-  }\n-}"}, {"role": "assistant", "content": "chore: remove stale tests [ci skip]"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/recipes/WritingTests.md\n\ndiff --git a/docs/recipes/WritingTests.md b/docs/recipes/WritingTests.md\nindex d06f3d22..73be4952 100644\n--- a/docs/recipes/WritingTests.md\n+++ b/docs/recipes/WritingTests.md\n@@ -348,6 +348,10 @@ const App = props => {\n   return <div>{props.user}</div>\n }\n \n+const mapStateToProps = state => {\n+  return state\n+}\n+\n export default connect(mapStateToProps)(App)\n ```\n \n@@ -361,6 +365,8 @@ import React from 'react'\n import { render as rtlRender } from '@testing-library/react'\n import { createStore } from 'redux'\n import { Provider } from 'react-redux'\n+// Import your own reducer\n+import reducer from '../reducer'\n \n function render(\n   ui,"}, {"role": "assistant", "content": "docs(writingTests): add mapStateToProps and a comment to import\u2026 (#3875)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .../__tests__/compileScript/resolveType.spec.ts        |  6 +++++-\n packages/compiler-sfc/src/script/resolveType.ts        | 12 ++++--------\n packages/compiler-sfc/src/script/utils.ts              | 18 ++++++++++++++++++\n 3 files changed, 27 insertions(+), 9 deletions(-)\n\ndiff --git a/packages/compiler-sfc/__tests__/compileScript/resolveType.spec.ts b/packages/compiler-sfc/__tests__/compileScript/resolveType.spec.ts\nindex eff2f01..557f6ec 100644\n--- a/packages/compiler-sfc/__tests__/compileScript/resolveType.spec.ts\n+++ b/packages/compiler-sfc/__tests__/compileScript/resolveType.spec.ts\n@@ -20,6 +20,8 @@ describe('resolveType', () => {\n       foo: number // property\n       bar(): void // method\n       'baz': string // string literal key\n+      [\\`qux\\`]: boolean // template literal key\n+      123: symbol // numeric literal key\n       (e: 'foo'): void // call signature\n       (e: 'bar'): void\n     }>()`)\n@@ -27,6 +29,8 @@ describe('resolveType', () => {\n       foo: ['Number'],\n       bar: ['Function'],\n       baz: ['String'],\n+      qux: ['Boolean'],\n+      123: ['Symbol'],\n     })\n     expect(calls?.length).toBe(2)\n   })\n@@ -195,7 +199,7 @@ describe('resolveType', () => {\n     type T = 'foo' | 'bar'\n     type S = 'x' | 'y'\n     defineProps<{\n-      [\\`_\\${T}_\\${S}_\\`]: string\n+      [K in \\`_\\${T}_\\${S}_\\`]: string\n     }>()\n     `).props,\n     ).toStrictEqual({\ndiff --git a/packages/compiler-sfc/src/script/resolveType.ts b/packages/compiler-sfc/src/script/resolveType.ts\nindex b40c7cd..9cb4ce8 100644\n--- a/packages/compiler-sfc/src/script/resolveType.ts\n+++ b/packages/compiler-sfc/src/script/resolveType.ts\n@@ -29,6 +29,7 @@ import {\n   createGetCanonicalFileName,\n   getId,\n   getImportedName,\n+  getStringLiteralKey,\n   joinPaths,\n   normalizePath,\n } from './utils'\n@@ -336,13 +337,9 @@ function typeElementsToMap(\n         Object.assign(scope.types, typeParameters)\n       }\n       ;(e as MaybeWithScope)._ownerScope = scope\n-      const name = getId(e.key)\n-      if (name && !e.computed) {\n+      const name = getStringLiteralKey(e)\n+      if (name !== null) {\n         res.props[name] = e as ResolvedElements['props'][string]\n-      } else if (e.key.type === 'TemplateLiteral') {\n-        for (const key of resolveTemplateKeys(ctx, e.key, scope)) {\n-          res.props[key] = e as ResolvedElements['props'][string]\n-        }\n       } else {\n         ctx.error(\n           `Unsupported computed key in type referenced by a macro`,\n@@ -2029,8 +2026,7 @@ function findStaticPropertyType(node: TSTypeLiteral, key: string) {\n   const prop = node.members.find(\n     m =>\n       m.type === 'TSPropertySignature' &&\n-      !m.computed &&\n-      getId(m.key) === key &&\n+      getStringLiteralKey(m) === key &&\n       m.typeAnnotation,\n   )\n   return prop && prop.typeAnnotation!.typeAnnotation\ndiff --git a/packages/compiler-sfc/src/script/utils.ts b/packages/compiler-sfc/src/script/utils.ts\nindex 1b7da0e..bda64dc 100644\n--- a/packages/compiler-sfc/src/script/utils.ts\n+++ b/packages/compiler-sfc/src/script/utils.ts\n@@ -7,6 +7,8 @@ import type {\n   ImportSpecifier,\n   Node,\n   StringLiteral,\n+  TSMethodSignature,\n+  TSPropertySignature,\n } from '@babel/types'\n import path from 'path'\n \n@@ -79,6 +81,22 @@ export function getId(node: Expression) {\n       : null\n }\n \n+export function getStringLiteralKey(\n+  node: TSPropertySignature | TSMethodSignature,\n+): string | null {\n+  return node.computed\n+    ? node.key.type === 'TemplateLiteral' && !node.key.expressions.length\n+      ? node.key.quasis.map(q => q.value.cooked).join('')\n+      : null\n+    : node.key.type === 'Identifier'\n+      ? node.key.name\n+      : node.key.type === 'StringLiteral'\n+        ? node.key.value\n+        : node.key.type === 'NumericLiteral'\n+          ? String(node.key.value)\n+          : null\n+}\n+\n const identity = (str: string) => str\n const fileNameLowerCaseRegExp = /[^\\u0130\\u0131\\u00DFa-z0-9\\\\/:\\-_\\. ]+/g\n const toLowerCase = (str: string) => str.toLowerCase()"}, {"role": "assistant", "content": "fix(compiler-sfc): support template and numeric literal keys in type"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/babel-plugin-transform-typescript/src/enum.ts\n\ndiff --git a/packages/babel-plugin-transform-typescript/src/enum.ts b/packages/babel-plugin-transform-typescript/src/enum.ts\nindex 4eef2e10f..52f2dfea4 100644\n--- a/packages/babel-plugin-transform-typescript/src/enum.ts\n+++ b/packages/babel-plugin-transform-typescript/src/enum.ts\n@@ -175,22 +175,28 @@ function ReferencedIdentifier(\n   const name = expr.node.name;\n \n   if (seen.has(name)) {\n-    for (\n-      let curScope = expr.scope;\n-      curScope !== path.scope;\n-      curScope = curScope.parent\n-    ) {\n-      if (curScope.hasOwnBinding(name)) {\n-        /* The name is declared inside enum:\n-        enum Foo {\n-          A,\n-          B = (() => {\n-            const A = 1;\n-            return A;\n-          })())\n-        } */\n+    /* The name is declared inside enum:\n+      enum Foo {\n+        A,\n+        B = (() => {\n+          const A = 1;\n+          return A;\n+        })())\n+      } */\n+    if (process.env.BABEL_8_BREAKING) {\n+      if (expr.scope.hasBinding(name, { upToScope: path.scope })) {\n         return;\n       }\n+    } else {\n+      for (\n+        let curScope = expr.scope;\n+        curScope !== path.scope;\n+        curScope = curScope.parent\n+      ) {\n+        if (curScope.hasOwnBinding(name)) {\n+          return;\n+        }\n+      }\n     }\n \n     expr.replaceWith(\ndiff --git a/packages/babel-traverse/src/scope/index.ts b/packages/babel-traverse/src/scope/index.ts\nindex a9fda5f8a..e1a0f8f3a 100644\n--- a/packages/babel-traverse/src/scope/index.ts\n+++ b/packages/babel-traverse/src/scope/index.ts\n@@ -1204,25 +1204,31 @@ class Scope {\n   // was used to declare a variable in a different scope.\n   hasBinding(\n     name: string,\n-    opts?: boolean | { noGlobals?: boolean; noUids?: boolean },\n+    opts?:\n+      | boolean\n+      | { noGlobals?: boolean; noUids?: boolean; upToScope?: Scope },\n   ) {\n     if (!name) return false;\n-    let scope: Scope = this;\n-    do {\n-      if (scope.hasOwnBinding(name)) {\n-        return true;\n-      }\n-    } while ((scope = scope.parent));\n-\n     // TODO: Only accept the object form.\n     let noGlobals;\n     let noUids;\n+    let upToScope;\n     if (typeof opts === \"object\") {\n       noGlobals = opts.noGlobals;\n       noUids = opts.noUids;\n+      upToScope = opts.upToScope;\n     } else if (typeof opts === \"boolean\") {\n       noGlobals = opts;\n     }\n+    let scope: Scope = this;\n+    do {\n+      if (upToScope === scope) {\n+        break;\n+      }\n+      if (scope.hasOwnBinding(name)) {\n+        return true;\n+      }\n+    } while ((scope = scope.parent));\n \n     if (!noUids && this.hasUid(name)) return true;\n     if (!noGlobals && Scope.globals.includes(name)) return true;\ndiff --git a/packages/babel-traverse/test/scope.js b/packages/babel-traverse/test/scope.js\nindex 326ab6b88..a1b3a343c 100644\n--- a/packages/babel-traverse/test/scope.js\n+++ b/packages/babel-traverse/test/scope.js\n@@ -1248,4 +1248,26 @@ describe(\"scope\", () => {\n       expect(bindingA.constantViolations).toHaveLength(1);\n     });\n   });\n+\n+  describe(\"hasBinding\", () => {\n+    it(\"upToScope\", () => {\n+      const program = getPath(`\n+        function x() {\n+          function y() {\n+            var a = 1;\n+          }\n+        }\n+      `);\n+\n+      const scope = program.get(\"body.0.body.body.0\").scope;\n+      expect(scope.hasBinding(\"a\", { upToScope: program.scope })).toBe(true);\n+      expect(scope.hasBinding(\"a\", { upToScope: scope })).toBe(false);\n+      expect(scope.hasBinding(\"a\", { upToScope: scope.parent })).toBe(true);\n+\n+      expect(scope.hasBinding(\"Symbol\", { upToScope: scope })).toBe(true);\n+      expect(\n+        scope.hasBinding(\"Symbol\", { upToScope: scope, noGlobals: true }),\n+      ).toBe(false);\n+    });\n+  });\n });"}, {"role": "assistant", "content": "feat: Add `upToScope` parameter to `hasBinding` (#17102)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .conductor/conductor.json\n\ndiff --git a/.conductor/conductor.json b/conductor.json\nsimilarity index 87%\nrename from .conductor/conductor.json\nrename to conductor.json\nindex 0bbfa8c90..8b68fac8e 100644\n--- a/.conductor/conductor.json\n+++ b/conductor.json\n@@ -2,8 +2,8 @@\n   \"name\": \"next.js\",\n   \"description\": \"Next.js framework development workspace\",\n   \"scripts\": {\n-    \"setup\": \"./scripts/setup.sh\",\n-    \"run\": \"./scripts/run.sh\"\n+    \"setup\": \"./.conductor/scripts/setup.sh\",\n+    \"run\": \"./.conductor/scripts/run.sh\"\n   },\n   \"worktree\": {\n     \"default_branch\": \"canary\""}, {"role": "assistant", "content": "fix: move conductor.json to repo root for proper detection (#88184)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/publish-to-pkg-pr-new.yml\n\ndiff --git a/.github/workflows/publish-to-pkg-pr-new.yml b/.github/workflows/publish-to-pkg-pr-new.yml\nindex 7557e1de5..25849d448 100644\n--- a/.github/workflows/publish-to-pkg-pr-new.yml\n+++ b/.github/workflows/publish-to-pkg-pr-new.yml\n@@ -13,7 +13,10 @@ permissions:\n \n jobs:\n   publish:\n-    if: github.repository == 'webpack/webpack'\n+    if: |\n+      github.repository == 'webpack/webpack &&\n+      (github.event_name != 'pull_request' ||\n+      github.event.pull_request.head.repo.full_name == github.repository)\n     name: Publish to pkg.pr.new\n     runs-on: ubuntu-latest\n     outputs:"}, {"role": "assistant", "content": "ci: do not run publish for forks /2 (#20074)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n dist/vue.runtime.mjs\n\ndiff --git a/dist/vue.runtime.mjs b/dist/vue.runtime.mjs\nindex 3ac875cd..886d9f16 100644\n--- a/dist/vue.runtime.mjs\n+++ b/dist/vue.runtime.mjs\n@@ -49,6 +49,7 @@ export const {\n   onMounted,\n   onBeforeUpdate,\n   onUpdated,\n+  onBeforeUnmount,\n   onUnmounted,\n   onErrorCaptured,\n   onActivated,"}, {"role": "assistant", "content": "fix: add missing export from `vue.runtime.mjs` (#12648)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/03-api-reference/05-config/01-next-config-js/index.mdx\n\ndiff --git a/docs/01-app/03-api-reference/05-config/01-next-config-js/index.mdx b/docs/01-app/03-api-reference/05-config/01-next-config-js/index.mdx\nindex dd4472b2a..62b7df803 100644\n--- a/docs/01-app/03-api-reference/05-config/01-next-config-js/index.mdx\n+++ b/docs/01-app/03-api-reference/05-config/01-next-config-js/index.mdx\n@@ -37,7 +37,7 @@ const nextConfig = {\n export default nextConfig\n ```\n \n-> **Good to know**: `next.config` with the `.cjs`, `.cts`, or `.mts` extensions are currently **not** supported.\n+> **Good to know**: `next.config` with the `.cjs` or `.cts` extensions are currently **not** supported.\n \n ## Configuration as a Function"}, {"role": "assistant", "content": "docs(next.config): this docs should remove \".mts\" is not supported. (#85716)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n types/test/setup-helpers-test.ts\n\ndiff --git a/types/test/setup-helpers-test.ts b/types/test/setup-helpers-test.ts\nindex 744c2a53..4876154b 100644\n--- a/types/test/setup-helpers-test.ts\n+++ b/types/test/setup-helpers-test.ts\n@@ -19,15 +19,19 @@ describe('defineProps w/ type declaration + withDefaults', () => {\n       arr?: string[]\n       obj?: { x: number }\n       fn?: (e: string) => void\n-      x?: string\n       genStr?: string\n+      x?: string\n+      y?: string\n+      z?: string\n     }>(),\n     {\n       number: 123,\n       arr: () => [],\n       obj: () => ({ x: 123 }),\n       fn: () => {},\n-      genStr: () => ''\n+      genStr: () => '',\n+      y: undefined,\n+      z: 'string'\n     }\n   )\n \n@@ -35,9 +39,15 @@ describe('defineProps w/ type declaration + withDefaults', () => {\n   res.arr.push('hi')\n   res.obj.x\n   res.fn('hi')\n+  res.genStr.slice()\n   // @ts-expect-error\n   res.x.slice()\n-  res.genStr.slice()\n+  // @ts-expect-error\n+  res.y.slice()\n+\n+  expectType<string | undefined>(res.x)\n+  expectType<string | undefined>(res.y)\n+  expectType<string>(res.z)\n })\n \n describe('defineProps w/ union type declaration + withDefaults', () => {\ndiff --git a/types/v3-setup-helpers.d.ts b/types/v3-setup-helpers.d.ts\nindex 6a62fd16..165605ee 100644\n--- a/types/v3-setup-helpers.d.ts\n+++ b/types/v3-setup-helpers.d.ts\n@@ -110,7 +110,11 @@ type InferDefault<P, T> = T extends\n   : (props: P) => T\n \n type PropsWithDefaults<Base, Defaults> = Base & {\n-  [K in keyof Defaults]: K extends keyof Base ? NotUndefined<Base[K]> : never\n+  [K in keyof Defaults]: K extends keyof Base\n+    ? Defaults[K] extends undefined\n+      ? Base[K]\n+      : NotUndefined<Base[K]>\n+    : never\n }\n \n /**"}, {"role": "assistant", "content": "fix(types/sfc): improve the type inference using `withDefaults` (#12872)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/ci.yml | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 027695f..ee9fd61 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -39,4 +39,4 @@ jobs:\n         run: pnpm build --withTypes\n \n       - name: Release\n-        run: pnpx pkg-pr-new publish --compact --pnpm './packages/*'\n+        run: pnpx pkg-pr-new publish --compact --pnpm './packages/*' --packageManager=pnpm,npm,yarn"}, {"role": "assistant", "content": "ci: add package manager options to release"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/next/src/lib/is-error.ts\n\ndiff --git a/packages/next/src/lib/is-error.ts b/packages/next/src/lib/is-error.ts\nindex e89785d4e..477814d40 100644\n--- a/packages/next/src/lib/is-error.ts\n+++ b/packages/next/src/lib/is-error.ts\n@@ -1,5 +1,4 @@\n import { isPlainObject } from '../shared/lib/is-plain-object'\n-import safeStringify from 'next/dist/compiled/safe-stable-stringify'\n \n // We allow some additional attached properties for Next.js errors\n export interface NextError extends Error {\n@@ -10,6 +9,28 @@ export interface NextError extends Error {\n   digest?: number\n }\n \n+/**\n+ * This is a safe stringify function that handles circular references.\n+ * We're using a simpler version here to avoid introducing\n+ * the dependency `safe-stable-stringify` into production bundle.\n+ *\n+ * This helper is used both in development and production.\n+ */\n+function safeStringifyLite(obj: any) {\n+  const seen = new WeakSet()\n+\n+  return JSON.stringify(obj, (_key, value) => {\n+    // If value is an object and already seen, replace with \"[Circular]\"\n+    if (typeof value === 'object' && value !== null) {\n+      if (seen.has(value)) {\n+        return '[Circular]'\n+      }\n+      seen.add(value)\n+    }\n+    return value\n+  })\n+}\n+\n /**\n  * Checks whether the given value is a NextError.\n  * This can be used to print a more detailed error message with properties like `code` & `digest`.\n@@ -43,5 +64,5 @@ export function getProperError(err: unknown): Error {\n     }\n   }\n \n-  return new Error(isPlainObject(err) ? safeStringify(err) : err + '')\n+  return new Error(isPlainObject(err) ? safeStringifyLite(err) : err + '')\n }\ndiff --git a/test/development/app-dir/serialize-circular-error/serialize-circular-error.test.ts b/test/development/app-dir/serialize-circular-error/serialize-circular-error.test.ts\nindex 5f071b64d..26cfcfbf9 100644\n--- a/test/development/app-dir/serialize-circular-error/serialize-circular-error.test.ts\n+++ b/test/development/app-dir/serialize-circular-error/serialize-circular-error.test.ts\n@@ -19,7 +19,7 @@ describe('serialize-circular-error', () => {\n     `)\n     const output = next.cliOutput\n     expect(output).toContain(\n-      'Error: {\"objA\":{\"other\":{\"a\":\"[Circular]\"}},\"objB\":{\"a\":{\"other\":\"[Circular]\"}}}'\n+      'Error: {\"objA\":{\"other\":{\"a\":\"[Circular]\"}},\"objB\":\"[Circular]\"}'\n     )\n   })\n \n@@ -44,7 +44,7 @@ describe('serialize-circular-error', () => {\n \n     const output = next.cliOutput\n     expect(output).toContain(\n-      'Error: {\"objC\":{\"other\":{\"a\":\"[Circular]\"}},\"objD\":{\"a\":{\"other\":\"[Circular]\"}}}'\n+      'Error: {\"objC\":{\"other\":{\"a\":\"[Circular]\"}},\"objD\":\"[Circular]\"}'\n     )\n   })\n })\ndiff --git a/test/production/app-dir/browser-chunks/browser-chunks.test.ts b/test/production/app-dir/browser-chunks/browser-chunks.test.ts\nindex 7423a7b27..74b0d7a90 100644\n--- a/test/production/app-dir/browser-chunks/browser-chunks.test.ts\n+++ b/test/production/app-dir/browser-chunks/browser-chunks.test.ts\n@@ -48,4 +48,18 @@ describe('browser-chunks', () => {\n       )\n     }\n   })\n+\n+  it('must not include heavy dependencies into browser chunks', () => {\n+    const heavyDependencies = sources.filter((source) => {\n+      return source.includes('next/dist/compiled/safe-stable-stringify')\n+    })\n+\n+    if (heavyDependencies.length > 0) {\n+      const message = `Found the following heavy dependencies:\\n  ${heavyDependencies.join('\\n  ')}`\n+\n+      throw new Error(\n+        'Did not expect any heavy dependencies in browser chunks.\\n' + message\n+      )\n+    }\n+  })\n })"}, {"role": "assistant", "content": "perf: revert to use the light safe stringify for is-error (#86053)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/cmd/go/internal/work/exec.go | 12 ++++++------\n 1 file changed, 6 insertions(+), 6 deletions(-)\n\ndiff --git a/src/cmd/go/internal/work/exec.go b/src/cmd/go/internal/work/exec.go\nindex f2d1b104..0afdce23 100644\n--- a/src/cmd/go/internal/work/exec.go\n+++ b/src/cmd/go/internal/work/exec.go\n@@ -627,7 +627,7 @@ func (b *Builder) checkCacheForBuild(a, buildAction *Action, covMetaFileName str\n \t// If we are going to do a full build anyway,\n \t// we're going to regenerate the files in the build action anyway.\n \tif need == needVet {\n-\t\tif err := b.loadCachedVet(buildAction); err == nil {\n+\t\tif err := b.loadCachedVet(buildAction, a.Deps); err == nil {\n \t\t\tneed &^= needVet\n \t\t}\n \t}\n@@ -841,7 +841,7 @@ func (b *Builder) build(ctx context.Context, a *Action) (err error) {\n \n \t// Prepare Go vet config if needed.\n \tif need&needVet != 0 {\n-\t\tbuildVetConfig(a, srcfiles)\n+\t\tbuildVetConfig(a, srcfiles, a.Deps)\n \t\tneed &^= needVet\n \t}\n \tif need&needCompiledGoFiles != 0 {\n@@ -1121,7 +1121,7 @@ func (b *Builder) cacheSrcFiles(a *Action, srcfiles []string) {\n \tcache.PutBytes(c, cache.Subkey(a.actionID, \"srcfiles\"), buf.Bytes())\n }\n \n-func (b *Builder) loadCachedVet(a *Action) error {\n+func (b *Builder) loadCachedVet(a *Action, vetDeps []*Action) error {\n \tc := cache.Default()\n \tlist, _, err := cache.GetBytes(c, cache.Subkey(a.actionID, \"srcfiles\"))\n \tif err != nil {\n@@ -1141,7 +1141,7 @@ func (b *Builder) loadCachedVet(a *Action) error {\n \t\t}\n \t\tsrcfiles = append(srcfiles, a.Objdir+name)\n \t}\n-\tbuildVetConfig(a, srcfiles)\n+\tbuildVetConfig(a, srcfiles, vetDeps)\n \treturn nil\n }\n \n@@ -1197,7 +1197,7 @@ type vetConfig struct {\n \tSucceedOnTypecheckFailure bool // awful hack; see #18395 and below\n }\n \n-func buildVetConfig(a *Action, srcfiles []string) {\n+func buildVetConfig(a *Action, srcfiles []string, vetDeps []*Action) {\n \t// Classify files based on .go extension.\n \t// srcfiles does not include raw cgo files.\n \tvar gofiles, nongofiles []string\n@@ -1253,7 +1253,7 @@ func buildVetConfig(a *Action, srcfiles []string) {\n \t\tvcfgMapped[p] = true\n \t}\n \n-\tfor _, a1 := range a.Deps {\n+\tfor _, a1 := range vetDeps {\n \t\tp1 := a1.Package\n \t\tif p1 == nil || p1.ImportPath == \"\" || p1 == a.Package {\n \t\t\tcontinue"}, {"role": "assistant", "content": "refactor(work): pass vet deps explicitly to buildVetConfig"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/js/package.json\n\ndiff --git a/packages/js/package.json b/packages/js/package.json\nindex d88cea0f..d1fc9b8f 100644\n--- a/packages/js/package.json\n+++ b/packages/js/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@eslint/js\",\n-  \"version\": \"9.36.0\",\n+  \"version\": \"9.37.0\",\n   \"description\": \"ESLint JavaScript language implementation\",\n   \"funding\": \"https://eslint.org/donate\",\n   \"main\": \"./src/index.js\","}, {"role": "assistant", "content": "chore: package.json update for @eslint/js release"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/babel-types/src/definitions/core.ts\n\ndiff --git a/packages/babel-types/src/definitions/core.ts b/packages/babel-types/src/definitions/core.ts\nindex 0ab878800..f453798bd 100644\n--- a/packages/babel-types/src/definitions/core.ts\n+++ b/packages/babel-types/src/definitions/core.ts\n@@ -199,7 +199,7 @@ defineType(\"CallExpression\", {\n         : assertNodeType(\"TypeParameterInstantiation\"),\n       optional: true,\n     },\n-    ...(process.env.BABEL_8_BREAKING\n+    ...(process.env.BABEL_8_BREAKING || process.env.BABEL_TYPES_8_BREAKING\n       ? {}\n       : {\n           optional: {\n@@ -211,14 +211,6 @@ defineType(\"CallExpression\", {\n             optional: true,\n           },\n         }),\n-    ...(process.env.BABEL_TYPES_8_BREAKING\n-      ? {}\n-      : {\n-          optional: {\n-            validate: assertValueType(\"boolean\"),\n-            optional: true,\n-          },\n-        }),\n   },\n });\n \n@@ -1581,7 +1573,7 @@ defineType(\"ExportDefaultDeclaration\", {\n \n defineType(\"ExportNamedDeclaration\", {\n   builder: [\"declaration\", \"specifiers\", \"source\"],\n-  visitor: process.env\n+  visitor: process.env.BABEL_8_BREAKING\n     ? [\"declaration\", \"specifiers\", \"source\", \"attributes\"]\n     : [\"declaration\", \"specifiers\", \"source\", \"attributes\", \"assertions\"],\n   aliases: [\ndiff --git a/packages/babel-types/src/definitions/utils.ts b/packages/babel-types/src/definitions/utils.ts\nindex ef1bd782f..2814ec49e 100644\n--- a/packages/babel-types/src/definitions/utils.ts\n+++ b/packages/babel-types/src/definitions/utils.ts\n@@ -89,9 +89,10 @@ export function validateArrayOfType(...typeNames: NodeTypes[]) {\n }\n \n export function assertEach(callback: Validator): Validator {\n-  const childValidator = process.env.BABEL_TYPES_8_BREAKING\n-    ? validateChild\n-    : () => {};\n+  const childValidator =\n+    process.env.BABEL_8_BREAKING || process.env.BABEL_TYPES_8_BREAKING\n+      ? validateChild\n+      : () => {};\n \n   function validator(node: t.Node, key: string, val: any) {\n     if (!Array.isArray(val)) return;"}, {"role": "assistant", "content": "fix: `BABEL_TYPES_8_BREAKING` in Babel 8 (#17398)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/build_and_deploy.yml\n\ndiff --git a/.github/workflows/build_and_deploy.yml b/.github/workflows/build_and_deploy.yml\nindex e3d27faf6..245b92584 100644\n--- a/.github/workflows/build_and_deploy.yml\n+++ b/.github/workflows/build_and_deploy.yml\n@@ -680,37 +680,6 @@ jobs:\n       - run: exit 1\n         if: ${{ always() && (contains(needs.*.result, 'failure') || contains(needs.*.result, 'cancelled')) }}\n \n-  releaseStats:\n-    name: Release Stats\n-    runs-on:\n-      - 'self-hosted'\n-      - 'linux'\n-      - 'x64'\n-      - 'metal'\n-    timeout-minutes: 25\n-    needs: [publishRelease]\n-    steps:\n-      - uses: actions/checkout@v4\n-        with:\n-          fetch-depth: 25\n-\n-      - uses: actions/download-artifact@v4\n-        with:\n-          pattern: next-swc-binaries-*\n-          merge-multiple: true\n-          path: packages/next-swc/native\n-\n-      - run: cp -r packages/next-swc/native .github/actions/next-stats-action/native\n-\n-      - run: ./scripts/release-stats.sh\n-      - uses: ./.github/actions/next-stats-action\n-        env:\n-          PR_STATS_COMMENT_TOKEN: ${{ secrets.PR_STATS_COMMENT_TOKEN }}\n-          NEXT_SKIP_NATIVE_POSTINSTALL: 1\n-          # This uses the webpack bundle analyzer and for consistent results we need to use webpack.\n-          # Once there is an equivalent analyzer for turbopack, we can remove this.\n-          IS_WEBPACK_TEST: 1\n-\n   upload_turbopack_bytesize:\n     if: ${{ needs.deploy-target.outputs.value != 'automated-preview'}}\n     name: Upload Turbopack Bytesize metrics to Datadog\ndiff --git a/.github/workflows/pull_request_stats.yml b/.github/workflows/pull_request_stats.yml\nindex e3844178c..081768642 100644\n--- a/.github/workflows/pull_request_stats.yml\n+++ b/.github/workflows/pull_request_stats.yml\n@@ -1,8 +1,11 @@\n on:\n   pull_request:\n     types: [opened, synchronize]\n+  push:\n+    branches:\n+      - canary\n \n-name: Generate Pull Request Stats\n+name: Generate Stats\n \n concurrency:\n   group: ${{ github.workflow }}-${{ github.ref }}\n@@ -36,7 +39,7 @@ jobs:\n       uploadAnalyzerArtifacts: 'yes'\n \n   stats:\n-    name: PR Stats (${{ matrix.bundler }})\n+    name: Stats (${{ matrix.bundler }})\n     needs: build\n     timeout-minutes: 25\n     strategy:\n@@ -85,7 +88,7 @@ jobs:\n           retention-days: 1\n \n   stats-aggregate:\n-    name: Aggregate PR Stats\n+    name: Aggregate Stats\n     needs: stats\n     if: always() && needs.stats.result != 'cancelled'\n     runs-on: ubuntu-latest"}, {"role": "assistant", "content": "ci: run stats on canary pushes for historical trend tracking (#88157)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/src/use/configure/configuration-files.md\n\ndiff --git a/docs/src/use/configure/configuration-files.md b/docs/src/use/configure/configuration-files.md\nindex 330189b9..5bc0476b 100644\n--- a/docs/src/use/configure/configuration-files.md\n+++ b/docs/src/use/configure/configuration-files.md\n@@ -522,7 +522,7 @@ You can override this setting using the [`--report-unused-inline-configs`](../co\n \n ### Configuring Rules\n \n-You can configure any number of rules in a configuration object by add a `rules` property containing an object with your rule configurations. The names in this object are the names of the rules and the values are the configurations for each of those rules. Here's an example:\n+You can configure any number of rules in a configuration object by adding a `rules` property containing an object with your rule configurations. The names in this object are the names of the rules and the values are the configurations for each of those rules. Here's an example:\n \n ```js\n // eslint.config.js"}, {"role": "assistant", "content": "docs: fix typo in the \"Configuring Rules\" section (#20001)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/compiler/utilities.ts\n\ndiff --git a/src/compiler/utilities.ts b/src/compiler/utilities.ts\nindex 2edd5b024..9a757e7e2 100644\n--- a/src/compiler/utilities.ts\n+++ b/src/compiler/utilities.ts\n@@ -386,6 +386,7 @@ import {\n     mapDefined,\n     MapLike,\n     MemberName,\n+    memoize,\n     MetaProperty,\n     MethodDeclaration,\n     MethodSignature,\n@@ -1281,8 +1282,8 @@ export function getInternalEmitFlags(node: Node): InternalEmitFlags {\n export type ScriptTargetFeatures = ReadonlyMap<string, ReadonlyMap<string, string[]>>;\n \n /** @internal */\n-export function getScriptTargetFeatures(): ScriptTargetFeatures {\n-    return new Map(Object.entries({\n+export const getScriptTargetFeatures = /* @__PURE__ */ memoize((): ScriptTargetFeatures =>\n+    new Map(Object.entries({\n         Array: new Map(Object.entries({\n             es2015: [\n                 \"find\",\n@@ -1675,8 +1676,8 @@ export function getScriptTargetFeatures(): ScriptTargetFeatures {\n                 \"cause\",\n             ],\n         })),\n-    }));\n-}\n+    }))\n+);\n \n /** @internal */\n export const enum GetLiteralTextFlags {"}, {"role": "assistant", "content": "perf: reduce GC pressure by hoisting script target features object (#55484)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n script/lib/config.py\n\ndiff --git a/script/lib/config.py b/script/lib/config.py\nindex 6d60db6a..d2076fbd 100644\n--- a/script/lib/config.py\n+++ b/script/lib/config.py\n@@ -51,3 +51,12 @@ def get_zip_name(name, version, suffix=''):\n   if suffix:\n     zip_name += '-' + suffix\n   return zip_name + '.zip'\n+\n+def get_tar_name(name, version, suffix=''):\n+  arch = get_target_arch()\n+  if arch == 'arm':\n+    arch += 'v7l'\n+  zip_name = f'{name}-{version}-{get_platform_key()}-{arch}'\n+  if suffix:\n+    zip_name += '-' + suffix\n+  return zip_name + '.tar.xz'\ndiff --git a/script/release/uploaders/upload.py b/script/release/uploaders/upload.py\nindex cf1bb3c0..36b5a3dd 100755\n--- a/script/release/uploaders/upload.py\n+++ b/script/release/uploaders/upload.py\n@@ -16,7 +16,7 @@ sys.path.append(\n \n from zipfile import ZipFile\n from lib.config import PLATFORM, get_target_arch, \\\n-                       get_zip_name, set_verbose_mode, \\\n+                       get_zip_name, get_tar_name, set_verbose_mode, \\\n                        is_verbose_mode, get_platform_key, \\\n                        verbose_mode_print\n from lib.util import get_electron_branding, execute, get_electron_version, \\\n@@ -33,7 +33,8 @@ OUT_DIR = get_out_dir()\n \n DIST_NAME = get_zip_name(PROJECT_NAME, ELECTRON_VERSION)\n SYMBOLS_NAME = get_zip_name(PROJECT_NAME, ELECTRON_VERSION, 'symbols')\n-DSYM_NAME = get_zip_name(PROJECT_NAME, ELECTRON_VERSION, 'dsym')\n+# Use tar.xz compression for dsym files due to size\n+DSYM_NAME = get_tar_name(PROJECT_NAME, ELECTRON_VERSION, 'dsym')\n DSYM_SNAPSHOT_NAME = get_zip_name(PROJECT_NAME, ELECTRON_VERSION,\n                                   'dsym-snapshot')\n PDB_NAME = get_zip_name(PROJECT_NAME, ELECTRON_VERSION, 'pdb')"}, {"role": "assistant", "content": "build: correct uploader copy for tar files (#48953)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/src/extend/custom-formatters.md\n\ndiff --git a/docs/src/extend/custom-formatters.md b/docs/src/extend/custom-formatters.md\nindex 6f2c40eb..e5adc965 100644\n--- a/docs/src/extend/custom-formatters.md\n+++ b/docs/src/extend/custom-formatters.md\n@@ -44,7 +44,7 @@ The remainder of this section contains reference information on how to work with\n \n ### The `results` Argument\n \n-The `results` object passed into a formatter is an array of [`result`](#the-result-object) objects containing the linting results for individual files. Here's an example output:\n+The `results` object passed into a formatter is an array of [`LintResult`](../integrate/nodejs-api#-lintresult-type) objects containing the linting results for individual files. Here's an example output:\n \n ```js\n [\n@@ -85,32 +85,6 @@ The `results` object passed into a formatter is an array of [`result`](#the-resu\n ];\n ```\n \n-#### The `result` Object\n-\n-<!-- This section is copied from the \"Node.js API\" page. Changes to this section should\n-also be manually applied to that page. -->\n-\n-Each object in the `results` array is a `result` object. Each `result` object contains the path of the file that was linted and information about linting issues that were encountered. Here are the properties available on each `result` object:\n-\n-- **filePath**: The absolute path to the file that was linted.\n-- **messages**: An array of [`message`](#the-message-object) objects. See below for more info about messages.\n-- **errorCount**: The number of errors for the given file.\n-- **warningCount**: The number of warnings for the given file.\n-- **stats**: The optional [`stats`](./stats#-stats-type) object that only exists when the `stats` option is used.\n-- **source**: The source code for the given file. This property is omitted if this file has no errors/warnings or if the `output` property is present.\n-- **output**: The source code for the given file with as many fixes applied as possible. This property is omitted if no fix is available.\n-\n-##### The `message` Object\n-\n-Each `message` object contains information about the ESLint rule that was triggered by some source code. The properties available on each `message` object are:\n-\n-- **ruleId**: the ID of the rule that produced the error or warning. If the error or warning was not produced by a rule (for example, if it's a parsing error), this is `null`.\n-- **severity**: the severity of the failure, `1` for warnings and `2` for errors.\n-- **message**: the human readable description of the error.\n-- **line**: the line where the issue is located.\n-- **column**: the column where the issue is located.\n-- **nodeType**: (**Deprecated:** This property will be removed in a future version of ESLint.) the type of the node in the [AST](https://github.com/estree/estree/blob/master/es5.md#node-objects) or `null` if the issue isn't related to a particular AST node.\n-\n ### The `context` Argument\n \n The formatter function receives a `context` object as its second argument. The object has the following properties:\ndiff --git a/docs/src/use/command-line-interface.md b/docs/src/use/command-line-interface.md\nindex f7aa1391..dcc41167 100644\n--- a/docs/src/use/command-line-interface.md\n+++ b/docs/src/use/command-line-interface.md\n@@ -1070,7 +1070,7 @@ This option outputs the configuration to be used for the file passed. When prese\n \n #### `--stats`\n \n-This option adds a series of detailed performance statistics (see [Stats type](../extend/stats#-stats-type)) such as the _parse_-, _fix_- and _lint_-times (time per rule) to [`result`](../extend/custom-formatters#the-result-object) objects that are passed to the formatter (see [Stats CLI usage](../extend/stats#cli-usage)).\n+This option adds a series of detailed performance statistics (see [Stats type](../extend/stats#-stats-type)) such as the _parse_-, _fix_- and _lint_-times (time per rule) to [`result`](../integrate/nodejs-api#-lintresult-type) objects that are passed to the formatter (see [Stats CLI usage](../extend/stats#cli-usage)).\n \n - **Argument Type**: No argument."}, {"role": "assistant", "content": "docs: move `custom-formatters` type descriptions to `nodejs-api` (#20190)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/Troubleshooting.md\n\ndiff --git a/docs/Troubleshooting.md b/docs/Troubleshooting.md\nindex c20f0d10..06601529 100644\n--- a/docs/Troubleshooting.md\n+++ b/docs/Troubleshooting.md\n@@ -54,7 +54,7 @@ function todos(state = [], action) {\n     case 'COMPLETE_TODO':\n       // Return a new array\n       return state.map((todo, index) => {\n-        if(index === action.index) {\n+        if (index === action.index) {\n           // Copy the object before mutating\n           return Object.assign({}, todo, {\n             completed: true\n@@ -73,7 +73,7 @@ It\u2019s more code, but it\u2019s exactly what makes Redux predictable and efficient.\n ```js\n // Before:\n return state.map((todo, index) => {\n-  if(index === action.index) {\n+  if (index === action.index) {\n     return Object.assign({}, todo, {\n       completed: true\n     })\n@@ -100,7 +100,7 @@ You can also enable the [object spread operator proposal](recipes/UsingObjectSpr\n ```js\n // Before:\n return state.map((todo, index) => {\n-  if(index === action.index) {\n+  if (index === action.index) {\n     return Object.assign({}, todo, {\n       completed: true\n     })\n@@ -110,7 +110,7 @@ return state.map((todo, index) => {\n \n // After:\n return state.map((todo, index) => {\n-  if(index === action.index) {\n+  if (index === action.index) {\n     return { ...todo, completed: true }\n   }\n   return todo\ndiff --git a/docs/basics/Reducers.md b/docs/basics/Reducers.md\nindex 4fa88b3f..733fe4ad 100644\n--- a/docs/basics/Reducers.md\n+++ b/docs/basics/Reducers.md\n@@ -148,7 +148,7 @@ Finally, the implementation of the `COMPLETE_TODO` handler shouldn\u2019t come as a\n case COMPLETE_TODO:\n   return Object.assign({}, state, {\n     todos: state.todos.map((todo, index) => {\n-      if(index === action.index) {\n+      if (index === action.index) {\n         return Object.assign({}, todo, {\n           completed: true\n         })\n@@ -213,7 +213,7 @@ function todos(state = [], action) {\n       ]\n     case COMPLETE_TODO:\n       return state.map(todo, index) => {\n-        if(index === action.index) {\n+        if (index === action.index) {\n           return Object.assign({}, todo, {\n             completed: true\n           })\n@@ -272,7 +272,7 @@ function todos(state = [], action) {\n       ]\n     case COMPLETE_TODO:\n       return state.map((todo, index) => {\n-        if(index === action.index) {\n+        if (index === action.index) {\n           return Object.assign({}, todo, {\n             completed: true\n           })\n@@ -394,7 +394,7 @@ function todos(state = [], action) {\n       ]\n     case COMPLETE_TODO:\n       return state.map((todo, index) => {\n-        if(index === action.index) {\n+        if (index === action.index) {\n           return Object.assign({}, todo, {\n             completed: true\n           })\ndiff --git a/docs/introduction/ThreePrinciples.md b/docs/introduction/ThreePrinciples.md\nindex 54cbd175..b76f87e9 100644\n--- a/docs/introduction/ThreePrinciples.md\n+++ b/docs/introduction/ThreePrinciples.md\n@@ -75,7 +75,7 @@ function todos(state = [], action) {\n       ]\n     case 'COMPLETE_TODO':\n       return state.map((todo, index) => {\n-        if(index === action.index) {\n+        if (index === action.index) {\n           return Object.assign({}, todo, {\n             completed: true\n           })"}, {"role": "assistant", "content": "docs: add whitespace after if according code style"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n examples/source-mapping-url/README.md\n\ndiff --git a/examples/source-mapping-url/README.md b/examples/source-mapping-url/README.md\nindex 5e9b0223e..4acb7d190 100644\n--- a/examples/source-mapping-url/README.md\n+++ b/examples/source-mapping-url/README.md\n@@ -1,4 +1,4 @@\n-This example demonstrates various types of source-maps.\n+This example demonstrates how to configure Webpack to parse `sourceMappingURL` and extract source maps.\n \n # example.js"}, {"role": "assistant", "content": "docs: fix example title (#19858)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n package.json\n\ndiff --git a/package.json b/package.json\nindex a9066eb3..818062df 100644\n--- a/package.json\n+++ b/package.json\n@@ -23,7 +23,7 @@\n     \"build\": \"node scripts/build.js\",\n     \"build:ssr\": \"npm run build -- web-runtime-cjs,web-server-renderer\",\n     \"build:types\": \"rimraf temp && tsc --declaration --emitDeclarationOnly --outDir temp && api-extractor run\",\n-    \"test\": \"npm run lint && npm run ts-check && npm run test:types && npm run test:unit && npm run test:e2e\",\n+    \"test\": \"npm run ts-check && npm run test:types && npm run test:unit && npm run test:e2e && npm run test:ssr\",\n     \"test:unit\": \"vitest run test/unit\",\n     \"test:ssr\": \"npm run build:ssr && vitest run test/ssr\",\n     \"test:e2e\": \"npm run build -- web-full-prod,web-server-renderer-basic && vitest run test/e2e\","}, {"role": "assistant", "content": "chore: fix test script [ci skip]"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/en/docs/release-notes.md | 4 ++++\n 1 file changed, 4 insertions(+)\n\ndiff --git a/docs/en/docs/release-notes.md b/docs/en/docs/release-notes.md\nindex 50a83da..c4b88a4 100644\n--- a/docs/en/docs/release-notes.md\n+++ b/docs/en/docs/release-notes.md\n@@ -7,6 +7,10 @@ hide:\n \n ## Latest Changes\n \n+### Translations\n+\n+* \ud83d\udd27 Add LLM prompt file for Simplified Chinese, generated from the existing translations. PR [#14549](https://github.com/fastapi/fastapi/pull/14549) by [@tiangolo](https://github.com/tiangolo).\n+\n ### Internal\n \n * \ud83d\udc77 Do not run translations on cron while finishing updating existing languages. PR [#14613](https://github.com/fastapi/fastapi/pull/14613) by [@tiangolo](https://github.com/tiangolo)."}, {"role": "assistant", "content": "docs: add chinese translation prompt to release notes"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/nodejs.yml\n\ndiff --git a/.github/workflows/nodejs.yml b/.github/workflows/nodejs.yml\nindex 9a097ff6..9a022d66 100644\n--- a/.github/workflows/nodejs.yml\n+++ b/.github/workflows/nodejs.yml\n@@ -48,7 +48,7 @@ jobs:\n       - name: ts integration\n         run: yarn test-ts --selectProjects ts-integration\n       - name: type tests\n-        run: yarn tstyche --target 5.0,latest && yarn test-ts --selectProjects type-tests\n+        run: yarn tstyche --target 5.0,current && yarn test-ts --selectProjects type-tests\n       - name: verify TypeScript@5.0 compatibility\n         run: yarn verify-old-ts\n       - name: run ESLint with type info\ndiff --git a/package.json b/package.json\nindex 0dfca023..8e92c421 100644\n--- a/package.json\n+++ b/package.json\n@@ -80,7 +80,7 @@\n     \"strip-json-comments\": \"^3.1.1\",\n     \"tempy\": \"^1.0.0\",\n     \"ts-node\": \"^10.5.0\",\n-    \"tstyche\": \"^1.0.0-beta.6\",\n+    \"tstyche\": \"^1.0.0-beta.9\",\n     \"typescript\": \"^5.0.4\",\n     \"webpack\": \"^5.68.0\",\n     \"webpack-node-externals\": \"^3.0.0\",\ndiff --git a/yarn.lock b/yarn.lock\nindex dd4c4395..6d1687a8 100644\n--- a/yarn.lock\n+++ b/yarn.lock\n@@ -3076,7 +3076,7 @@ __metadata:\n     strip-json-comments: ^3.1.1\n     tempy: ^1.0.0\n     ts-node: ^10.5.0\n-    tstyche: ^1.0.0-beta.6\n+    tstyche: ^1.0.0-beta.9\n     typescript: ^5.0.4\n     webpack: ^5.68.0\n     webpack-node-externals: ^3.0.0\n@@ -20245,9 +20245,9 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n-\"tstyche@npm:^1.0.0-beta.6\":\n-  version: 1.0.0-beta.7\n-  resolution: \"tstyche@npm:1.0.0-beta.7\"\n+\"tstyche@npm:^1.0.0-beta.9\":\n+  version: 1.0.0-beta.9\n+  resolution: \"tstyche@npm:1.0.0-beta.9\"\n   peerDependencies:\n     typescript: 4.x || 5.x\n   peerDependenciesMeta:\n@@ -20255,7 +20255,7 @@ __metadata:\n       optional: true\n   bin:\n     tstyche: ./build/bin.js\n-  checksum: 7ae37a03d84b971b5ed9d88907959c2c9e34b7c1560b359a9483c0932b827ac05497367f8d2f28d476ce275d2bdc485486d17de63aa3d161ee16a66ecc0e165a\n+  checksum: 448171bd7d747e4463c8d4bde67a05b16300fba098e07cb576c64fe1524dedcb02f087e5291be35d883d06fa70a61d7c313ca07cc33e43fd104fcf6246cc97e6\n   languageName: node\n   linkType: hard"}, {"role": "assistant", "content": "chore: bump TSTyche (#14834)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/MockFunctionAPI.md\n\ndiff --git a/docs/MockFunctionAPI.md b/docs/MockFunctionAPI.md\nindex 42dbf440..623fa81b 100644\n--- a/docs/MockFunctionAPI.md\n+++ b/docs/MockFunctionAPI.md\n@@ -19,6 +19,32 @@ import TOCInline from '@theme/TOCInline';\n \n ## Reference\n \n+### `mockFn.getMockImplementation()`\n+\n+Returns the current implementation of the mock function set by [`mockImplementation()`](#mockfnmockimplementationfn). Returns `undefined` if no implementation has been set.\n+\n+```js tab\n+const mockFn = jest.fn();\n+\n+mockFn.getMockImplementation(); // undefined\n+\n+mockFn.mockImplementation(() => 42);\n+\n+mockFn.getMockImplementation(); // () => 42\n+```\n+\n+```ts tab\n+import {jest} from '@jest/globals';\n+\n+const mockFn = jest.fn<() => number>();\n+\n+mockFn.getMockImplementation(); // undefined\n+\n+mockFn.mockImplementation(() => 42);\n+\n+mockFn.getMockImplementation(); // () => 42\n+```\n+\n ### `mockFn.getMockName()`\n \n Returns the mock name string set by calling [`.mockName()`](#mockfnmocknamename)."}, {"role": "assistant", "content": "docs: Document getMockImplementation() (#15766)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n lib/rule-tester/rule-tester.js\n\ndiff --git a/lib/rule-tester/rule-tester.js b/lib/rule-tester/rule-tester.js\nindex cf6b037f..39c6353e 100644\n--- a/lib/rule-tester/rule-tester.js\n+++ b/lib/rule-tester/rule-tester.js\n@@ -700,10 +700,10 @@ function buildLazyTestLocationEstimator(invoker) {\n \n \t\t\t\t// Roots\n \t\t\t\tconst validStartIndex = content.findIndex(line =>\n-\t\t\t\t\t/\\bvalid:/u.test(line),\n+\t\t\t\t\t/\\bvalid\\s*:/u.test(line),\n \t\t\t\t);\n \t\t\t\tconst invalidStartIndex = content.findIndex(line =>\n-\t\t\t\t\t/\\binvalid:/u.test(line),\n+\t\t\t\t\t/\\binvalid\\s*:/u.test(line),\n \t\t\t\t);\n \n \t\t\t\ttestLocations.valid = `${sourceFile}:${\ndiff --git a/tests/lib/rule-tester/rule-tester.js b/tests/lib/rule-tester/rule-tester.js\nindex dac4c562..0f261117 100644\n--- a/tests/lib/rule-tester/rule-tester.js\n+++ b/tests/lib/rule-tester/rule-tester.js\n@@ -6967,6 +6967,30 @@ describe(\"RuleTester\", () => {\n \t\t\t\t\t);\n \t\t\t\t}\n \t\t\t});\n+\n+\t\t\tit(\"should report the correct location for errors in simple test cases with space after 'valid'\", () => {\n+\t\t\t\tconst lineNumber = getInvocationLineNumber();\n+\t\t\t\ttry {\n+\t\t\t\t\truleTester.run(\n+\t\t\t\t\t\t\"no-eval\",\n+\t\t\t\t\t\trequire(\"../../fixtures/testers/rule-tester/no-eval\"),\n+\t\t\t\t\t\t// prettier-ignore\n+\t\t\t\t\t\t{\n+\t\t\t\t\t\t\tvalid   : [\"eval(foo)\"],\n+\t\t\t\t\t\t\tinvalid : [],\n+\t\t\t\t\t\t},\n+\t\t\t\t\t);\n+\t\t\t\t\tassert.fail(\"Expected an error to be thrown\");\n+\t\t\t\t} catch (error) {\n+\t\t\t\t\tconst normalizedStack = normalizeStack(error);\n+\t\t\t\t\tassertStackLines(\n+\t\t\t\t\t\tnormalizedStack,\n+\t\t\t\t\t\t`    roughly at RuleTester.run.valid[0] (tests/lib/rule-tester/rule-tester.js:${lineNumber + 7})`,\n+\t\t\t\t\t\t`    roughly at RuleTester.run.valid (tests/lib/rule-tester/rule-tester.js:${lineNumber + 7})`,\n+\t\t\t\t\t\t`    at RuleTester.run (tests/lib/rule-tester/rule-tester.js:${lineNumber + 2}:17)`,\n+\t\t\t\t\t);\n+\t\t\t\t}\n+\t\t\t});\n \t\t});\n \n \t\tdescribe(\"invalid\", () => {\n@@ -7267,6 +7291,35 @@ describe(\"RuleTester\", () => {\n \t\t\t\t\t);\n \t\t\t\t}\n \t\t\t});\n+\n+\t\t\tit(\"should report the correct location for errors in simple test cases with space after 'invalid'\", () => {\n+\t\t\t\tconst lineNumber = getInvocationLineNumber();\n+\t\t\t\ttry {\n+\t\t\t\t\truleTester.run(\n+\t\t\t\t\t\t\"no-eval\",\n+\t\t\t\t\t\trequire(\"../../fixtures/testers/rule-tester/no-eval\"),\n+\t\t\t\t\t\t// prettier-ignore\n+\t\t\t\t\t\t{\n+\t\t\t\t\t\t\tvalid : [],\n+\t\t\t\t\t\t\tinvalid : [\n+\t\t\t\t\t\t\t\t{\n+\t\t\t\t\t\t\t\t\tcode: \"eval(foo);\\neval(bar);\",\n+\t\t\t\t\t\t\t\t\terrors: 1,\n+\t\t\t\t\t\t\t\t},\n+\t\t\t\t\t\t\t],\n+\t\t\t\t\t\t},\n+\t\t\t\t\t);\n+\t\t\t\t\tassert.fail(\"Expected an error to be thrown\");\n+\t\t\t\t} catch (error) {\n+\t\t\t\t\tconst normalizedStack = normalizeStack(error);\n+\t\t\t\t\tassertStackLines(\n+\t\t\t\t\t\tnormalizedStack,\n+\t\t\t\t\t\t`    roughly at RuleTester.run.invalid[0] (tests/lib/rule-tester/rule-tester.js:${lineNumber + 11})`,\n+\t\t\t\t\t\t`    roughly at RuleTester.run.invalid (tests/lib/rule-tester/rule-tester.js:${lineNumber + 8})`,\n+\t\t\t\t\t\t`    at RuleTester.run (tests/lib/rule-tester/rule-tester.js:${lineNumber + 2}:17)`,\n+\t\t\t\t\t);\n+\t\t\t\t}\n+\t\t\t});\n \t\t});\n \t});\n });"}, {"role": "assistant", "content": "fix: handle space before colon in `RuleTester` location estimation (#20433)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/03-api-reference/04-functions/cookies.mdx\n\ndiff --git a/docs/01-app/03-api-reference/04-functions/cookies.mdx b/docs/01-app/03-api-reference/04-functions/cookies.mdx\nindex 936a7f3a8..46066d442 100644\n--- a/docs/01-app/03-api-reference/04-functions/cookies.mdx\n+++ b/docs/01-app/03-api-reference/04-functions/cookies.mdx\n@@ -38,7 +38,6 @@ The following methods are available:\n | `has('name')`               | Boolean          | Accepts a cookie name and returns a boolean based on if the cookie exists.      |\n | `set(name, value, options)` | -                | Accepts a cookie name, value, and options and sets the outgoing request cookie. |\n | `delete(name)`              | -                | Accepts a cookie name and deletes the cookie.                                   |\n-| `clear()`                   | -                | Deletes all cookies.                                                            |\n | `toString()`                | String           | Returns a string representation of the cookies.                                 |\n \n ### Options\n@@ -80,7 +79,7 @@ When working with cookies in Server Components, it's important to understand tha\n - **Reading cookies** works in Server Components because you're accessing the cookie data that the client's browser sends to the server in the HTTP request headers.\n - **Setting cookies** cannot be done directly in a Server Component, even when using a Route Handler or Server Action. This is because cookies are actually stored by the browser, not the server.\n \n-The server can only send instructions (via `Set-Cookie` headers) to tell the browser to store cookies - the actual storage happens on the client side. This is why cookie operations that modify state (`.set`, `.delete`, `.clear`) must be performed in a Route Handler or Server Action where the response headers can be properly set.\n+The server can only send instructions (via `Set-Cookie` headers) to tell the browser to store cookies - the actual storage happens on the client side. This is why cookie operations that modify state (`.set`, `.delete`) must be performed in a Route Handler or Server Action where the response headers can be properly set.\n \n ## Understanding Cookie Behavior in Server Actions\n \ndiff --git a/docs/01-app/03-api-reference/04-functions/next-request.mdx b/docs/01-app/03-api-reference/04-functions/next-request.mdx\nindex 9af185fae..7b1fbee0d 100644\n--- a/docs/01-app/03-api-reference/04-functions/next-request.mdx\n+++ b/docs/01-app/03-api-reference/04-functions/next-request.mdx\n@@ -67,7 +67,7 @@ request.cookies.has('experiments')\n \n ### `clear()`\n \n-Remove the `Set-Cookie` header from the request.\n+Remove all cookies from the request.\n \n ```ts\n request.cookies.clear()\ndiff --git a/docs/01-app/03-api-reference/04-functions/next-response.mdx b/docs/01-app/03-api-reference/04-functions/next-response.mdx\nindex 8d7bad00e..8b4fe84b9 100644\n--- a/docs/01-app/03-api-reference/04-functions/next-response.mdx\n+++ b/docs/01-app/03-api-reference/04-functions/next-response.mdx\n@@ -51,6 +51,17 @@ response.cookies.getAll('experiments')\n response.cookies.getAll()\n ```\n \n+### `has(name)`\n+\n+Given a cookie name, return `true` if the cookie exists on the response.\n+\n+```ts\n+// Given incoming request /home\n+let response = NextResponse.next()\n+// Returns true if cookie exists, false if it does not\n+response.cookies.has('experiments')\n+```\n+\n ### `delete(name)`\n \n Given a cookie name, delete the cookie from the response."}, {"role": "assistant", "content": "docs: cookie clear and has alignment (#86788)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/pull-request-labeled.yml\n\ndiff --git a/.github/workflows/pull-request-labeled.yml b/.github/workflows/pull-request-labeled.yml\nindex 51bfcb86..7cb86e30 100644\n--- a/.github/workflows/pull-request-labeled.yml\n+++ b/.github/workflows/pull-request-labeled.yml\n@@ -19,7 +19,10 @@ jobs:\n           webhook-type: webhook-trigger\n           payload: |\n             {\n-              \"url\": \"${{ github.event.pull_request.html_url }}\"\n+              \"base_ref\": ${{ toJSON(github.event.pull_request.base.ref) }},\n+              \"title\": ${{ toJSON(github.event.pull_request.title) }},\n+              \"url\": ${{ toJSON(github.event.pull_request.html_url) }},\n+              \"user\": ${{ toJSON(github.event.pull_request.user.login) }}\n             }\n   pull-request-labeled-deprecation-review-complete:\n     name: deprecation-review/complete label added"}, {"role": "assistant", "content": "ci: add more fields to Slack payload for backport requested message (#48148)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/js/package.json\n\ndiff --git a/packages/js/package.json b/packages/js/package.json\nindex 0653097a..0901af00 100644\n--- a/packages/js/package.json\n+++ b/packages/js/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@eslint/js\",\n-  \"version\": \"9.33.0\",\n+  \"version\": \"9.34.0\",\n   \"description\": \"ESLint JavaScript language implementation\",\n   \"funding\": \"https://eslint.org/donate\",\n   \"main\": \"./src/index.js\","}, {"role": "assistant", "content": "chore: package.json update for @eslint/js release"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/template-compiler/README.md\n\ndiff --git a/packages/template-compiler/README.md b/packages/template-compiler/README.md\nindex fa0a64bb..ac14f72e 100644\n--- a/packages/template-compiler/README.md\n+++ b/packages/template-compiler/README.md\n@@ -130,7 +130,7 @@ This is only useful at runtime with pre-configured builds, so it doesn't accept\n \n Same as `compiler.compile` but generates SSR-specific render function code by optimizing parts of the template into string concatenation in order to improve SSR performance.\n \n-This is used by default in `vue-loader@>=12` and can be disabled using the [`optimizeSSR`](https://vue-loader.vuejs.org/en/options.html#optimizessr) option.\n+This is used by default in `vue-loader@>=12` and can be disabled using the [`optimizeSSR`](https://vue-loader.vuejs.org/options.html#optimizessr) option.\n \n ---"}, {"role": "assistant", "content": "chore: fix link broken (#13192)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/test.yml\n\ndiff --git a/.github/workflows/test.yml b/.github/workflows/test.yml\nindex 455440cb7..ff1edb359 100644\n--- a/.github/workflows/test.yml\n+++ b/.github/workflows/test.yml\n@@ -173,7 +173,8 @@ jobs:\n       - name: Use Node.js ${{ matrix.node-version }}\n         uses: actions/setup-node@v4\n         with:\n-          node-version: ${{ matrix.node-version }}\n+          # TODO: Remove version override when https://github.com/nodejs/node/issues/59480 is fixed\n+          node-version: ${{ matrix.node-version == '24.x' && '24.5.0' || matrix.node-version }}\n           architecture: ${{ steps.calculate_architecture.outputs.result }}\n           cache: \"yarn\"\n       # Install old `jest` version and deps for legacy node versions"}, {"role": "assistant", "content": "ci: pin Node.js 24.x to 24.5.0 in CI workflow (#19813)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/build_reusable.yml\n\ndiff --git a/.github/workflows/build_reusable.yml b/.github/workflows/build_reusable.yml\nindex b950cfa9a..fa989b5c0 100644\n--- a/.github/workflows/build_reusable.yml\n+++ b/.github/workflows/build_reusable.yml\n@@ -314,6 +314,7 @@ jobs:\n               --service nextjs \\\n               --tags test.type:nextjs \\\n               --tags test_session.name:\"${{ inputs.stepName }}\" \\\n+              --tags runner.name:\"${{ runner.name }}\" \\\n               ./test/test-junit-report\n           fi\n           if [ -d ./test/turbopack-test-junit-report ]; then\n@@ -321,6 +322,7 @@ jobs:\n               --service nextjs \\\n               --tags test.type:turbopack \\\n               --tags test_session.name:\"${{ inputs.stepName }}\" \\\n+              --tags runner.name:\"${{ runner.name }}\" \\\n               ./test/turbopack-test-junit-report\n           fi"}, {"role": "assistant", "content": "ci: track runner name on datadog test reports (#87440)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/test.yml\n\ndiff --git a/.github/workflows/test.yml b/.github/workflows/test.yml\nindex 6f6cae31b..5e3a4c470 100644\n--- a/.github/workflows/test.yml\n+++ b/.github/workflows/test.yml\n@@ -109,7 +109,7 @@ jobs:\n         with:\n           path: .jest-cache\n           key: jest-unit-${{ env.GITHUB_SHA }}\n-          restore-keys: jest-unit-${{ runner.os }}-${{ matrix.node-version }}\n+          restore-keys: jest-unit-${{ hashFiles('**/yarn.lock', '**/jest.config.js') }}\n \n       - run: yarn cover:unit --ci --cacheDirectory .jest-cache\n \n@@ -206,7 +206,7 @@ jobs:\n         with:\n           path: .jest-cache\n           key: jest-integration-${{ env.GITHUB_SHA }}\n-          restore-keys: jest-integration-${{ runner.os }}-${{ matrix.node-version }}-${{ matrix.part }}\n+          restore-keys: jest-integration-${{ hashFiles('**/yarn.lock', '**/jest.config.js') }}\n \n       - run: yarn cover:integration:${{ matrix.part }} --ci --cacheDirectory .jest-cache || yarn cover:integration:${{ matrix.part }} --ci --cacheDirectory .jest-cache -f"}, {"role": "assistant", "content": "ci: revert the changes to test.yml (#20175)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/actions/build-electron/action.yml\n\ndiff --git a/.github/actions/build-electron/action.yml b/.github/actions/build-electron/action.yml\nindex 83b56557..51b1a1b0 100644\n--- a/.github/actions/build-electron/action.yml\n+++ b/.github/actions/build-electron/action.yml\n@@ -63,6 +63,13 @@ runs:\n         NINJA_SUMMARIZE_BUILD=1 e build\n         cp out/Default/.ninja_log out/electron_ninja_log\n         node electron/script/check-symlinks.js\n+\n+        # Upload build stats to Datadog\n+        if ! [ -z $DD_API_KEY ]; then\n+          npx node electron/script/build-stats.mjs out/Default/siso.INFO --upload-stats || true\n+        else\n+          echo \"Skipping build-stats.mjs upload because DD_API_KEY is not set\"\n+        fi\n     - name: Build Electron dist.zip ${{ inputs.step-suffix }}\n       shell: bash\n       run: |\ndiff --git a/.github/workflows/pipeline-segment-electron-build.yml b/.github/workflows/pipeline-segment-electron-build.yml\nindex f0f0e767..154b3b73 100644\n--- a/.github/workflows/pipeline-segment-electron-build.yml\n+++ b/.github/workflows/pipeline-segment-electron-build.yml\n@@ -66,6 +66,7 @@ concurrency:\n env:\n   CHROMIUM_GIT_COOKIE: ${{ secrets.CHROMIUM_GIT_COOKIE }}\n   CHROMIUM_GIT_COOKIE_WINDOWS_STRING: ${{ secrets.CHROMIUM_GIT_COOKIE_WINDOWS_STRING }}\n+  DD_API_KEY: ${{ secrets.DD_API_KEY }}\n   ELECTRON_ARTIFACTS_BLOB_STORAGE: ${{ secrets.ELECTRON_ARTIFACTS_BLOB_STORAGE }}\n   ELECTRON_RBE_JWT: ${{ secrets.ELECTRON_RBE_JWT }}\n   SUDOWOODO_EXCHANGE_URL: ${{ secrets.SUDOWOODO_EXCHANGE_URL }}\n@@ -84,6 +85,7 @@ jobs:\n     environment: ${{ inputs.environment }}\n     env:\n       TARGET_ARCH: ${{ inputs.target-arch }}\n+      TARGET_PLATFORM: ${{ inputs.target-platform }}\n     steps:\n     - name: Create src dir\n       run: |\ndiff --git a/script/build-stats.mjs b/script/build-stats.mjs\nnew file mode 100644\nindex 00000000..ff09b84f\n--- /dev/null\n+++ b/script/build-stats.mjs\n@@ -0,0 +1,90 @@\n+import * as fs from 'node:fs/promises';\n+import { fileURLToPath } from 'node:url';\n+import { parseArgs } from 'node:util';\n+\n+async function main () {\n+  const { positionals: [filename], values: { 'upload-stats': uploadStats } } = parseArgs({\n+    allowPositionals: true,\n+    options: {\n+      'upload-stats': {\n+        type: 'boolean',\n+        default: false\n+      }\n+    }\n+  });\n+\n+  if (!filename) {\n+    throw new Error('filename is required (should be a siso.INFO file)');\n+  }\n+\n+  const log = await fs.readFile(filename, 'utf-8');\n+\n+  // We expect to find a line which looks like stats=build.Stats{..., CacheHit:39008, Local:4778, Remote:0, LocalFallback:0, ...}\n+  const match = log.match(/stats=build\\.Stats{(.*)}/);\n+\n+  if (!match) {\n+    throw new Error('could not find stats=build.Stats in log');\n+  }\n+\n+  const stats = Object.fromEntries(match[1].split(',').map(part => {\n+    const [key, value] = part.trim().split(':');\n+    return [key, parseInt(value)];\n+  }));\n+  const hitRate = stats.CacheHit / (stats.Remote + stats.CacheHit + stats.LocalFallback);\n+\n+  console.log(`Effective cache hit rate: ${(hitRate * 100).toFixed(2)}%`);\n+\n+  if (uploadStats) {\n+    if (!process.env.DD_API_KEY) {\n+      throw new Error('DD_API_KEY is not set');\n+    }\n+\n+    const timestamp = Math.round(new Date().getTime() / 1000);\n+\n+    const tags = [];\n+\n+    if (process.env.TARGET_ARCH) tags.push(`target-arch:${process.env.TARGET_ARCH}`);\n+    if (process.env.TARGET_PLATFORM) tags.push(`target-platform:${process.env.TARGET_PLATFORM}`);\n+    if (process.env.GITHUB_HEAD_REF) tags.push(`branch:${process.env.GITHUB_HEAD_REF}`);\n+\n+    const series = [\n+      {\n+        metric: 'electron.build.effective-cache-hit-rate',\n+        points: [{ timestamp, value: (hitRate * 100).toFixed(2) }],\n+        type: 3, // GAUGE\n+        unit: 'percent',\n+        tags\n+      }\n+    ];\n+\n+    // Add all raw stats as individual metrics\n+    for (const [key, value] of Object.entries(stats)) {\n+      series.push({\n+        metric: `electron.build.stats.${key.toLowerCase()}`,\n+        points: [{ timestamp, value }],\n+        type: 1, // COUNT\n+        tags\n+      });\n+    }\n+\n+    await fetch('https://api.datadoghq.com/api/v2/series', {\n+      method: 'POST',\n+      headers: {\n+        'Content-Type': 'application/json',\n+        'DD-API-KEY': process.env.DD_API_KEY\n+      },\n+      body: JSON.stringify({ series })\n+    });\n+  }\n+}\n+\n+if ((await fs.realpath(process.argv[1])) === fileURLToPath(import.meta.url)) {\n+  main()\n+    .then(() => {\n+      process.exit(0);\n+    })\n+    .catch((err) => {\n+      console.error(`ERROR: ${err.message}`);\n+      process.exit(1);\n+    });\n+}"}, {"role": "assistant", "content": "ci: upload build effective cache hit rate stats to Datadog (#48509)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/03-api-reference/03-file-conventions/instrumentation.mdx\n\ndiff --git a/docs/01-app/03-api-reference/03-file-conventions/instrumentation.mdx b/docs/01-app/03-api-reference/03-file-conventions/instrumentation.mdx\nindex 88522f176..f98bf6aef 100644\n--- a/docs/01-app/03-api-reference/03-file-conventions/instrumentation.mdx\n+++ b/docs/01-app/03-api-reference/03-file-conventions/instrumentation.mdx\n@@ -88,7 +88,7 @@ export function onRequestError(\n   request: {\n     path: string // resource path, e.g. /blog?name=foo\n     method: string // request method. e.g. GET, POST, etc\n-    headers: { [key: string]: string }\n+    headers: { [key: string]: string | string[] }\n   },\n   context: {\n     routerKind: 'Pages Router' | 'App Router' // the router type"}, {"role": "assistant", "content": "docs: onRequestError request header type (#83988)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/babel-parser/src/plugins/typescript/index.ts\n\ndiff --git a/packages/babel-parser/src/plugins/typescript/index.ts b/packages/babel-parser/src/plugins/typescript/index.ts\nindex 5ef8e8612..e781b0798 100644\n--- a/packages/babel-parser/src/plugins/typescript/index.ts\n+++ b/packages/babel-parser/src/plugins/typescript/index.ts\n@@ -238,9 +238,7 @@ const TSErrors = ParseErrorEnum`typescript`({\n \n // Doesn't handle \"void\" or \"null\" because those are keywords, not identifiers.\n // It also doesn't handle \"intrinsic\", since usually it's not a keyword.\n-function keywordTypeFromName(\n-  value: string,\n-): N.TsKeywordTypeType | typeof undefined {\n+function keywordTypeFromName(value: string): N.TsKeywordTypeType | undefined {\n   switch (value) {\n     case \"any\":\n       return \"TSAnyKeyword\";\n@@ -1790,7 +1788,7 @@ export default (superClass: ClassWithMixin<typeof Parser, IJSXParserMixin>) =>\n       }\n     }\n \n-    tsEatThenParseType(token: TokenType): N.TsType | typeof undefined {\n+    tsEatThenParseType(token: TokenType): N.TsType | undefined {\n       return !this.match(token) ? undefined : this.tsNextThenParseType();\n     }"}, {"role": "assistant", "content": "chore: Remove meaningless `typeof undefined` (#15395)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/archaeologist-dig.yml\n\ndiff --git a/.github/workflows/archaeologist-dig.yml b/.github/workflows/archaeologist-dig.yml\nindex 169983ec..1082f903 100644\n--- a/.github/workflows/archaeologist-dig.yml\n+++ b/.github/workflows/archaeologist-dig.yml\n@@ -17,7 +17,7 @@ jobs:\n         with:\n           fetch-depth: 0\n       - name: Setup Node.js/npm\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f\n         with:\n           node-version: 22.21.x\n       - name: Setting Up Dig Site\ndiff --git a/.github/workflows/audit-branch-ci.yml b/.github/workflows/audit-branch-ci.yml\nindex 82cfb399..68df2b71 100644\n--- a/.github/workflows/audit-branch-ci.yml\n+++ b/.github/workflows/audit-branch-ci.yml\n@@ -16,7 +16,7 @@ jobs:\n       contents: read\n     steps:\n       - name: Setup Node.js\n-        uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903 # v6.0.0\n+        uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6.1.0\n         with:\n           node-version: 22.17.x\n       - name: Sparse checkout repository\ndiff --git a/.github/workflows/pipeline-segment-electron-build.yml b/.github/workflows/pipeline-segment-electron-build.yml\nindex fded83e9..5661ccac 100644\n--- a/.github/workflows/pipeline-segment-electron-build.yml\n+++ b/.github/workflows/pipeline-segment-electron-build.yml\n@@ -119,7 +119,7 @@ jobs:\n       run: df -h\n     - name: Setup Node.js/npm\n       if: ${{ inputs.target-platform == 'macos' }}\n-      uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903\n+      uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f\n       with:\n         node-version: 22.21.x\n         cache: yarn\ndiff --git a/.github/workflows/pipeline-segment-electron-test.yml b/.github/workflows/pipeline-segment-electron-test.yml\nindex c6b14d3c..32457dc0 100644\n--- a/.github/workflows/pipeline-segment-electron-test.yml\n+++ b/.github/workflows/pipeline-segment-electron-test.yml\n@@ -72,7 +72,7 @@ jobs:\n         cp $(which node) /mnt/runner-externals/node24/bin/\n     - name: Setup Node.js/npm\n       if: ${{ inputs.target-platform == 'win' }}\n-      uses: actions/setup-node@2028fbc5c25fe9cf00d9f06a71cc4710d4507903\n+      uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f\n       with:\n         node-version: 22.21.x\n     - name: Add TCC permissions on macOS"}, {"role": "assistant", "content": "build(deps): bump actions/setup-node from 6.0.0 to 6.1.0 (#49156)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n e2e/__tests__/__snapshots__/moduleNameMapper.test.ts.snap\n\ndiff --git a/e2e/__tests__/__snapshots__/moduleNameMapper.test.ts.snap b/e2e/__tests__/__snapshots__/moduleNameMapper.test.ts.snap\nindex 081a8637..35ee2757 100644\n--- a/e2e/__tests__/__snapshots__/moduleNameMapper.test.ts.snap\n+++ b/e2e/__tests__/__snapshots__/moduleNameMapper.test.ts.snap\n@@ -41,7 +41,7 @@ exports[`moduleNameMapper wrong array configuration 1`] = `\n       12 | module.exports = () => 'test';\n       13 |\n \n-      at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)\n+      at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1121:17)\n       at Object.require (index.js:10:1)\n       at Object.require (__tests__/index.js:10:20)\"\n `;\n@@ -71,7 +71,7 @@ exports[`moduleNameMapper wrong configuration 1`] = `\n       12 | module.exports = () => 'test';\n       13 |\n \n-      at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)\n+      at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1121:17)\n       at Object.require (index.js:10:1)\n       at Object.require (__tests__/index.js:10:20)\"\n `;\ndiff --git a/e2e/__tests__/__snapshots__/nativeEsm.test.ts.snap b/e2e/__tests__/__snapshots__/nativeEsm.test.ts.snap\nindex 87849ee8..62483f7d 100644\n--- a/e2e/__tests__/__snapshots__/nativeEsm.test.ts.snap\n+++ b/e2e/__tests__/__snapshots__/nativeEsm.test.ts.snap\n@@ -50,7 +50,7 @@ Ran all test suites matching native-esm.test.js.\"\n \n exports[`runs test with native mock ESM 1`] = `\n \"Test Suites: 1 passed, 1 total\n-Tests:       3 passed, 3 total\n+Tests:       4 passed, 4 total\n Snapshots:   0 total\n Time:        <<REPLACED>>\n Ran all test suites matching native-esm-mocks.test.js.\"\ndiff --git a/e2e/native-esm/__tests__/native-esm-mocks.test.js b/e2e/native-esm/__tests__/native-esm-mocks.test.js\nindex 61813db1..9ad85cc7 100644\n--- a/e2e/native-esm/__tests__/native-esm-mocks.test.js\n+++ b/e2e/native-esm/__tests__/native-esm-mocks.test.js\n@@ -30,6 +30,15 @@ test('can mock transitive module', async () => {\n   expect(importedMock.foo).toBe('bar');\n });\n \n+test('can mock transitive builtin module', async () => {\n+  jestObject.unstable_mockModule('node:fs', () => ({foo: 'bar'}));\n+\n+  const importedMock = await import('../fsReexport.js');\n+\n+  expect(Object.keys(importedMock)).toEqual(['foo']);\n+  expect(importedMock.foo).toBe('bar');\n+});\n+\n test('can unmock module', async () => {\n   jestObject.unstable_mockModule('../index.js', () => ({\n     double: () => 1000,\ndiff --git a/e2e/native-esm/fsReexport.js b/e2e/native-esm/fsReexport.js\nnew file mode 100644\nindex 00000000..da963345\n--- /dev/null\n+++ b/e2e/native-esm/fsReexport.js\n@@ -0,0 +1,8 @@\n+/**\n+ * Copyright (c) Meta Platforms, Inc. and affiliates.\n+ *\n+ * This source code is licensed under the MIT license found in the\n+ * LICENSE file in the root directory of this source tree.\n+ */\n+\n+export * from 'node:fs';\ndiff --git a/packages/jest-resolve/src/resolver.ts b/packages/jest-resolve/src/resolver.ts\nindex bef9297e..7a2462c3 100644\n--- a/packages/jest-resolve/src/resolver.ts\n+++ b/packages/jest-resolve/src/resolver.ts\n@@ -652,7 +652,7 @@ export default class Resolver {\n     options: ResolveModuleConfig,\n   ): Promise<string | null> {\n     if (this.isCoreModule(moduleName)) {\n-      return moduleName;\n+      return this.normalizeCoreModuleSpecifier(moduleName);\n     }\n     if (moduleName.startsWith('data:')) {\n       return moduleName;\n@@ -742,6 +742,11 @@ export default class Resolver {\n     moduleName: string,\n     options?: Pick<ResolveModuleConfig, 'conditions'>,\n   ): string | null {\n+    // Strip core module scheme if necessary.\n+    if (this.isCoreModule(moduleName)) {\n+      return this.normalizeCoreModuleSpecifier(moduleName);\n+    }\n+\n     const dirname = path.dirname(from);\n \n     const {extensions, moduleDirectory, paths} = this._prepareForResolution("}, {"role": "assistant", "content": "fix(jest-resolver): Allow core ESM modules to be mocked with prefix (#15774)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n shell/browser/ui/inspectable_web_contents.cc\n\ndiff --git a/shell/browser/ui/inspectable_web_contents.cc b/shell/browser/ui/inspectable_web_contents.cc\nindex 18ae7c3f..57e07ed0 100644\n--- a/shell/browser/ui/inspectable_web_contents.cc\n+++ b/shell/browser/ui/inspectable_web_contents.cc\n@@ -520,6 +520,12 @@ void InspectableWebContents::UpdateDevToolsZoomLevel(double level) {\n }\n \n void InspectableWebContents::ActivateWindow() {\n+  if (embedder_message_dispatcher_) {\n+    if (managed_devtools_web_contents_ && view_) {\n+      view_->ActivateDevTools();\n+    }\n+  }\n+\n   // Set the zoom level.\n   SetZoomLevelForWebContents(GetDevToolsWebContents(), GetDevToolsZoomLevel());\n }\ndiff --git a/shell/browser/ui/inspectable_web_contents_view.cc b/shell/browser/ui/inspectable_web_contents_view.cc\nindex 09155c1c..00fff4a0 100644\n--- a/shell/browser/ui/inspectable_web_contents_view.cc\n+++ b/shell/browser/ui/inspectable_web_contents_view.cc\n@@ -132,6 +132,23 @@ void InspectableWebContentsView::ShowDevTools(bool activate) {\n   }\n }\n \n+void InspectableWebContentsView::ActivateDevTools() {\n+  if (!devtools_visible_) {\n+    return;\n+  }\n+  if (devtools_window_) {\n+    if (!devtools_window_->IsActive()) {\n+      devtools_window_->Activate();\n+    }\n+    return;\n+  }\n+  if (devtools_web_view_) {\n+    if (!devtools_web_view_->HasFocus()) {\n+      devtools_web_view_->RequestFocus();\n+    }\n+  }\n+}\n+\n void InspectableWebContentsView::CloseDevTools() {\n   if (!devtools_visible_)\n     return;\ndiff --git a/shell/browser/ui/inspectable_web_contents_view.h b/shell/browser/ui/inspectable_web_contents_view.h\nindex 30c2fef8..ff2ee863 100644\n--- a/shell/browser/ui/inspectable_web_contents_view.h\n+++ b/shell/browser/ui/inspectable_web_contents_view.h\n@@ -49,6 +49,7 @@ class InspectableWebContentsView : public views::View {\n   void SetCornerRadii(const gfx::RoundedCornersF& corner_radii);\n \n   void ShowDevTools(bool activate);\n+  void ActivateDevTools();\n   void CloseDevTools();\n   bool IsDevToolsViewShowing();\n   bool IsDevToolsViewFocused();\ndiff --git a/spec/api-web-contents-spec.ts b/spec/api-web-contents-spec.ts\nindex e701ff98..50cf5447 100644\n--- a/spec/api-web-contents-spec.ts\n+++ b/spec/api-web-contents-spec.ts\n@@ -1,6 +1,6 @@\n import { BrowserWindow, ipcMain, webContents, session, app, BrowserView, WebContents, BaseWindow, WebContentsView } from 'electron/main';\n \n-import { expect } from 'chai';\n+import { assert, expect } from 'chai';\n \n import * as cp from 'node:child_process';\n import { once } from 'node:events';\n@@ -1013,6 +1013,41 @@ describe('webContents module', () => {\n       await devToolsClosed;\n       expect(() => { webContents.getFocusedWebContents(); }).to.not.throw();\n     });\n+\n+    it('Inspect activates detached devtools window', async () => {\n+      const window = new BrowserWindow({ show: true });\n+      await window.loadURL('about:blank');\n+      const webContentsBeforeOpenedDevtools = webContents.getAllWebContents();\n+\n+      const windowWasBlurred = once(window, 'blur');\n+      window.webContents.openDevTools({ mode: 'detach' });\n+      await windowWasBlurred;\n+\n+      let devToolsWebContents = null;\n+      for (const newWebContents of webContents.getAllWebContents()) {\n+        const oldWebContents = webContentsBeforeOpenedDevtools.find(\n+          oldWebContents => {\n+            return newWebContents.id === oldWebContents.id;\n+          });\n+        if (oldWebContents !== null) {\n+          devToolsWebContents = newWebContents;\n+          break;\n+        }\n+      }\n+      assert(devToolsWebContents !== null);\n+\n+      const windowFocused = once(window, 'focus');\n+      window.focus();\n+      await windowFocused;\n+\n+      expect(devToolsWebContents.isFocused()).to.be.false();\n+      const devToolsWebContentsFocused = once(devToolsWebContents, 'focus');\n+      window.webContents.inspectElement(100, 100);\n+      await devToolsWebContentsFocused;\n+\n+      expect(devToolsWebContents.isFocused()).to.be.true();\n+      expect(window.isFocused()).to.be.false();\n+    });\n   });\n \n   describe('setDevToolsWebContents() API', () => {"}, {"role": "assistant", "content": "feat: Focus DevTools when breakpoint is triggered (#46386)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/src/use/migrate-to-10.0.0.md\n\ndiff --git a/docs/src/use/migrate-to-10.0.0.md b/docs/src/use/migrate-to-10.0.0.md\nnew file mode 100644\nindex 00000000..6b734138\n--- /dev/null\n+++ b/docs/src/use/migrate-to-10.0.0.md\n@@ -0,0 +1,40 @@\n+---\n+title: Migrate to v10.x\n+eleventyNavigation:\n+    key: migrate to v10\n+    parent: use eslint\n+    title: Migrate to v10.x\n+    order: 9\n+---\n+\n+ESLint v10.0.0 is a major release of ESLint, and as such, has several breaking changes that you need to be aware of. This guide is intended to walk you through the breaking changes.\n+\n+The lists below are ordered roughly by the number of users each change is expected to affect, where the first items are expected to affect the most users.\n+\n+## Table of Contents\n+\n+### Breaking changes for users\n+\n+- [Node.js < v20.19, v21, v23 are no longer supported](#drop-old-node)\n+\n+### Breaking changes for plugin developers\n+\n+- [Node.js < v20.19, v21, v23 are no longer supported](#drop-old-node)\n+\n+### Breaking changes for integration developers\n+\n+- [Node.js < v20.19, v21, v23 are no longer supported](#drop-old-node)\n+\n+---\n+\n+## <a name=\"drop-old-node\"></a> Node.js < v20.19, v21, v23 are no longer supported\n+\n+ESLint is officially dropping support for these versions of Node.js starting with ESLint v10.0.0. ESLint now supports the following versions of Node.js:\n+\n+- Node.js v20.19.0 and above\n+- Node.js v22.13.0 and above\n+- Node.js v24 and above\n+\n+**To address:** Make sure you upgrade to at least Node.js v20.19.0 when using ESLint v10. One important thing to double check is the Node.js version supported by your editor when using ESLint via editor integrations. If you are unable to upgrade, we recommend continuing to use ESLint v9 until you are able to upgrade Node.js.\n+\n+**Related issue(s):** [#19969](https://github.com/eslint/eslint/issues/19969)\ndiff --git a/docs/src/use/migrate-to-9.0.0.md b/docs/src/use/migrate-to-9.0.0.md\nindex 5d03716f..98b16203 100644\n--- a/docs/src/use/migrate-to-9.0.0.md\n+++ b/docs/src/use/migrate-to-9.0.0.md\n@@ -1,10 +1,5 @@\n ---\n title: Migrate to v9.x\n-eleventyNavigation:\n-    key: migrate to v9\n-    parent: use eslint\n-    title: Migrate to v9.x\n-    order: 9\n ---\n \n ESLint v9.0.0 is a major release of ESLint, and as such, has several breaking changes that you need to be aware of. This guide is intended to walk you through the breaking changes."}, {"role": "assistant", "content": "docs: add migrate-to-10.0.0 doc (#20143)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific\n\n packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts | 13 ++++++-------\n packages/compiler/src/expression_parser/ast.ts              |  4 +++-\n 2 files changed, 9 insertions(+), 8 deletions(-)\n\ndiff --git a/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts b/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\nindex 1275ea57..36197ee3 100644\n--- a/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\n+++ b/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\n@@ -129,13 +129,6 @@ class AstTranslator implements AstVisitor {\n       ast = ast.ast;\n     }\n \n-    // The `EmptyExpr` doesn't have a dedicated method on `AstVisitor`, so it's special cased here.\n-    if (ast instanceof EmptyExpr) {\n-      const res = ts.factory.createIdentifier('undefined');\n-      addParseSpanInfo(res, ast.sourceSpan);\n-      return res;\n-    }\n-\n     // First attempt to let any custom resolution logic provide a translation for the given node.\n     const resolved = this.maybeResolve(ast);\n     if (resolved !== null) {\n@@ -494,6 +487,12 @@ class AstTranslator implements AstVisitor {\n     return node;\n   }\n \n+  visitEmptyExpr(ast: EmptyExpr, context: any) {\n+    const node = ts.factory.createIdentifier('undefined');\n+    addParseSpanInfo(node, ast.sourceSpan);\n+    return node;\n+  }\n+\n   private convertToSafeCall(\n     ast: Call | SafeCall,\n     expr: ts.Expression,\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex 3d851bac..2f6fcc18 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -47,7 +47,7 @@ export abstract class ASTWithName extends AST {\n \n export class EmptyExpr extends AST {\n   override visit(visitor: AstVisitor, context: any = null) {\n-    // do nothing\n+    return visitor.visitEmptyExpr?.(this, context);\n   }\n }\n \n@@ -651,6 +651,7 @@ export interface AstVisitor {\n   visitRegularExpressionLiteral(ast: RegularExpressionLiteral, context: any): any;\n   visitSpreadElement(ast: SpreadElement, context: any): any;\n   visitASTWithSource?(ast: ASTWithSource, context: any): any;\n+  visitEmptyExpr?(ast: EmptyExpr, context: any): any;\n   /**\n    * This function is optionally defined to allow classes that implement this\n    * interface to selectively decide if the specified `ast` should be visited.\n@@ -756,6 +757,7 @@ export class RecursiveAstVisitor implements AstVisitor {\n   visitSpreadElement(ast: SpreadElement, context: any) {\n     this.visit(ast.expression, context);\n   }\n+  visitEmptyExpr(ast: EmptyExpr, context: any): any {}\n   // This is not part of the AstVisitor interface, just a helper method\n   visitAll(asts: AST[], context: any): any {\n     for (const ast of asts) {"}, {"role": "assistant", "content": "feat(compiler): support `AstVisitor.visitEmptyExpr()`"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/01-getting-started/16-proxy.mdx\n\ndiff --git a/docs/01-app/01-getting-started/16-proxy.mdx b/docs/01-app/01-getting-started/16-proxy.mdx\nindex 90e63ef99..7a4d2a2bb 100644\n--- a/docs/01-app/01-getting-started/16-proxy.mdx\n+++ b/docs/01-app/01-getting-started/16-proxy.mdx\n@@ -52,7 +52,6 @@ export function proxy(request: NextRequest) {\n // Alternatively, you can use a default export:\n // export default function proxy(request: NextRequest) { ... }\n \n-// See \"Matching Paths\" below to learn more\n export const config = {\n   matcher: '/about/:path*',\n }\n@@ -69,10 +68,11 @@ export function proxy(request) {\n // Alternatively, you can use a default export:\n // export default function proxy(request) { ... }\n \n-// See \"Matching Paths\" below to learn more\n export const config = {\n   matcher: '/about/:path*',\n }\n ```\n \n+The `matcher` config allows you to filter Proxy to run on specific paths. See the [Matcher](/docs/app/api-reference/file-conventions/proxy#matcher) documentation for more details on path matching.\n+\n Read more about [using `proxy`](/docs/app/guides/backend-for-frontend#proxy), or refer to the `proxy` [API reference](/docs/app/api-reference/file-conventions/proxy).\ndiff --git a/docs/01-app/03-api-reference/03-file-conventions/dynamic-routes.mdx b/docs/01-app/03-api-reference/03-file-conventions/dynamic-routes.mdx\nindex c6efb2a8d..4a0c3eb39 100644\n--- a/docs/01-app/03-api-reference/03-file-conventions/dynamic-routes.mdx\n+++ b/docs/01-app/03-api-reference/03-file-conventions/dynamic-routes.mdx\n@@ -195,7 +195,7 @@ Provide params ahead of time to prerender pages at build time. You can prerender\n \n During the build process, the route is executed with each sample param to collect the HTML result. If dynamic content or runtime data are accessed incorrectly, the build will fail.\n \n-```tsx filename=\"app/blog/[slug]/page.tsx\" highlight={5-7,10,22,24}\n+```tsx filename=\"app/blog/[slug]/page.tsx\" highlight={3-5,8,19}\n import { Suspense } from 'react'\n \n export async function generateStaticParams() {\ndiff --git a/docs/01-app/03-api-reference/04-functions/generate-metadata.mdx b/docs/01-app/03-api-reference/04-functions/generate-metadata.mdx\nindex 7720541df..e4dbf6392 100644\n--- a/docs/01-app/03-api-reference/04-functions/generate-metadata.mdx\n+++ b/docs/01-app/03-api-reference/04-functions/generate-metadata.mdx\n@@ -1217,12 +1217,11 @@ Streaming metadata at runtime while the rest of the page is fully prerenderable\n \n To resolve this, you have two options. If metadata depends on external data but not runtime data, use `use cache`:\n \n-```tsx filename=\"app/blog/[slug]/page.tsx\" highlight={2}\n-export async function generateMetadata({ params }) {\n+```tsx filename=\"app/page.tsx\" highlight={2}\n+export async function generateMetadata() {\n   'use cache'\n-  const { slug } = await params\n-  const post = await db.getPost(slug)\n-  return { title: post.title }\n+  const { title, description } = await db.query('site-metadata')\n+  return { title, description }\n }\n ```"}, {"role": "assistant", "content": "docs: tweaks/fixes to papercuts (#87445)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n README.md\n\ndiff --git a/README.md b/README.md\nindex 2ab98ce4..11e07d80 100644\n--- a/README.md\n+++ b/README.md\n@@ -39,7 +39,7 @@ Each Electron release provides binaries for macOS, Windows, and Linux.\n \n * macOS (Big Sur and up): Electron provides 64-bit Intel and Apple Silicon / ARM binaries for macOS.\n * Windows (Windows 10 and up): Electron provides `ia32` (`x86`), `x64` (`amd64`), and `arm64` binaries for Windows. Windows on ARM support was added in Electron 5.0.8. Support for Windows 7, 8 and 8.1 was [removed in Electron 23, in line with Chromium's Windows deprecation policy](https://www.electronjs.org/blog/windows-7-to-8-1-deprecation-notice).\n-* Linux: The prebuilt binaries of Electron are built on Ubuntu 20.04. They have also been verified to work on:\n+* Linux: The prebuilt binaries of Electron are built on Ubuntu 22.04. They have also been verified to work on:\n   * Ubuntu 18.04 and newer\n   * Fedora 32 and newer\n   * Debian 10 and newer"}, {"role": "assistant", "content": "docs: fix Ubuntu version used to build Electron (#48638)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n test/ssr/ssr-bundle-render.spec.ts\n\ndiff --git a/test/ssr/ssr-bundle-render.spec.ts b/test/ssr/ssr-bundle-render.spec.ts\nindex 28d82d87..c4f726cb 100644\n--- a/test/ssr/ssr-bundle-render.spec.ts\n+++ b/test/ssr/ssr-bundle-render.spec.ts\n@@ -1,7 +1,7 @@\n import LRU from 'lru-cache'\n import { compileWithWebpack } from './compile-with-webpack'\n-import { createBundleRenderer } from '../../packages/vue-server-renderer'\n-import VueSSRServerPlugin from '../../packages/vue-server-renderer/server-plugin'\n+import { createBundleRenderer } from 'web/entry-server-renderer'\n+import VueSSRServerPlugin from 'server/webpack-plugin/server'\n \n ;(global as any).__SSR_TEST__ = true\n \ndiff --git a/test/ssr/ssr-template.spec.ts b/test/ssr/ssr-template.spec.ts\nindex dc9267d9..6f5d6563 100644\n--- a/test/ssr/ssr-template.spec.ts\n+++ b/test/ssr/ssr-template.spec.ts\n@@ -1,7 +1,7 @@\n-import Vue from '../../dist/vue.runtime.common.js'\n+import Vue from 'vue'\n import { compileWithWebpack } from './compile-with-webpack'\n-import { createRenderer } from '../../packages/vue-server-renderer'\n-import VueSSRClientPlugin from '../../packages/vue-server-renderer/client-plugin'\n+import { createRenderer } from 'web/entry-server-renderer'\n+import VueSSRClientPlugin from 'server/webpack-plugin/client'\n import { createRenderer as createBundleRenderer } from './ssr-bundle-render.spec.js'\n \n ;(global as any).__SSR_TEST__ = true"}, {"role": "assistant", "content": "test: fix ssr test imports"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/01-getting-started/05-server-and-client-components.mdx\n\ndiff --git a/docs/01-app/01-getting-started/05-server-and-client-components.mdx b/docs/01-app/01-getting-started/05-server-and-client-components.mdx\nindex f9ece4220..53e82fe5d 100644\n--- a/docs/01-app/01-getting-started/05-server-and-client-components.mdx\n+++ b/docs/01-app/01-getting-started/05-server-and-client-components.mdx\n@@ -32,7 +32,7 @@ Use **Server Components** when you need:\n \n For example, the `<Page>` component is a Server Component that fetches data about a post, and passes it as props to the `<LikeButton>` which handles client-side interactivity.\n \n-```tsx filename=\"app/[id]/page.tsx\" highlight={1,12} switcher\n+```tsx filename=\"app/[id]/page.tsx\" highlight={1,17} switcher\n import LikeButton from '@/app/ui/like-button'\n import { getPost } from '@/lib/data'\n \n@@ -241,7 +241,7 @@ export default function Search() {\n \n You can pass data from Server Components to Client Components using props.\n \n-```tsx filename=\"app/[id]/page.tsx\" highlight={1,7} switcher\n+```tsx filename=\"app/[id]/page.tsx\" highlight={1,12} switcher\n import LikeButton from '@/app/ui/like-button'\n import { getPost } from '@/lib/data'"}, {"role": "assistant", "content": "docs: fix highlight in 05-server-and-client-components.mdx (#87347)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n src/v3/reactivity/ref.ts\n\ndiff --git a/src/v3/reactivity/ref.ts b/src/v3/reactivity/ref.ts\nindex 244acc9b..33495806 100644\n--- a/src/v3/reactivity/ref.ts\n+++ b/src/v3/reactivity/ref.ts\n@@ -40,9 +40,7 @@ export function isRef(r: any): r is Ref {\n   return !!(r && (r as Ref).__v_isRef === true)\n }\n \n-export function ref<T extends object>(\n-  value: T\n-): [T] extends [Ref] ? T : Ref<UnwrapRef<T>>\n+export function ref<T extends Ref>(value: T): T\n export function ref<T>(value: T): Ref<UnwrapRef<T>>\n export function ref<T = any>(): Ref<T | undefined>\n export function ref(value?: unknown) {\n@@ -53,9 +51,8 @@ declare const ShallowRefMarker: unique symbol\n \n export type ShallowRef<T = any> = Ref<T> & { [ShallowRefMarker]?: true }\n \n-export function shallowRef<T extends object>(\n-  value: T\n-): T extends Ref ? T : ShallowRef<T>\n+export function shallowRef<T>(value: T | Ref<T>): Ref<T> | ShallowRef<T>\n+export function shallowRef<T extends Ref>(value: T): T\n export function shallowRef<T>(value: T): ShallowRef<T>\n export function shallowRef<T = any>(): ShallowRef<T | undefined>\n export function shallowRef(value?: unknown) {\ndiff --git a/types/test/v3/reactivity-test.ts b/types/test/v3/reactivity-test.ts\nindex dd1b2a4d..c357bf8d 100644\n--- a/types/test/v3/reactivity-test.ts\n+++ b/types/test/v3/reactivity-test.ts\n@@ -15,7 +15,7 @@ import {\n   set,\n   del\n } from '../../index'\n-import { describe, expectType } from '../utils'\n+import { IsUnion, describe, expectType } from '../utils'\n \n function plainType(arg: number | Ref<number>) {\n   // ref coercing\n@@ -385,3 +385,14 @@ describe('set/del', () => {\n   // @ts-expect-error\n   del([], 'fse', 123)\n })\n+\n+\n+{\n+  //#12978\n+  type Steps = { step: '1' } | { step: '2' }\n+  const shallowUnionGenParam = shallowRef<Steps>({ step: '1' })\n+  const shallowUnionAsCast = shallowRef({ step: '1' } as Steps)\n+\n+  expectType<IsUnion<typeof shallowUnionGenParam>>(false)\n+  expectType<IsUnion<typeof shallowUnionAsCast>>(false)\n+}\n\\ No newline at end of file\ndiff --git a/types/test/v3/watch-test.ts b/types/test/v3/watch-test.ts\nindex 388fdc2a..aeb5ff36 100644\n--- a/types/test/v3/watch-test.ts\n+++ b/types/test/v3/watch-test.ts\n@@ -1,4 +1,4 @@\n-import { ref, computed, watch } from '../../index'\n+import { ref, computed, watch, shallowRef } from '../../index'\n import { expectType } from '../utils'\n \n const source = ref('foo')\n@@ -76,3 +76,17 @@ watch([someRef, otherRef], values => {\n   // no type error\n   console.log(value2.a)\n })\n+\n+{\n+  //#12978\n+  type Steps = { step: '1' } | { step: '2' }\n+  const shallowUnionGenParam = shallowRef<Steps>({ step: '1' })\n+  const shallowUnionAsCast = shallowRef({ step: '1' } as Steps)\n+\n+  watch(shallowUnionGenParam, value => {\n+    expectType<Steps>(value)\n+  })\n+  watch(shallowUnionAsCast, value => {\n+    expectType<Steps>(value)\n+  })\n+}\n\\ No newline at end of file"}, {"role": "assistant", "content": "fix(types): fix shallowRef's return type  (#12979)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n package.json\n\ndiff --git a/package.json b/package.json\nindex f8f16ab0..bf19052d 100644\n--- a/package.json\n+++ b/package.json\n@@ -56,7 +56,7 @@\n     \"jest-junit\": \"^16.0.0\",\n     \"jest-mock\": \"workspace:*\",\n     \"jest-runner-tsd\": \"^6.0.0\",\n-    \"jest-serializer-ansi-escapes\": \"^2.0.1\",\n+    \"jest-serializer-ansi-escapes\": \"^3.0.0\",\n     \"jest-silent-reporter\": \"^0.5.0\",\n     \"jest-snapshot\": \"workspace:*\",\n     \"jest-util\": \"workspace:*\",\ndiff --git a/yarn.lock b/yarn.lock\nindex 98b91f43..934f01e1 100644\n--- a/yarn.lock\n+++ b/yarn.lock\n@@ -3052,7 +3052,7 @@ __metadata:\n     jest-junit: ^16.0.0\n     jest-mock: \"workspace:*\"\n     jest-runner-tsd: ^6.0.0\n-    jest-serializer-ansi-escapes: ^2.0.1\n+    jest-serializer-ansi-escapes: ^3.0.0\n     jest-silent-reporter: ^0.5.0\n     jest-snapshot: \"workspace:*\"\n     jest-util: \"workspace:*\"\n@@ -13195,10 +13195,12 @@ __metadata:\n   languageName: unknown\n   linkType: soft\n \n-\"jest-serializer-ansi-escapes@npm:^2.0.1\":\n-  version: 2.0.1\n-  resolution: \"jest-serializer-ansi-escapes@npm:2.0.1\"\n-  checksum: 90af1e8811656326375073472593370e6279ce9e4b965b1861d6c12a6cf0167b8b213261e837e1b2072aba5483cb87afcc1fea66af79b87bcf96f672f041e4af\n+\"jest-serializer-ansi-escapes@npm:^3.0.0\":\n+  version: 3.0.0\n+  resolution: \"jest-serializer-ansi-escapes@npm:3.0.0\"\n+  dependencies:\n+    pretty-ansi: 2.0.0\n+  checksum: 51b84889c9fda562d8eeac65328d693cc6c11549f01c6060555a4993d6d52a7df8a7b661d33bfad13856397cc64320806db0ba1c81398872a33ed5569be14282\n   languageName: node\n   linkType: hard\n \n@@ -17310,6 +17312,13 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"pretty-ansi@npm:2.0.0\":\n+  version: 2.0.0\n+  resolution: \"pretty-ansi@npm:2.0.0\"\n+  checksum: 782fb6111a3acb3a1a52859e702852075cf63249854fbf5ddb23b1a12f35447f77d3ed432acae8c4f32ce6cc5e4e66e79aaafd457a707d5ae260c82b2acf9e5f\n+  languageName: node\n+  linkType: hard\n+\n \"pretty-bytes@npm:^5.3.0\":\n   version: 5.6.0\n   resolution: \"pretty-bytes@npm:5.6.0\""}, {"role": "assistant", "content": "chore(deps): update dependency jest-serializer-ansi-escapes to v3 (#14912)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .git-blame-ignore-revs\n\ndiff --git a/.git-blame-ignore-revs b/.git-blame-ignore-revs\nnew file mode 100644\nindex 00000000..53dbf616\n--- /dev/null\n+++ b/.git-blame-ignore-revs\n@@ -0,0 +1,4 @@\n+# chore: move to typescript\n+af9fc2bcff31d5baa413039818a9b3e011deccaf\n+# workflow: remove eslint, apply prettier\n+72aed6a149b94b5b929fb47370a7a6d4cb7491c5"}, {"role": "assistant", "content": "chore: exclude trivial refactors from `git blame` results (#12550)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n test/compose.spec.js\n\ndiff --git a/test/compose.spec.js b/test/compose.spec.js\nindex de0343ad..392b403f 100644\n--- a/test/compose.spec.js\n+++ b/test/compose.spec.js\n@@ -6,8 +6,19 @@ describe('Utils', () => {\n       const double = x => x * 2\n       const square = x => x * x\n       expect(compose(square)(5)).toBe(25)\n-      expect(compose(square, double)(5)).toBe(100)\n-      expect(compose(double, square, double)(5)).toBe(200)\n+      expect(\n+        compose(\n+          square,\n+          double\n+        )(5)\n+      ).toBe(100)\n+      expect(\n+        compose(\n+          double,\n+          square,\n+          double\n+        )(5)\n+      ).toBe(200)\n     })\n \n     it('composes functions from right to left', () => {\n@@ -16,26 +27,79 @@ describe('Utils', () => {\n       const c = next => x => next(x + 'c')\n       const final = x => x\n \n-      expect(compose(a, b, c)(final)('')).toBe('abc')\n-      expect(compose(b, c, a)(final)('')).toBe('bca')\n-      expect(compose(c, a, b)(final)('')).toBe('cab')\n+      expect(\n+        compose(\n+          a,\n+          b,\n+          c\n+        )(final)('')\n+      ).toBe('abc')\n+      expect(\n+        compose(\n+          b,\n+          c,\n+          a\n+        )(final)('')\n+      ).toBe('bca')\n+      expect(\n+        compose(\n+          c,\n+          a,\n+          b\n+        )(final)('')\n+      ).toBe('cab')\n     })\n \n     it('throws at runtime if argument is not a function', () => {\n       const square = x => x * x\n       const add = (x, y) => x + y\n \n-      expect(() => compose(square, add, false)(1, 2)).toThrow()\n-      expect(() => compose(square, add, undefined)(1, 2)).toThrow()\n-      expect(() => compose(square, add, true)(1, 2)).toThrow()\n-      expect(() => compose(square, add, NaN)(1, 2)).toThrow()\n-      expect(() => compose(square, add, '42')(1, 2)).toThrow()\n+      expect(() =>\n+        compose(\n+          square,\n+          add,\n+          false\n+        )(1, 2)\n+      ).toThrow()\n+      expect(() =>\n+        compose(\n+          square,\n+          add,\n+          undefined\n+        )(1, 2)\n+      ).toThrow()\n+      expect(() =>\n+        compose(\n+          square,\n+          add,\n+          true\n+        )(1, 2)\n+      ).toThrow()\n+      expect(() =>\n+        compose(\n+          square,\n+          add,\n+          NaN\n+        )(1, 2)\n+      ).toThrow()\n+      expect(() =>\n+        compose(\n+          square,\n+          add,\n+          '42'\n+        )(1, 2)\n+      ).toThrow()\n     })\n \n     it('can be seeded with multiple arguments', () => {\n       const square = x => x * x\n       const add = (x, y) => x + y\n-      expect(compose(square, add)(1, 2)).toBe(9)\n+      expect(\n+        compose(\n+          square,\n+          add\n+        )(1, 2)\n+      ).toBe(9)\n     })\n \n     it('returns the first given argument if given no functions', () => {\ndiff --git a/test/createStore.spec.js b/test/createStore.spec.js\nindex 502f3127..d0d57a1e 100644\n--- a/test/createStore.spec.js\n+++ b/test/createStore.spec.js\n@@ -10,7 +10,7 @@ import {\n } from './helpers/actionCreators'\n import * as reducers from './helpers/reducers'\n import { from } from 'rxjs'\n-import { map } from 'rxjs/operators';\n+import { map } from 'rxjs/operators'\n import $$observable from 'symbol-observable'\n \n describe('createStore', () => {\n@@ -721,9 +721,8 @@ describe('createStore', () => {\n       const observable = from(store)\n       const results = []\n \n-      const sub = observable.pipe(\n-          map(state => ({ fromRx: true, ...state }))\n-        )\n+      const sub = observable\n+        .pipe(map(state => ({ fromRx: true, ...state })))\n         .subscribe(state => results.push(state))\n \n       store.dispatch({ type: 'foo' })"}, {"role": "assistant", "content": "style: wrap too long lines in some specs (#3113)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .../src/backend/views/Highlighter/index.js         | 33 +++++++++++++++++-----\n 1 file changed, 26 insertions(+), 7 deletions(-)\n\ndiff --git a/packages/react-devtools-shared/src/backend/views/Highlighter/index.js b/packages/react-devtools-shared/src/backend/views/Highlighter/index.js\nindex 0adf3ff..34a81f3 100644\n--- a/packages/react-devtools-shared/src/backend/views/Highlighter/index.js\n+++ b/packages/react-devtools-shared/src/backend/views/Highlighter/index.js\n@@ -9,6 +9,7 @@\n \n import Agent from 'react-devtools-shared/src/backend/agent';\n import {hideOverlay, showOverlay} from './Highlighter';\n+import {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n \n import type {HostInstance} from 'react-devtools-shared/src/backend/types';\n import type {BackendBridge} from 'react-devtools-shared/src/bridge';\n@@ -49,6 +50,11 @@ export default function setupHighlighter(\n     right: number,\n     bottom: number,\n   }) {\n+    if (isReactNativeEnvironment()) {\n+      // Not implemented.\n+      return;\n+    }\n+\n     if (\n       left === Math.round(window.scrollX) &&\n       top === Math.round(window.scrollY)\n@@ -65,6 +71,11 @@ export default function setupHighlighter(\n \n   let scrollTimer = null;\n   function sendScroll() {\n+    if (isReactNativeEnvironment()) {\n+      // Not implemented.\n+      return;\n+    }\n+\n     if (scrollTimer) {\n       clearTimeout(scrollTimer);\n       scrollTimer = null;\n@@ -85,14 +96,17 @@ export default function setupHighlighter(\n     applyingScroll = false;\n   }\n \n-  document.addEventListener('scroll', () => {\n-    if (!scrollTimer) {\n-      // Periodically synchronize the scroll while scrolling.\n-      scrollTimer = setTimeout(sendScroll, 400);\n-    }\n-  });\n+  // $FlowFixMe[method-unbinding]\n+  if (document && typeof document.addEventListener === 'function') {\n+    document.addEventListener('scroll', () => {\n+      if (!scrollTimer) {\n+        // Periodically synchronize the scroll while scrolling.\n+        scrollTimer = setTimeout(sendScroll, 400);\n+      }\n+    });\n \n-  document.addEventListener('scrollend', scrollEnd);\n+    document.addEventListener('scrollend', scrollEnd);\n+  }\n \n   function startInspectingHost(onlySuspenseNodes: boolean) {\n     inspectOnlySuspenseNodes = onlySuspenseNodes;\n@@ -319,6 +333,11 @@ export default function setupHighlighter(\n     // with the scrollIntoView option.\n     hideOverlay(agent);\n \n+    if (isReactNativeEnvironment()) {\n+      // Not implemented.\n+      return;\n+    }\n+\n     if (scrollDelayTimer) {\n       clearTimeout(scrollDelayTimer);\n       scrollDelayTimer = null;"}, {"role": "assistant", "content": "fix(devtools): guard highlighter scroll handling for react native"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific\n\n .../test/node/api/validators/pattern.spec.ts       | 51 ++++++++++++++++++++++\n 1 file changed, 51 insertions(+)\n\ndiff --git a/packages/forms/signals/test/node/api/validators/pattern.spec.ts b/packages/forms/signals/test/node/api/validators/pattern.spec.ts\nindex 13f884fa..b043eaf3 100644\n--- a/packages/forms/signals/test/node/api/validators/pattern.spec.ts\n+++ b/packages/forms/signals/test/node/api/validators/pattern.spec.ts\n@@ -95,6 +95,57 @@ describe('pattern validator', () => {\n       expect(f.name().pattern()).toEqual([/pir.*jok/, /pelmeni/]);\n     });\n \n+    it('validates multiple patterns independently (AND logic)', () => {\n+      const model = signal('abc123');\n+      const f = form(\n+        model,\n+        (p) => {\n+          pattern(p, /abc/); // matches\n+          pattern(p, /\\d+/); // matches\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // Both patterns match, so no errors\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([]);\n+    });\n+\n+    it('validates multiple patterns independently - partial match produces errors', () => {\n+      const model = signal('abc');\n+      const f = form(\n+        model,\n+        (p) => {\n+          pattern(p, /abc/); // matches\n+          pattern(p, /\\d+/); // does not match\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // Only one pattern matches, so we get an error from the non-matching one\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([patternError(/\\d+/, {fieldTree: f})]);\n+    });\n+\n+    it('validates multiple patterns - no match produces multiple errors', () => {\n+      const model = signal('xyz');\n+      const f = form(\n+        model,\n+        (p) => {\n+          pattern(p, /abc/); // does not match\n+          pattern(p, /\\d+/); // does not match\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // No patterns match, so we get errors from both\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([\n+        patternError(/abc/, {fieldTree: f}),\n+        patternError(/\\d+/, {fieldTree: f}),\n+      ]);\n+    });\n+\n     it('PATTERN property defaults to empty list', () => {\n       const cat = signal({name: 'pelmeni-the-cat'});\n       const f = form("}, {"role": "assistant", "content": "test(forms): improve test coverage for multiple pattern validators"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/publish-to-pkg-pr-new.yml\n\ndiff --git a/.github/workflows/publish-to-pkg-pr-new.yml b/.github/workflows/publish-to-pkg-pr-new.yml\nindex 25849d448..1ea916d9f 100644\n--- a/.github/workflows/publish-to-pkg-pr-new.yml\n+++ b/.github/workflows/publish-to-pkg-pr-new.yml\n@@ -14,7 +14,7 @@ permissions:\n jobs:\n   publish:\n     if: |\n-      github.repository == 'webpack/webpack &&\n+      github.repository == 'webpack/webpack' &&\n       (github.event_name != 'pull_request' ||\n       github.event.pull_request.head.repo.full_name == github.repository)\n     name: Publish to pkg.pr.new"}, {"role": "assistant", "content": "ci: fix typo in workflow (#20086)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n patches/chromium/.patches\n\ndiff --git a/patches/chromium/.patches b/patches/chromium/.patches\nindex 69b90612..47ae5767 100644\n--- a/patches/chromium/.patches\n+++ b/patches/chromium/.patches\n@@ -143,5 +143,4 @@ expose_referrerscriptinfo_hostdefinedoptionsindex.patch\n chore_disable_protocol_handler_dcheck.patch\n fix_check_for_file_existence_before_setting_mtime.patch\n revert_cleanup_remove_feature_windelayspellcheckserviceinit.patch\n-fix_release_mouse_buttons_on_focus_loss_on_wayland.patch\n fix_linux_tray_id.patch\ndiff --git a/patches/chromium/fix_release_mouse_buttons_on_focus_loss_on_wayland.patch b/patches/chromium/fix_release_mouse_buttons_on_focus_loss_on_wayland.patch\ndeleted file mode 100644\nindex aab439b5..00000000\n--- a/patches/chromium/fix_release_mouse_buttons_on_focus_loss_on_wayland.patch\n+++ /dev/null\n@@ -1,34 +0,0 @@\n-From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n-From: Mitchell COhen <mitch.cohen@me.com>\n-Date: Sun, 2 Nov 2025 15:30:56 -0500\n-Subject: fix: release mouse buttons on focus loss on Wayland\n-\n-Fixes an issue where the mouse flags would get stuck if you right-click\n-the CSD titlebar in Wayland.\n-\n-Bug: 455147429\n-Change-Id: I9f5a9f395b3c1d85094a40a92d40691a897dbd05\n-Reviewed-on: https://chromium-review.googlesource.com/c/chromium/src/+/7091872\n-Reviewed-by: Thomas Anderson <thomasanderson@chromium.org>\n-Reviewed-by: Kramer Ge <fangzhoug@chromium.org>\n-Commit-Queue: Thomas Anderson <thomasanderson@chromium.org>\n-Cr-Commit-Position: refs/heads/main@{#1538048}\n-\n-diff --git a/ui/ozone/platform/wayland/host/wayland_event_source.cc b/ui/ozone/platform/wayland/host/wayland_event_source.cc\n-index 4cc15e842b633e93f1d6654225765769eb75fffd..4e421ccbd36d4efebd43c9def5b575b7d8d5e336 100644\n---- a/ui/ozone/platform/wayland/host/wayland_event_source.cc\n-+++ b/ui/ozone/platform/wayland/host/wayland_event_source.cc\n-@@ -336,6 +336,13 @@ void WaylandEventSource::OnPointerFocusChanged(\n-     // Save new pointer location.\n-     pointer_location_ = location;\n-     window_manager_->SetPointerFocusedWindow(window);\n-+  } else {\n-+    // The compositor may swallow the release event for any buttons that are\n-+    // pressed when the window loses focus, e.g. when right-clicking the\n-+    // titlebar to open the system menu on GNOME.\n-+    if (!connection_->IsDragInProgress()) {\n-+      ReleasePressedPointerButtons(window, ui::EventTimeForNow());\n-+    }\n-   }\n- \n-   auto closure = focused ? base::NullCallback()"}, {"role": "assistant", "content": "build: remove patch that landed in Chromium roll (#48771)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n package.json\n\ndiff --git a/package.json b/package.json\nindex 100b1ec5..184f91d5 100644\n--- a/package.json\n+++ b/package.json\n@@ -168,7 +168,6 @@\n     \"eslint-rule-composer\": \"^0.3.0\",\n     \"eslump\": \"^3.0.0\",\n     \"esprima\": \"^4.0.1\",\n-    \"fast-glob\": \"^3.2.11\",\n     \"fs-teardown\": \"^0.1.3\",\n     \"glob\": \"^10.0.0\",\n     \"globals\": \"^16.2.0\",\ndiff --git a/tools/fetch-docs-links.js b/tools/fetch-docs-links.js\nindex 958ec49a..56a7ea36 100644\n--- a/tools/fetch-docs-links.js\n+++ b/tools/fetch-docs-links.js\n@@ -29,7 +29,7 @@ const metascraper = require(\"metascraper\")([\n const got = require(\"got\");\n const path = require(\"node:path\");\n const fs = require(\"node:fs\").promises;\n-const glob = require(\"fast-glob\");\n+const { globSync } = require(\"glob\");\n \n //-----------------------------------------------------------------------------\n // Data\n@@ -44,7 +44,7 @@ const DATA_FILE_PATH = path.resolve(DATA_DIR, \"further_reading_links.json\");\n let filenames = process.argv.slice(2);\n \n if (filenames.length === 0) {\n-\tfilenames = glob.sync(\"docs/src/rules/*.md\", { cwd: BASE_DIR });\n+\tfilenames = globSync(\"docs/src/rules/*.md\", { cwd: BASE_DIR });\n }\n \n filenames = filenames.map(filename => path.resolve(BASE_DIR, filename));"}, {"role": "assistant", "content": "chore: remove redundant `fast-glob` dev-dependency (#20301)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/03-api-reference/03-file-conventions/proxy.mdx\n\ndiff --git a/docs/01-app/03-api-reference/03-file-conventions/proxy.mdx b/docs/01-app/03-api-reference/03-file-conventions/proxy.mdx\nindex 391b7f971..625bbd6fb 100644\n--- a/docs/01-app/03-api-reference/03-file-conventions/proxy.mdx\n+++ b/docs/01-app/03-api-reference/03-file-conventions/proxy.mdx\n@@ -85,7 +85,6 @@ Additionally, the `matcher` option supports complex path specifications through\n The `matcher` option accepts an array of objects with the following keys:\n \n - `source`: The path or pattern used to match the request paths. It can be a string for direct path matching or a pattern for more complex matching.\n-- `regexp` (optional): A regular expression string that fine-tunes the matching based on the source. It provides additional control over which paths are included or excluded.\n - `locale` (optional): A boolean that, when set to `false`, ignores locale-based routing in path matching.\n - `has` (optional): Specifies conditions based on the presence of specific request elements such as headers, query parameters, or cookies.\n - `missing` (optional): Focuses on conditions where certain request elements are absent, like missing headers or cookies.\n@@ -94,8 +93,7 @@ The `matcher` option accepts an array of objects with the following keys:\n export const config = {\n   matcher: [\n     {\n-      source: '/api/*',\n-      regexp: '^/api/(.*)',\n+      source: '/api/:path*',\n       locale: false,\n       has: [\n         { type: 'header', key: 'Authorization', value: 'Bearer Token' },"}, {"role": "assistant", "content": "docs: regexp removed from middleware config (#85343)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/src/extend/custom-rules.md\n\ndiff --git a/docs/src/extend/custom-rules.md b/docs/src/extend/custom-rules.md\nindex 82ecaec1..30b0bbcf 100644\n--- a/docs/src/extend/custom-rules.md\n+++ b/docs/src/extend/custom-rules.md\n@@ -991,10 +991,10 @@ no-empty-class          |    21.976 |     2.6%\n semi                    |    19.359 |     2.3%\n ```\n \n-To test one rule explicitly, combine the `--no-eslintrc`, and `--rule` options:\n+To test one rule explicitly, combine the `--no-config-lookup` and `--rule` options:\n \n ```bash\n-$ TIMING=1 eslint --no-eslintrc --rule \"quotes: [2, 'double']\" lib\n+$ TIMING=1 eslint --no-config-lookup --rule \"quotes: [2, 'double']\" lib\n Rule   | Time (ms) | Relative\n :------|----------:|--------:\n quotes |    18.066 |   100.0%\ndiff --git a/docs/src/use/command-line-interface.md b/docs/src/use/command-line-interface.md\nindex 89800b89..71fb721c 100644\n--- a/docs/src/use/command-line-interface.md\n+++ b/docs/src/use/command-line-interface.md\n@@ -160,9 +160,22 @@ Miscellaneous:\n \n ### Basic Configuration\n \n+#### `--no-config-lookup`\n+\n+**Flat Config Mode Only.** Disables use of configuration from files.\n+\n+- **Argument Type**: No argument.\n+\n+##### `--no-config-lookup` example\n+\n+{{ npx_tabs ({\n+    package: \"eslint\",\n+    args: [\"--no-config-lookup\", \"file.js\"]\n+}) }}\n+\n #### `--no-eslintrc`\n \n-**eslintrc Mode Only.** Disables use of configuration from `.eslintrc.*` and `package.json` files. For flat config mode, use `--no-config-lookup` instead.\n+**eslintrc Mode Only.** Disables use of configuration from `.eslintrc.*` and `package.json` files. For flat config mode, use [`--no-config-lookup`](#--no-config-lookup) instead.\n \n - **Argument Type**: No argument.\n \n@@ -231,7 +244,7 @@ This option allows you to specify additional file extensions to lint.\n - **Multiple Arguments**: Yes\n - **Default Value**: By default, ESLint lints files with extensions `.js`, `.mjs`, `.cjs`, and additional extensions [specified in the configuration file](configure/configuration-files#specifying-files-with-arbitrary-extensions).\n \n-This option is primarily intended for use in combination with the `--no-config-lookup` option, since in that case there is no configuration file in which the additional extensions would be specified.\n+This option is primarily intended for use in combination with the [`--no-config-lookup`](#--no-config-lookup) option, since in that case there is no configuration file in which the additional extensions would be specified.\n \n ##### `--ext` example\n \n@@ -365,7 +378,7 @@ This option specifies the rules to be used.\n \n These rules are merged with any rules specified with configuration files. If the rule is defined in a plugin, you have to prefix the rule ID with the plugin name and a `/`.\n \n-To ignore rules in `.eslintrc` configuration files and only run rules specified in the command line, use the `--rule` flag in combination with the [`--no-eslintrc`](#--no-eslintrc) flag.\n+To ignore rules in configuration files and only run rules specified in the command line, use the `--rule` flag in combination with the [`--no-config-lookup`](#--no-config-lookup) flag.\n \n ##### `--rule` example\n \n@@ -389,7 +402,7 @@ To ignore rules in `.eslintrc` configuration files and only run rules specified\n \n {{ npx_tabs ({\n     package: \"eslint\",\n-    args: [\"--rule\", \"\\'quotes: [error, double]\\'\", \"--no-eslintrc\"],\n+    args: [\"--rule\", \"\\'quotes: [error, double]\\'\", \"--no-config-lookup\"],\n     comment: \"Only apply rule from the command line\"\n }) }}"}, {"role": "assistant", "content": "docs: add documentation for `--no-config-lookup` (#20033)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/api/browser-window.md\n\ndiff --git a/docs/api/browser-window.md b/docs/api/browser-window.md\nindex 4578ca07..a399f22b 100644\n--- a/docs/api/browser-window.md\n+++ b/docs/api/browser-window.md\n@@ -1570,11 +1570,18 @@ events.\n \n Prevents the window contents from being captured by other apps.\n \n-On macOS it sets the NSWindow's [`sharingType`](https://developer.apple.com/documentation/appkit/nswindow/sharingtype-swift.property?language=objc) to [`NSWindowSharingNone`](https://developer.apple.com/documentation/appkit/nswindow/sharingtype-swift.enum/none?language=objc).\n-On Windows it calls [`SetWindowDisplayAffinity`](https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-setwindowdisplayaffinity) with `WDA_EXCLUDEFROMCAPTURE`.\n+On Windows, it calls [`SetWindowDisplayAffinity`](https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-setwindowdisplayaffinity) with `WDA_EXCLUDEFROMCAPTURE`.\n For Windows 10 version 2004 and up the window will be removed from capture entirely,\n older Windows versions behave as if `WDA_MONITOR` is applied capturing a black window.\n \n+On macOS, it sets the `NSWindow`'s\n+[`sharingType`](https://developer.apple.com/documentation/appkit/nswindow/sharingtype-swift.property?language=objc)\n+to\n+[`NSWindowSharingNone`](https://developer.apple.com/documentation/appkit/nswindow/sharingtype-swift.enum/none?language=objc).\n+Unfortunately, due to an intentional change in macOS, newer Mac applications that use\n+`ScreenCaptureKit` will capture your window despite `win.setContentProtection(true)`.\n+See [here](https://github.com/electron/electron/issues/48258#issuecomment-3269893618).\n+\n #### `win.isContentProtected()` _macOS_ _Windows_\n \n Returns `boolean` - whether or not content protection is currently enabled."}, {"role": "assistant", "content": "docs: mention `setContentProtection` macOS limitations (#48290)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n package.json   |  4 ++--\n pnpm-lock.yaml | 24 ++++++++++++------------\n 2 files changed, 14 insertions(+), 14 deletions(-)\n\ndiff --git a/package.json b/package.json\nindex 6800cb1..b9ed27e 100644\n--- a/package.json\n+++ b/package.json\n@@ -64,8 +64,8 @@\n   \"devDependencies\": {\n     \"@babel/parser\": \"catalog:\",\n     \"@babel/types\": \"catalog:\",\n-    \"@rollup/plugin-alias\": \"^5.1.1\",\n-    \"@rollup/plugin-commonjs\": \"^28.0.9\",\n+    \"@rollup/plugin-alias\": \"^6.0.0\",\n+    \"@rollup/plugin-commonjs\": \"^29.0.0\",\n     \"@rollup/plugin-json\": \"^6.1.0\",\n     \"@rollup/plugin-node-resolve\": \"^16.0.3\",\n     \"@rollup/plugin-replace\": \"5.0.4\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 1cd7b36..c550a30 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -39,11 +39,11 @@ importers:\n         specifier: 'catalog:'\n         version: 7.28.5\n       '@rollup/plugin-alias':\n-        specifier: ^5.1.1\n-        version: 5.1.1(rollup@4.53.3)\n+        specifier: ^6.0.0\n+        version: 6.0.0(rollup@4.53.3)\n       '@rollup/plugin-commonjs':\n-        specifier: ^28.0.9\n-        version: 28.0.9(rollup@4.53.3)\n+        specifier: ^29.0.0\n+        version: 29.0.0(rollup@4.53.3)\n       '@rollup/plugin-json':\n         specifier: ^6.1.0\n         version: 6.1.0(rollup@4.53.3)\n@@ -1041,17 +1041,17 @@ packages:\n   '@rolldown/pluginutils@1.0.0-beta.53':\n     resolution: {integrity: sha512-vENRlFU4YbrwVqNDZ7fLvy+JR1CRkyr01jhSiDpE1u6py3OMzQfztQU2jxykW3ALNxO4kSlqIDeYyD0Y9RcQeQ==}\n \n-  '@rollup/plugin-alias@5.1.1':\n-    resolution: {integrity: sha512-PR9zDb+rOzkRb2VD+EuKB7UC41vU5DIwZ5qqCpk0KJudcWAyi8rvYOhS7+L5aZCspw1stTViLgN5v6FF1p5cgQ==}\n-    engines: {node: '>=14.0.0'}\n+  '@rollup/plugin-alias@6.0.0':\n+    resolution: {integrity: sha512-tPCzJOtS7uuVZd+xPhoy5W4vThe6KWXNmsFCNktaAh5RTqcLiSfT4huPQIXkgJ6YCOjJHvecOAzQxLFhPxKr+g==}\n+    engines: {node: '>=20.19.0'}\n     peerDependencies:\n-      rollup: ^1.20.0||^2.0.0||^3.0.0||^4.0.0\n+      rollup: '>=4.0.0'\n     peerDependenciesMeta:\n       rollup:\n         optional: true\n \n-  '@rollup/plugin-commonjs@28.0.9':\n-    resolution: {integrity: sha512-PIR4/OHZ79romx0BVVll/PkwWpJ7e5lsqFa3gFfcrFPWwLXLV39JVUzQV9RKjWerE7B845Hqjj9VYlQeieZ2dA==}\n+  '@rollup/plugin-commonjs@29.0.0':\n+    resolution: {integrity: sha512-U2YHaxR2cU/yAiwKJtJRhnyLk7cifnQw0zUpISsocBDoHDJn+HTV74ABqnwr5bEgWUwFZC9oFL6wLe21lHu5eQ==}\n     engines: {node: '>=16.0.0 || 14 >= 14.17'}\n     peerDependencies:\n       rollup: ^2.68.0||^3.0.0||^4.0.0\n@@ -4122,11 +4122,11 @@ snapshots:\n \n   '@rolldown/pluginutils@1.0.0-beta.53': {}\n \n-  '@rollup/plugin-alias@5.1.1(rollup@4.53.3)':\n+  '@rollup/plugin-alias@6.0.0(rollup@4.53.3)':\n     optionalDependencies:\n       rollup: 4.53.3\n \n-  '@rollup/plugin-commonjs@28.0.9(rollup@4.53.3)':\n+  '@rollup/plugin-commonjs@29.0.0(rollup@4.53.3)':\n     dependencies:\n       '@rollup/pluginutils': 5.1.0(rollup@4.53.3)\n       commondir: 1.0.1"}, {"role": "assistant", "content": "build(deps): update rollup plugins"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n e2e/__tests__/__snapshots__/console.test.ts.snap\n\ndiff --git a/e2e/__tests__/__snapshots__/console.test.ts.snap b/e2e/__tests__/__snapshots__/console.test.ts.snap\nindex 849933bd..6edabd73 100644\n--- a/e2e/__tests__/__snapshots__/console.test.ts.snap\n+++ b/e2e/__tests__/__snapshots__/console.test.ts.snap\n@@ -108,22 +108,22 @@ exports[`does not error out when using winston 2`] = `\n     console.log\n       {\"level\":\"info\",\"message\":\"Log message from winston\"}\n \n-      at Console.log (node_modules/winston/lib/winston/transports/console.js:79:23)\n+      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)\n \n     console.log\n       {\"level\":\"info\",\"message\":\"Info message from winston\"}\n \n-      at Console.log (node_modules/winston/lib/winston/transports/console.js:79:23)\n+      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)\n \n     console.log\n       {\"level\":\"warn\",\"message\":\"Warn message from winston\"}\n \n-      at Console.log (node_modules/winston/lib/winston/transports/console.js:79:23)\n+      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)\n \n     console.log\n       {\"level\":\"error\",\"message\":\"Error message from winston\"}\n \n-      at Console.log (node_modules/winston/lib/winston/transports/console.js:79:23)\"\n+      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)\"\n `;\n \n exports[`does not error out when using winston 3`] = `\ndiff --git a/e2e/console-winston/yarn.lock b/e2e/console-winston/yarn.lock\nindex 07e5d70d..449534e9 100644\n--- a/e2e/console-winston/yarn.lock\n+++ b/e2e/console-winston/yarn.lock\n@@ -260,8 +260,8 @@ __metadata:\n   linkType: hard\n \n \"winston@npm:^3.2.1\":\n-  version: 3.13.1\n-  resolution: \"winston@npm:3.13.1\"\n+  version: 3.14.1\n+  resolution: \"winston@npm:3.14.1\"\n   dependencies:\n     \"@colors/colors\": ^1.6.0\n     \"@dabh/diagnostics\": ^2.0.2\n@@ -274,6 +274,6 @@ __metadata:\n     stack-trace: 0.0.x\n     triple-beam: ^1.3.0\n     winston-transport: ^4.7.0\n-  checksum: 34fb3da9ed62fa6a5aded17692b7d4773744999c42efd0a15b866c1202391859b1aef922e94b532632a02738b30ed658429258cb32d5aec4563bb14f2168b888\n+  checksum: 452083f1e6931a839ce208abf7cc99d06c4ae1339082f5981df212492c9ef86195665ca528c98e0e05eaa7c9bd8579555600cd85210f69d30765cb548aa0f2bd\n   languageName: node\n   linkType: hard"}, {"role": "assistant", "content": "chore: update winston dep (#15253)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/en/docs/release-notes.md | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/docs/en/docs/release-notes.md b/docs/en/docs/release-notes.md\nindex a25c94b..5bd1b03 100644\n--- a/docs/en/docs/release-notes.md\n+++ b/docs/en/docs/release-notes.md\n@@ -13,6 +13,7 @@ hide:\n \n ### Translations\n \n+* \ud83c\udf10 Update translations for uk (update-outdated). PR [#14587](https://github.com/fastapi/fastapi/pull/14587) by [@tiangolo](https://github.com/tiangolo).\n * \ud83c\udf10 Update translations for es (update-outdated). PR [#14686](https://github.com/fastapi/fastapi/pull/14686) by [@tiangolo](https://github.com/tiangolo).\n * \ud83d\udd27 Add LLM prompt file for Turkish, generated from the existing translations. PR [#14547](https://github.com/fastapi/fastapi/pull/14547) by [@tiangolo](https://github.com/tiangolo).\n * \ud83d\udd27 Add LLM prompt file for Traditional Chinese, generated from the existing translations. PR [#14550](https://github.com/fastapi/fastapi/pull/14550) by [@tiangolo](https://github.com/tiangolo)."}, {"role": "assistant", "content": "docs: update release notes with uk translation"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/01-app/03-api-reference/03-file-conventions/layout.mdx\n\ndiff --git a/docs/01-app/03-api-reference/03-file-conventions/layout.mdx b/docs/01-app/03-api-reference/03-file-conventions/layout.mdx\nindex dc0f2e3d7..7b31d8d86 100644\n--- a/docs/01-app/03-api-reference/03-file-conventions/layout.mdx\n+++ b/docs/01-app/03-api-reference/03-file-conventions/layout.mdx\n@@ -90,7 +90,7 @@ export default async function Layout({ children, params }) {\n \n You can type layouts with `LayoutProps` to get a strongly typed `params` and named slots inferred from your directory structure. `LayoutProps` is a globally available helper.\n \n-```tsx filename=\"app/dashboard/layout.tsx\" switcher\n+```tsx filename=\"app/dashboard/layout.tsx\"\n export default function Layout(props: LayoutProps<'/dashboard'>) {\n   return (\n     <section>\ndiff --git a/docs/01-app/03-api-reference/03-file-conventions/page.mdx b/docs/01-app/03-api-reference/03-file-conventions/page.mdx\nindex 723dcb598..c362ba3c1 100644\n--- a/docs/01-app/03-api-reference/03-file-conventions/page.mdx\n+++ b/docs/01-app/03-api-reference/03-file-conventions/page.mdx\n@@ -122,7 +122,7 @@ export default function Page({ searchParams }) {\n \n You can type pages with `PageProps` to get strongly typed `params` and `searchParams` from the route literal. `PageProps` is a globally available helper.\n \n-```tsx filename=\"app/blog/[slug]/page.tsx\" switcher\n+```tsx filename=\"app/blog/[slug]/page.tsx\"\n export default async function Page(props: PageProps<'/blog/[slug]'>) {\n   const { slug } = await props.params\n   const query = await props.searchParams\ndiff --git a/docs/01-app/03-api-reference/03-file-conventions/route.mdx b/docs/01-app/03-api-reference/03-file-conventions/route.mdx\nindex 7f3076134..8c3ed020f 100644\n--- a/docs/01-app/03-api-reference/03-file-conventions/route.mdx\n+++ b/docs/01-app/03-api-reference/03-file-conventions/route.mdx\n@@ -106,7 +106,7 @@ export async function GET(request, { params }) {\n \n You can type the Route Handler context using `RouteContext` to get strongly typed `params` from a route literal. `RouteContext` is a globally available helper.\n \n-```ts filename=\"app/users/[id]/route.ts\" switcher\n+```ts filename=\"app/users/[id]/route.ts\"\n import type { NextRequest } from 'next/server'\n \n export async function GET(_req: NextRequest, ctx: RouteContext<'/users/[id]'>) {"}, {"role": "assistant", "content": "docs: no switcher for TS only examples (#85109)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .trunk/trunk.yaml\n\ndiff --git a/.trunk/trunk.yaml b/.trunk/trunk.yaml\nindex db4df606..fa70bb86 100644\n--- a/.trunk/trunk.yaml\n+++ b/.trunk/trunk.yaml\n@@ -52,6 +52,7 @@ lint:\n         - checkov@3.2.405\n         - markdownlint@0.44.0\n         - oxipng@9.1.4\n+        # This version of prettier and the version installed in the package.json should be kept in sync\n         - prettier@3.5.3\n         - renovate@39.248.2\n         - shellcheck@0.10.0\ndiff --git a/knip.jsonc b/knip.jsonc\nindex 4cba7817..69b06257 100644\n--- a/knip.jsonc\n+++ b/knip.jsonc\n@@ -30,6 +30,7 @@\n         \"c8\",\n         // Optional peer dependency used for loading TypeScript configuration files\n         \"jiti\",\n+        \"prettier\",\n       ],\n     },\n     \"docs\": {\ndiff --git a/package.json b/package.json\nindex a352e5bd..100b1ec5 100644\n--- a/package.json\n+++ b/package.json\n@@ -190,6 +190,7 @@\n     \"node-polyfill-webpack-plugin\": \"^1.0.3\",\n     \"npm-license\": \"^0.3.3\",\n     \"pirates\": \"^4.0.5\",\n+    \"prettier\": \"3.5.3\",\n     \"progress\": \"^2.0.3\",\n     \"proxyquire\": \"^2.0.1\",\n     \"recast\": \"^0.23.0\","}, {"role": "assistant", "content": "chore: install `prettier` as a dev dependency (#20302)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n README.md\n\ndiff --git a/README.md b/README.md\nindex a4b1440cb..be58e62d1 100644\n--- a/README.md\n+++ b/README.md\n@@ -297,7 +297,7 @@ If you have discovered a \ud83d\udc1c or have a feature suggestion, feel free to create\n \n <h2>Current project members</h2>\n \n-For information about the governance of the Node.js project, see [GOVERNANCE.md](./GOVERNANCE.md).\n+For information about the governance of the webpack project, see [GOVERNANCE.md](./GOVERNANCE.md).\n \n <h3>TSC (Technical Steering Committee)</h3>"}, {"role": "assistant", "content": "docs: fix mention correct project in the governance section (#19842)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n shell/browser/api/electron_api_session.cc\n\ndiff --git a/shell/browser/api/electron_api_session.cc b/shell/browser/api/electron_api_session.cc\nindex 5a25cef4..da2525aa 100644\n--- a/shell/browser/api/electron_api_session.cc\n+++ b/shell/browser/api/electron_api_session.cc\n@@ -1368,15 +1368,11 @@ v8::Local<v8::Value> Session::WebRequest(v8::Isolate* isolate) {\n   return web_request_.Get(isolate);\n }\n \n-v8::Local<v8::Value> Session::NetLog(v8::Isolate* isolate) {\n+NetLog* Session::NetLog(v8::Isolate* isolate) {\n   if (!net_log_) {\n     net_log_ = NetLog::Create(isolate, browser_context());\n   }\n-\n-  v8::Local<v8::Object> wrapper;\n-  return net_log_->GetWrapper(isolate).ToLocal(&wrapper)\n-             ? wrapper.As<v8::Value>()\n-             : v8::Null(isolate);\n+  return net_log_;\n }\n \n static void StartPreconnectOnUI(ElectronBrowserContext* browser_context,\n@@ -1887,47 +1883,24 @@ namespace {\n \n using electron::api::Session;\n \n-v8::Local<v8::Value> FromPartition(const std::string& partition,\n-                                   gin::Arguments* args) {\n+Session* FromPartition(const std::string& partition, gin::Arguments* args) {\n   if (!electron::Browser::Get()->is_ready()) {\n     args->ThrowTypeError(\"Session can only be received when app is ready\");\n-    return v8::Null(args->isolate());\n+    return {};\n   }\n   base::Value::Dict options;\n   args->GetNext(&options);\n-  Session* session =\n-      Session::FromPartition(args->isolate(), partition, std::move(options));\n-\n-  if (session) {\n-    v8::Local<v8::Object> wrapper;\n-    if (!session->GetWrapper(args->isolate()).ToLocal(&wrapper)) {\n-      return v8::Null(args->isolate());\n-    }\n-    return wrapper;\n-  } else {\n-    return v8::Null(args->isolate());\n-  }\n+  return Session::FromPartition(args->isolate(), partition, std::move(options));\n }\n \n-v8::Local<v8::Value> FromPath(const base::FilePath& path,\n-                              gin::Arguments* args) {\n+Session* FromPath(const base::FilePath& path, gin::Arguments* args) {\n   if (!electron::Browser::Get()->is_ready()) {\n     args->ThrowTypeError(\"Session can only be received when app is ready\");\n-    return v8::Null(args->isolate());\n+    return {};\n   }\n   base::Value::Dict options;\n   args->GetNext(&options);\n-  Session* session = Session::FromPath(args, path, std::move(options));\n-\n-  if (session) {\n-    v8::Local<v8::Object> wrapper;\n-    if (!session->GetWrapper(args->isolate()).ToLocal(&wrapper)) {\n-      return v8::Null(args->isolate());\n-    }\n-    return wrapper;\n-  } else {\n-    return v8::Null(args->isolate());\n-  }\n+  return Session::FromPath(args, path, std::move(options));\n }\n \n void Initialize(v8::Local<v8::Object> exports,\ndiff --git a/shell/browser/api/electron_api_session.h b/shell/browser/api/electron_api_session.h\nindex 5dacd517..29cf1eea 100644\n--- a/shell/browser/api/electron_api_session.h\n+++ b/shell/browser/api/electron_api_session.h\n@@ -170,7 +170,7 @@ class Session final : public gin::Wrappable<Session>,\n   v8::Local<v8::Value> Protocol(v8::Isolate* isolate);\n   v8::Local<v8::Value> ServiceWorkerContext(v8::Isolate* isolate);\n   v8::Local<v8::Value> WebRequest(v8::Isolate* isolate);\n-  v8::Local<v8::Value> NetLog(v8::Isolate* isolate);\n+  api::NetLog* NetLog(v8::Isolate* isolate);\n   void Preconnect(const gin_helper::Dictionary& options, gin::Arguments* args);\n   v8::Local<v8::Promise> CloseAllConnections();\n   v8::Local<v8::Value> GetPath(v8::Isolate* isolate);"}, {"role": "assistant", "content": "refactor: use gin_helper's `gin::Wrappable`-to-`v8::Local` converter (#48885)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/scorecards.yml\n\ndiff --git a/.github/workflows/scorecards.yml b/.github/workflows/scorecards.yml\nindex d72ac359..e24c43fd 100644\n--- a/.github/workflows/scorecards.yml\n+++ b/.github/workflows/scorecards.yml\n@@ -50,6 +50,6 @@ jobs:\n \n       # Upload the results to GitHub's code scanning dashboard.\n       - name: \"Upload to code-scanning\"\n-        uses: github/codeql-action/upload-sarif@4e94bd11f71e507f7f87df81788dff88d1dacbfb # v3.29.5\n+        uses: github/codeql-action/upload-sarif@0499de31b99561a6d14a36a5f662c2a54f91beee # v3.29.5\n         with:\n           sarif_file: results.sarif"}, {"role": "assistant", "content": "build(deps): bump github/codeql-action from 4.31.0 to 4.31.2 (#48764)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific\n\n packages/compiler/src/expression_parser/ast.ts | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex b351da84..79d822c6 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -385,7 +385,7 @@ export class Unary extends Binary {\n   private constructor(\n     span: ParseSpan,\n     sourceSpan: AbsoluteSourceSpan,\n-    public operator: string,\n+    public operator: '+' | '-',\n     public expr: AST,\n     binaryOp: BinaryOperation,\n     binaryLeft: AST,"}, {"role": "assistant", "content": "refactor(compiler): tighten `Unary.operator` type"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/test-nightly.yml\n\ndiff --git a/.github/workflows/test-nightly.yml b/.github/workflows/test-nightly.yml\nindex 5b12f08b..cc7b4786 100644\n--- a/.github/workflows/test-nightly.yml\n+++ b/.github/workflows/test-nightly.yml\n@@ -23,7 +23,7 @@ jobs:\n       - name: Use Node.js ${{ matrix.node-version }}\n         uses: actions/setup-node@v4\n         with:\n-          node-version: 21-nightly\n+          node-version: 22-nightly\n           cache: yarn\n       - name: install\n         run: yarn --immutable\n@@ -55,7 +55,7 @@ jobs:\n       - name: Use Node.js LTS\n         uses: actions/setup-node@v4\n         with:\n-          node-version: 21-nightly\n+          node-version: 22-nightly\n           cache: yarn\n       - name: install\n         run: yarn --immutable"}, {"role": "assistant", "content": "chore: bump Node.js `nightly` version (#14848)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/scorecards.yml\n\ndiff --git a/.github/workflows/scorecards.yml b/.github/workflows/scorecards.yml\nindex ab7aae98..278da3f8 100644\n--- a/.github/workflows/scorecards.yml\n+++ b/.github/workflows/scorecards.yml\n@@ -50,6 +50,6 @@ jobs:\n \n       # Upload the results to GitHub's code scanning dashboard.\n       - name: \"Upload to code-scanning\"\n-        uses: github/codeql-action/upload-sarif@3599b3baa15b485a2e49ef411a7a4bb2452e7f93 # v3.29.5\n+        uses: github/codeql-action/upload-sarif@64d10c13136e1c5bce3e5fbde8d4906eeaafc885 # v3.29.5\n         with:\n           sarif_file: results.sarif"}, {"role": "assistant", "content": "build(deps): bump github/codeql-action from 3.30.5 to 3.30.6 (#48478)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n test/unit/modules/compiler/parser.spec.ts\n\ndiff --git a/test/unit/modules/compiler/parser.spec.ts b/test/unit/modules/compiler/parser.spec.ts\nindex 4fb272f3..1efba124 100644\n--- a/test/unit/modules/compiler/parser.spec.ts\n+++ b/test/unit/modules/compiler/parser.spec.ts\n@@ -767,7 +767,7 @@ describe('parser', () => {\n     expect(ast.directives[0].arg).toBe('field1')\n   })\n \n-  it('attribute with modifiered directive', () => {\n+  it('attribute with modified directive', () => {\n     const ast = parse(\n       '<input type=\"text\" name=\"field1\" :value=\"msg\" v-validate.on.off>',\n       baseOptions\ndiff --git a/types/test/async-component-test.ts b/types/test/async-component-test.ts\nindex d139157b..79978ddf 100644\n--- a/types/test/async-component-test.ts\n+++ b/types/test/async-component-test.ts\n@@ -41,4 +41,4 @@ const e: AsyncComponent = () => ({\n })\n \n // Test that Vue.component accepts any AsyncComponent\n-Vue.component('async-compponent1', a)\n+Vue.component('async-component1', a)"}, {"role": "assistant", "content": "chore: typos (#12949)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .circleci/config.yml\n\ndiff --git a/.circleci/config.yml b/.circleci/config.yml\nindex 2b7e69c8..3c619b4f 100644\n--- a/.circleci/config.yml\n+++ b/.circleci/config.yml\n@@ -58,5 +58,5 @@ workflows:\n           name: test-node-partial-<< matrix.node-version >>\n           matrix:\n             parameters:\n-              node-version: ['16', '18', '20', '21', '22']\n+              node-version: ['16', '18', '20', '22', '23']\n       - test-jest-jasmine"}, {"role": "assistant", "content": "chore: update `circleci` matrix (#15614)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n lib/util/fs.js\n\ndiff --git a/lib/util/fs.js b/lib/util/fs.js\nindex 80825c028..4db861e8a 100644\n--- a/lib/util/fs.js\n+++ b/lib/util/fs.js\n@@ -345,16 +345,29 @@ const path = require(\"path\");\n  * @typedef {(pathLike: PathLike, callback: NoParamCallback) => void} Unlink\n  */\n \n+/**\n+ * @typedef {FSImplementation & { read: (...args: EXPECTED_ANY[]) => EXPECTED_ANY }} CreateReadStreamFSImplementation\n+ */\n+\n+/**\n+ * @typedef {StreamOptions & { fs?: CreateReadStreamFSImplementation | null | undefined, end?: number | undefined }} ReadStreamOptions\n+ */\n+\n+/**\n+ * @typedef {(path: PathLike, options?: BufferEncoding | ReadStreamOptions) => NodeJS.ReadableStream} CreateReadStream\n+ */\n+\n /**\n  * @typedef {object} OutputFileSystem\n- * @property {WriteFile} writeFile\n  * @property {Mkdir} mkdir\n  * @property {Readdir=} readdir\n  * @property {Rmdir=} rmdir\n+ * @property {WriteFile} writeFile\n  * @property {Unlink=} unlink\n  * @property {Stat} stat\n  * @property {LStat=} lstat\n  * @property {ReadFile} readFile\n+ * @property {CreateReadStream=} createReadStream\n  * @property {((path1: string, path2: string) => string)=} join\n  * @property {((from: string, to: string) => string)=} relative\n  * @property {((dirname: string) => string)=} dirname\n@@ -461,7 +474,7 @@ const path = require(\"path\");\n /** @typedef {InputFileSystem & OutputFileSystem & IntermediateFileSystemExtras} IntermediateFileSystem */\n \n /**\n- * @param {InputFileSystem|OutputFileSystem|undefined} fs a file system\n+ * @param {InputFileSystem | OutputFileSystem|undefined} fs a file system\n  * @param {string} rootPath the root path\n  * @param {string} targetPath the target path\n  * @returns {string} location of targetPath relative to rootPath\ndiff --git a/types.d.ts b/types.d.ts\nindex 38c1ff951..734d60c3e 100644\n--- a/types.d.ts\n+++ b/types.d.ts\n@@ -3468,6 +3468,9 @@ declare interface ContextTimestampAndHash {\n \tresolved?: ResolvedContextTimestampAndHash;\n \tsymlinks?: Set<string>;\n }\n+type CreateReadStreamFSImplementation = FSImplementation & {\n+\tread: (...args: any[]) => any;\n+};\n type CreateStatsOptionsContext = KnownCreateStatsOptionsContext &\n \tRecord<string, any>;\n type CreateWriteStreamFSImplementation = FSImplementation & {\n@@ -12477,10 +12480,10 @@ declare interface Output {\n \tworkerWasmLoading?: string | false;\n }\n declare interface OutputFileSystem {\n-\twriteFile: WriteFile;\n \tmkdir: Mkdir;\n \treaddir?: ReaddirFs;\n \trmdir?: Rmdir;\n+\twriteFile: WriteFile;\n \tunlink?: (\n \t\tpathLike: PathLikeFs,\n \t\tcallback: (err: null | NodeJS.ErrnoException) => void\n@@ -12488,6 +12491,23 @@ declare interface OutputFileSystem {\n \tstat: StatFs;\n \tlstat?: LStatFs;\n \treadFile: ReadFileFs;\n+\tcreateReadStream?: (\n+\t\tpath: PathLikeFs,\n+\t\toptions?:\n+\t\t\t| \"ascii\"\n+\t\t\t| \"utf8\"\n+\t\t\t| \"utf-8\"\n+\t\t\t| \"utf16le\"\n+\t\t\t| \"utf-16le\"\n+\t\t\t| \"ucs2\"\n+\t\t\t| \"ucs-2\"\n+\t\t\t| \"base64\"\n+\t\t\t| \"base64url\"\n+\t\t\t| \"latin1\"\n+\t\t\t| \"binary\"\n+\t\t\t| \"hex\"\n+\t\t\t| ReadStreamOptions\n+\t) => NodeJS.ReadableStream;\n \tjoin?: (path1: string, path2: string) => string;\n \trelative?: (from: string, to: string) => string;\n \tdirname?: (dirname: string) => string;\n@@ -13620,6 +13640,10 @@ declare interface ReadFileTypes {\n \t\tcallback: (err: null | NodeJS.ErrnoException, result?: Buffer) => void\n \t): void;\n }\n+type ReadStreamOptions = StreamOptions & {\n+\tfs?: null | CreateReadStreamFSImplementation;\n+\tend?: number;\n+};\n declare interface ReaddirFs {\n \t(\n \t\tpath: PathLikeFs,\n@@ -17340,6 +17364,28 @@ declare interface StreamChunksOptions {\n \tfinalSource?: boolean;\n \tcolumns?: boolean;\n }\n+declare interface StreamOptions {\n+\tflags?: string;\n+\tencoding?:\n+\t\t| \"ascii\"\n+\t\t| \"utf8\"\n+\t\t| \"utf-8\"\n+\t\t| \"utf16le\"\n+\t\t| \"utf-16le\"\n+\t\t| \"ucs2\"\n+\t\t| \"ucs-2\"\n+\t\t| \"base64\"\n+\t\t| \"base64url\"\n+\t\t| \"latin1\"\n+\t\t| \"binary\"\n+\t\t| \"hex\";\n+\tfd?: any;\n+\tmode?: number;\n+\tautoClose?: boolean;\n+\temitClose?: boolean;\n+\tstart?: number;\n+\tsignal?: null | AbortSignal;\n+}\n type Supports = undefined | string;\n declare class SyncModuleIdsPlugin {\n \tconstructor(__0: SyncModuleIdsPluginOptions);\n@@ -18130,31 +18176,10 @@ type WriteFileOptions =\n declare interface WriteOnlySet<T> {\n \tadd: (item: T) => void;\n }\n-\n-declare interface WriteStreamOptions {\n-\tflags?: string;\n-\tencoding?:\n-\t\t| \"ascii\"\n-\t\t| \"utf8\"\n-\t\t| \"utf-8\"\n-\t\t| \"utf16le\"\n-\t\t| \"utf-16le\"\n-\t\t| \"ucs2\"\n-\t\t| \"ucs-2\"\n-\t\t| \"base64\"\n-\t\t| \"base64url\"\n-\t\t| \"latin1\"\n-\t\t| \"binary\"\n-\t\t| \"hex\";\n-\tfd?: any;\n-\tmode?: number;\n-\tautoClose?: boolean;\n-\temitClose?: boolean;\n-\tstart?: number;\n-\tsignal?: null | AbortSignal;\n+type WriteStreamOptions = StreamOptions & {\n \tfs?: null | CreateWriteStreamFSImplementation;\n \tflush?: boolean;\n-}\n+};\n declare function exports(\n \toptions: Configuration,\n \tcallback?: CallbackWebpackFunction_2<Stats, void>"}, {"role": "assistant", "content": "fix: output filesystem types"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n shell/browser/api/electron_api_menu_mac.mm\n\ndiff --git a/shell/browser/api/electron_api_menu_mac.mm b/shell/browser/api/electron_api_menu_mac.mm\nindex b5c60b3e..0d260562 100644\n--- a/shell/browser/api/electron_api_menu_mac.mm\n+++ b/shell/browser/api/electron_api_menu_mac.mm\n@@ -157,7 +157,8 @@ void MenuMac::PopupOnUI(const base::WeakPtr<NativeWindow>& native_window,\n   if (rightmostMenuPoint > screenRight)\n     position.x = position.x - [menu size].width;\n \n-  [popup_controllers_[window_id] setCloseCallback:std::move(close_callback)];\n+  [popup_controllers_[window_id]\n+      setPopupCloseCallback:std::move(close_callback)];\n \n   if (frame && frame->render_frame_host()) {\n     auto* rfh = frame->render_frame_host()->GetOutermostMainFrameOrEmbedder();\ndiff --git a/shell/browser/ui/cocoa/electron_menu_controller.h b/shell/browser/ui/cocoa/electron_menu_controller.h\nindex c6153ce0..489f42ad 100644\n--- a/shell/browser/ui/cocoa/electron_menu_controller.h\n+++ b/shell/browser/ui/cocoa/electron_menu_controller.h\n@@ -28,7 +28,7 @@ class ElectronMenuModel;\n   NSMenu* __strong menu_;\n   BOOL isMenuOpen_;\n   BOOL useDefaultAccelerator_;\n-  base::OnceClosure closeCallback;\n+  base::OnceClosure popupCloseCallback;\n }\n \n // Builds a NSMenu from the pre-built model (must not be nil). Changes made\n@@ -36,7 +36,7 @@ class ElectronMenuModel;\n - (id)initWithModel:(electron::ElectronMenuModel*)model\n     useDefaultAccelerator:(BOOL)use;\n \n-- (void)setCloseCallback:(base::OnceClosure)callback;\n+- (void)setPopupCloseCallback:(base::OnceClosure)callback;\n \n // Populate current NSMenu with |model|.\n - (void)populateWithModel:(electron::ElectronMenuModel*)model;\ndiff --git a/shell/browser/ui/cocoa/electron_menu_controller.mm b/shell/browser/ui/cocoa/electron_menu_controller.mm\nindex 77e22fa4..844ca12c 100644\n--- a/shell/browser/ui/cocoa/electron_menu_controller.mm\n+++ b/shell/browser/ui/cocoa/electron_menu_controller.mm\n@@ -186,8 +186,8 @@ NSArray* ConvertSharingItemToNS(const SharingItem& item) {\n   model_ = nullptr;\n }\n \n-- (void)setCloseCallback:(base::OnceClosure)callback {\n-  closeCallback = std::move(callback);\n+- (void)setPopupCloseCallback:(base::OnceClosure)callback {\n+  popupCloseCallback = std::move(callback);\n }\n \n - (void)populateWithModel:(electron::ElectronMenuModel*)model {\n@@ -221,9 +221,9 @@ NSArray* ConvertSharingItemToNS(const SharingItem& item) {\n     isMenuOpen_ = NO;\n     if (model_)\n       model_->MenuWillClose();\n-    if (!closeCallback.is_null()) {\n-      content::GetUIThreadTaskRunner({})->PostTask(FROM_HERE,\n-                                                   std::move(closeCallback));\n+    if (!popupCloseCallback.is_null()) {\n+      content::GetUIThreadTaskRunner({})->PostTask(\n+          FROM_HERE, std::move(popupCloseCallback));\n     }\n   }\n }\n@@ -567,18 +567,25 @@ NSArray* ConvertSharingItemToNS(const SharingItem& item) {\n   if (!isMenuOpen_)\n     return;\n \n-  // We should only respond to the top-level menu's close event.\n-  if (menu != menu_)\n-    return;\n+  bool has_close_cb = !popupCloseCallback.is_null();\n+\n+  // There are two scenarios where we should emit menu-did-close:\n+  // 1. It's a popup and the top level menu is closed.\n+  // 2. It's an application menu, and the current menu's supermenu\n+  //    is the top-level menu.\n+  if (menu != menu_) {\n+    if (has_close_cb || menu.supermenu != menu_)\n+      return;\n+  }\n \n   isMenuOpen_ = NO;\n   if (model_)\n     model_->MenuWillClose();\n   // Post async task so that itemSelected runs before the close callback\n-  // deletes the controller from the map which deallocates it\n-  if (!closeCallback.is_null()) {\n+  // deletes the controller from the map which deallocates it.\n+  if (has_close_cb) {\n     content::GetUIThreadTaskRunner({})->PostTask(FROM_HERE,\n-                                                 std::move(closeCallback));\n+                                                 std::move(popupCloseCallback));\n   }\n }"}, {"role": "assistant", "content": "fix: ensure `menu-did-close` is emitted for application menus (#49075)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n .github/workflows/ci.yml\n\ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 66582f30..95b13f35 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -144,7 +144,7 @@ jobs:\n \n             - name: Install Packages for ${{ matrix.package.name }}\n               working-directory: ${{ matrix.package.directory }}\n-              run: npm install\n+              run: npm install --legacy-peer-deps\n \n             - name: Test types for ${{ matrix.package.name }}\n               working-directory: ${{ matrix.package.directory }}\ndiff --git a/.github/workflows/types-integration.yml b/.github/workflows/types-integration.yml\nindex a7db67c1..eed524e4 100644\n--- a/.github/workflows/types-integration.yml\n+++ b/.github/workflows/types-integration.yml\n@@ -203,7 +203,7 @@ jobs:\n \n             - name: Install Packages\n               working-directory: ${{ matrix.package.directory }}\n-              run: npm install\n+              run: npm install --legacy-peer-deps\n \n             - name: Check validity of type definitions\n               working-directory: ${{ matrix.package.directory }}\ndiff --git a/packages/eslint-config-eslint/base.js b/packages/eslint-config-eslint/base.js\nindex 2d392aa0..f0fa408d 100644\n--- a/packages/eslint-config-eslint/base.js\n+++ b/packages/eslint-config-eslint/base.js\n@@ -89,7 +89,6 @@ const jsConfigs = [\n \t\t\t\"no-sequences\": \"error\",\n \t\t\t\"no-shadow\": \"error\",\n \t\t\t\"no-throw-literal\": \"error\",\n-\t\t\t\"no-unassigned-vars\": \"error\",\n \t\t\t\"no-undef\": [\"error\", { typeof: true }],\n \t\t\t\"no-undef-init\": \"error\",\n \t\t\t\"no-undefined\": \"error\",\n@@ -107,7 +106,6 @@ const jsConfigs = [\n \t\t\t\t},\n \t\t\t],\n \t\t\t\"no-use-before-define\": \"error\",\n-\t\t\t\"no-useless-assignment\": \"error\",\n \t\t\t\"no-useless-call\": \"error\",\n \t\t\t\"no-useless-computed-key\": \"error\",\n \t\t\t\"no-useless-concat\": \"error\",\n@@ -133,7 +131,6 @@ const jsConfigs = [\n \t\t\t\"prefer-rest-params\": \"error\",\n \t\t\t\"prefer-spread\": \"error\",\n \t\t\t\"prefer-template\": \"error\",\n-\t\t\t\"preserve-caught-error\": \"error\",\n \t\t\tradix: \"error\",\n \t\t\t\"require-unicode-regexp\": \"error\",\n \t\t\tstrict: [\"error\", \"global\"],\ndiff --git a/packages/eslint-config-eslint/package.json b/packages/eslint-config-eslint/package.json\nindex 503cb22b..1542243f 100644\n--- a/packages/eslint-config-eslint/package.json\n+++ b/packages/eslint-config-eslint/package.json\n@@ -63,7 +63,7 @@\n   \"bugs\": \"https://github.com/eslint/eslint/issues/\",\n   \"dependencies\": {\n     \"@eslint-community/eslint-plugin-eslint-comments\": \"^4.3.0\",\n-    \"@eslint/js\": \"^9.39.1 || >=10.0.0-alpha.0 <10.0.0 || ^10.0.1\",\n+    \"@eslint/js\": \">=10.0.0-alpha.0 <10.0.0 || ^10.0.1\",\n     \"eslint-plugin-jsdoc\": \"^48.2.3\",\n     \"eslint-plugin-n\": \"^17.11.1\",\n     \"eslint-plugin-regexp\": \"^2.10.0\",\n@@ -71,11 +71,11 @@\n   },\n   \"devDependencies\": {\n     \"@arethetypeswrong/cli\": \"^0.18.0\",\n-    \"eslint\": \"^9.39.0 || >=10.0.0-alpha.0\",\n+    \"eslint\": \">=10.0.0-alpha.0\",\n     \"typescript\": \"^5.7.2\"\n   },\n   \"peerDependencies\": {\n-    \"eslint\": \"^9.39.0 || >=10.0.0-alpha.0\"\n+    \"eslint\": \">=10.0.0-alpha.0\"\n   },\n   \"peerDependenciesMeta\": {\n     \"eslint\": {"}, {"role": "assistant", "content": "chore: remove redundant rules from eslint-config-eslint (#20327)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n docs/zh/llm-prompt.md | 46 ++++++++++++++++++++++++++++++++++++++++++++++\n 1 file changed, 46 insertions(+)\n\ndiff --git a/docs/zh/llm-prompt.md b/docs/zh/llm-prompt.md\nnew file mode 100644\nindex 0000000..1dfbe59\n--- /dev/null\n+++ b/docs/zh/llm-prompt.md\n@@ -0,0 +1,46 @@\n+### Target language\n+\n+Translate to Simplified Chinese (\u7b80\u4f53\u4e2d\u6587).\n+\n+Language code: zh.\n+\n+### Grammar and tone\n+\n+1) Use clear, concise technical Chinese consistent with existing docs.\n+2) Address the reader naturally (commonly using \u201c\u4f60/\u4f60\u7684\u201d).\n+\n+### Headings\n+\n+1) Follow existing Simplified Chinese heading style (short and descriptive).\n+2) Do not add trailing punctuation to headings.\n+3) If a heading contains only the name of a FastAPI feature, do not translate it.\n+\n+### Quotes and punctuation\n+\n+1) Keep punctuation style consistent with existing Simplified Chinese docs (they often mix English terms like \u201cFastAPI\u201d with Chinese text).\n+2) Never change punctuation inside inline code, code blocks, URLs, or file paths.\n+\n+### Ellipsis\n+\n+1) Keep ellipsis style consistent within each document, prefer `...` over  `\u2026\u2026`.\n+2) Never change ellipsis in code, URLs, or CLI examples.\n+\n+### Preferred translations / glossary\n+\n+Use the following preferred translations when they apply in documentation prose:\n+\n+- request (HTTP): \u8bf7\u6c42\n+- response (HTTP): \u54cd\u5e94\n+- path operation: \u8def\u5f84\u64cd\u4f5c\n+- path operation function: \u8def\u5f84\u64cd\u4f5c\u51fd\u6570\n+\n+### `///` admonitions\n+\n+1) Keep the admonition keyword in English (do not translate `note`, `tip`, etc.).\n+2) If a title is present, prefer these canonical titles:\n+\n+- `/// tip | \u63d0\u793a`\n+- `/// note | \u6ce8\u610f`\n+- `/// warning | \u8b66\u544a`\n+- `/// info | \u4fe1\u606f`\n+- `/// danger | \u5371\u9669`"}, {"role": "assistant", "content": "docs: add chinese translation prompt guide"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n CHANGELOG.md\n\ndiff --git a/CHANGELOG.md b/CHANGELOG.md\nindex 43151a60..5e2b22fd 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -54,6 +54,7 @@\n - `[jest-leak-detector]` Make leak-detector more aggressive when running GC ([#14526](https://github.com/jestjs/jest/pull/14526))\n - `[jest-runtime]` Properly handle re-exported native modules in ESM via CJS ([#14589](https://github.com/jestjs/jest/pull/14589))\n - `[jest-util]` Make sure `isInteractive` works in a browser ([#14552](https://github.com/jestjs/jest/pull/14552))\n+- `[jest-util]` Add missing dependency on `jest-regex-util` ([#15030](https://github.com/jestjs/jest/pull/15030))\n - `[pretty-format]` [**BREAKING**] Print `ArrayBuffer` and `DataView` correctly ([#14290](https://github.com/jestjs/jest/pull/14290))\n - `[jest-cli]` When specifying paths on the command line, only match against the relative paths of the test files ([#12519](https://github.com/jestjs/jest/pull/12519))\n   - [**BREAKING**] Changes `testPathPattern` configuration option to `testPathPatterns`, which now takes a list of patterns instead of the regex.\ndiff --git a/packages/jest-util/package.json b/packages/jest-util/package.json\nindex 0c76c8a5..101ab2f0 100644\n--- a/packages/jest-util/package.json\n+++ b/packages/jest-util/package.json\n@@ -24,6 +24,7 @@\n     \"chalk\": \"^4.0.0\",\n     \"ci-info\": \"^4.0.0\",\n     \"graceful-fs\": \"^4.2.9\",\n+    \"jest-regex-util\": \"workspace:*\",\n     \"picomatch\": \"^4.0.0\"\n   },\n   \"devDependencies\": {\ndiff --git a/packages/jest-util/tsconfig.json b/packages/jest-util/tsconfig.json\nindex b69d4caa..1ed0dbe6 100644\n--- a/packages/jest-util/tsconfig.json\n+++ b/packages/jest-util/tsconfig.json\n@@ -6,5 +6,5 @@\n   },\n   \"include\": [\"./src/**/*\"],\n   \"exclude\": [\"./**/__tests__/**/*\"],\n-  \"references\": [{\"path\": \"../jest-types\"}]\n+  \"references\": [{\"path\": \"../jest-regex-util\"}, {\"path\": \"../jest-types\"}]\n }\ndiff --git a/yarn.lock b/yarn.lock\nindex be41f487..f8701ebf 100644\n--- a/yarn.lock\n+++ b/yarn.lock\n@@ -13302,6 +13302,7 @@ __metadata:\n     chalk: ^4.0.0\n     ci-info: ^4.0.0\n     graceful-fs: ^4.2.9\n+    jest-regex-util: \"workspace:*\"\n     picomatch: ^4.0.0\n   languageName: unknown\n   linkType: soft"}, {"role": "assistant", "content": "fix(jest-util): add `jest-regex-util` as a dependency` (#15030)"}]}
{"messages": [{"role": "user", "content": "Generate a conventional commit message for the following git diff.\n\nFollow the conventional commit format: type(scope): description\n\nTypes: feat, fix, docs, style, refactor, test, chore, ci, build, perf\n\nRules:\n- Use lowercase for description\n- Use imperative mood (add, fix, update)\n- No period at end\n- Keep under 72 characters\n\n packages/next/src/server/dev/next-dev-server.ts\n\ndiff --git a/packages/next/src/server/dev/next-dev-server.ts b/packages/next/src/server/dev/next-dev-server.ts\nindex 894a21ad6..6498d060a 100644\n--- a/packages/next/src/server/dev/next-dev-server.ts\n+++ b/packages/next/src/server/dev/next-dev-server.ts\n@@ -48,6 +48,7 @@ import { loadDefaultErrorComponents } from '../load-default-error-components'\n import { DecodeError, MiddlewareNotFoundError } from '../../shared/lib/utils'\n import * as Log from '../../build/output/log'\n import isError, { getProperError } from '../../lib/is-error'\n+import { defaultConfig } from '../config-shared'\n import { isMiddlewareFile } from '../../build/utils'\n import { formatServerError } from '../../lib/format-server-error'\n import { DevRouteMatcherManager } from '../route-matcher-managers/dev-route-matcher-manager'\n@@ -185,8 +186,14 @@ export default class DevServer extends Server {\n     this.appDir = appDir\n \n     if (this.nextConfig.experimental.serverComponentsHmrCache) {\n-      this.serverComponentsHmrCache = new LRUCache(\n+      // Ensure HMR cache has a minimum size equal to the default cacheMaxMemorySize,\n+      // but allow it to grow if the user has configured a larger value.\n+      const hmrCacheSize = Math.max(\n         this.nextConfig.cacheMaxMemorySize,\n+        defaultConfig.cacheMaxMemorySize\n+      )\n+      this.serverComponentsHmrCache = new LRUCache(\n+        hmrCacheSize,\n         function length(value) {\n           return JSON.stringify(value).length\n         }\ndiff --git a/test/development/app-dir/server-components-hmr-cache/next.config.js b/test/development/app-dir/server-components-hmr-cache/next.config.js\nindex 7e8ba7218..4e847fb88 100644\n--- a/test/development/app-dir/server-components-hmr-cache/next.config.js\n+++ b/test/development/app-dir/server-components-hmr-cache/next.config.js\n@@ -2,6 +2,7 @@\n  * @type {import('next').NextConfig}\n  */\n const nextConfig = {\n+  // cacheMaxMemorySize: 0,\n   experimental: {\n     // serverComponentsHmrCache: false,\n   },\ndiff --git a/test/development/app-dir/server-components-hmr-cache/server-components-hmr-cache.test.ts b/test/development/app-dir/server-components-hmr-cache/server-components-hmr-cache.test.ts\nindex b9beefb07..d19713649 100644\n--- a/test/development/app-dir/server-components-hmr-cache/server-components-hmr-cache.test.ts\n+++ b/test/development/app-dir/server-components-hmr-cache/server-components-hmr-cache.test.ts\n@@ -91,6 +91,61 @@ describe('server-components-hmr-cache', () => {\n       })\n     })\n \n+    describe('with cacheMaxMemorySize set to 0', () => {\n+      beforeAll(async () => {\n+        await next.patchFile('next.config.js', (content) =>\n+          content.replace('// cacheMaxMemorySize: 0,', 'cacheMaxMemorySize: 0,')\n+        )\n+      })\n+\n+      afterAll(async () => {\n+        await next.patchFile('next.config.js', (content) =>\n+          content.replace('cacheMaxMemorySize: 0,', '// cacheMaxMemorySize: 0,')\n+        )\n+      })\n+\n+      it('should not warn about \"Single item size exceeds maxSize\"', async () => {\n+        const initialOutputLength = next.cliOutput.length\n+        const browser = await next.browser(`/${runtime}`)\n+        await browser.elementById('value').text()\n+\n+        await next.patchFile(\n+          'components/shared-page.tsx',\n+          (content) => content.replace('foo', 'bar'),\n+          async () => {\n+            await retry(async () => {\n+              const updatedContent = await browser.elementById('content').text()\n+              expect(updatedContent).toBe('bar')\n+            }, 5000)\n+\n+            // Verify the warning does not appear\n+            const newOutput = next.cliOutput.slice(initialOutputLength)\n+            expect(newOutput).not.toContain('Single item size exceeds maxSize')\n+          }\n+        )\n+      })\n+\n+      it('should still use cached fetch calls for fast refresh requests', async () => {\n+        const browser = await next.browser(`/${runtime}`)\n+        const valueBeforePatch = await browser.elementById('value').text()\n+\n+        await next.patchFile(\n+          'components/shared-page.tsx',\n+          (content) => content.replace('foo', 'bar'),\n+          async () => {\n+            await retry(async () => {\n+              const updatedContent = await browser.elementById('content').text()\n+              expect(updatedContent).toBe('bar')\n+            }, 5000)\n+\n+            // HMR cache should still work even with cacheMaxMemorySize: 0\n+            const valueAfterPatch = await browser.elementById('value').text()\n+            expect(valueBeforePatch).toEqual(valueAfterPatch)\n+          }\n+        )\n+      })\n+    })\n+\n     describe('with experimental.serverComponentsHmrCache disabled', () => {\n       beforeAll(async () => {\n         await next.patchFile('next.config.js', (content) =>"}, {"role": "assistant", "content": "fix: cacheMaxMemorySize should not disable dev HMR cache (#86164)"}]}
