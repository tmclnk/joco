{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" packages/core/src/util/is_dev_mode.ts | 3 +++\n 1 file changed, 3 insertions(+)\n\ndiff --git a/packages/core/src/util/is_dev_mode.ts b/packages/core/src/util/is_dev_mode.ts\nindex 67e1df24..f868b46c 100644\n--- a/packages/core/src/util/is_dev_mode.ts\n+++ b/packages/core/src/util/is_dev_mode.ts\n@@ -40,5 +40,8 @@ export function enableProdMode(): void {\n   // `global[\u0027ngDevMode\u0027] \u003d false;` is also dropped.\n   if (typeof ngDevMode \u003d\u003d\u003d \u0027undefined\u0027 || ngDevMode) {\n     global[\u0027ngDevMode\u0027] \u003d false;\n+    // The ngGlobal might already be init, for because initNgDevMode() is invoked from the top level,\n+    // an this function might executed later. So we need to clean up the global.ng as well.\n+    global[\u0027ng\u0027] \u003d undefined;\n   }\n }","output":"refactor(core): remove ng when invoking `enableProdMode`","metadata":{"id":"angular-cb5879f5","repository":"angular","commit_hash":"cb5879f566b799ab104bb3e5ceaa13e74c7263d0","author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e","type":"refactor","scope":"core","quality_score":90}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" package.json   |  1 -\n pnpm-lock.yaml | 14 --------------\n 2 files changed, 15 deletions(-)\n\ndiff --git a/package.json b/package.json\nindex 394bba95..cea79494 100644\n--- a/package.json\n+++ b/package.json\n@@ -162,7 +162,6 @@\n   \"devDependencies\": {\n     \"@actions/core\": \"^2.0.0\",\n     \"@actions/github\": \"^7.0.0\",\n-    \"@angular-devkit/architect-cli\": \"0.2101.0-rc.0\",\n     \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#486b075a283ef0c169475b981de1bd229114a000\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\n     \"@babel/plugin-transform-async-generator-functions\": \"^7.27.1\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex a4c5a79e..e774da61 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -338,9 +338,6 @@ importers:\n       \u0027@actions/github\u0027:\n         specifier: ^7.0.0\n         version: 7.0.0\n-      \u0027@angular-devkit/architect-cli\u0027:\n-        specifier: 0.2101.0-rc.0\n-        version: 0.2101.0-rc.0(chokidar@5.0.0)\n       \u0027@angular/ng-dev\u0027:\n         specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#486b075a283ef0c169475b981de1bd229114a000\n         version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/486b075a283ef0c169475b981de1bd229114a000(@modelcontextprotocol/sdk@1.25.2)\n@@ -1533,11 +1530,6 @@ packages:\n     resolution: {integrity: sha512-30iZtAPgz+LTIYoeivqYo853f02jBYSd5uGnGpkFV0M3xOt9aN73erkgYAmZU43x4VfqcnLxW9Kpg3R5LC4YYw\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d6.0.0\u0027}\n \n-  \u0027@angular-devkit/architect-cli@0.2101.0-rc.0\u0027:\n-    resolution: {integrity: sha512-hNCHyH1FjrTtZFHAmTH5tLPNo26+3xWwv64H0fQiiLsmdnKkONqJDJMw9YqjxOpjxzLnhyIuaAg4RJnYMLvRSA\u003d\u003d}\n-    engines: {node: ^20.19.0 || ^22.12.0 || \u003e\u003d24.0.0, npm: ^6.11.0 || ^7.5.6 || \u003e\u003d8.0.0, yarn: \u0027\u003e\u003d 1.13.0\u0027}\n-    hasBin: true\n-\n   \u0027@angular-devkit/architect@0.2101.0-rc.0\u0027:\n     resolution: {integrity: sha512-QohNOLzTorQejqb4Kr5GFB9gCiaTuarmTza53g8oYjSMzB/zLDDN6O5e7SW6lp+wdfIla2mnUWyVBJSTNOa+Hg\u003d\u003d}\n     engines: {node: ^20.19.0 || ^22.12.0 || \u003e\u003d24.0.0, npm: ^6.11.0 || ^7.5.6 || \u003e\u003d8.0.0, yarn: \u0027\u003e\u003d 1.13.0\u0027}\n@@ -13540,12 +13532,6 @@ snapshots:\n       \u0027@jridgewell/gen-mapping\u0027: 0.3.13\n       \u0027@jridgewell/trace-mapping\u0027: 0.3.31\n \n-  \u0027@angular-devkit/architect-cli@0.2101.0-rc.0(chokidar@5.0.0)\u0027:\n-    dependencies:\n-      \u0027@angular-devkit/architect\u0027: 0.2101.0-rc.0(chokidar@5.0.0)\n-    transitivePeerDependencies:\n-      - chokidar\n-\n   \u0027@angular-devkit/architect@0.2101.0-rc.0(chokidar@5.0.0)\u0027:\n     dependencies:\n       \u0027@angular-devkit/core\u0027: 21.1.0-rc.0(chokidar@5.0.0)","output":"build: remove `@angular-devkit/architect-cli` from dev dependencies","metadata":{"id":"angular-e8f8ac20","repository":"angular","commit_hash":"e8f8ac20d6934f48619d0f4ede8cd131dd3b3aa5","author":"Alan Agius \u003c17563226+alan-agius4@users.noreply.github.com\u003e","type":"build","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" vscode-ng-language-service/tools/release.mts | 32 +++++++++++++++++++++++++---\n 1 file changed, 29 insertions(+), 3 deletions(-)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex 63541d8a..d01e5482 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -241,13 +241,39 @@ async function prepareReleasePullRequest(\n  */\n async function generateChangelog(fromVersion: string, toVersion: string): Promise\u003cstring\u003e {\n   const previousTag \u003d await getPreviousTag(fromVersion);\n-  let {stdout: commits} \u003d await exec(\n+\n+  // Get all subjects from the previous release to filter out duplicates (cherry-picks).\n+  const {stdout: existingSubjectsOutput} \u003d await exec(\n+    `git log ${previousTag} -E ` +\n+      \u0027--grep\u003d\"^(feat|fix|perf)\\\\((vscode-extension|language-server|language-service)\\\\):\" \u0027 +\n+      \u0027--format\u003d\"%s\"\u0027,\n+  );\n+  const existingSubjects \u003d new Set(\n+    existingSubjectsOutput\n+      .trim()\n+      .split(\u0027\\n\u0027)\n+      .map((s) \u003d\u003e s.trim()),\n+  );\n+\n+  const {stdout: newCommitsRaw} \u003d await exec(\n     `git log --left-only FETCH_HEAD...${previousTag} -E ` +\n       \u0027--grep\u003d\"^(feat|fix|perf)\\\\((vscode-extension|language-server|language-service)\\\\):\" \u0027 +\n-      \u0027--format\u003d\"format:- %s ([%h](https://github.com/angular/angular/commit/%H))\"\u0027,\n+      \u0027--format\u003d\"%s|%h|%H\"\u0027,\n   );\n \n-  commits \u003d commits.trim();\n+  const commits \u003d newCommitsRaw\n+    .trim()\n+    .split(\u0027\\n\u0027)\n+    .filter((line) \u003d\u003e {\n+      if (!line) return false;\n+      const [subject, shortHash, hash] \u003d line.split(\u0027|\u0027);\n+      return !existingSubjects.has(subject.trim());\n+    })\n+    .map((line) \u003d\u003e {\n+      const [subject, shortHash, hash] \u003d line.split(\u0027|\u0027);\n+      return `- ${subject} ([${shortHash}](https://github.com/angular/angular/commit/${hash}))`;\n+    })\n+    .join(\u0027\\n\u0027);\n \n   const now \u003d new Date();\n   const date \u003d `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, \u00270\u0027)}-${String(now.getDate()).padStart(2, \u00270\u0027)}`;","output":"build: improve changelog generation and tag fetching in release script","metadata":{"id":"angular-69da6390","repository":"angular","commit_hash":"69da6390b1832f67ce0026da140ac7a50b082f5e","author":"Andrew Scott \u003catscott@google.com\u003e","type":"build","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .ng-dev/github.mjs | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/.ng-dev/github.mjs b/.ng-dev/github.mjs\nindex 57b58572..8df9dcd8 100644\n--- a/.ng-dev/github.mjs\n+++ b/.ng-dev/github.mjs\n@@ -9,4 +9,5 @@ export const github \u003d {\n   name: \u0027angular\u0027,\n   mainBranchName: \u0027main\u0027,\n   mergeMode: \u0027caretaker-only\u0027,\n+  requireReleaseModeForRelease: true,\n };","output":"build: begin requring usage of release mode for releases","metadata":{"id":"angular-4d6a6aaf","repository":"angular","commit_hash":"4d6a6aafeecc0449025b3ad94c08223770af1b97","author":"Joey Perrott \u003cjosephperrott@gmail.com\u003e","type":"build","quality_score":80}}
{"instruction":"Generate a conventional commit message for the following git diff.\n\nFollow the conventional commits format: type(scope): description\n\nValid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore\n\nRules:\n- Keep the subject line under 72 characters\n- Start description with lowercase\n- Do not end with a period\n- Be concise and specific","input":" .devcontainer/recommended-Dockerfile              | 17 +++++------------\n .devcontainer/recommended-devcontainer.json       | 11 ++++++-----\n .gitignore                                        |  3 +++\n contributing-docs/building-and-testing-angular.md | 16 ++++++++++++++++\n 4 files changed, 30 insertions(+), 17 deletions(-)\n\ndiff --git a/.devcontainer/recommended-Dockerfile b/.devcontainer/recommended-Dockerfile\nindex d1288512..0992ceb9 100644\n--- a/.devcontainer/recommended-Dockerfile\n+++ b/.devcontainer/recommended-Dockerfile\n@@ -1,23 +1,16 @@\n # Image metadata and config.\n # Ideally, the Node.js version should match what we use on CI.\n-FROM cimg/node:18.13.0@sha256:45d0ee279f522c4562a464df71108104cc9b2187205333ffd0707d4f05589731\n-\n+FROM cimg/node:22.21.1-browsers@sha256:eee8ed828d5a54196456a86ac6872c43325acad54e59632261e23b486c458992\n \n LABEL name\u003d\"Angular dev environment\" \\\n-      description\u003d\"This image can be used to create a dev environment for building Angular.\" \\\n-      vendor\u003d\"angular\" \\\n-      version\u003d\"1.0\"\n-\n-EXPOSE 4000 4200 4433 5000 8080 9876\n+  description\u003d\"This image can be used to create a dev environment for building Angular.\" \\\n+  vendor\u003d\"angular\" \\\n+  version\u003d\"1.0\"\n \n+EXPOSE 4200 4201 4205 4206 9876\n \n # Switch to `root`.\n USER root\n \n-\n-# Configure `Node.js`/`npm`.\n-RUN npm config --global set user root\n-\n-\n # Go! (And keep going.)\n CMD [\"tail\", \"--follow\", \"/dev/null\"]\ndiff --git a/.devcontainer/recommended-devcontainer.json b/.devcontainer/recommended-devcontainer.json\nindex 03a2e3b5..61316086 100644\n--- a/.devcontainer/recommended-devcontainer.json\n+++ b/.devcontainer/recommended-devcontainer.json\n@@ -2,10 +2,11 @@\n {\n   \"name\": \"Angular dev container\",\n   \"dockerFile\": \"Dockerfile\",\n-  \"appPort\": [4000, 4200, 4433, 5000, 8080, 9876],\n+  \"forwardPorts\": [4200, 4201, 4205, 4206, 9876],\n   \"postCreateCommand\": \"pnpm install\",\n-  \"extensions\": [\n-    \"devondcarew.bazel-code\",\n-    \"ms-vscode.vscode-typescript-tslint-plugin\"\n-  ],\n+  \"customizations\": {\n+    \"vscode\": {\n+      \"extensions\": [\"BazelBuild.vscode-bazel\", \"ms-vscode.vscode-typescript-tslint-plugin\"]\n+    }\n+  }\n }\ndiff --git a/.gitignore b/.gitignore\nindex 3a7c650d..a7b08fdc 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -54,3 +54,6 @@ baseline.json\n \n # Ignore cache created with the Angular CLI.\n .angular/\n+\n+# pnpm store\n+.pnpm-store\ndiff --git a/contributing-docs/building-and-testing-angular.md b/contributing-docs/building-and-testing-angular.md\nindex fe304b44..2d3264e6 100644\n--- a/contributing-docs/building-and-testing-angular.md\n+++ b/contributing-docs/building-and-testing-angular.md\n@@ -5,6 +5,7 @@ It also explains the basic mechanics of using `git`, `node`, and `pnpm`.\n \n - [Building and Testing Angular](#building-and-testing-angular)\n   - [Prerequisite Software](#prerequisite-software)\n+  - [Development in a Container](#development-in-a-container)\n   - [Getting the Sources](#getting-the-sources)\n   - [Installing NPM Modules](#installing-npm-modules)\n   - [Building](#building)\n@@ -52,6 +53,21 @@ following on your development machine:\n - On Windows: [MSYS2](https://www.msys2.org/) which is used by Bazel. Follow\n   the [instructions](https://bazel.build/install/windows#installing-compilers-and-language-runtimes)\n \n+## Development in a Container\n+\n+You can also use the provided [Dev Container](https://containers.dev/) configuration to set up a development environment. This approach uses Docker to create a container with all the necessary tools (Node.js, pnpm, etc.) pre-installed.\n+\n+**Prerequisites:**\n+\n+- [Docker Desktop](https://www.docker.com/products/docker-desktop)\n+- [VS Code](https://code.visualstudio.com/)\n+- [Dev Containers extension](https://marketplace.visualstudio.com/items?itemName\u003dms-vscode-remote.remote-containers)\n+\n+**Usage:**\n+\n+1. Open the Angular repository in VS Code.\n+2. Run the **Dev Containers: Reopen in Container** command from the Command Palette (`Ctrl+Shift+P` or `Cmd+Shift+P`).\n+\n ## Getting the Sources\n \n Fork and clone the Angular repository:","output":"build: update dev container configuration","metadata":{"id":"angular-27276374","repository":"angular","commit_hash":"27276374ab4f8af00fe5b6c8b18aca9e9f2af3da","author":"Mikhail Efanov \u003ccataha319@gmail.com\u003e","type":"build","quality_score":90}}
