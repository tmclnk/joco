{"id":"vue-623bfb29","diff":" CHANGELOG.md | 4 ++--\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/CHANGELOG.md b/CHANGELOG.md\nindex 3c6ea89..ed950e2 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -415,7 +415,7 @@\n ### Bug Fixes\n \n * **compile-dom:** should be able to stringify mathML ([#11891](https://github.com/vuejs/core/issues/11891)) ([85c138c](https://github.com/vuejs/core/commit/85c138ced108268f7656b568dfd3036a1e0aae34))\n-* **compiler-sfc:** preserve old behavior when using withDefaults with desutructure ([8492c3c](https://github.com/vuejs/core/commit/8492c3c49a922363d6c77ef192c133a8fbce6514)), closes [#11930](https://github.com/vuejs/core/issues/11930)\n+* **compiler-sfc:** preserve old behavior when using withDefaults with destructure ([8492c3c](https://github.com/vuejs/core/commit/8492c3c49a922363d6c77ef192c133a8fbce6514)), closes [#11930](https://github.com/vuejs/core/issues/11930)\n * **reactivity:** avoid exponential perf cost and reduce call stack depth for deeply chained computeds ([#11944](https://github.com/vuejs/core/issues/11944)) ([c74bb8c](https://github.com/vuejs/core/commit/c74bb8c2dd9e82aaabb0a2a2b368e900929b513b)), closes [#11928](https://github.com/vuejs/core/issues/11928)\n * **reactivity:** rely on dirty check only when computed has deps ([#11931](https://github.com/vuejs/core/issues/11931)) ([aa5dafd](https://github.com/vuejs/core/commit/aa5dafd2b55d42d6a29316a3bc91aea85c676a0b)), closes [#11929](https://github.com/vuejs/core/issues/11929)\n * **watch:** `once` option should be ignored by watchEffect ([#11884](https://github.com/vuejs/core/issues/11884)) ([49fa673](https://github.com/vuejs/core/commit/49fa673493d93b77ddba2165ab6545bae84fd1ae))\n@@ -716,7 +716,7 @@\n \n * **build:** enable SSR branches in esm-browser builds ([b14cd9a](https://github.com/vuejs/core/commit/b14cd9a68bab082332b0169be075be357be076ca))\n * **compiler-core:** change node hoisting to caching per instance ([#11067](https://github.com/vuejs/core/issues/11067)) ([cd0ea0d](https://github.com/vuejs/core/commit/cd0ea0d479a276583fa181d8ecbc97fb0e4a9dce)), closes [#5256](https://github.com/vuejs/core/issues/5256) [#9219](https://github.com/vuejs/core/issues/9219) [#10959](https://github.com/vuejs/core/issues/10959)\n-* **compiler-sfc:** should properly walk desutructured props when reactive destructure is not enabled ([0fd6193](https://github.com/vuejs/core/commit/0fd6193def2380916eb51a118f37f2d9ec2ace23)), closes [#11325](https://github.com/vuejs/core/issues/11325)\n+* **compiler-sfc:** should properly walk destructured props when reactive destructure is not enabled ([0fd6193](https://github.com/vuejs/core/commit/0fd6193def2380916eb51a118f37f2d9ec2ace23)), closes [#11325](https://github.com/vuejs/core/issues/11325)\n * **types:** respect props with default on instance type when using __typeProps ([96e4738](https://github.com/vuejs/core/commit/96e473833422342c5ca371ae1aeb186dec9a55e3))\n \n ","expectedMessage":"chore: fix typo","repository":"vue","commitHash":"623bfb29a23c36bf935e7faefa64d1baa69d465c","metadata":{"author":"baozj \u003c127940123+baozjj@users.noreply.github.com\u003e"}}
{"id":"vue-aac7e189","diff":" packages/compiler-sfc/src/script/defineProps.ts | 2 +-\n packages/compiler-sfc/src/script/utils.ts       | 2 +-\n 2 files changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/compiler-sfc/src/script/defineProps.ts b/packages/compiler-sfc/src/script/defineProps.ts\nindex 9a4880a..e839d84 100644\n--- a/packages/compiler-sfc/src/script/defineProps.ts\n+++ b/packages/compiler-sfc/src/script/defineProps.ts\n@@ -369,7 +369,7 @@ function genDestructuredDefaultValue(\n   }\n }\n \n-// non-comprehensive, best-effort type infernece for a runtime value\n+// non-comprehensive, best-effort type inference for a runtime value\n // this is used to catch default value / type declaration mismatches\n // when using props destructure.\n function inferValueType(node: Node): string | undefined {\ndiff --git a/packages/compiler-sfc/src/script/utils.ts b/packages/compiler-sfc/src/script/utils.ts\nindex bda64dc..7e41ac2 100644\n--- a/packages/compiler-sfc/src/script/utils.ts\n+++ b/packages/compiler-sfc/src/script/utils.ts\n@@ -109,7 +109,7 @@ function toFileNameLowerCase(x: string) {\n \n /**\n  * We need `getCanonicalFileName` when creating ts module resolution cache,\n- * but TS does not expose it directly. This implementation is repllicated from\n+ * but TS does not expose it directly. This implementation is replicated from\n  * the TS source code.\n  */\n export function createGetCanonicalFileName(","expectedMessage":"docs: fix typos in comments in the code (#14253)","repository":"vue","commitHash":"aac7e1898907445c8f89b22047a9bfcf0a6e91b8","metadata":{"author":"Bruno \u003c72168158+bcostaaa01@users.noreply.github.com\u003e"}}
{"id":"vue-c68bebfa","diff":" CHANGELOG.md                          | 22 ++++++++++++++++++++++\n package.json                          |  2 +-\n packages/compiler-core/package.json   |  2 +-\n packages/compiler-dom/package.json    |  2 +-\n packages/compiler-sfc/package.json    |  2 +-\n packages/compiler-ssr/package.json    |  2 +-\n packages/reactivity/package.json      |  2 +-\n packages/runtime-core/package.json    |  2 +-\n packages/runtime-dom/package.json     |  2 +-\n packages/server-renderer/package.json |  2 +-\n packages/shared/package.json          |  2 +-\n packages/vue-compat/package.json      |  2 +-\n packages/vue/package.json             |  2 +-\n 13 files changed, 34 insertions(+), 12 deletions(-)\n\ndiff --git a/CHANGELOG.md b/CHANGELOG.md\nindex 1417d29..3c6ea89 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,3 +1,25 @@\n+## [3.5.26](https://github.com/vuejs/core/compare/v3.5.25...v3.5.26) (2025-12-18)\n+\n+\n+### Bug Fixes\n+\n+* **compat:** fix compat handler of draggable ([#12445](https://github.com/vuejs/core/issues/12445)) ([ed85953](https://github.com/vuejs/core/commit/ed85953e28741ae1913cfc92b7b66e1a8da47f8c)), closes [#12444](https://github.com/vuejs/core/issues/12444)\n+* **compat:** handle v-model deprecation warning with missing appContext ([#14203](https://github.com/vuejs/core/issues/14203)) ([945a543](https://github.com/vuejs/core/commit/945a543152e8d80903d4f7a18a84ebe8d36e56f8)), closes [#14202](https://github.com/vuejs/core/issues/14202)\n+* **compiler-sfc:** demote const reactive bindings used in v-model ([#14214](https://github.com/vuejs/core/issues/14214)) ([e24ff7d](https://github.com/vuejs/core/commit/e24ff7d302a887ea532571c231a385362fa17279)), closes [#11265](https://github.com/vuejs/core/issues/11265) [#11275](https://github.com/vuejs/core/issues/11275)\n+* **compiler-ssr:** handle ssr attr fallthrough when preserve whitespace ([#12304](https://github.com/vuejs/core/issues/12304)) ([4783118](https://github.com/vuejs/core/commit/47831189196b62b12dd17f6e909efc51d9d22fd2)), closes [#8072](https://github.com/vuejs/core/issues/8072)\n+* **hmr:** handle cached text node update ([#14134](https://github.com/vuejs/core/issues/14134)) ([69ce3c7](https://github.com/vuejs/core/commit/69ce3c7d755db868cfa66d67ab5b3f383a44e053)), closes [#14127](https://github.com/vuejs/core/issues/14127)\n+* **keep-alive:** use resolved component name for async components in cache pruning ([#14212](https://github.com/vuejs/core/issues/14212)) ([dfe667c](https://github.com/vuejs/core/commit/dfe667c8567d48167c250062483d2d2cfc7bdc03)), closes [#14210](https://github.com/vuejs/core/issues/14210)\n+* **runtime-core:** ensure correct anchor el for deeper unresolved async components ([#14182](https://github.com/vuejs/core/issues/14182)) ([f5b3bf2](https://github.com/vuejs/core/commit/f5b3bf264d2e12725381bed1c492069437069b03)), closes [#14173](https://github.com/vuejs/core/issues/14173)\n+* **runtime-core:** handle patch stable fragment edge case ([#12411](https://github.com/vuejs/core/issues/12411)) ([94aeb64](https://github.com/vuejs/core/commit/94aeb64ccdf20d541059b533c9780977c14db9cb)), closes [#12410](https://github.com/vuejs/core/issues/12410)\n+* **runtime-core:** pass component instance to flushPreFlushCbs on unmount ([#14221](https://github.com/vuejs/core/issues/14221)) ([e857e12](https://github.com/vuejs/core/commit/e857e12c0aff03c0148e3e52d92935918872dc33)), closes [#14215](https://github.com/vuejs/core/issues/14215)\n+\n+\n+### Performance Improvements\n+\n+* **compiler-core:** use binary-search to get line and column ([#14222](https://github.com/vuejs/core/issues/14222)) ([1904053](https://github.com/vuejs/core/commit/1904053f1f7986c2d6dbe858ee1b594b4b229c17))\n+\n+\n+\n ## [3.5.25](https://github.com/vuejs/core/compare/v3.5.24...v3.5.25) (2025-11-24)\n \n \ndiff --git a/package.json b/package.json\nindex a6daaa0..6f1aa9a 100644\n--- a/package.json\n+++ b/package.json\n@@ -1,6 +1,6 @@\n {\n   \"private\": true,\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"packageManager\": \"pnpm@10.25.0\",\n   \"type\": \"module\",\n   \"scripts\": {\ndiff --git a/packages/compiler-core/package.json b/packages/compiler-core/package.json\nindex bb65b2a..911e36e 100644\n--- a/packages/compiler-core/package.json\n+++ b/packages/compiler-core/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-core\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"@vue/compiler-core\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/compiler-core.esm-bundler.js\",\ndiff --git a/packages/compiler-dom/package.json b/packages/compiler-dom/package.json\nindex 45f169b..a4565d3 100644\n--- a/packages/compiler-dom/package.json\n+++ b/packages/compiler-dom/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-dom\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"@vue/compiler-dom\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/compiler-dom.esm-bundler.js\",\ndiff --git a/packages/compiler-sfc/package.json b/packages/compiler-sfc/package.json\nindex bdb605d..e95ec27 100644\n--- a/packages/compiler-sfc/package.json\n+++ b/packages/compiler-sfc/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-sfc\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"@vue/compiler-sfc\",\n   \"main\": \"dist/compiler-sfc.cjs.js\",\n   \"module\": \"dist/compiler-sfc.esm-browser.js\",\ndiff --git a/packages/compiler-ssr/package.json b/packages/compiler-ssr/package.json\nindex 89bf859..d2eb07e 100644\n--- a/packages/compiler-ssr/package.json\n+++ b/packages/compiler-ssr/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-ssr\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"@vue/compiler-ssr\",\n   \"main\": \"dist/compiler-ssr.cjs.js\",\n   \"types\": \"dist/compiler-ssr.d.ts\",\ndiff --git a/packages/reactivity/package.json b/packages/reactivity/package.json\nindex c4507ff..f4e2d69 100644\n--- a/packages/reactivity/package.json\n+++ b/packages/reactivity/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/reactivity\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"@vue/reactivity\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/reactivity.esm-bundler.js\",\ndiff --git a/packages/runtime-core/package.json b/packages/runtime-core/package.json\nindex 0e57c1d..4d24ff0 100644\n--- a/packages/runtime-core/package.json\n+++ b/packages/runtime-core/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/runtime-core\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"@vue/runtime-core\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/runtime-core.esm-bundler.js\",\ndiff --git a/packages/runtime-dom/package.json b/packages/runtime-dom/package.json\nindex d712948..a956cec 100644\n--- a/packages/runtime-dom/package.json\n+++ b/packages/runtime-dom/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/runtime-dom\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"@vue/runtime-dom\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/runtime-dom.esm-bundler.js\",\ndiff --git a/packages/server-renderer/package.json b/packages/server-renderer/package.json\nindex 45dbfc3..51546b2 100644\n--- a/packages/server-renderer/package.json\n+++ b/packages/server-renderer/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/server-renderer\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"@vue/server-renderer\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/server-renderer.esm-bundler.js\",\ndiff --git a/packages/shared/package.json b/packages/shared/package.json\nindex 68dbe15..bfbbb0e 100644\n--- a/packages/shared/package.json\n+++ b/packages/shared/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/shared\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"internal utils shared across @vue packages\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/shared.esm-bundler.js\",\ndiff --git a/packages/vue-compat/package.json b/packages/vue-compat/package.json\nindex d9f76bc..36e2a9f 100644\n--- a/packages/vue-compat/package.json\n+++ b/packages/vue-compat/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compat\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"Vue 3 compatibility build for Vue 2\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/vue.runtime.esm-bundler.js\",\ndiff --git a/packages/vue/package.json b/packages/vue/package.json\nindex c520af8..6d249ff 100644\n--- a/packages/vue/package.json\n+++ b/packages/vue/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"vue\",\n-  \"version\": \"3.5.25\",\n+  \"version\": \"3.5.26\",\n   \"description\": \"The progressive JavaScript framework for building modern web UI.\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/vue.runtime.esm-bundler.js\",","expectedMessage":"release: v3.5.26","repository":"vue","commitHash":"c68bebfa6da687c2f734dac1aa2c5b51126c3ff0","metadata":{"author":"daiwei \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-e857e12c","diff":" .../runtime-core/__tests__/apiCreateApp.spec.ts    | 40 ++++++++++++++++++++++\n packages/runtime-core/src/renderer.ts              |  4 ++-\n 2 files changed, 43 insertions(+), 1 deletion(-)\n\ndiff --git a/packages/runtime-core/__tests__/apiCreateApp.spec.ts b/packages/runtime-core/__tests__/apiCreateApp.spec.ts\nindex b578fa5..b4443f0 100644\n--- a/packages/runtime-core/__tests__/apiCreateApp.spec.ts\n+++ b/packages/runtime-core/__tests__/apiCreateApp.spec.ts\n@@ -645,6 +645,46 @@ describe(\u0027api: createApp\u0027, () \u003d\u003e {\n     expect(order).toMatchObject([\u0027render\u0027, \u0027render\u0027, \u0027post watcher\u0027])\n   })\n \n+  // #14215\n+  test(\"unmount new app should not trigger other app\u0027s watcher\", async () \u003d\u003e {\n+    const compWatcherTriggerFn \u003d vi.fn()\n+    const data \u003d ref(true)\n+    const foo \u003d ref(\u0027\u0027)\n+\n+    const createNewApp \u003d () \u003d\u003e {\n+      const app \u003d createApp({ render: () \u003d\u003e h(\u0027new app\u0027) })\n+      const wrapper \u003d nodeOps.createElement(\u0027div\u0027)\n+      app.mount(wrapper)\n+      return function destroy() {\n+        app.unmount()\n+      }\n+    }\n+\n+    const Comp \u003d defineComponent({\n+      setup() {\n+        watch(() \u003d\u003e foo.value, compWatcherTriggerFn)\n+        return () \u003d\u003e h(\u0027div\u0027, \u0027comp\u0027)\n+      },\n+    })\n+\n+    const App \u003d defineComponent({\n+      setup() {\n+        return () \u003d\u003e (data.value ? h(Comp) : null)\n+      },\n+    })\n+\n+    createApp(App).mount(nodeOps.createElement(\u0027div\u0027))\n+    await nextTick()\n+\n+    data.value \u003d false\n+    const destroy \u003d createNewApp()\n+    foo.value \u003d \u0027bar\u0027\n+    destroy()\n+    await nextTick()\n+\n+    expect(compWatcherTriggerFn).toBeCalledTimes(0)\n+  })\n+\n   // config.compilerOptions is tested in packages/vue since it is only\n   // supported in the full build.\n })\ndiff --git a/packages/runtime-core/src/renderer.ts b/packages/runtime-core/src/renderer.ts\nindex 6558796..d20bb2e 100644\n--- a/packages/runtime-core/src/renderer.ts\n+++ b/packages/runtime-core/src/renderer.ts\n@@ -2394,9 +2394,11 @@ function baseCreateRenderer(\n \n   let isFlushing \u003d false\n   const render: RootRenderFunction \u003d (vnode, container, namespace) \u003d\u003e {\n+    let instance\n     if (vnode \u003d\u003d null) {\n       if (container._vnode) {\n         unmount(container._vnode, null, null, true)\n+        instance \u003d container._vnode.component\n       }\n     } else {\n       patch(\n@@ -2412,7 +2414,7 @@ function baseCreateRenderer(\n     container._vnode \u003d vnode\n     if (!isFlushing) {\n       isFlushing \u003d true\n-      flushPreFlushCbs()\n+      flushPreFlushCbs(instance)\n       flushPostFlushCbs()\n       isFlushing \u003d false\n     }","expectedMessage":"fix(runtime-core): pass component instance to flushPreFlushCbs on unmount (#14221)","repository":"vue","commitHash":"e857e12c0aff03c0148e3e52d92935918872dc33","metadata":{"author":"linzhe \u003c40790268+linzhe141@users.noreply.github.com\u003e"}}
{"id":"vue-f33b3081","diff":" packages-private/dts-test/setupHelpers.test-d.ts | 10 ++++++++++\n packages/runtime-core/src/apiSetupHelpers.ts     |  6 ++++--\n 2 files changed, 14 insertions(+), 2 deletions(-)\n\ndiff --git a/packages-private/dts-test/setupHelpers.test-d.ts b/packages-private/dts-test/setupHelpers.test-d.ts\nindex 656f1da..0cf713a 100644\n--- a/packages-private/dts-test/setupHelpers.test-d.ts\n+++ b/packages-private/dts-test/setupHelpers.test-d.ts\n@@ -33,6 +33,16 @@ describe(\u0027defineProps w/ type declaration\u0027, () \u003d\u003e {\n   expectType\u003cboolean\u003e(props.boolAndUndefined)\n })\n \n+describe(\u0027defineProps w/ never prop\u0027, () \u003d\u003e {\n+  const props \u003d defineProps\u003c{\n+    foo?: never\n+    bar: number\n+  }\u003e()\n+\n+  expectType\u003cnever | undefined\u003e(props.foo)\n+  expectType\u003cnumber\u003e(props.bar)\n+})\n+\n describe(\u0027defineProps w/ generics\u0027, () \u003d\u003e {\n   function test\u003cT extends boolean\u003e() {\n     const props \u003d defineProps\u003c{ foo: T; bar: string; x?: boolean }\u003e()\ndiff --git a/packages/runtime-core/src/apiSetupHelpers.ts b/packages/runtime-core/src/apiSetupHelpers.ts\nindex 67e1d55..250f4f5 100644\n--- a/packages/runtime-core/src/apiSetupHelpers.ts\n+++ b/packages/runtime-core/src/apiSetupHelpers.ts\n@@ -98,8 +98,10 @@ export type DefineProps\u003cT, BKeys extends keyof T\u003e \u003d Readonly\u003cT\u003e \u0026 {\n }\n \n type BooleanKey\u003cT, K extends keyof T \u003d keyof T\u003e \u003d K extends any\n-  ? [T[K]] extends [boolean | undefined]\n-    ? K\n+  ? T[K] extends boolean | undefined\n+    ? T[K] extends never | undefined\n+      ? never\n+      : K\n     : never\n   : never\n ","expectedMessage":"types(defineProps): avoid never props becoming boolean flags (#14059)","repository":"vue","commitHash":"f33b3081027822136522443395e76bf6c113a091","metadata":{"author":"edison \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-94aeb64c","diff":" .../__tests__/rendererOptimizedMode.spec.ts        | 60 +++++++++++++++++++++-\n packages/runtime-core/src/renderer.ts              |  3 +-\n 2 files changed, 61 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/runtime-core/__tests__/rendererOptimizedMode.spec.ts b/packages/runtime-core/__tests__/rendererOptimizedMode.spec.ts\nindex 1d8bb84..afcc6dc 100644\n--- a/packages/runtime-core/__tests__/rendererOptimizedMode.spec.ts\n+++ b/packages/runtime-core/__tests__/rendererOptimizedMode.spec.ts\n@@ -29,7 +29,7 @@ import {\n   setBlockTracking,\n   withCtx,\n } from \u0027@vue/runtime-test\u0027\n-import { PatchFlags, SlotFlags } from \u0027@vue/shared\u0027\n+import { PatchFlags, SlotFlags, toDisplayString } from \u0027@vue/shared\u0027\n import { SuspenseImpl } from \u0027../src/components/Suspense\u0027\n \n describe(\u0027renderer: optimized mode\u0027, () \u003d\u003e {\n@@ -1402,4 +1402,62 @@ describe(\u0027renderer: optimized mode\u0027, () \u003d\u003e {\n     expect(inner(root)).toBe(\u0027\u003c!--v-if--\u003e\u0027)\n     expect(beforeUnmountSpy).toHaveBeenCalledTimes(1)\n   })\n+\n+  // #12411\n+  test(\u0027handle patch stable fragment with non-reactive v-for source\u0027, async () \u003d\u003e {\n+    const count \u003d ref(0)\n+    const foo: any \u003d []\n+    function updateFoo() {\n+      for (let n \u003d 0; n \u003c 3; n++) {\n+        foo[n] \u003d n + 1 + \u0027_foo\u0027\n+      }\n+    }\n+    const Comp \u003d {\n+      setup() {\n+        return () \u003d\u003e {\n+          // \u003cdiv\u003e{{ count }}\u003c/div\u003e\n+          // \u003cdiv v-for\u003d\u0027item in foo\u0027\u003e{{ item }}\u003c/div\u003e\n+          return (\n+            openBlock(),\n+            createElementBlock(\n+              Fragment,\n+              null,\n+              [\n+                createElementVNode(\n+                  \u0027div\u0027,\n+                  null,\n+                  toDisplayString(count.value),\n+                  PatchFlags.TEXT,\n+                ),\n+                (openBlock(),\n+                createElementBlock(\n+                  Fragment,\n+                  null,\n+                  renderList(foo, item \u003d\u003e {\n+                    return createElementVNode(\n+                      \u0027div\u0027,\n+                      null,\n+                      toDisplayString(item),\n+                      PatchFlags.TEXT,\n+                    )\n+                  }),\n+                  PatchFlags.STABLE_FRAGMENT,\n+                )),\n+              ],\n+              PatchFlags.STABLE_FRAGMENT,\n+            )\n+          )\n+        }\n+      },\n+    }\n+\n+    render(h(Comp), root)\n+    expect(inner(root)).toBe(\u0027\u003cdiv\u003e0\u003c/div\u003e\u0027)\n+    updateFoo()\n+    count.value++\n+    await nextTick()\n+    expect(inner(root)).toBe(\n+      \u0027\u003cdiv\u003e1\u003c/div\u003e\u003cdiv\u003e1_foo\u003c/div\u003e\u003cdiv\u003e2_foo\u003c/div\u003e\u003cdiv\u003e3_foo\u003c/div\u003e\u0027,\n+    )\n+  })\n })\ndiff --git a/packages/runtime-core/src/renderer.ts b/packages/runtime-core/src/renderer.ts\nindex 0aa797c..6558796 100644\n--- a/packages/runtime-core/src/renderer.ts\n+++ b/packages/runtime-core/src/renderer.ts\n@@ -1115,7 +1115,8 @@ function baseCreateRenderer(\n         dynamicChildren \u0026\u0026\n         // #2715 the previous fragment could\u0027ve been a BAILed one as a result\n         // of renderSlot() with no valid children\n-        n1.dynamicChildren\n+        n1.dynamicChildren \u0026\u0026\n+        n1.dynamicChildren.length \u003d\u003d\u003d dynamicChildren.length\n       ) {\n         // a stable fragment (template root or \u003ctemplate v-for\u003e) doesn\u0027t need to\n         // patch children order, but it may contain dynamicChildren.","expectedMessage":"fix(runtime-core): handle patch stable fragment edge case (#12411)","repository":"vue","commitHash":"94aeb64ccdf20d541059b533c9780977c14db9cb","metadata":{"author":"linzhe \u003c40790268+linzhe141@users.noreply.github.com\u003e"}}
{"id":"vue-ed85953e","diff":" packages/runtime-dom/src/modules/attrs.ts  | 10 +++++-----\n packages/vue-compat/__tests__/misc.spec.ts | 21 +++++++++++++++++++++\n 2 files changed, 26 insertions(+), 5 deletions(-)\n\ndiff --git a/packages/runtime-dom/src/modules/attrs.ts b/packages/runtime-dom/src/modules/attrs.ts\nindex d7188aa..1e75e53 100644\n--- a/packages/runtime-dom/src/modules/attrs.ts\n+++ b/packages/runtime-dom/src/modules/attrs.ts\n@@ -59,11 +59,11 @@ export function compatCoerceAttr(\n ): boolean {\n   if (isEnumeratedAttr(key)) {\n     const v2CoercedValue \u003d\n-      value \u003d\u003d\u003d null\n-        ? \u0027false\u0027\n-        : typeof value !\u003d\u003d \u0027boolean\u0027 \u0026\u0026 value !\u003d\u003d undefined\n-          ? \u0027true\u0027\n-          : null\n+      value \u003d\u003d\u003d undefined\n+        ? null\n+        : value \u003d\u003d\u003d null || value \u003d\u003d\u003d false || value \u003d\u003d\u003d \u0027false\u0027\n+          ? \u0027false\u0027\n+          : \u0027true\u0027\n     if (\n       v2CoercedValue \u0026\u0026\n       compatUtils.softAssertCompatEnabled(\ndiff --git a/packages/vue-compat/__tests__/misc.spec.ts b/packages/vue-compat/__tests__/misc.spec.ts\nindex 17fddd9..3cb120d 100644\n--- a/packages/vue-compat/__tests__/misc.spec.ts\n+++ b/packages/vue-compat/__tests__/misc.spec.ts\n@@ -275,3 +275,24 @@ test(\u0027ATTR_ENUMERATED_COERCION\u0027, () \u003d\u003e {\n     )(\u0027contenteditable\u0027, \u0027foo\u0027, \u0027true\u0027),\n   ).toHaveBeenWarned()\n })\n+\n+test(\u0027ATTR_ENUMERATED_COERCION, coercing \"false\"\u0027, () \u003d\u003e {\n+  const vm \u003d new Vue({\n+    template: `\u003cdiv\u003e\u003cdiv draggable\u003d\"false\" :spellcheck\u003d\"false\"\u003ehello\u003c/div\u003e\u003c/div\u003e`,\n+  }).$mount()\n+  expect(vm.$el.innerHTML).toBe(\n+    `\u003cdiv draggable\u003d\"false\" spellcheck\u003d\"false\"\u003ehello\u003c/div\u003e`,\n+  )\n+  expect(\n+    (\n+      deprecationData[DeprecationTypes.ATTR_ENUMERATED_COERCION]\n+        .message as Function\n+    )(\u0027draggable\u0027, \u0027false\u0027, \u0027false\u0027),\n+  ).toHaveBeenWarned()\n+  expect(\n+    (\n+      deprecationData[DeprecationTypes.ATTR_ENUMERATED_COERCION]\n+        .message as Function\n+    )(\u0027spellcheck\u0027, \u0027false\u0027, \u0027false\u0027),\n+  ).toHaveBeenWarned()\n+})","expectedMessage":"fix(compat): fix compat handler of draggable (#12445)","repository":"vue","commitHash":"ed85953e28741ae1913cfc92b7b66e1a8da47f8c","metadata":{"author":"yangxiuxiu \u003c79584569+yangxiuxiu1115@users.noreply.github.com\u003e"}}
{"id":"vue-47831189","diff":" .../__tests__/ssrFallthroughAttrs.spec.ts          | 25 ++++++++++++++++++++++\n .../src/transforms/ssrInjectFallthroughAttrs.ts    |  3 ++-\n 2 files changed, 27 insertions(+), 1 deletion(-)\n\ndiff --git a/packages/compiler-ssr/__tests__/ssrFallthroughAttrs.spec.ts b/packages/compiler-ssr/__tests__/ssrFallthroughAttrs.spec.ts\nindex 7b3d196..3adfe64 100644\n--- a/packages/compiler-ssr/__tests__/ssrFallthroughAttrs.spec.ts\n+++ b/packages/compiler-ssr/__tests__/ssrFallthroughAttrs.spec.ts\n@@ -48,6 +48,31 @@ describe(\u0027ssr: attrs fallthrough\u0027, () \u003d\u003e {\n       `)\n   })\n \n+  //#8072\n+  test(`fallthrough component content (with whitespace: \u0027preserve\u0027)`, () \u003d\u003e {\n+    expect(\n+      compile(\n+        `\n+      \u003ca v-if\u003d\"to\"\u003eFoo\u003c/a\u003e\n+      \u003ca v-else\u003eBar\u003c/a\u003e\n+    `,\n+        {\n+          whitespace: \u0027preserve\u0027,\n+        },\n+      ).code,\n+    ).toMatchInlineSnapshot(`\n+        \"const { ssrRenderAttrs: _ssrRenderAttrs } \u003d require(\"vue/server-renderer\")\n+\n+        return function ssrRender(_ctx, _push, _parent, _attrs) {\n+          if (_ctx.to) {\n+            _push(\\`\u003ca\\${_ssrRenderAttrs(_attrs)}\u003eFoo\u003c/a\u003e\\`)\n+          } else {\n+            _push(\\`\u003ca\\${_ssrRenderAttrs(_attrs)}\u003eBar\u003c/a\u003e\\`)\n+          }\n+        }\"\n+      `)\n+  })\n+\n   test(\u0027should not inject to fallthrough component content if not root\u0027, () \u003d\u003e {\n     expect(compile(`\u003cdiv/\u003e\u003ctransition\u003e\u003cdiv/\u003e\u003c/transition\u003e`).code)\n       .toMatchInlineSnapshot(`\ndiff --git a/packages/compiler-ssr/src/transforms/ssrInjectFallthroughAttrs.ts b/packages/compiler-ssr/src/transforms/ssrInjectFallthroughAttrs.ts\nindex b1aac0d..580e79c 100644\n--- a/packages/compiler-ssr/src/transforms/ssrInjectFallthroughAttrs.ts\n+++ b/packages/compiler-ssr/src/transforms/ssrInjectFallthroughAttrs.ts\n@@ -7,11 +7,12 @@ import {\n   type TemplateChildNode,\n   createSimpleExpression,\n   findDir,\n+  isCommentOrWhitespace,\n   locStub,\n } from \u0027@vue/compiler-dom\u0027\n \n const filterChild \u003d (node: ParentNode) \u003d\u003e\n-  node.children.filter(n \u003d\u003e n.type !\u003d\u003d NodeTypes.COMMENT)\n+  node.children.filter(n \u003d\u003e !isCommentOrWhitespace(n))\n \n const hasSingleChild \u003d (node: ParentNode): boolean \u003d\u003e\n   filterChild(node).length \u003d\u003d\u003d 1","expectedMessage":"fix(compiler-ssr): handle ssr attr fallthrough when preserve whitespace (#12304)","repository":"vue","commitHash":"47831189196b62b12dd17f6e909efc51d9d22fd2","metadata":{"author":"edison \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-6611dda2","diff":" packages/runtime-core/src/index.ts | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/packages/runtime-core/src/index.ts b/packages/runtime-core/src/index.ts\nindex 9910f82..c846833 100644\n--- a/packages/runtime-core/src/index.ts\n+++ b/packages/runtime-core/src/index.ts\n@@ -327,6 +327,7 @@ export type {\n   DirectiveHook,\n   ObjectDirective,\n   FunctionDirective,\n+  DirectiveModifiers,\n   DirectiveArguments,\n } from \u0027./directives\u0027\n export type { SuspenseBoundary } from \u0027./components/Suspense\u0027","expectedMessage":"types(runtime-core): export DirectiveModifiers type (#14198)","repository":"vue","commitHash":"6611dda29817e30506356415456852ba892864d4","metadata":{"author":"Michael Cozzolino \u003cmichaelcozzolino@outlook.it\u003e"}}
{"id":"vue-e24ff7d3","diff":" .../__tests__/transforms/vModel.spec.ts            | 17 +++++\n packages/compiler-core/src/errors.ts               |  2 +\n packages/compiler-core/src/transforms/vModel.ts    |  9 +++\n packages/compiler-dom/src/errors.ts                |  2 +-\n .../__snapshots__/compileScript.spec.ts.snap       | 38 ++++++++++\n .../compiler-sfc/__tests__/compileScript.spec.ts   | 81 ++++++++++++++++++++\n packages/compiler-sfc/src/compileScript.ts         | 54 +++++++++++++-\n .../compiler-sfc/src/script/importUsageCheck.ts    | 87 +++++++++++++++++-----\n 8 files changed, 269 insertions(+), 21 deletions(-)\n\ndiff --git a/packages/compiler-core/__tests__/transforms/vModel.spec.ts b/packages/compiler-core/__tests__/transforms/vModel.spec.ts\nindex 82dd490..1f27bad 100644\n--- a/packages/compiler-core/__tests__/transforms/vModel.spec.ts\n+++ b/packages/compiler-core/__tests__/transforms/vModel.spec.ts\n@@ -582,5 +582,22 @@ describe(\u0027compiler: transform v-model\u0027, () \u003d\u003e {\n         }),\n       )\n     })\n+\n+    test(\u0027used on const binding\u0027, () \u003d\u003e {\n+      const onError \u003d vi.fn()\n+      parseWithVModel(\u0027\u003cdiv v-model\u003d\"c\" /\u003e\u0027, {\n+        onError,\n+        bindingMetadata: {\n+          c: BindingTypes.LITERAL_CONST,\n+        },\n+      })\n+\n+      expect(onError).toHaveBeenCalledTimes(1)\n+      expect(onError).toHaveBeenCalledWith(\n+        expect.objectContaining({\n+          code: ErrorCodes.X_V_MODEL_ON_CONST,\n+        }),\n+      )\n+    })\n   })\n })\ndiff --git a/packages/compiler-core/src/errors.ts b/packages/compiler-core/src/errors.ts\nindex 58e113a..ea8e8f2 100644\n--- a/packages/compiler-core/src/errors.ts\n+++ b/packages/compiler-core/src/errors.ts\n@@ -88,6 +88,7 @@ export enum ErrorCodes {\n   X_V_MODEL_MALFORMED_EXPRESSION,\n   X_V_MODEL_ON_SCOPE_VARIABLE,\n   X_V_MODEL_ON_PROPS,\n+  X_V_MODEL_ON_CONST,\n   X_INVALID_EXPRESSION,\n   X_KEEP_ALIVE_INVALID_CHILDREN,\n \n@@ -176,6 +177,7 @@ export const errorMessages: Record\u003cErrorCodes, string\u003e \u003d {\n   [ErrorCodes.X_V_MODEL_MALFORMED_EXPRESSION]: `v-model value must be a valid JavaScript member expression.`,\n   [ErrorCodes.X_V_MODEL_ON_SCOPE_VARIABLE]: `v-model cannot be used on v-for or v-slot scope variables because they are not writable.`,\n   [ErrorCodes.X_V_MODEL_ON_PROPS]: `v-model cannot be used on a prop, because local prop bindings are not writable.\\nUse a v-bind binding combined with a v-on listener that emits update:x event instead.`,\n+  [ErrorCodes.X_V_MODEL_ON_CONST]: `v-model cannot be used on a const binding because it is not writable.`,\n   [ErrorCodes.X_INVALID_EXPRESSION]: `Error parsing JavaScript expression: `,\n   [ErrorCodes.X_KEEP_ALIVE_INVALID_CHILDREN]: `\u003cKeepAlive\u003e expects exactly one child component.`,\n   [ErrorCodes.X_VNODE_HOOKS]: `@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.`,\ndiff --git a/packages/compiler-core/src/transforms/vModel.ts b/packages/compiler-core/src/transforms/vModel.ts\nindex 598c1ea..ff722db 100644\n--- a/packages/compiler-core/src/transforms/vModel.ts\n+++ b/packages/compiler-core/src/transforms/vModel.ts\n@@ -48,6 +48,15 @@ export const transformModel: DirectiveTransform \u003d (dir, node, context) \u003d\u003e {\n     return createTransformProps()\n   }\n \n+  // const bindings are not writable.\n+  if (\n+    bindingType \u003d\u003d\u003d BindingTypes.LITERAL_CONST ||\n+    bindingType \u003d\u003d\u003d BindingTypes.SETUP_CONST\n+  ) {\n+    context.onError(createCompilerError(ErrorCodes.X_V_MODEL_ON_CONST, exp.loc))\n+    return createTransformProps()\n+  }\n+\n   const maybeRef \u003d\n     !__BROWSER__ \u0026\u0026\n     context.inline \u0026\u0026\ndiff --git a/packages/compiler-dom/src/errors.ts b/packages/compiler-dom/src/errors.ts\nindex faf6fb5..f7a5a44 100644\n--- a/packages/compiler-dom/src/errors.ts\n+++ b/packages/compiler-dom/src/errors.ts\n@@ -21,7 +21,7 @@ export function createDOMCompilerError(\n }\n \n export enum DOMErrorCodes {\n-  X_V_HTML_NO_EXPRESSION \u003d 53 /* ErrorCodes.__EXTEND_POINT__ */,\n+  X_V_HTML_NO_EXPRESSION \u003d 54 /* ErrorCodes.__EXTEND_POINT__ */,\n   X_V_HTML_WITH_CHILDREN,\n   X_V_TEXT_NO_EXPRESSION,\n   X_V_TEXT_WITH_CHILDREN,\ndiff --git a/packages/compiler-sfc/__tests__/__snapshots__/compileScript.spec.ts.snap b/packages/compiler-sfc/__tests__/__snapshots__/compileScript.spec.ts.snap\nindex 2acac64..795f0ae 100644\n--- a/packages/compiler-sfc/__tests__/__snapshots__/compileScript.spec.ts.snap\n+++ b/packages/compiler-sfc/__tests__/__snapshots__/compileScript.spec.ts.snap\n@@ -639,6 +639,44 @@ return { foo, bar, baz, y, z }\n }\"\n `;\n \n+exports[`SFC compile \u003cscript setup\u003e \u003e demote const reactive binding to let when used in v-model (inlineTemplate) 1`] \u003d `\n+\"import { unref as _unref, resolveComponent as _resolveComponent, isRef as _isRef, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n+\n+import { reactive } from \u0027vue\u0027\n+      \n+export default {\n+  setup(__props) {\n+\n+      let name \u003d reactive({ first: \u0027john\u0027, last: \u0027doe\u0027 })\n+      \n+return (_ctx, _cache) \u003d\u003e {\n+  const _component_MyComponent \u003d _resolveComponent(\"MyComponent\")\n+\n+  return (_openBlock(), _createBlock(_component_MyComponent, {\n+    modelValue: _unref(name),\n+    \"onUpdate:modelValue\": _cache[0] || (_cache[0] \u003d $event \u003d\u003e (_isRef(name) ? (name).value \u003d $event : name \u003d $event))\n+  }, null, 8 /* PROPS */, [\"modelValue\"]))\n+}\n+}\n+\n+}\"\n+`;\n+\n+exports[`SFC compile \u003cscript setup\u003e \u003e demote const reactive binding to let when used in v-model 1`] \u003d `\n+\"import { reactive } from \u0027vue\u0027\n+      \n+export default {\n+  setup(__props, { expose: __expose }) {\n+  __expose();\n+\n+      let name \u003d reactive({ first: \u0027john\u0027, last: \u0027doe\u0027 })\n+      \n+return { get name() { return name }, set name(v) { name \u003d v }, reactive }\n+}\n+\n+}\"\n+`;\n+\n exports[`SFC compile \u003cscript setup\u003e \u003e errors \u003e should allow defineProps/Emit() referencing imported binding 1`] \u003d `\n \"import { bar } from \u0027./bar\u0027\n         \ndiff --git a/packages/compiler-sfc/__tests__/compileScript.spec.ts b/packages/compiler-sfc/__tests__/compileScript.spec.ts\nindex b69bbca..5e547f6 100644\n--- a/packages/compiler-sfc/__tests__/compileScript.spec.ts\n+++ b/packages/compiler-sfc/__tests__/compileScript.spec.ts\n@@ -1,3 +1,4 @@\n+import { vi } from \u0027vitest\u0027\n import { BindingTypes } from \u0027@vue/compiler-core\u0027\n import {\n   assertCode,\n@@ -7,6 +8,15 @@ import {\n } from \u0027./utils\u0027\n import { type RawSourceMap, SourceMapConsumer } from \u0027source-map-js\u0027\n \n+vi.mock(\u0027../src/warn\u0027, () \u003d\u003e ({\n+  warn: vi.fn(),\n+  warnOnce: vi.fn(),\n+}))\n+\n+import { warnOnce } from \u0027../src/warn\u0027\n+\n+const warnOnceMock \u003d vi.mocked(warnOnce)\n+\n describe(\u0027SFC compile \u003cscript setup\u003e\u0027, () \u003d\u003e {\n   test(\u0027should compile JS syntax\u0027, () \u003d\u003e {\n     const { content } \u003d compile(`\n@@ -74,6 +84,77 @@ describe(\u0027SFC compile \u003cscript setup\u003e\u0027, () \u003d\u003e {\n     assertCode(content)\n   })\n \n+  test(\u0027demote const reactive binding to let when used in v-model\u0027, () \u003d\u003e {\n+    warnOnceMock.mockClear()\n+    const { content, bindings } \u003d compile(`\n+      \u003cscript setup\u003e\n+      import { reactive } from \u0027vue\u0027\n+      const name \u003d reactive({ first: \u0027john\u0027, last: \u0027doe\u0027 })\n+      \u003c/script\u003e\n+\n+      \u003ctemplate\u003e\n+        \u003cMyComponent v-model\u003d\"name\" /\u003e\n+      \u003c/template\u003e\n+    `)\n+\n+    expect(content).toMatch(\n+      `let name \u003d reactive({ first: \u0027john\u0027, last: \u0027doe\u0027 })`,\n+    )\n+    expect(bindings!.name).toBe(BindingTypes.SETUP_LET)\n+    expect(warnOnceMock).toHaveBeenCalledTimes(1)\n+    expect(warnOnceMock).toHaveBeenCalledWith(\n+      expect.stringContaining(\n+        \u0027`v-model` cannot update a `const` reactive binding\u0027,\n+      ),\n+    )\n+    assertCode(content)\n+  })\n+\n+  test(\u0027demote const reactive binding to let when used in v-model (inlineTemplate)\u0027, () \u003d\u003e {\n+    warnOnceMock.mockClear()\n+    const { content, bindings } \u003d compile(\n+      `\n+      \u003cscript setup\u003e\n+      import { reactive } from \u0027vue\u0027\n+      const name \u003d reactive({ first: \u0027john\u0027, last: \u0027doe\u0027 })\n+      \u003c/script\u003e\n+\n+      \u003ctemplate\u003e\n+        \u003cMyComponent v-model\u003d\"name\" /\u003e\n+      \u003c/template\u003e\n+      `,\n+      { inlineTemplate: true },\n+    )\n+\n+    expect(content).toMatch(\n+      `let name \u003d reactive({ first: \u0027john\u0027, last: \u0027doe\u0027 })`,\n+    )\n+    expect(bindings!.name).toBe(BindingTypes.SETUP_LET)\n+    expect(warnOnceMock).toHaveBeenCalledTimes(1)\n+    expect(warnOnceMock).toHaveBeenCalledWith(\n+      expect.stringContaining(\n+        \u0027`v-model` cannot update a `const` reactive binding\u0027,\n+      ),\n+    )\n+    assertCode(content)\n+  })\n+\n+  test(\u0027v-model should error on literal const bindings\u0027, () \u003d\u003e {\n+    expect(() \u003d\u003e\n+      compile(\n+        `\n+        \u003cscript setup\u003e\n+        const foo \u003d 1\n+        \u003c/script\u003e\n+        \u003ctemplate\u003e\n+          \u003cinput v-model\u003d\"foo\" /\u003e\n+        \u003c/template\u003e\n+        `,\n+        { inlineTemplate: true },\n+      ),\n+    ).toThrow(\u0027v-model cannot be used on a const binding\u0027)\n+  })\n+\n   describe(\u0027\u003cscript\u003e and \u003cscript setup\u003e co-usage\u0027, () \u003d\u003e {\n     test(\u0027script first\u0027, () \u003d\u003e {\n       const { content } \u003d compile(`\ndiff --git a/packages/compiler-sfc/src/compileScript.ts b/packages/compiler-sfc/src/compileScript.ts\nindex de7dede..a60aba1 100644\n--- a/packages/compiler-sfc/src/compileScript.ts\n+++ b/packages/compiler-sfc/src/compileScript.ts\n@@ -64,7 +64,10 @@ import {\n   isTS,\n } from \u0027./script/utils\u0027\n import { analyzeScriptBindings } from \u0027./script/analyzeScriptBindings\u0027\n-import { isImportUsed } from \u0027./script/importUsageCheck\u0027\n+import {\n+  isImportUsed,\n+  resolveTemplateVModelIdentifiers,\n+} from \u0027./script/importUsageCheck\u0027\n import { processAwait } from \u0027./script/topLevelAwait\u0027\n \n export interface SFCScriptCompileOptions {\n@@ -760,6 +763,55 @@ export function compileScript(\n     ctx.bindingMetadata[key] \u003d setupBindings[key]\n   }\n \n+  // #11265, https://github.com/vitejs/rolldown-vite/issues/432\n+  // 6.1 demote `const foo \u003d reactive()` to `let` when used as v-model target.\n+  // In non-inline template compilation, v-model assigns via `$setup.foo \u003d $event`,\n+  // which requires a SETUP_LET binding (getter + setter) to keep script state in sync.\n+  // In inline mode, it generates `foo \u003d $event`, which also requires `let`.\n+  if (sfc.template \u0026\u0026 !sfc.template.src \u0026\u0026 sfc.template.ast) {\n+    const vModelIds \u003d resolveTemplateVModelIdentifiers(sfc)\n+    if (vModelIds.size) {\n+      const toDemote \u003d new Set\u003cstring\u003e()\n+      for (const id of vModelIds) {\n+        if (setupBindings[id] \u003d\u003d\u003d BindingTypes.SETUP_REACTIVE_CONST) {\n+          toDemote.add(id)\n+        }\n+      }\n+\n+      if (toDemote.size) {\n+        for (const node of scriptSetupAst.body) {\n+          if (\n+            node.type \u003d\u003d\u003d \u0027VariableDeclaration\u0027 \u0026\u0026\n+            node.kind \u003d\u003d\u003d \u0027const\u0027 \u0026\u0026\n+            !node.declare\n+          ) {\n+            const demotedInDecl: string[] \u003d []\n+            for (const decl of node.declarations) {\n+              if (decl.id.type \u003d\u003d\u003d \u0027Identifier\u0027 \u0026\u0026 toDemote.has(decl.id.name)) {\n+                demotedInDecl.push(decl.id.name)\n+              }\n+            }\n+            if (demotedInDecl.length) {\n+              ctx.s.overwrite(\n+                node.start! + startOffset,\n+                node.start! + startOffset + \u0027const\u0027.length,\n+                \u0027let\u0027,\n+              )\n+              for (const id of demotedInDecl) {\n+                setupBindings[id] \u003d BindingTypes.SETUP_LET\n+                ctx.bindingMetadata[id] \u003d BindingTypes.SETUP_LET\n+                warnOnce(\n+                  `\\`v-model\\` cannot update a \\`const\\` reactive binding \\`${id}\\`. ` +\n+                    `The compiler has transformed it to \\`let\\` to make the update work.`,\n+                )\n+              }\n+            }\n+          }\n+        }\n+      }\n+    }\n+  }\n+\n   // 7. inject `useCssVars` calls\n   if (\n     sfc.cssVars.length \u0026\u0026\ndiff --git a/packages/compiler-sfc/src/script/importUsageCheck.ts b/packages/compiler-sfc/src/script/importUsageCheck.ts\nindex 22ef37c..9c087b4 100644\n--- a/packages/compiler-sfc/src/script/importUsageCheck.ts\n+++ b/packages/compiler-sfc/src/script/importUsageCheck.ts\n@@ -4,6 +4,7 @@ import {\n   NodeTypes,\n   type SimpleExpressionNode,\n   type TemplateChildNode,\n+  isSimpleIdentifier,\n   parserOptions,\n   walkIdentifiers,\n } from \u0027@vue/compiler-dom\u0027\n@@ -19,16 +20,38 @@ export function isImportUsed(local: string, sfc: SFCDescriptor): boolean {\n   return resolveTemplateUsedIdentifiers(sfc).has(local)\n }\n \n-const templateUsageCheckCache \u003d createCache\u003cSet\u003cstring\u003e\u003e()\n+const templateAnalysisCache \u003d createCache\u003c{\n+  usedIds?: Set\u003cstring\u003e\n+  vModelIds: Set\u003cstring\u003e\n+}\u003e()\n+\n+export function resolveTemplateVModelIdentifiers(\n+  sfc: SFCDescriptor,\n+): Set\u003cstring\u003e {\n+  return resolveTemplateAnalysisResult(sfc, false).vModelIds\n+}\n \n function resolveTemplateUsedIdentifiers(sfc: SFCDescriptor): Set\u003cstring\u003e {\n+  return resolveTemplateAnalysisResult(sfc).usedIds!\n+}\n+\n+function resolveTemplateAnalysisResult(\n+  sfc: SFCDescriptor,\n+  collectUsedIds \u003d true,\n+): {\n+  usedIds?: Set\u003cstring\u003e\n+  vModelIds: Set\u003cstring\u003e\n+} {\n   const { content, ast } \u003d sfc.template!\n-  const cached \u003d templateUsageCheckCache.get(content)\n-  if (cached) {\n+  const cached \u003d templateAnalysisCache.get(content)\n+  if (cached \u0026\u0026 (!collectUsedIds || cached.usedIds)) {\n     return cached\n   }\n \n-  const ids \u003d new Set\u003cstring\u003e()\n+  // When `collectUsedIds` is false we skip the expensive identifier extraction\n+  // and only collect `vModelIds`.\n+  const ids \u003d collectUsedIds ? new Set\u003cstring\u003e() : undefined\n+  const vModelIds \u003d new Set\u003cstring\u003e()\n \n   ast!.children.forEach(walk)\n \n@@ -41,31 +64,56 @@ function resolveTemplateUsedIdentifiers(sfc: SFCDescriptor): Set\u003cstring\u003e {\n           !parserOptions.isNativeTag!(tag) \u0026\u0026\n           !parserOptions.isBuiltInComponent!(tag)\n         ) {\n-          ids.add(camelize(tag))\n-          ids.add(capitalize(camelize(tag)))\n+          if (ids) {\n+            ids.add(camelize(tag))\n+            ids.add(capitalize(camelize(tag)))\n+          }\n         }\n         for (let i \u003d 0; i \u003c node.props.length; i++) {\n           const prop \u003d node.props[i]\n           if (prop.type \u003d\u003d\u003d NodeTypes.DIRECTIVE) {\n-            if (!isBuiltInDirective(prop.name)) {\n-              ids.add(`v${capitalize(camelize(prop.name))}`)\n+            if (ids) {\n+              if (!isBuiltInDirective(prop.name)) {\n+                ids.add(`v${capitalize(camelize(prop.name))}`)\n+              }\n+            }\n+\n+            // collect v-model target identifiers (simple identifiers only)\n+            if (prop.name \u003d\u003d\u003d \u0027model\u0027) {\n+              const exp \u003d prop.exp\n+              if (exp \u0026\u0026 exp.type \u003d\u003d\u003d NodeTypes.SIMPLE_EXPRESSION) {\n+                const expString \u003d exp.content.trim()\n+                if (\n+                  isSimpleIdentifier(expString) \u0026\u0026\n+                  expString !\u003d\u003d \u0027undefined\u0027\n+                ) {\n+                  vModelIds.add(expString)\n+                }\n+              }\n             }\n \n             // process dynamic directive arguments\n-            if (prop.arg \u0026\u0026 !(prop.arg as SimpleExpressionNode).isStatic) {\n+            if (\n+              ids \u0026\u0026\n+              prop.arg \u0026\u0026\n+              !(prop.arg as SimpleExpressionNode).isStatic\n+            ) {\n               extractIdentifiers(ids, prop.arg)\n             }\n \n-            if (prop.name \u003d\u003d\u003d \u0027for\u0027) {\n-              extractIdentifiers(ids, prop.forParseResult!.source)\n-            } else if (prop.exp) {\n-              extractIdentifiers(ids, prop.exp)\n-            } else if (prop.name \u003d\u003d\u003d \u0027bind\u0027 \u0026\u0026 !prop.exp) {\n-              // v-bind shorthand name as identifier\n-              ids.add(camelize((prop.arg as SimpleExpressionNode).content))\n+            if (ids) {\n+              if (prop.name \u003d\u003d\u003d \u0027for\u0027) {\n+                extractIdentifiers(ids, prop.forParseResult!.source)\n+              } else if (prop.exp) {\n+                extractIdentifiers(ids, prop.exp)\n+              } else if (prop.name \u003d\u003d\u003d \u0027bind\u0027 \u0026\u0026 !prop.exp) {\n+                // v-bind shorthand name as identifier\n+                ids.add(camelize((prop.arg as SimpleExpressionNode).content))\n+              }\n             }\n           }\n           if (\n+            ids \u0026\u0026\n             prop.type \u003d\u003d\u003d NodeTypes.ATTRIBUTE \u0026\u0026\n             prop.name \u003d\u003d\u003d \u0027ref\u0027 \u0026\u0026\n             prop.value?.content\n@@ -76,13 +124,14 @@ function resolveTemplateUsedIdentifiers(sfc: SFCDescriptor): Set\u003cstring\u003e {\n         node.children.forEach(walk)\n         break\n       case NodeTypes.INTERPOLATION:\n-        extractIdentifiers(ids, node.content)\n+        if (ids) extractIdentifiers(ids, node.content)\n         break\n     }\n   }\n \n-  templateUsageCheckCache.set(content, ids)\n-  return ids\n+  const result \u003d { usedIds: ids, vModelIds }\n+  templateAnalysisCache.set(content, result)\n+  return result\n }\n \n function extractIdentifiers(ids: Set\u003cstring\u003e, node: ExpressionNode) {","expectedMessage":"fix(compiler-sfc): demote const reactive bindings used in v-model (#14214)","repository":"vue","commitHash":"e24ff7d302a887ea532571c231a385362fa17279","metadata":{"author":"edison \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-69ce3c7d","diff":" packages/runtime-core/__tests__/hmr.spec.ts | 53 +++++++++++++++++++++++++++++\n packages/runtime-core/src/renderer.ts       | 37 ++++++++++++++++----\n 2 files changed, 84 insertions(+), 6 deletions(-)\n\ndiff --git a/packages/runtime-core/__tests__/hmr.spec.ts b/packages/runtime-core/__tests__/hmr.spec.ts\nindex 991cc0e..9e92ed2 100644\n--- a/packages/runtime-core/__tests__/hmr.spec.ts\n+++ b/packages/runtime-core/__tests__/hmr.spec.ts\n@@ -1040,4 +1040,57 @@ describe(\u0027hot module replacement\u0027, () \u003d\u003e {\n \n     expect(serializeInner(root)).toBe(\u0027\u003cdiv\u003ebar\u003c/div\u003e\u0027)\n   })\n+\n+  // #14127\n+  test(\u0027update cached text nodes\u0027, async () \u003d\u003e {\n+    const root \u003d nodeOps.createElement(\u0027div\u0027)\n+    const appId \u003d \u0027test-cached-text-nodes\u0027\n+    const App: ComponentOptions \u003d {\n+      __hmrId: appId,\n+      data() {\n+        return {\n+          count: 0,\n+        }\n+      },\n+      render: compileToFunction(\n+        `{{count}}\n+        \u003cbutton @click\u003d\"count++\"\u003e++\u003c/button\u003e \n+        static text`,\n+      ),\n+    }\n+    createRecord(appId, App)\n+    render(h(App), root)\n+    expect(serializeInner(root)).toBe(`0 \u003cbutton\u003e++\u003c/button\u003e static text`)\n+\n+    // trigger count update\n+    triggerEvent((root as any).children[2], \u0027click\u0027)\n+    await nextTick()\n+    expect(serializeInner(root)).toBe(`1 \u003cbutton\u003e++\u003c/button\u003e static text`)\n+\n+    // trigger HMR update\n+    rerender(\n+      appId,\n+      compileToFunction(\n+        `{{count}}\n+        \u003cbutton @click\u003d\"count++\"\u003e++\u003c/button\u003e \n+        static text updated`,\n+      ),\n+    )\n+    expect(serializeInner(root)).toBe(\n+      `1 \u003cbutton\u003e++\u003c/button\u003e static text updated`,\n+    )\n+\n+    // trigger HMR update again\n+    rerender(\n+      appId,\n+      compileToFunction(\n+        `{{count}}\n+        \u003cbutton @click\u003d\"count++\"\u003e++\u003c/button\u003e \n+        static text updated2`,\n+      ),\n+    )\n+    expect(serializeInner(root)).toBe(\n+      `1 \u003cbutton\u003e++\u003c/button\u003e static text updated2`,\n+    )\n+  })\n })\ndiff --git a/packages/runtime-core/src/renderer.ts b/packages/runtime-core/src/renderer.ts\nindex 5aa1289..0aa797c 100644\n--- a/packages/runtime-core/src/renderer.ts\n+++ b/packages/runtime-core/src/renderer.ts\n@@ -500,7 +500,27 @@ function baseCreateRenderer(\n     } else {\n       const el \u003d (n2.el \u003d n1.el!)\n       if (n2.children !\u003d\u003d n1.children) {\n-        hostSetText(el, n2.children as string)\n+        // We don\u0027t inherit el for cached text nodes in `traverseStaticChildren`\n+        // to avoid retaining detached DOM nodes. However, the text node may be\n+        // changed during HMR. In this case we need to replace the old text node\n+        // with the new one.\n+        if (\n+          __DEV__ \u0026\u0026\n+          isHmrUpdating \u0026\u0026\n+          n2.patchFlag \u003d\u003d\u003d PatchFlags.CACHED \u0026\u0026\n+          \u0027__elIndex\u0027 in n1\n+        ) {\n+          const childNodes \u003d __TEST__\n+            ? container.children\n+            : container.childNodes\n+          const newChild \u003d hostCreateText(n2.children as string)\n+          const oldChild \u003d\n+            childNodes[((n2 as any).__elIndex \u003d (n1 as any).__elIndex)]\n+          hostInsert(newChild, container, oldChild)\n+          hostRemove(oldChild)\n+        } else {\n+          hostSetText(el, n2.children as string)\n+        }\n       }\n     }\n   }\n@@ -2496,12 +2516,17 @@ export function traverseStaticChildren(\n           traverseStaticChildren(c1, c2)\n       }\n       // #6852 also inherit for text nodes\n-      if (\n-        c2.type \u003d\u003d\u003d Text \u0026\u0026\n+      if (c2.type \u003d\u003d\u003d Text) {\n         // avoid cached text nodes retaining detached dom nodes\n-        c2.patchFlag !\u003d\u003d PatchFlags.CACHED\n-      ) {\n-        c2.el \u003d c1.el\n+        if (c2.patchFlag !\u003d\u003d PatchFlags.CACHED) {\n+          c2.el \u003d c1.el\n+        } else {\n+          // cache the child index for HMR updates\n+          ;(c2 as any).__elIndex \u003d\n+            i +\n+            // take fragment start anchor into account\n+            (n1.type \u003d\u003d\u003d Fragment ? 1 : 0)\n+        }\n       }\n       // #2324 also inherit for comment nodes, but not placeholders (e.g. v-if which\n       // would have received .el during block patch)","expectedMessage":"fix(hmr): handle cached text node update (#14134)","repository":"vue","commitHash":"69ce3c7d755db868cfa66d67ab5b3f383a44e053","metadata":{"author":"edison \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-1904053f","diff":" packages/compiler-core/src/tokenizer.ts | 28 ++++++++++++++++++++++------\n 1 file changed, 22 insertions(+), 6 deletions(-)\n\ndiff --git a/packages/compiler-core/src/tokenizer.ts b/packages/compiler-core/src/tokenizer.ts\nindex 48afe9d..c6084e1 100644\n--- a/packages/compiler-core/src/tokenizer.ts\n+++ b/packages/compiler-core/src/tokenizer.ts\n@@ -296,14 +296,30 @@ export default class Tokenizer {\n   public getPos(index: number): Position {\n     let line \u003d 1\n     let column \u003d index + 1\n-    for (let i \u003d this.newlines.length - 1; i \u003e\u003d 0; i--) {\n-      const newlineIndex \u003d this.newlines[i]\n-      if (index \u003e newlineIndex) {\n-        line \u003d i + 2\n-        column \u003d index - newlineIndex\n-        break\n+    const length \u003d this.newlines.length\n+    let j \u003d -1\n+    if (length \u003e 100) {\n+      let l \u003d -1\n+      let r \u003d length\n+      while (l + 1 \u003c r) {\n+        const m \u003d (l + r) \u003e\u003e\u003e 1\n+        this.newlines[m] \u003c index ? (l \u003d m) : (r \u003d m)\n+      }\n+      j \u003d l\n+    } else {\n+      for (let i \u003d length - 1; i \u003e\u003d 0; i--) {\n+        if (index \u003e this.newlines[i]) {\n+          j \u003d i\n+          break\n+        }\n       }\n     }\n+\n+    if (j \u003e\u003d 0) {\n+      line \u003d j + 2\n+      column \u003d index - this.newlines[j]\n+    }\n+\n     return {\n       column,\n       line,","expectedMessage":"perf(compiler-core): use binary-search to get line and column (#14222)","repository":"vue","commitHash":"1904053f1f7986c2d6dbe858ee1b594b4b229c17","metadata":{"author":" \u003cwebzhangfei@163.com\u003e"}}
{"id":"vue-f5b3bf26","diff":" .../__tests__/components/Suspense.spec.ts          | 95 ++++++++++++++++++++++\n packages/runtime-core/src/renderer.ts              | 18 +++-\n 2 files changed, 111 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/runtime-core/__tests__/components/Suspense.spec.ts b/packages/runtime-core/__tests__/components/Suspense.spec.ts\nindex 4e8da32..0567587 100644\n--- a/packages/runtime-core/__tests__/components/Suspense.spec.ts\n+++ b/packages/runtime-core/__tests__/components/Suspense.spec.ts\n@@ -2360,6 +2360,101 @@ describe(\u0027Suspense\u0027, () \u003d\u003e {\n       )\n     })\n \n+    // #14173\n+    test(\u0027nested async components with v-for + only Suspense and async component wrappers\u0027, async () \u003d\u003e {\n+      const CompAsyncSetup \u003d defineAsyncComponent({\n+        props: [\u0027item\u0027, \u0027id\u0027],\n+        render(ctx: any) {\n+          return h(\u0027div\u0027, ctx.id + \u0027-\u0027 + ctx.item.name)\n+        },\n+      })\n+      const items \u003d ref([\n+        { id: 1, name: \u0027a\u0027 },\n+        { id: 2, name: \u0027b\u0027 },\n+        { id: 3, name: \u0027c\u0027 },\n+      ])\n+      const Comp \u003d {\n+        props: [\u0027id\u0027],\n+        setup(props: any) {\n+          return () \u003d\u003e\n+            h(Suspense, null, {\n+              default: () \u003d\u003e\n+                h(\n+                  Fragment,\n+                  null,\n+                  items.value.map(item \u003d\u003e\n+                    h(CompAsyncSetup, {\n+                      item,\n+                      key: item.id,\n+                      id: props.id,\n+                    }),\n+                  ),\n+                ),\n+            })\n+        },\n+      }\n+\n+      const CompAsyncWrapper \u003d defineAsyncComponent({\n+        props: [\u0027id\u0027],\n+        render(ctx: any) {\n+          return h(Comp, { id: ctx.id })\n+        },\n+      })\n+      const CompWrapper \u003d defineComponent({\n+        props: [\u0027id\u0027],\n+        render(ctx: any) {\n+          return h(CompAsyncWrapper, { id: ctx.id })\n+        },\n+      })\n+      const list \u003d ref([{ id: 1 }, { id: 2 }, { id: 3 }])\n+\n+      const App \u003d {\n+        setup() {\n+          return () \u003d\u003e\n+            h(Suspense, null, {\n+              default: () \u003d\u003e\n+                h(\n+                  Fragment,\n+                  null,\n+                  list.value.map(item \u003d\u003e\n+                    h(CompWrapper, { id: item.id, key: item.id }),\n+                  ),\n+                ),\n+            })\n+        },\n+      }\n+\n+      const root \u003d nodeOps.createElement(\u0027div\u0027)\n+      render(h(App), root)\n+      await nextTick()\n+      await Promise.all(deps)\n+      await Promise.all(deps)\n+\n+      expect(serializeInner(root)).toBe(\n+        `\u003cdiv\u003e1-a\u003c/div\u003e\u003cdiv\u003e1-b\u003c/div\u003e\u003cdiv\u003e1-c\u003c/div\u003e\u003cdiv\u003e2-a\u003c/div\u003e\u003cdiv\u003e2-b\u003c/div\u003e\u003cdiv\u003e2-c\u003c/div\u003e\u003cdiv\u003e3-a\u003c/div\u003e\u003cdiv\u003e3-b\u003c/div\u003e\u003cdiv\u003e3-c\u003c/div\u003e`,\n+      )\n+\n+      list.value \u003d [{ id: 4 }, { id: 5 }, { id: 6 }]\n+      await nextTick()\n+      await Promise.all(deps)\n+      await Promise.all(deps)\n+      expect(serializeInner(root)).toBe(\n+        `\u003cdiv\u003e4-a\u003c/div\u003e\u003cdiv\u003e4-b\u003c/div\u003e\u003cdiv\u003e4-c\u003c/div\u003e\u003cdiv\u003e5-a\u003c/div\u003e\u003cdiv\u003e5-b\u003c/div\u003e\u003cdiv\u003e5-c\u003c/div\u003e\u003cdiv\u003e6-a\u003c/div\u003e\u003cdiv\u003e6-b\u003c/div\u003e\u003cdiv\u003e6-c\u003c/div\u003e`,\n+      )\n+\n+      items.value \u003d [\n+        { id: 4, name: \u0027d\u0027 },\n+        { id: 5, name: \u0027f\u0027 },\n+        { id: 6, name: \u0027g\u0027 },\n+      ]\n+      await nextTick()\n+      await Promise.all(deps)\n+      await Promise.all(deps)\n+      expect(serializeInner(root)).toBe(\n+        `\u003cdiv\u003e4-d\u003c/div\u003e\u003cdiv\u003e4-f\u003c/div\u003e\u003cdiv\u003e4-g\u003c/div\u003e\u003cdiv\u003e5-d\u003c/div\u003e\u003cdiv\u003e5-f\u003c/div\u003e\u003cdiv\u003e5-g\u003c/div\u003e\u003cdiv\u003e6-d\u003c/div\u003e\u003cdiv\u003e6-f\u003c/div\u003e\u003cdiv\u003e6-g\u003c/div\u003e`,\n+      )\n+    })\n+\n     test(\u0027should call unmounted directive once when fallback is replaced by resolved async component\u0027, async () \u003d\u003e {\n       const Comp \u003d {\n         render() {\ndiff --git a/packages/runtime-core/src/renderer.ts b/packages/runtime-core/src/renderer.ts\nindex 192bb44..5aa1289 100644\n--- a/packages/runtime-core/src/renderer.ts\n+++ b/packages/runtime-core/src/renderer.ts\n@@ -1995,8 +1995,8 @@ function baseCreateRenderer(\n         const anchorVNode \u003d c2[nextIndex + 1] as VNode\n         const anchor \u003d\n           nextIndex + 1 \u003c l2\n-            ? // #13559, fallback to el placeholder for unresolved async component\n-              anchorVNode.el || anchorVNode.placeholder\n+            ? // #13559, #14173 fallback to el placeholder for unresolved async component\n+              anchorVNode.el || resolveAsyncComponentPlaceholder(anchorVNode)\n             : parentAnchor\n         if (newIndexToOldIndexMap[i] \u003d\u003d\u003d 0) {\n           // mount new\n@@ -2577,3 +2577,17 @@ export function invalidateMount(hooks: LifecycleHook): void {\n       hooks[i].flags! |\u003d SchedulerJobFlags.DISPOSED\n   }\n }\n+\n+function resolveAsyncComponentPlaceholder(anchorVnode: VNode) {\n+  if (anchorVnode.placeholder) {\n+    return anchorVnode.placeholder\n+  }\n+\n+  // anchor vnode maybe is a wrapper component has single unresolved async component\n+  const instance \u003d anchorVnode.component\n+  if (instance) {\n+    return resolveAsyncComponentPlaceholder(instance.subTree)\n+  }\n+\n+  return null\n+}","expectedMessage":"fix(runtime-core): ensure correct anchor el for deeper unresolved async components (#14182)","repository":"vue","commitHash":"f5b3bf264d2e12725381bed1c492069437069b03","metadata":{"author":"linzhe \u003c40790268+linzhe141@users.noreply.github.com\u003e"}}
{"id":"vue-945a5431","diff":" .../runtime-core/src/compat/componentVModel.ts     | 10 +++++-\n .../vue-compat/__tests__/componentVModel.spec.ts   | 37 ++++++++++++++++++++++\n 2 files changed, 46 insertions(+), 1 deletion(-)\n\ndiff --git a/packages/runtime-core/src/compat/componentVModel.ts b/packages/runtime-core/src/compat/componentVModel.ts\nindex 7a9fea9..a994a67 100644\n--- a/packages/runtime-core/src/compat/componentVModel.ts\n+++ b/packages/runtime-core/src/compat/componentVModel.ts\n@@ -1,5 +1,6 @@\n import { ShapeFlags, extend } from \u0027@vue/shared\u0027\n import type { ComponentInternalInstance, ComponentOptions } from \u0027../component\u0027\n+import { createAppContext } from \u0027../apiCreateApp\u0027\n import { ErrorCodes, callWithErrorHandling } from \u0027../errorHandling\u0027\n import type { VNode } from \u0027../vnode\u0027\n import { popWarningContext, pushWarningContext } from \u0027../warning\u0027\n@@ -31,7 +32,14 @@ export function convertLegacyVModelProps(vnode: VNode): void {\n \n     if (__DEV__ \u0026\u0026 !warnedTypes.has(comp)) {\n       pushWarningContext(vnode)\n-      warnDeprecation(DeprecationTypes.COMPONENT_V_MODEL, { type } as any, comp)\n+      warnDeprecation(\n+        DeprecationTypes.COMPONENT_V_MODEL,\n+        {\n+          type,\n+          appContext: (vnode.ctx \u0026\u0026 vnode.ctx.appContext) || createAppContext(),\n+        } as any,\n+        comp,\n+      )\n       popWarningContext()\n       warnedTypes.add(comp)\n     }\ndiff --git a/packages/vue-compat/__tests__/componentVModel.spec.ts b/packages/vue-compat/__tests__/componentVModel.spec.ts\nindex 5ef1995..0c85d3f 100644\n--- a/packages/vue-compat/__tests__/componentVModel.spec.ts\n+++ b/packages/vue-compat/__tests__/componentVModel.spec.ts\n@@ -140,4 +140,41 @@ describe(\u0027COMPONENT_V_MODEL\u0027, () \u003d\u003e {\n       template: `\u003cinput :value\u003d\"foo\" @input\u003d\"$emit(\u0027bar\u0027, $event.target.value)\"\u003e`,\n     })\n   })\n+\n+  // #14202\n+  test(\u0027should handle v-model deprecation warning with missing appContext\u0027, async () \u003d\u003e {\n+    const ChildComponent \u003d {\n+      template: `\u003cdiv @click\u003d\"$emit(\u0027input\u0027, \u0027new val\u0027)\"\u003e{{ value }}\u003c/div\u003e`,\n+      props: [\u0027value\u0027],\n+    }\n+\n+    const vm \u003d new Vue({\n+      components: { ChildComponent },\n+      data() {\n+        return {\n+          myVal: \u0027initial\u0027,\n+        }\n+      },\n+      template: `\n+        \u003cdiv\u003e\n+          \u003cchild-component v-model\u003d\"myVal\"\u003e\u003c/child-component\u003e\n+        \u003c/div\u003e\n+      `,\n+    }).$mount() as any\n+\n+    expect(vm.$el.textContent).toContain(\u0027initial\u0027)\n+\n+    expect(\n+      (deprecationData[DeprecationTypes.COMPONENT_V_MODEL].message as Function)(\n+        ChildComponent,\n+      ),\n+    ).toHaveBeenWarned()\n+\n+    // Should work correctly\n+    const child \u003d vm.$el.querySelector(\u0027div\u0027)\n+    child.click()\n+    await nextTick()\n+    expect(vm.myVal).toBe(\u0027new val\u0027)\n+    expect(vm.$el.textContent).toContain(\u0027new val\u0027)\n+  })\n })","expectedMessage":"fix(compat): handle v-model deprecation warning with missing appContext (#14203)","repository":"vue","commitHash":"945a543152e8d80903d4f7a18a84ebe8d36e56f8","metadata":{"author":"edison \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-dfe667c8","diff":" .../__tests__/components/KeepAlive.spec.ts         | 49 ++++++++++++++++++++++\n packages/runtime-core/src/components/KeepAlive.ts  |  8 +++-\n 2 files changed, 56 insertions(+), 1 deletion(-)\n\ndiff --git a/packages/runtime-core/__tests__/components/KeepAlive.spec.ts b/packages/runtime-core/__tests__/components/KeepAlive.spec.ts\nindex 1e4176b..3309ca0 100644\n--- a/packages/runtime-core/__tests__/components/KeepAlive.spec.ts\n+++ b/packages/runtime-core/__tests__/components/KeepAlive.spec.ts\n@@ -1173,4 +1173,53 @@ describe(\u0027KeepAlive\u0027, () \u003d\u003e {\n     expect(deactivatedHome).toHaveBeenCalledTimes(0)\n     expect(unmountedHome).toHaveBeenCalledTimes(1)\n   })\n+\n+  test(\u0027should work with async component when update `include` props\u0027, async () \u003d\u003e {\n+    let resolve: (comp: Component) \u003d\u003e void\n+    const AsyncComp \u003d defineAsyncComponent(\n+      () \u003d\u003e\n+        new Promise(r \u003d\u003e {\n+          resolve \u003d r as any\n+        }),\n+    )\n+\n+    const toggle \u003d ref(true)\n+    const instanceRef \u003d ref\u003cany\u003e(null)\n+    const keepaliveInclude \u003d ref([\u0027Foo\u0027])\n+    const App \u003d {\n+      render: () \u003d\u003e {\n+        return h(KeepAlive, { include: keepaliveInclude.value }, () \u003d\u003e\n+          toggle.value ? h(AsyncComp, { ref: instanceRef }) : null,\n+        )\n+      },\n+    }\n+\n+    render(h(App), root)\n+    // async component has not been resolved\n+    expect(serializeInner(root)).toBe(\u0027\u003c!----\u003e\u0027)\n+\n+    resolve!({\n+      name: \u0027Foo\u0027,\n+      data: () \u003d\u003e ({ count: 0 }),\n+      render() {\n+        return h(\u0027p\u0027, this.count)\n+      },\n+    })\n+\n+    await timeout()\n+    // resolved\n+    expect(serializeInner(root)).toBe(\u0027\u003cp\u003e0\u003c/p\u003e\u0027)\n+\n+    // change state + toggle out + update `include` props\n+    instanceRef.value.count++\n+    toggle.value \u003d false\n+    keepaliveInclude.value \u003d [\u0027Foo\u0027]\n+    await nextTick()\n+    expect(serializeInner(root)).toBe(\u0027\u003c!----\u003e\u0027)\n+\n+    // toggle in, state should be maintained\n+    toggle.value \u003d true\n+    await nextTick()\n+    expect(serializeInner(root)).toBe(\u0027\u003cp\u003e1\u003c/p\u003e\u0027)\n+  })\n })\ndiff --git a/packages/runtime-core/src/components/KeepAlive.ts b/packages/runtime-core/src/components/KeepAlive.ts\nindex f2b7bdf..55eaf86 100644\n--- a/packages/runtime-core/src/components/KeepAlive.ts\n+++ b/packages/runtime-core/src/components/KeepAlive.ts\n@@ -202,7 +202,13 @@ const KeepAliveImpl: ComponentOptions \u003d {\n \n     function pruneCache(filter: (name: string) \u003d\u003e boolean) {\n       cache.forEach((vnode, key) \u003d\u003e {\n-        const name \u003d getComponentName(vnode.type as ConcreteComponent)\n+        // for async components, name check should be based in its loaded\n+        // inner component if available\n+        const name \u003d getComponentName(\n+          isAsyncWrapper(vnode)\n+            ? (vnode.type as ComponentOptions).__asyncResolved || {}\n+            : (vnode.type as ConcreteComponent),\n+        )\n         if (name \u0026\u0026 !filter(name)) {\n           pruneCacheEntry(key)\n         }","expectedMessage":"fix(KeepAlive): use resolved component name for async components in cache pruning (#14212)","repository":"vue","commitHash":"dfe667c8567d48167c250062483d2d2cfc7bdc03","metadata":{"author":"huangxiuqi \u003c1417617276@qq.com\u003e"}}
{"id":"vue-d8a2de44","diff":" pnpm-lock.yaml | 74 ++++++++++++----------------------------------------------\n 1 file changed, 15 insertions(+), 59 deletions(-)\n\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 78db215..25d0dba 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -24,9 +24,6 @@ catalogs:\n     source-map-js:\n       specifier: ^1.2.1\n       version: 1.2.1\n-    vite:\n-      specifier: ^5.4.15\n-      version: 5.4.15\n \n importers:\n \n@@ -175,7 +172,7 @@ importers:\n         version: 8.49.0(eslint@9.39.2)(typescript@5.6.3)\n       vite:\n         specifier: \u0027catalog:\u0027\n-        version: 5.4.15(@types/node@24.10.4)(sass@1.96.0)\n+        version: 5.4.21(@types/node@24.10.4)(sass@1.96.0)\n       vitest:\n         specifier: ^3.2.4\n         version: 3.2.4(@types/node@24.10.4)(jsdom@27.3.0(postcss@8.5.6))(sass@1.96.0)\n@@ -218,10 +215,10 @@ importers:\n     devDependencies:\n       \u0027@vitejs/plugin-vue\u0027:\n         specifier: \u0027catalog:\u0027\n-        version: 6.0.3(vite@5.4.15(@types/node@24.10.4)(sass@1.96.0))(vue@packages+vue)\n+        version: 6.0.3(vite@5.4.21(@types/node@24.10.4)(sass@1.96.0))(vue@packages+vue)\n       vite:\n         specifier: \u0027catalog:\u0027\n-        version: 5.4.15(@types/node@24.10.4)(sass@1.96.0)\n+        version: 5.4.21(@types/node@24.10.4)(sass@1.96.0)\n \n   packages-private/template-explorer:\n     dependencies:\n@@ -236,10 +233,10 @@ importers:\n     devDependencies:\n       \u0027@vitejs/plugin-vue\u0027:\n         specifier: \u0027catalog:\u0027\n-        version: 6.0.3(vite@5.4.15(@types/node@24.10.4)(sass@1.96.0))(vue@packages+vue)\n+        version: 6.0.3(vite@5.4.21(@types/node@24.10.4)(sass@1.96.0))(vue@packages+vue)\n       vite:\n         specifier: \u0027catalog:\u0027\n-        version: 5.4.15(@types/node@24.10.4)(sass@1.96.0)\n+        version: 5.4.21(@types/node@24.10.4)(sass@1.96.0)\n       vue:\n         specifier: workspace:*\n         version: link:../../packages/vue\n@@ -3458,39 +3455,8 @@ packages:\n     engines: {node: ^18.0.0 || ^20.0.0 || \u003e\u003d22.0.0}\n     hasBin: true\n \n-  vite@5.4.15:\n-    resolution: {integrity: sha512-6ANcZRivqL/4WtwPGTKNaosuNJr5tWiftOC7liM7G9+rMb8+oeJeyzymDu4rTN93seySBmbjSfsS3Vzr19KNtA\u003d\u003d}\n-    engines: {node: ^18.0.0 || \u003e\u003d20.0.0}\n-    hasBin: true\n-    peerDependencies:\n-      \u0027@types/node\u0027: ^18.0.0 || \u003e\u003d20.0.0\n-      less: \u0027*\u0027\n-      lightningcss: ^1.21.0\n-      sass: \u0027*\u0027\n-      sass-embedded: \u0027*\u0027\n-      stylus: \u0027*\u0027\n-      sugarss: \u0027*\u0027\n-      terser: ^5.4.0\n-    peerDependenciesMeta:\n-      \u0027@types/node\u0027:\n-        optional: true\n-      less:\n-        optional: true\n-      lightningcss:\n-        optional: true\n-      sass:\n-        optional: true\n-      sass-embedded:\n-        optional: true\n-      stylus:\n-        optional: true\n-      sugarss:\n-        optional: true\n-      terser:\n-        optional: true\n-\n-  vite@5.4.19:\n-    resolution: {integrity: sha512-qO3aKv3HoQC8QKiNSTuUM1l9o/XX3+c+VTgLHbJWHZGeTPVAg2XwazI9UWzoxjIJCGCV2zU60uqMzjeLZuULqA\u003d\u003d}\n+  vite@5.4.21:\n+    resolution: {integrity: sha512-o5a9xKjbtuhY6Bi5S3+HvbRERmouabWbyUcpXXUA1u+GNUKoROi9byOJ8M0nHbHYHkYICiMlqxkg1KkYmm25Sw\u003d\u003d}\n     engines: {node: ^18.0.0 || \u003e\u003d20.0.0}\n     hasBin: true\n     peerDependencies:\n@@ -4457,10 +4423,10 @@ snapshots:\n   \u0027@unrs/resolver-binding-win32-x64-msvc@1.11.1\u0027:\n     optional: true\n \n-  \u0027@vitejs/plugin-vue@6.0.3(vite@5.4.15(@types/node@24.10.4)(sass@1.96.0))(vue@packages+vue)\u0027:\n+  \u0027@vitejs/plugin-vue@6.0.3(vite@5.4.21(@types/node@24.10.4)(sass@1.96.0))(vue@packages+vue)\u0027:\n     dependencies:\n       \u0027@rolldown/pluginutils\u0027: 1.0.0-beta.53\n-      vite: 5.4.15(@types/node@24.10.4)(sass@1.96.0)\n+      vite: 5.4.21(@types/node@24.10.4)(sass@1.96.0)\n       vue: link:packages/vue\n \n   \u0027@vitest/coverage-v8@3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.3.0(postcss@8.5.6))(sass@1.96.0))\u0027:\n@@ -4501,13 +4467,13 @@ snapshots:\n       chai: 5.2.0\n       tinyrainbow: 2.0.0\n \n-  \u0027@vitest/mocker@3.2.4(vite@5.4.19(@types/node@24.10.4)(sass@1.96.0))\u0027:\n+  \u0027@vitest/mocker@3.2.4(vite@5.4.21(@types/node@24.10.4)(sass@1.96.0))\u0027:\n     dependencies:\n       \u0027@vitest/spy\u0027: 3.2.4\n       estree-walker: 3.0.3\n       magic-string: 0.30.21\n     optionalDependencies:\n-      vite: 5.4.19(@types/node@24.10.4)(sass@1.96.0)\n+      vite: 5.4.21(@types/node@24.10.4)(sass@1.96.0)\n \n   \u0027@vitest/pretty-format@3.2.4\u0027:\n     dependencies:\n@@ -6565,7 +6531,7 @@ snapshots:\n       debug: 4.4.3\n       es-module-lexer: 1.7.0\n       pathe: 2.0.3\n-      vite: 5.4.19(@types/node@24.10.4)(sass@1.96.0)\n+      vite: 5.4.21(@types/node@24.10.4)(sass@1.96.0)\n     transitivePeerDependencies:\n       - \u0027@types/node\u0027\n       - less\n@@ -6577,17 +6543,7 @@ snapshots:\n       - supports-color\n       - terser\n \n-  vite@5.4.15(@types/node@24.10.4)(sass@1.96.0):\n-    dependencies:\n-      esbuild: 0.21.5\n-      postcss: 8.5.6\n-      rollup: 4.53.3\n-    optionalDependencies:\n-      \u0027@types/node\u0027: 24.10.4\n-      fsevents: 2.3.3\n-      sass: 1.96.0\n-\n-  vite@5.4.19(@types/node@24.10.4)(sass@1.96.0):\n+  vite@5.4.21(@types/node@24.10.4)(sass@1.96.0):\n     dependencies:\n       esbuild: 0.21.5\n       postcss: 8.5.6\n@@ -6601,7 +6557,7 @@ snapshots:\n     dependencies:\n       \u0027@types/chai\u0027: 5.2.2\n       \u0027@vitest/expect\u0027: 3.2.4\n-      \u0027@vitest/mocker\u0027: 3.2.4(vite@5.4.19(@types/node@24.10.4)(sass@1.96.0))\n+      \u0027@vitest/mocker\u0027: 3.2.4(vite@5.4.21(@types/node@24.10.4)(sass@1.96.0))\n       \u0027@vitest/pretty-format\u0027: 3.2.4\n       \u0027@vitest/runner\u0027: 3.2.4\n       \u0027@vitest/snapshot\u0027: 3.2.4\n@@ -6619,7 +6575,7 @@ snapshots:\n       tinyglobby: 0.2.14\n       tinypool: 1.1.1\n       tinyrainbow: 2.0.0\n-      vite: 5.4.19(@types/node@24.10.4)(sass@1.96.0)\n+      vite: 5.4.21(@types/node@24.10.4)(sass@1.96.0)\n       vite-node: 3.2.4(@types/node@24.10.4)(sass@1.96.0)\n       why-is-node-running: 2.3.0\n     optionalDependencies:","expectedMessage":"chore(deps): update dependency vite to v5.4.21 [security] (#13556)","repository":"vue","commitHash":"d8a2de44859bdea7fad6a939ae3dbb651527045f","metadata":{"author":"renovate[bot] \u003c29139614+renovate[bot]@users.noreply.github.com\u003e"}}
{"id":"vue-1e348711","diff":" .github/renovate.json5                  |  4 ---\n packages/compiler-core/package.json     |  2 +-\n packages/compiler-core/src/parser.ts    |  2 +-\n packages/compiler-core/src/tokenizer.ts |  2 +-\n pnpm-lock.yaml                          | 44 +++++++++++++++++++++++++++------\n rollup.config.js                        |  2 +-\n 6 files changed, 40 insertions(+), 16 deletions(-)\n\ndiff --git a/.github/renovate.json5 b/.github/renovate.json5\nindex aad4afa..0e2be25 100644\n--- a/.github/renovate.json5\n+++ b/.github/renovate.json5\n@@ -67,9 +67,5 @@\n     // pinned\n     // only used in example for e2e tests\n     \u0027marked\u0027,\n-\n-    // pinned, 5.0+ has exports issues\n-    // https://github.com/vuejs/core/issues/11603\n-    \u0027entities\u0027,\n   ],\n }\ndiff --git a/packages/compiler-core/package.json b/packages/compiler-core/package.json\nindex b7f8fb4..bb65b2a 100644\n--- a/packages/compiler-core/package.json\n+++ b/packages/compiler-core/package.json\n@@ -48,7 +48,7 @@\n   \"dependencies\": {\n     \"@babel/parser\": \"catalog:\",\n     \"@vue/shared\": \"workspace:*\",\n-    \"entities\": \"^4.5.0\",\n+    \"entities\": \"^7.0.0\",\n     \"estree-walker\": \"catalog:\",\n     \"source-map-js\": \"catalog:\"\n   },\ndiff --git a/packages/compiler-core/src/parser.ts b/packages/compiler-core/src/parser.ts\nindex debf11f..078d37d 100644\n--- a/packages/compiler-core/src/parser.ts\n+++ b/packages/compiler-core/src/parser.ts\n@@ -46,7 +46,7 @@ import {\n   isStaticArgOf,\n   isVPre,\n } from \u0027./utils\u0027\n-import { decodeHTML } from \u0027entities/lib/decode.js\u0027\n+import { decodeHTML } from \u0027entities/decode\u0027\n import {\n   type ParserOptions as BabelOptions,\n   parse,\ndiff --git a/packages/compiler-core/src/tokenizer.ts b/packages/compiler-core/src/tokenizer.ts\nindex b8a7479..48afe9d 100644\n--- a/packages/compiler-core/src/tokenizer.ts\n+++ b/packages/compiler-core/src/tokenizer.ts\n@@ -36,7 +36,7 @@ import {\n   EntityDecoder,\n   fromCodePoint,\n   htmlDecodeTree,\n-} from \u0027entities/lib/decode.js\u0027\n+} from \u0027entities/decode\u0027\n \n export enum ParseMode {\n   BASE,\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 73f20d1..78db215 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -253,8 +253,8 @@ importers:\n         specifier: workspace:*\n         version: link:../shared\n       entities:\n-        specifier: ^4.5.0\n-        version: 4.5.0\n+        specifier: ^7.0.0\n+        version: 7.0.0\n       estree-walker:\n         specifier: \u0027catalog:\u0027\n         version: 2.0.2\n@@ -964,30 +964,35 @@ packages:\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [arm]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@parcel/watcher-linux-arm64-glibc@2.4.1\u0027:\n     resolution: {integrity: sha512-BJ7mH985OADVLpbrzCLgrJ3TOpiZggE9FMblfO65PlOCdG++xJpKUJ0Aol74ZUIYfb8WsRlUdgrZxKkz3zXWYA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@parcel/watcher-linux-arm64-musl@2.4.1\u0027:\n     resolution: {integrity: sha512-p4Xb7JGq3MLgAfYhslU2SjoV9G0kI0Xry0kuxeG/41UfpjHGOhv7UoUDAz/jb1u2elbhazy4rRBL8PegPJFBhA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@parcel/watcher-linux-x64-glibc@2.4.1\u0027:\n     resolution: {integrity: sha512-s9O3fByZ/2pyYDPoLM6zt92yu6P4E39a03zvO0qCHOTjxmt3GHRMLuRZEWhWLASTMSrrnVNWdVI/+pUElJBBBg\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [x64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@parcel/watcher-linux-x64-musl@2.4.1\u0027:\n     resolution: {integrity: sha512-L2nZTYR1myLNST0O632g0Dx9LyMNHrn6TOt76sYxWLdff3cB22/GZX2UPtJnaqQPdCRoszoY5rcOj4oMTtp5fQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [x64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@parcel/watcher-win32-arm64@2.4.1\u0027:\n     resolution: {integrity: sha512-Uq2BPp5GWhrq/lcuItCHoqxjULU1QYEcyjSO5jqqOK8RNFDBQnenMMx4gAl3v8GiWa59E9+uDM7yZ6LxwUIfRg\u003d\u003d}\n@@ -1120,56 +1125,67 @@ packages:\n     resolution: {integrity: sha512-k9oD15soC/Ln6d2Wv/JOFPzZXIAIFLp6B+i14KhxAfnq76ajt0EhYc5YPeX6W1xJkAdItcVT+JhKl1QZh44/qw\u003d\u003d}\n     cpu: [arm]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-arm-musleabihf@4.53.3\u0027:\n     resolution: {integrity: sha512-vTNlKq+N6CK/8UktsrFuc+/7NlEYVxgaEgRXVUVK258Z5ymho29skzW1sutgYjqNnquGwVUObAaxae8rZ6YMhg\u003d\u003d}\n     cpu: [arm]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@rollup/rollup-linux-arm64-gnu@4.53.3\u0027:\n     resolution: {integrity: sha512-RGrFLWgMhSxRs/EWJMIFM1O5Mzuz3Xy3/mnxJp/5cVhZ2XoCAxJnmNsEyeMJtpK+wu0FJFWz+QF4mjCA7AUQ3w\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-arm64-musl@4.53.3\u0027:\n     resolution: {integrity: sha512-kASyvfBEWYPEwe0Qv4nfu6pNkITLTb32p4yTgzFCocHnJLAHs+9LjUu9ONIhvfT/5lv4YS5muBHyuV84epBo/A\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@rollup/rollup-linux-loong64-gnu@4.53.3\u0027:\n     resolution: {integrity: sha512-JiuKcp2teLJwQ7vkJ95EwESWkNRFJD7TQgYmCnrPtlu50b4XvT5MOmurWNrCj3IFdyjBQ5p9vnrX4JM6I8OE7g\u003d\u003d}\n     cpu: [loong64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-ppc64-gnu@4.53.3\u0027:\n     resolution: {integrity: sha512-EoGSa8nd6d3T7zLuqdojxC20oBfNT8nexBbB/rkxgKj5T5vhpAQKKnD+h3UkoMuTyXkP5jTjK/ccNRmQrPNDuw\u003d\u003d}\n     cpu: [ppc64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-riscv64-gnu@4.53.3\u0027:\n     resolution: {integrity: sha512-4s+Wped2IHXHPnAEbIB0YWBv7SDohqxobiiPA1FIWZpX+w9o2i4LezzH/NkFUl8LRci/8udci6cLq+jJQlh+0g\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-riscv64-musl@4.53.3\u0027:\n     resolution: {integrity: sha512-68k2g7+0vs2u9CxDt5ktXTngsxOQkSEV/xBbwlqYcUrAVh6P9EgMZvFsnHy4SEiUl46Xf0IObWVbMvPrr2gw8A\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@rollup/rollup-linux-s390x-gnu@4.53.3\u0027:\n     resolution: {integrity: sha512-VYsFMpULAz87ZW6BVYw3I6sWesGpsP9OPcyKe8ofdg9LHxSbRMd7zrVrr5xi/3kMZtpWL/wC+UIJWJYVX5uTKg\u003d\u003d}\n     cpu: [s390x]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-x64-gnu@4.53.3\u0027:\n     resolution: {integrity: sha512-3EhFi1FU6YL8HTUJZ51imGJWEX//ajQPfqWLI3BQq4TlvHy4X0MOr5q3D2Zof/ka0d5FNdPwZXm3Yyib/UEd+w\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-x64-musl@4.53.3\u0027:\n     resolution: {integrity: sha512-eoROhjcc6HbZCJr+tvVT8X4fW3/5g/WkGvvmwz/88sDtSJzO7r/blvoBDgISDiCjDRZmHpwud7h+6Q9JxFwq1Q\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@rollup/rollup-openharmony-arm64@4.53.3\u0027:\n     resolution: {integrity: sha512-OueLAWgrNSPGAdUdIjSWXw+u/02BRTcnfw9PN41D2vq/JSEPnJnVuBgw18VkN8wcd4fjUs+jFHVM4t9+kBSNLw\u003d\u003d}\n@@ -1219,24 +1235,28 @@ packages:\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@swc/core-linux-arm64-musl@1.15.4\u0027:\n     resolution: {integrity: sha512-Ly95wc+VXDhl08pjAoPUhVu5vNbuPMbURknRZa5QOZuiizJ6DkaSI0/zsEc26PpC6HTc4prNLY3ARVwZ7j/IJQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@swc/core-linux-x64-gnu@1.15.4\u0027:\n     resolution: {integrity: sha512-7pIG0BnaMn4zTpHeColPwyrWoTY9Drr+ISZQIgYHUKh3oaPtNCrXb289ScGbPPPjLsSfcGTeOy2pXmNczMC+yg\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [x64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@swc/core-linux-x64-musl@1.15.4\u0027:\n     resolution: {integrity: sha512-oaqTV25V9H+PpSkvTcK25q6Q56FvXc6d2xBu486dv9LAPCHWgeAworE8WpBLV26g8rubcN5nGhO5HwSunXA7Ww\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [x64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@swc/core-win32-arm64-msvc@1.15.4\u0027:\n     resolution: {integrity: sha512-VcPuUJw27YbGo1HcOaAriI50dpM3ZZeDW3x2cMnJW6vtkeyzUFk1TADmTwFax0Fn+yicCxhaWjnFE3eAzGAxIQ\u003d\u003d}\n@@ -1415,41 +1435,49 @@ packages:\n     resolution: {integrity: sha512-34gw7PjDGB9JgePJEmhEqBhWvCiiWCuXsL9hYphDF7crW7UgI05gyBAi6MF58uGcMOiOqSJ2ybEeCvHcq0BCmQ\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-arm64-musl@1.11.1\u0027:\n     resolution: {integrity: sha512-RyMIx6Uf53hhOtJDIamSbTskA99sPHS96wxVE/bJtePJJtpdKGXO1wY90oRdXuYOGOTuqjT8ACccMc4K6QmT3w\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@unrs/resolver-binding-linux-ppc64-gnu@1.11.1\u0027:\n     resolution: {integrity: sha512-D8Vae74A4/a+mZH0FbOkFJL9DSK2R6TFPC9M+jCWYia/q2einCubX10pecpDiTmkJVUH+y8K3BZClycD8nCShA\u003d\u003d}\n     cpu: [ppc64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-riscv64-gnu@1.11.1\u0027:\n     resolution: {integrity: sha512-frxL4OrzOWVVsOc96+V3aqTIQl1O2TjgExV4EKgRY09AJ9leZpEg8Ak9phadbuX0BA4k8U5qtvMSQQGGmaJqcQ\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-riscv64-musl@1.11.1\u0027:\n     resolution: {integrity: sha512-mJ5vuDaIZ+l/acv01sHoXfpnyrNKOk/3aDoEdLO/Xtn9HuZlDD6jKxHlkN8ZhWyLJsRBxfv9GYM2utQ1SChKew\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@unrs/resolver-binding-linux-s390x-gnu@1.11.1\u0027:\n     resolution: {integrity: sha512-kELo8ebBVtb9sA7rMe1Cph4QHreByhaZ2QEADd9NzIQsYNQpt9UkM9iqr2lhGr5afh885d/cB5QeTXSbZHTYPg\u003d\u003d}\n     cpu: [s390x]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-x64-gnu@1.11.1\u0027:\n     resolution: {integrity: sha512-C3ZAHugKgovV5YvAMsxhq0gtXuwESUKc5MhEtjBpLoHPLYM+iuwSj3lflFwK3DPm68660rZ7G8BMcwSro7hD5w\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-x64-musl@1.11.1\u0027:\n     resolution: {integrity: sha512-rV0YSoyhK2nZ4vEswT/QwqzqQXw5I6CjoaYMOX0TqBlWhojUf8P94mvI7nuJTeaCkkds3QE4+zS8Ko+GdXuZtA\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@unrs/resolver-binding-wasm32-wasi@1.11.1\u0027:\n     resolution: {integrity: sha512-5u4RkfxJm+Ng7IWgkzi3qrFOvLvQYnPBmjmZQ8+szTK/b31fQCnleNl1GgEt7nIsZRIf5PLhPwT0WM+q45x/UQ\u003d\u003d}\n@@ -2009,14 +2037,14 @@ packages:\n     resolution: {integrity: sha512-rRqJg/6gd538VHvR3PSrdRBb/1Vy2YfzHqzvbhGIQpDRKIa4FgV/54b5Q1xYSxOOwKvjXweS26E0Q+nAMwp2pQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d8.6\u0027}\n \n-  entities@4.5.0:\n-    resolution: {integrity: sha512-V0hjH4dGPh9Ao5p0MoRY6BVqtwCjhz6vI5LT8AJ55H+4g9/4vbHx1I54fS0XuclLhDHArPQCiMjDxjaL8fPxhw\u003d\u003d}\n-    engines: {node: \u0027\u003e\u003d0.12\u0027}\n-\n   entities@6.0.1:\n     resolution: {integrity: sha512-aN97NXWF6AWBTahfVOIrB/NShkzi5H7F9r1s9mD3cDj4Ko5f2qhhVoYMibXF7GlLveb/D2ioWay8lxI97Ven3g\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d0.12\u0027}\n \n+  entities@7.0.0:\n+    resolution: {integrity: sha512-FDWG5cmEYf2Z00IkYRhbFrwIwvdFKH07uV8dvNy0omp/Qb1xcyCWp2UDtcwJF4QZZvk0sLudP6/hAu42TaqVhQ\u003d\u003d}\n+    engines: {node: \u0027\u003e\u003d0.12\u0027}\n+\n   env-paths@2.2.1:\n     resolution: {integrity: sha512-+h1lkLKhZMTYjog1VEpJNG7NZJWcuc2DDk/qsqSTRRCOXiLjeQ1d1/udrUGhqMxUgAlwKNZ0cf2uqan5GLuS2A\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d6\u0027}\n@@ -4964,10 +4992,10 @@ snapshots:\n       ansi-colors: 4.1.3\n       strip-ansi: 6.0.1\n \n-  entities@4.5.0: {}\n-\n   entities@6.0.1: {}\n \n+  entities@7.0.0: {}\n+\n   env-paths@2.2.1: {}\n \n   environment@1.1.0: {}\ndiff --git a/rollup.config.js b/rollup.config.js\nindex 8f1f85b..c591781 100644\n--- a/rollup.config.js\n+++ b/rollup.config.js\n@@ -259,7 +259,7 @@ function createConfig(format, output, plugins \u003d []) {\n       \u0027source-map-js\u0027,\n       \u0027@babel/parser\u0027,\n       \u0027estree-walker\u0027,\n-      \u0027entities/lib/decode.js\u0027,\n+      \u0027entities/decode\u0027,\n     ]\n \n     if (isGlobalBuild || isBrowserESMBuild || isCompatPackage) {","expectedMessage":"chore(deps): update entities to latest for Node.js 24 compatibility (#14160)","repository":"vue","commitHash":"1e348711496d78fa39d9247dbc079923a3bcad12","metadata":{"author":"Konstantin Telyakov \u003c31989028+kTelyakov@users.noreply.github.com\u003e"}}
{"id":"vue-965641af","diff":" .github/workflows/autofix.yml     | 2 +-\n .github/workflows/ci.yml          | 2 +-\n .github/workflows/release.yml     | 2 +-\n .github/workflows/size-data.yml   | 2 +-\n .github/workflows/size-report.yml | 2 +-\n .github/workflows/test.yml        | 8 ++++----\n 6 files changed, 9 insertions(+), 9 deletions(-)\n\ndiff --git a/.github/workflows/autofix.yml b/.github/workflows/autofix.yml\nindex 27ae80c..42eacd3 100644\n--- a/.github/workflows/autofix.yml\n+++ b/.github/workflows/autofix.yml\n@@ -11,7 +11,7 @@ jobs:\n     env:\n       PUPPETEER_SKIP_DOWNLOAD: \u0027true\u0027\n     steps:\n-      - uses: actions/checkout@v5\n+      - uses: actions/checkout@v6\n \n       - name: Install pnpm\n         uses: pnpm/action-setup@v4.2.0\ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex ee9fd61..e93c164 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -20,7 +20,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Checkout\n-        uses: actions/checkout@v5\n+        uses: actions/checkout@v6\n \n       - name: Install pnpm\n         uses: pnpm/action-setup@v4\ndiff --git a/.github/workflows/release.yml b/.github/workflows/release.yml\nindex 645495a..14ba7b5 100644\n--- a/.github/workflows/release.yml\n+++ b/.github/workflows/release.yml\n@@ -21,7 +21,7 @@ jobs:\n     environment: Release\n     steps:\n       - name: Checkout\n-        uses: actions/checkout@v5\n+        uses: actions/checkout@v6\n \n       - name: Install pnpm\n         uses: pnpm/action-setup@v4\ndiff --git a/.github/workflows/size-data.yml b/.github/workflows/size-data.yml\nindex 55357b9..182c9b5 100644\n--- a/.github/workflows/size-data.yml\n+++ b/.github/workflows/size-data.yml\n@@ -22,7 +22,7 @@ jobs:\n     runs-on: ubuntu-latest\n \n     steps:\n-      - uses: actions/checkout@v5\n+      - uses: actions/checkout@v6\n \n       - name: Install pnpm\n         uses: pnpm/action-setup@v4.2.0\ndiff --git a/.github/workflows/size-report.yml b/.github/workflows/size-report.yml\nindex af54b7a..a75e68c 100644\n--- a/.github/workflows/size-report.yml\n+++ b/.github/workflows/size-report.yml\n@@ -22,7 +22,7 @@ jobs:\n       github.event.workflow_run.event \u003d\u003d \u0027pull_request\u0027 \u0026\u0026\n       github.event.workflow_run.conclusion \u003d\u003d \u0027success\u0027\n     steps:\n-      - uses: actions/checkout@v5\n+      - uses: actions/checkout@v6\n \n       - name: Install pnpm\n         uses: pnpm/action-setup@v4.2.0\ndiff --git a/.github/workflows/test.yml b/.github/workflows/test.yml\nindex 2fa2b53..efcca4b 100644\n--- a/.github/workflows/test.yml\n+++ b/.github/workflows/test.yml\n@@ -11,7 +11,7 @@ jobs:\n     env:\n       PUPPETEER_SKIP_DOWNLOAD: \u0027true\u0027\n     steps:\n-      - uses: actions/checkout@v5\n+      - uses: actions/checkout@v6\n \n       - name: Install pnpm\n         uses: pnpm/action-setup@v4.2.0\n@@ -32,7 +32,7 @@ jobs:\n     env:\n       PUPPETEER_SKIP_DOWNLOAD: \u0027true\u0027\n     steps:\n-      - uses: actions/checkout@v5\n+      - uses: actions/checkout@v6\n \n       - name: Install pnpm\n         uses: pnpm/action-setup@v4.2.0\n@@ -54,7 +54,7 @@ jobs:\n   e2e-test:\n     runs-on: ubuntu-latest\n     steps:\n-      - uses: actions/checkout@v5\n+      - uses: actions/checkout@v6\n \n       - name: Setup cache for Chromium binary\n         uses: actions/cache@v4\n@@ -85,7 +85,7 @@ jobs:\n     env:\n       PUPPETEER_SKIP_DOWNLOAD: \u0027true\u0027\n     steps:\n-      - uses: actions/checkout@v5\n+      - uses: actions/checkout@v6\n \n       - name: Install pnpm\n         uses: pnpm/action-setup@v4.2.0","expectedMessage":"chore(deps): update actions/checkout action to v6 (#14131)","repository":"vue","commitHash":"965641af398111473a8967c157982b8f668dd41b","metadata":{"author":"renovate[bot] \u003c29139614+renovate[bot]@users.noreply.github.com\u003e"}}
{"id":"vue-918fd5a0","diff":" package.json   |   6 +-\n pnpm-lock.yaml | 307 ++++++++++++++-------------------------------------------\n 2 files changed, 75 insertions(+), 238 deletions(-)\n\ndiff --git a/package.json b/package.json\nindex 83c8a8a..a6daaa0 100644\n--- a/package.json\n+++ b/package.json\n@@ -75,7 +75,7 @@\n     \"@types/semver\": \"^7.7.1\",\n     \"@types/serve-handler\": \"^6.1.4\",\n     \"@vitest/coverage-v8\": \"^3.2.4\",\n-    \"@vitest/eslint-plugin\": \"^1.4.0\",\n+    \"@vitest/eslint-plugin\": \"^1.5.2\",\n     \"@vue/consolidate\": \"1.0.0\",\n     \"conventional-changelog-cli\": \"^5.0.0\",\n     \"enquirer\": \"^2.4.1\",\n@@ -84,7 +84,7 @@\n     \"eslint\": \"^9.39.2\",\n     \"eslint-plugin-import-x\": \"^4.16.1\",\n     \"estree-walker\": \"catalog:\",\n-    \"jsdom\": \"^27.1.0\",\n+    \"jsdom\": \"^27.3.0\",\n     \"lint-staged\": \"^16.2.7\",\n     \"lodash\": \"^4.17.21\",\n     \"magic-string\": \"^0.30.21\",\n@@ -95,7 +95,7 @@\n     \"prettier\": \"^3.7.4\",\n     \"pretty-bytes\": \"^7.1.0\",\n     \"pug\": \"^3.0.3\",\n-    \"puppeteer\": \"~24.28.0\",\n+    \"puppeteer\": \"~24.33.0\",\n     \"rimraf\": \"^6.1.2\",\n     \"rollup\": \"^4.53.3\",\n     \"rollup-plugin-dts\": \"^6.3.0\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 58e7e7e..73f20d1 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -70,10 +70,10 @@ importers:\n         version: 6.1.4\n       \u0027@vitest/coverage-v8\u0027:\n         specifier: ^3.2.4\n-        version: 3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0))\n+        version: 3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.3.0(postcss@8.5.6))(sass@1.96.0))\n       \u0027@vitest/eslint-plugin\u0027:\n-        specifier: ^1.4.0\n-        version: 1.4.0(eslint@9.39.2)(typescript@5.6.3)(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0))\n+        specifier: ^1.5.2\n+        version: 1.5.2(eslint@9.39.2)(typescript@5.6.3)(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.3.0(postcss@8.5.6))(sass@1.96.0))\n       \u0027@vue/consolidate\u0027:\n         specifier: 1.0.0\n         version: 1.0.0\n@@ -99,8 +99,8 @@ importers:\n         specifier: \u0027catalog:\u0027\n         version: 2.0.2\n       jsdom:\n-        specifier: ^27.1.0\n-        version: 27.1.0(postcss@8.5.6)\n+        specifier: ^27.3.0\n+        version: 27.3.0(postcss@8.5.6)\n       lint-staged:\n         specifier: ^16.2.7\n         version: 16.2.7\n@@ -132,8 +132,8 @@ importers:\n         specifier: ^3.0.3\n         version: 3.0.3\n       puppeteer:\n-        specifier: ~24.28.0\n-        version: 24.28.0(typescript@5.6.3)\n+        specifier: ~24.33.0\n+        version: 24.33.0(typescript@5.6.3)\n       rimraf:\n         specifier: ^6.1.2\n         version: 6.1.2\n@@ -178,7 +178,7 @@ importers:\n         version: 5.4.15(@types/node@24.10.4)(sass@1.96.0)\n       vitest:\n         specifier: ^3.2.4\n-        version: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0)\n+        version: 3.2.4(@types/node@24.10.4)(jsdom@27.3.0(postcss@8.5.6))(sass@1.96.0)\n \n   packages-private/dts-built-test:\n     dependencies:\n@@ -440,18 +440,18 @@ importers:\n \n packages:\n \n-  \u0027@acemir/cssom@0.9.19\u0027:\n-    resolution: {integrity: sha512-Pp2gAQXPZ2o7lt4j0IMwNRXqQ3pagxtDj5wctL5U2Lz4oV0ocDNlkgx4DpxfyKav4S/bePuI+SMqcBSUHLy9kg\u003d\u003d}\n+  \u0027@acemir/cssom@0.9.29\u0027:\n+    resolution: {integrity: sha512-G90x0VW+9nW4dFajtjCoT+NM0scAfH9Mb08IcjgFHYbfiL/lU04dTF9JuVOi3/OH+DJCQdcIseSXkdCB9Ky6JA\u003d\u003d}\n \n   \u0027@ampproject/remapping@2.3.0\u0027:\n     resolution: {integrity: sha512-30iZtAPgz+LTIYoeivqYo853f02jBYSd5uGnGpkFV0M3xOt9aN73erkgYAmZU43x4VfqcnLxW9Kpg3R5LC4YYw\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d6.0.0\u0027}\n \n-  \u0027@asamuzakjp/css-color@4.0.5\u0027:\n-    resolution: {integrity: sha512-lMrXidNhPGsDjytDy11Vwlb6OIGrT3CmLg3VWNFyWkLWtijKl7xjvForlh8vuj0SHGjgl4qZEQzUmYTeQA2JFQ\u003d\u003d}\n+  \u0027@asamuzakjp/css-color@4.1.0\u0027:\n+    resolution: {integrity: sha512-9xiBAtLn4aNsa4mDnpovJvBn72tNEIACyvlqaNJ+ADemR+yeMJWnBudOi2qGDviJa7SwcDOU/TRh5dnET7qk0w\u003d\u003d}\n \n-  \u0027@asamuzakjp/dom-selector@6.7.4\u0027:\n-    resolution: {integrity: sha512-buQDjkm+wDPXd6c13534URWZqbz0RP5PAhXZ+LIoa5LgwInT9HVJvGIJivg75vi8I13CxDGdTnz+aY5YUJlIAA\u003d\u003d}\n+  \u0027@asamuzakjp/dom-selector@6.7.6\u0027:\n+    resolution: {integrity: sha512-hBaJER6A9MpdG3WgdlOolHmbOYvSk46y7IQN/1+iqiCuUu6iWdQrs9DGKF8ocqsEqWujWf/V7b7vaDgiUmIvUg\u003d\u003d}\n \n   \u0027@asamuzakjp/nwsapi@2.3.9\u0027:\n     resolution: {integrity: sha512-n8GuYSrI9bF7FFZ/SjhwevlHc8xaVlb/7HmHelnc/PZXBD2ZR49NnN9sMMuDdEGPeeRQ5d0hqlSlEpgCX3Wl0Q\u003d\u003d}\n@@ -830,12 +830,6 @@ packages:\n     cpu: [x64]\n     os: [win32]\n \n-  \u0027@eslint-community/eslint-utils@4.7.0\u0027:\n-    resolution: {integrity: sha512-dyybb3AcajC7uha6CvhdVRJqaKyn7w2YKqKyAN37NKYgZT36w+iRb0Dymmc5qEJ549c/S31cMMSFd75bteCpCw\u003d\u003d}\n-    engines: {node: ^12.22.0 || ^14.17.0 || \u003e\u003d16.0.0}\n-    peerDependencies:\n-      eslint: ^6.0.0 || ^7.0.0 || \u003e\u003d8.0.0\n-\n   \u0027@eslint-community/eslint-utils@4.9.0\u0027:\n     resolution: {integrity: sha512-ayVFHdtZ+hsq1t2Dy24wCmGXGe4q9Gu3smhLYALJrr473ZH27MsnSL+LKUlimp4BWJqMDMLmPpx/Q9R3OAlL4g\u003d\u003d}\n     engines: {node: ^12.22.0 || ^14.17.0 || \u003e\u003d16.0.0}\n@@ -941,18 +935,6 @@ packages:\n   \u0027@napi-rs/wasm-runtime@0.2.12\u0027:\n     resolution: {integrity: sha512-ZVWUcfwY4E/yPitQJl481FjFo3K22D6qF0DuFH6Y/nbnE11GY5uguDxZMGXPQ8WQ0128MXQD7TnfHyK4oWoIJQ\u003d\u003d}\n \n-  \u0027@nodelib/fs.scandir@2.1.5\u0027:\n-    resolution: {integrity: sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g\u003d\u003d}\n-    engines: {node: \u0027\u003e\u003d 8\u0027}\n-\n-  \u0027@nodelib/fs.stat@2.0.5\u0027:\n-    resolution: {integrity: sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A\u003d\u003d}\n-    engines: {node: \u0027\u003e\u003d 8\u0027}\n-\n-  \u0027@nodelib/fs.walk@1.2.8\u0027:\n-    resolution: {integrity: sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg\u003d\u003d}\n-    engines: {node: \u0027\u003e\u003d 8\u0027}\n-\n   \u0027@parcel/watcher-android-arm64@2.4.1\u0027:\n     resolution: {integrity: sha512-LOi/WTbbh3aTn2RYddrO8pnapixAziFl6SMxHM69r3tvdSm94JtCenaKgk1GRg5FJ5wpMCpHeW+7yqPlvZv7kg\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n@@ -1033,8 +1015,8 @@ packages:\n     resolution: {integrity: sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d14\u0027}\n \n-  \u0027@puppeteer/browsers@2.10.13\u0027:\n-    resolution: {integrity: sha512-a9Ruw3j3qlnB5a/zHRTkruppynxqaeE4H9WNj5eYGRWqw0ZauZ23f4W2ARf3hghF5doozyD+CRtt7XSYuYRI/Q\u003d\u003d}\n+  \u0027@puppeteer/browsers@2.11.0\u0027:\n+    resolution: {integrity: sha512-n6oQX6mYkG8TRPuPXmbPidkUbsSRalhmaaVAQxvH1IkQy63cwsH+kOjB3e4cpCDHg0aSvsiX9bQ4s2VB6mGWUQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d18\u0027}\n     hasBin: true\n \n@@ -1346,32 +1328,16 @@ packages:\n       eslint: ^8.57.0 || ^9.0.0\n       typescript: \u0027\u003e\u003d4.8.4 \u003c6.0.0\u0027\n \n-  \u0027@typescript-eslint/project-service@8.46.3\u0027:\n-    resolution: {integrity: sha512-Fz8yFXsp2wDFeUElO88S9n4w1I4CWDTXDqDr9gYvZgUpwXQqmZBr9+NTTql5R3J7+hrJZPdpiWaB9VNhAKYLuQ\u003d\u003d}\n-    engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n-    peerDependencies:\n-      typescript: \u0027\u003e\u003d4.8.4 \u003c6.0.0\u0027\n-\n   \u0027@typescript-eslint/project-service@8.49.0\u0027:\n     resolution: {integrity: sha512-/wJN0/DKkmRUMXjZUXYZpD1NEQzQAAn9QWfGwo+Ai8gnzqH7tvqS7oNVdTjKqOcPyVIdZdyCMoqN66Ia789e7g\u003d\u003d}\n     engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n     peerDependencies:\n       typescript: \u0027\u003e\u003d4.8.4 \u003c6.0.0\u0027\n \n-  \u0027@typescript-eslint/scope-manager@8.46.3\u0027:\n-    resolution: {integrity: sha512-FCi7Y1zgrmxp3DfWfr+3m9ansUUFoy8dkEdeQSgA9gbm8DaHYvZCdkFRQrtKiedFf3Ha6VmoqoAaP68+i+22kg\u003d\u003d}\n-    engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n-\n   \u0027@typescript-eslint/scope-manager@8.49.0\u0027:\n     resolution: {integrity: sha512-npgS3zi+/30KSOkXNs0LQXtsg9ekZ8OISAOLGWA/ZOEn0ZH74Ginfl7foziV8DT+D98WfQ5Kopwqb/PZOaIJGg\u003d\u003d}\n     engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n \n-  \u0027@typescript-eslint/tsconfig-utils@8.46.3\u0027:\n-    resolution: {integrity: sha512-GLupljMniHNIROP0zE7nCcybptolcH8QZfXOpCfhQDAdwJ/ZTlcaBOYebSOZotpti/3HrHSw7D3PZm75gYFsOA\u003d\u003d}\n-    engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n-    peerDependencies:\n-      typescript: \u0027\u003e\u003d4.8.4 \u003c6.0.0\u0027\n-\n   \u0027@typescript-eslint/tsconfig-utils@8.49.0\u0027:\n     resolution: {integrity: sha512-8prixNi1/6nawsRYxet4YOhnbW+W9FK/bQPxsGB1D3ZrDzbJ5FXw5XmzxZv82X3B+ZccuSxo/X8q9nQ+mFecWA\u003d\u003d}\n     engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n@@ -1393,25 +1359,12 @@ packages:\n     resolution: {integrity: sha512-e9k/fneezorUo6WShlQpMxXh8/8wfyc+biu6tnAqA81oWrEic0k21RHzP9uqqpyBBeBKu4T+Bsjy9/b8u7obXQ\u003d\u003d}\n     engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n \n-  \u0027@typescript-eslint/typescript-estree@8.46.3\u0027:\n-    resolution: {integrity: sha512-f/NvtRjOm80BtNM5OQtlaBdM5BRFUv7gf381j9wygDNL+qOYSNOgtQ/DCndiYi80iIOv76QqaTmp4fa9hwI0OA\u003d\u003d}\n-    engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n-    peerDependencies:\n-      typescript: \u0027\u003e\u003d4.8.4 \u003c6.0.0\u0027\n-\n   \u0027@typescript-eslint/typescript-estree@8.49.0\u0027:\n     resolution: {integrity: sha512-jrLdRuAbPfPIdYNppHJ/D0wN+wwNfJ32YTAm10eJVsFmrVpXQnDWBn8niCSMlWjvml8jsce5E/O+86IQtTbJWA\u003d\u003d}\n     engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n     peerDependencies:\n       typescript: \u0027\u003e\u003d4.8.4 \u003c6.0.0\u0027\n \n-  \u0027@typescript-eslint/utils@8.46.3\u0027:\n-    resolution: {integrity: sha512-VXw7qmdkucEx9WkmR3ld/u6VhRyKeiF1uxWwCy/iuNfokjJ7VhsgLSOTjsol8BunSw190zABzpwdNsze2Kpo4g\u003d\u003d}\n-    engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n-    peerDependencies:\n-      eslint: ^8.57.0 || ^9.0.0\n-      typescript: \u0027\u003e\u003d4.8.4 \u003c6.0.0\u0027\n-\n   \u0027@typescript-eslint/utils@8.49.0\u0027:\n     resolution: {integrity: sha512-N3W7rJw7Rw+z1tRsHZbK395TWSYvufBXumYtEGzypgMUthlg0/hmCImeA8hgO2d2G4pd7ftpxxul2J8OdtdaFA\u003d\u003d}\n     engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n@@ -1419,10 +1372,6 @@ packages:\n       eslint: ^8.57.0 || ^9.0.0\n       typescript: \u0027\u003e\u003d4.8.4 \u003c6.0.0\u0027\n \n-  \u0027@typescript-eslint/visitor-keys@8.46.3\u0027:\n-    resolution: {integrity: sha512-uk574k8IU0rOF/AjniX8qbLSGURJVUCeM5e4MIMKBFFi8weeiLrG1fyQejyLXQpRZbU/1BuQasleV/RfHC3hHg\u003d\u003d}\n-    engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n-\n   \u0027@typescript-eslint/visitor-keys@8.49.0\u0027:\n     resolution: {integrity: sha512-LlKaciDe3GmZFphXIc79THF/YYBugZ7FS1pO581E/edlVVNbZKDy93evqmrfQ9/Y4uN0vVhX4iuchq26mK/iiA\u003d\u003d}\n     engines: {node: ^18.18.0 || ^20.9.0 || \u003e\u003d21.1.0}\n@@ -1538,8 +1487,8 @@ packages:\n       \u0027@vitest/browser\u0027:\n         optional: true\n \n-  \u0027@vitest/eslint-plugin@1.4.0\u0027:\n-    resolution: {integrity: sha512-TMzJ0Vqdsc71stblzI0ZdqSnt6Bp4mJ+amD3Hv3qhKK82hBUnznYfnLwA80gdGfe5V24ysndMOoSGrol6fyvbA\u003d\u003d}\n+  \u0027@vitest/eslint-plugin@1.5.2\u0027:\n+    resolution: {integrity: sha512-2t1F2iecXB/b1Ox4U137lhD3chihEE3dRVtu3qMD35tc6UqUjg1VGRJoS1AkFKwpT8zv8OQInzPQO06hrRkeqw\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d18\u0027}\n     peerDependencies:\n       eslint: \u0027\u003e\u003d8.57.0\u0027\n@@ -1780,8 +1729,8 @@ packages:\n     resolution: {integrity: sha512-n8enUVCED/KVRQlab1hr3MVpcVMvxtZjmEa956u+4YijlmQED223XMSYj2tLuKvr4jcCTzNNMpQDUer72MMmzA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 14.16.0\u0027}\n \n-  chromium-bidi@10.5.1:\n-    resolution: {integrity: sha512-rlj6OyhKhVTnk4aENcUme3Jl9h+cq4oXu4AzBcvr8RMmT6BR4a3zSNT9dbIfXr9/BS6ibzRyDhowuw4n2GgzsQ\u003d\u003d}\n+  chromium-bidi@11.0.0:\n+    resolution: {integrity: sha512-cM3DI+OOb89T3wO8cpPSro80Q9eKYJ7hGVXoGS3GkDPxnYSqiv+6xwpIf6XERyJ9Tdsl09hmNmY94BkgZdVekw\u003d\u003d}\n     peerDependencies:\n       devtools-protocol: \u0027*\u0027\n \n@@ -1939,8 +1888,8 @@ packages:\n     engines: {node: \u0027\u003e\u003d4\u0027}\n     hasBin: true\n \n-  cssstyle@5.3.2:\n-    resolution: {integrity: sha512-zDMqXh8Vs1CdRYZQ2M633m/SFgcjlu8RB8b/1h82i+6vpArF507NSYIWJHGlJaTWoS+imcnctmEz43txhbVkOw\u003d\u003d}\n+  cssstyle@5.3.4:\n+    resolution: {integrity: sha512-KyOS/kJMEq5O9GdPnaf82noigg5X5DYn0kZPJTaAsCUaBizp6Xa1y9D4Qoqf/JazEXWuruErHgVXwjN5391ZJw\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d20\u0027}\n \n   csstype@3.2.3:\n@@ -2028,8 +1977,8 @@ packages:\n     engines: {node: \u0027\u003e\u003d0.10\u0027}\n     hasBin: true\n \n-  devtools-protocol@0.0.1521046:\n-    resolution: {integrity: sha512-vhE6eymDQSKWUXwwA37NtTTVEzjtGVfDr3pRbsWEQ5onH/Snp2c+2xZHWJJawG/0hCCJLRGt4xVtEVUVILol4w\u003d\u003d}\n+  devtools-protocol@0.0.1534754:\n+    resolution: {integrity: sha512-26T91cV5dbOYnXdJi5qQHoTtUoNEqwkHcAyu/IKtjIAxiEqPMrDiRkDOPWVsGfNZGmlQVHQbZRSjD8sxagWVsQ\u003d\u003d}\n \n   doctypes@1.1.0:\n     resolution: {integrity: sha512-LLBi6pEqS6Do3EKQ3J0NqHWV5hhb78Pi8vvESYwyOy2c31ZEZVdtitdzsQsKb7878PEERhzUk0ftqGhG6Mz+pQ\u003d\u003d}\n@@ -2221,19 +2170,12 @@ packages:\n   fast-fifo@1.3.2:\n     resolution: {integrity: sha512-/d9sfos4yxzpwkDkuN7k2SqFKtYNmCTzgfEpz82x34IM9/zc8KGxQoXg1liNC/izpRM/MBdt44Nmx41ZWqk+FQ\u003d\u003d}\n \n-  fast-glob@3.3.3:\n-    resolution: {integrity: sha512-7MptL8U0cqcFdzIzwOTHoilX9x5BrNqye7Z/LuC7kCMRio1EMSyqRK3BEAUD7sXRq4iT4AzTVuZdhgQ2TCvYLg\u003d\u003d}\n-    engines: {node: \u0027\u003e\u003d8.6.0\u0027}\n-\n   fast-json-stable-stringify@2.1.0:\n     resolution: {integrity: sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw\u003d\u003d}\n \n   fast-levenshtein@2.0.6:\n     resolution: {integrity: sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw\u003d\u003d}\n \n-  fastq@1.19.1:\n-    resolution: {integrity: sha512-GwLTyxkCXjXbxqIhTsMI2Nui8huMPtnxg7krajPJAjnEG/iiOS7i+zCtWGZR9G0NBKbXKh6X9m9UIsYX/N6vvQ\u003d\u003d}\n-\n   fd-slicer@1.1.0:\n     resolution: {integrity: sha512-cE1qsB/VwyQozZ+q1dGxR8LBYNZeofhEdUNGSMbQD3Gw2lAzX9Zb3uIU6Ebc/Fmyjo9AWWfnn0AUCHqtevs/8g\u003d\u003d}\n \n@@ -2343,10 +2285,6 @@ packages:\n     engines: {node: \u0027\u003e\u003d18\u0027}\n     hasBin: true\n \n-  glob-parent@5.1.2:\n-    resolution: {integrity: sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow\u003d\u003d}\n-    engines: {node: \u0027\u003e\u003d 6\u0027}\n-\n   glob-parent@6.0.2:\n     resolution: {integrity: sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d10.13.0\u0027}\n@@ -2584,8 +2522,8 @@ packages:\n   jsbn@1.1.0:\n     resolution: {integrity: sha512-4bYVV3aAMtDTTu4+xsDYa6sy9GyJ69/amsu9sYF2zqjiEoZA5xJi3BrfX3uY+/IekIu7MwdObdbDWpoZdBv3/A\u003d\u003d}\n \n-  jsdom@27.1.0:\n-    resolution: {integrity: sha512-Pcfm3eZ+eO4JdZCXthW9tCDT3nF4K+9dmeZ+5X39n+Kqz0DDIABRP5CAEOHRFZk8RGuC2efksTJxrjp8EXCunQ\u003d\u003d}\n+  jsdom@27.3.0:\n+    resolution: {integrity: sha512-GtldT42B8+jefDUC4yUKAvsaOrH7PDHmZxZXNgF2xMmymjUbRYJvpAybZAKEmXDGTM0mCsz8duOa4vTm5AY2Kg\u003d\u003d}\n     engines: {node: ^20.19.0 || ^22.12.0 || \u003e\u003d24.0.0}\n     peerDependencies:\n       canvas: ^3.0.0\n@@ -2681,6 +2619,10 @@ packages:\n     resolution: {integrity: sha512-F9ODfyqML2coTIsQpSkRHnLSZMtkU8Q+mSfcaIyKwy58u+8k5nvAYeiNhsyMARvzNcXJ9QfWVrcPsC9e9rAxtg\u003d\u003d}\n     engines: {node: 20 || \u003e\u003d22}\n \n+  lru-cache@11.2.4:\n+    resolution: {integrity: sha512-B5Y16Jr9LB9dHVkh6ZevG+vAbOsNOYCX+sXvFWFu7B3Iz5mijW3zdbMyhsh8ANd2mSWBYdJgnqi+mL7/LrOPYg\u003d\u003d}\n+    engines: {node: 20 || \u003e\u003d22}\n+\n   lru-cache@7.18.3:\n     resolution: {integrity: sha512-jumlc0BIUrS3qJGgIkWZsyfAM7NCWiBcCDhnd+3NNM5KbBmLTgHVfWBcg6W+rLUsIpzpERPsvwUP7CckAQSOoA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d12\u0027}\n@@ -2725,10 +2667,6 @@ packages:\n   merge-stream@2.0.0:\n     resolution: {integrity: sha512-abv/qOcuPfk3URPfDzmZU1LKmuw8kT+0nIHvKrKgFrwifol/doWcdA4ZqsWQ8ENrFKkd67Mfpo/LovbIUsbt3w\u003d\u003d}\n \n-  merge2@1.4.1:\n-    resolution: {integrity: sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg\u003d\u003d}\n-    engines: {node: \u0027\u003e\u003d 8\u0027}\n-\n   micromatch@4.0.8:\n     resolution: {integrity: sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d8.6\u0027}\n@@ -3063,18 +3001,15 @@ packages:\n     resolution: {integrity: sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d6\u0027}\n \n-  puppeteer-core@24.28.0:\n-    resolution: {integrity: sha512-QpAqaYgeZHF5/xAZ4jAOzsU+l0Ed4EJoWkRdfw8rNqmSN7itcdYeCJaSPQ0s5Pyn/eGNC4xNevxbgY+5bzNllw\u003d\u003d}\n+  puppeteer-core@24.33.0:\n+    resolution: {integrity: sha512-tPTxVg+Qdj/8av4cy6szv3GlhxeOoNhiiMZ955fjxQyvPQE/6DjCa6ZyF/x0WJrlgBZtaLSP8TQgJb7FdLDXXA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d18\u0027}\n \n-  puppeteer@24.28.0:\n-    resolution: {integrity: sha512-KLRGFNCGmXJpocEBbEIoHJB0vNRZLQNBjl5ExXEv0z7MIU+qqVEQcfWTyat+qxPDk/wZvSf+b30cQqAfWxX0zg\u003d\u003d}\n+  puppeteer@24.33.0:\n+    resolution: {integrity: sha512-nl3wsAztq5F8zybn4Tk41OCnYIzFIzGC6AN0WcF2KCUnWenajvRRPgBmS6LvNUV2HEeIzT2zRZHH0TgVxLDKew\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d18\u0027}\n     hasBin: true\n \n-  queue-microtask@1.2.3:\n-    resolution: {integrity: sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A\u003d\u003d}\n-\n   queue-tick@1.0.1:\n     resolution: {integrity: sha512-kJt5qhMxoszgU/62PLP1CJytzd2NKetjSRnyuj31fDd3Rlcz3fzlFdFLD1SItunPwyqEOkca6GbV612BWfaBag\u003d\u003d}\n \n@@ -3135,10 +3070,6 @@ packages:\n     resolution: {integrity: sha512-oMA2dcrw6u0YfxJQXm342bFKX/E4sG9rbTzO9ptUcR/e8A33cHuvStiYOwH7fszkZlZ1z/ta9AAoPk2F4qIOHA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d18\u0027}\n \n-  reusify@1.1.0:\n-    resolution: {integrity: sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw\u003d\u003d}\n-    engines: {iojs: \u0027\u003e\u003d1.0.0\u0027, node: \u0027\u003e\u003d0.10.0\u0027}\n-\n   rfdc@1.4.1:\n     resolution: {integrity: sha512-q1b3N5QkRUWUl7iyylaaj3kOpIT0N2i9MqIEQXP73GVsN9cw3fdx8X63cEmWhJGi2PPCF23Ijp7ktmd39rawIA\u003d\u003d}\n \n@@ -3171,9 +3102,6 @@ packages:\n     engines: {node: \u0027\u003e\u003d18.0.0\u0027, npm: \u0027\u003e\u003d8.0.0\u0027}\n     hasBin: true\n \n-  run-parallel@1.2.0:\n-    resolution: {integrity: sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA\u003d\u003d}\n-\n   safe-buffer@5.1.2:\n     resolution: {integrity: sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g\u003d\u003d}\n \n@@ -3600,8 +3528,8 @@ packages:\n     resolution: {integrity: sha512-o8qghlI8NZHU1lLPrpi2+Uq7abh4GGPpYANlalzWxyWteJOCsr/P+oPBA49TOLu5FTZO4d3F9MnWJfiMo4BkmA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d18\u0027}\n \n-  webdriver-bidi-protocol@0.3.8:\n-    resolution: {integrity: sha512-21Yi2GhGntMc671vNBCjiAeEVknXjVRoyu+k+9xOMShu+ZQfpGQwnBqbNz/Sv4GXZ6JmutlPAi2nIJcrymAWuQ\u003d\u003d}\n+  webdriver-bidi-protocol@0.3.9:\n+    resolution: {integrity: sha512-uIYvlRQ0PwtZR1EzHlTMol1G0lAlmOe6wPykF9a77AK3bkpvZHzIVxRE2ThOx5vjy2zISe0zhwf5rzuUfbo1PQ\u003d\u003d}\n \n   webidl-conversions@8.0.0:\n     resolution: {integrity: sha512-n4W4YFyz5JzOfQeA8oN7dUYpR+MBP3PIUsn2jLjWXwK5ASUzt0Jc/A5sAUZoCYFJRGF0FBKJ+1JjN43rNdsQzA\u003d\u003d}\n@@ -3712,14 +3640,14 @@ packages:\n \n snapshots:\n \n-  \u0027@acemir/cssom@0.9.19\u0027: {}\n+  \u0027@acemir/cssom@0.9.29\u0027: {}\n \n   \u0027@ampproject/remapping@2.3.0\u0027:\n     dependencies:\n       \u0027@jridgewell/gen-mapping\u0027: 0.3.5\n       \u0027@jridgewell/trace-mapping\u0027: 0.3.25\n \n-  \u0027@asamuzakjp/css-color@4.0.5\u0027:\n+  \u0027@asamuzakjp/css-color@4.1.0\u0027:\n     dependencies:\n       \u0027@csstools/css-calc\u0027: 2.1.4(@csstools/css-parser-algorithms@3.0.5(@csstools/css-tokenizer@3.0.4))(@csstools/css-tokenizer@3.0.4)\n       \u0027@csstools/css-color-parser\u0027: 3.1.0(@csstools/css-parser-algorithms@3.0.5(@csstools/css-tokenizer@3.0.4))(@csstools/css-tokenizer@3.0.4)\n@@ -3727,13 +3655,13 @@ snapshots:\n       \u0027@csstools/css-tokenizer\u0027: 3.0.4\n       lru-cache: 11.2.2\n \n-  \u0027@asamuzakjp/dom-selector@6.7.4\u0027:\n+  \u0027@asamuzakjp/dom-selector@6.7.6\u0027:\n     dependencies:\n       \u0027@asamuzakjp/nwsapi\u0027: 2.3.9\n       bidi-js: 1.0.3\n       css-tree: 3.1.0\n       is-potential-custom-element-name: 1.0.1\n-      lru-cache: 11.2.2\n+      lru-cache: 11.2.4\n \n   \u0027@asamuzakjp/nwsapi@2.3.9\u0027: {}\n \n@@ -3953,11 +3881,6 @@ snapshots:\n   \u0027@esbuild/win32-x64@0.27.1\u0027:\n     optional: true\n \n-  \u0027@eslint-community/eslint-utils@4.7.0(eslint@9.39.2)\u0027:\n-    dependencies:\n-      eslint: 9.39.2\n-      eslint-visitor-keys: 3.4.3\n-\n   \u0027@eslint-community/eslint-utils@4.9.0(eslint@9.39.2)\u0027:\n     dependencies:\n       eslint: 9.39.2\n@@ -4067,18 +3990,6 @@ snapshots:\n       \u0027@tybys/wasm-util\u0027: 0.10.1\n     optional: true\n \n-  \u0027@nodelib/fs.scandir@2.1.5\u0027:\n-    dependencies:\n-      \u0027@nodelib/fs.stat\u0027: 2.0.5\n-      run-parallel: 1.2.0\n-\n-  \u0027@nodelib/fs.stat@2.0.5\u0027: {}\n-\n-  \u0027@nodelib/fs.walk@1.2.8\u0027:\n-    dependencies:\n-      \u0027@nodelib/fs.scandir\u0027: 2.1.5\n-      fastq: 1.19.1\n-\n   \u0027@parcel/watcher-android-arm64@2.4.1\u0027:\n     optional: true\n \n@@ -4139,7 +4050,7 @@ snapshots:\n   \u0027@pkgjs/parseargs@0.11.0\u0027:\n     optional: true\n \n-  \u0027@puppeteer/browsers@2.10.13\u0027:\n+  \u0027@puppeteer/browsers@2.11.0\u0027:\n     dependencies:\n       debug: 4.4.3\n       extract-zip: 2.0.1\n@@ -4394,15 +4305,6 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  \u0027@typescript-eslint/project-service@8.46.3(typescript@5.6.3)\u0027:\n-    dependencies:\n-      \u0027@typescript-eslint/tsconfig-utils\u0027: 8.46.3(typescript@5.6.3)\n-      \u0027@typescript-eslint/types\u0027: 8.46.3\n-      debug: 4.4.3\n-      typescript: 5.6.3\n-    transitivePeerDependencies:\n-      - supports-color\n-\n   \u0027@typescript-eslint/project-service@8.49.0(typescript@5.6.3)\u0027:\n     dependencies:\n       \u0027@typescript-eslint/tsconfig-utils\u0027: 8.49.0(typescript@5.6.3)\n@@ -4412,20 +4314,11 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  \u0027@typescript-eslint/scope-manager@8.46.3\u0027:\n-    dependencies:\n-      \u0027@typescript-eslint/types\u0027: 8.46.3\n-      \u0027@typescript-eslint/visitor-keys\u0027: 8.46.3\n-\n   \u0027@typescript-eslint/scope-manager@8.49.0\u0027:\n     dependencies:\n       \u0027@typescript-eslint/types\u0027: 8.49.0\n       \u0027@typescript-eslint/visitor-keys\u0027: 8.49.0\n \n-  \u0027@typescript-eslint/tsconfig-utils@8.46.3(typescript@5.6.3)\u0027:\n-    dependencies:\n-      typescript: 5.6.3\n-\n   \u0027@typescript-eslint/tsconfig-utils@8.49.0(typescript@5.6.3)\u0027:\n     dependencies:\n       typescript: 5.6.3\n@@ -4446,22 +4339,6 @@ snapshots:\n \n   \u0027@typescript-eslint/types@8.49.0\u0027: {}\n \n-  \u0027@typescript-eslint/typescript-estree@8.46.3(typescript@5.6.3)\u0027:\n-    dependencies:\n-      \u0027@typescript-eslint/project-service\u0027: 8.46.3(typescript@5.6.3)\n-      \u0027@typescript-eslint/tsconfig-utils\u0027: 8.46.3(typescript@5.6.3)\n-      \u0027@typescript-eslint/types\u0027: 8.46.3\n-      \u0027@typescript-eslint/visitor-keys\u0027: 8.46.3\n-      debug: 4.4.3\n-      fast-glob: 3.3.3\n-      is-glob: 4.0.3\n-      minimatch: 9.0.5\n-      semver: 7.7.3\n-      ts-api-utils: 2.1.0(typescript@5.6.3)\n-      typescript: 5.6.3\n-    transitivePeerDependencies:\n-      - supports-color\n-\n   \u0027@typescript-eslint/typescript-estree@8.49.0(typescript@5.6.3)\u0027:\n     dependencies:\n       \u0027@typescript-eslint/project-service\u0027: 8.49.0(typescript@5.6.3)\n@@ -4477,20 +4354,9 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  \u0027@typescript-eslint/utils@8.46.3(eslint@9.39.2)(typescript@5.6.3)\u0027:\n-    dependencies:\n-      \u0027@eslint-community/eslint-utils\u0027: 4.7.0(eslint@9.39.2)\n-      \u0027@typescript-eslint/scope-manager\u0027: 8.46.3\n-      \u0027@typescript-eslint/types\u0027: 8.46.3\n-      \u0027@typescript-eslint/typescript-estree\u0027: 8.46.3(typescript@5.6.3)\n-      eslint: 9.39.2\n-      typescript: 5.6.3\n-    transitivePeerDependencies:\n-      - supports-color\n-\n   \u0027@typescript-eslint/utils@8.49.0(eslint@9.39.2)(typescript@5.6.3)\u0027:\n     dependencies:\n-      \u0027@eslint-community/eslint-utils\u0027: 4.7.0(eslint@9.39.2)\n+      \u0027@eslint-community/eslint-utils\u0027: 4.9.0(eslint@9.39.2)\n       \u0027@typescript-eslint/scope-manager\u0027: 8.49.0\n       \u0027@typescript-eslint/types\u0027: 8.49.0\n       \u0027@typescript-eslint/typescript-estree\u0027: 8.49.0(typescript@5.6.3)\n@@ -4499,11 +4365,6 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  \u0027@typescript-eslint/visitor-keys@8.46.3\u0027:\n-    dependencies:\n-      \u0027@typescript-eslint/types\u0027: 8.46.3\n-      eslint-visitor-keys: 4.2.1\n-\n   \u0027@typescript-eslint/visitor-keys@8.49.0\u0027:\n     dependencies:\n       \u0027@typescript-eslint/types\u0027: 8.49.0\n@@ -4574,7 +4435,7 @@ snapshots:\n       vite: 5.4.15(@types/node@24.10.4)(sass@1.96.0)\n       vue: link:packages/vue\n \n-  \u0027@vitest/coverage-v8@3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0))\u0027:\n+  \u0027@vitest/coverage-v8@3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.3.0(postcss@8.5.6))(sass@1.96.0))\u0027:\n     dependencies:\n       \u0027@ampproject/remapping\u0027: 2.3.0\n       \u0027@bcoe/v8-coverage\u0027: 1.0.2\n@@ -4589,18 +4450,18 @@ snapshots:\n       std-env: 3.9.0\n       test-exclude: 7.0.1\n       tinyrainbow: 2.0.0\n-      vitest: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0)\n+      vitest: 3.2.4(@types/node@24.10.4)(jsdom@27.3.0(postcss@8.5.6))(sass@1.96.0)\n     transitivePeerDependencies:\n       - supports-color\n \n-  \u0027@vitest/eslint-plugin@1.4.0(eslint@9.39.2)(typescript@5.6.3)(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0))\u0027:\n+  \u0027@vitest/eslint-plugin@1.5.2(eslint@9.39.2)(typescript@5.6.3)(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.3.0(postcss@8.5.6))(sass@1.96.0))\u0027:\n     dependencies:\n-      \u0027@typescript-eslint/scope-manager\u0027: 8.46.3\n-      \u0027@typescript-eslint/utils\u0027: 8.46.3(eslint@9.39.2)(typescript@5.6.3)\n+      \u0027@typescript-eslint/scope-manager\u0027: 8.49.0\n+      \u0027@typescript-eslint/utils\u0027: 8.49.0(eslint@9.39.2)(typescript@5.6.3)\n       eslint: 9.39.2\n     optionalDependencies:\n       typescript: 5.6.3\n-      vitest: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0)\n+      vitest: 3.2.4(@types/node@24.10.4)(jsdom@27.3.0(postcss@8.5.6))(sass@1.96.0)\n     transitivePeerDependencies:\n       - supports-color\n \n@@ -4834,9 +4695,9 @@ snapshots:\n     dependencies:\n       readdirp: 4.0.1\n \n-  chromium-bidi@10.5.1(devtools-protocol@0.0.1521046):\n+  chromium-bidi@11.0.0(devtools-protocol@0.0.1534754):\n     dependencies:\n-      devtools-protocol: 0.0.1521046\n+      devtools-protocol: 0.0.1534754\n       mitt: 3.0.1\n       zod: 3.24.1\n \n@@ -5011,9 +4872,9 @@ snapshots:\n \n   cssesc@3.0.0: {}\n \n-  cssstyle@5.3.2(postcss@8.5.6):\n+  cssstyle@5.3.4(postcss@8.5.6):\n     dependencies:\n-      \u0027@asamuzakjp/css-color\u0027: 4.0.5\n+      \u0027@asamuzakjp/css-color\u0027: 4.1.0\n       \u0027@csstools/css-syntax-patches-for-csstree\u0027: 1.0.14(postcss@8.5.6)\n       css-tree: 3.1.0\n     transitivePeerDependencies:\n@@ -5074,7 +4935,7 @@ snapshots:\n   detect-libc@1.0.3:\n     optional: true\n \n-  devtools-protocol@0.0.1521046: {}\n+  devtools-protocol@0.0.1534754: {}\n \n   doctypes@1.1.0: {}\n \n@@ -5336,22 +5197,10 @@ snapshots:\n \n   fast-fifo@1.3.2: {}\n \n-  fast-glob@3.3.3:\n-    dependencies:\n-      \u0027@nodelib/fs.stat\u0027: 2.0.5\n-      \u0027@nodelib/fs.walk\u0027: 1.2.8\n-      glob-parent: 5.1.2\n-      merge2: 1.4.1\n-      micromatch: 4.0.8\n-\n   fast-json-stable-stringify@2.1.0: {}\n \n   fast-levenshtein@2.0.6: {}\n \n-  fastq@1.19.1:\n-    dependencies:\n-      reusify: 1.1.0\n-\n   fd-slicer@1.1.0:\n     dependencies:\n       pend: 1.2.0\n@@ -5461,10 +5310,6 @@ snapshots:\n       - conventional-commits-filter\n       - conventional-commits-parser\n \n-  glob-parent@5.1.2:\n-    dependencies:\n-      is-glob: 4.0.3\n-\n   glob-parent@6.0.2:\n     dependencies:\n       is-glob: 4.0.3\n@@ -5680,11 +5525,11 @@ snapshots:\n \n   jsbn@1.1.0: {}\n \n-  jsdom@27.1.0(postcss@8.5.6):\n+  jsdom@27.3.0(postcss@8.5.6):\n     dependencies:\n-      \u0027@acemir/cssom\u0027: 0.9.19\n-      \u0027@asamuzakjp/dom-selector\u0027: 6.7.4\n-      cssstyle: 5.3.2(postcss@8.5.6)\n+      \u0027@acemir/cssom\u0027: 0.9.29\n+      \u0027@asamuzakjp/dom-selector\u0027: 6.7.6\n+      cssstyle: 5.3.4(postcss@8.5.6)\n       data-urls: 6.0.0\n       decimal.js: 10.6.0\n       html-encoding-sniffer: 4.0.0\n@@ -5802,6 +5647,8 @@ snapshots:\n \n   lru-cache@11.2.2: {}\n \n+  lru-cache@11.2.4: {}\n+\n   lru-cache@7.18.3: {}\n \n   magic-string@0.30.21:\n@@ -5836,8 +5683,6 @@ snapshots:\n \n   merge-stream@2.0.0: {}\n \n-  merge2@1.4.1: {}\n-\n   micromatch@4.0.8:\n     dependencies:\n       braces: 3.0.3\n@@ -6188,27 +6033,27 @@ snapshots:\n \n   punycode@2.3.1: {}\n \n-  puppeteer-core@24.28.0:\n+  puppeteer-core@24.33.0:\n     dependencies:\n-      \u0027@puppeteer/browsers\u0027: 2.10.13\n-      chromium-bidi: 10.5.1(devtools-protocol@0.0.1521046)\n+      \u0027@puppeteer/browsers\u0027: 2.11.0\n+      chromium-bidi: 11.0.0(devtools-protocol@0.0.1534754)\n       debug: 4.4.3\n-      devtools-protocol: 0.0.1521046\n+      devtools-protocol: 0.0.1534754\n       typed-query-selector: 2.12.0\n-      webdriver-bidi-protocol: 0.3.8\n+      webdriver-bidi-protocol: 0.3.9\n       ws: 8.18.3\n     transitivePeerDependencies:\n       - bufferutil\n       - supports-color\n       - utf-8-validate\n \n-  puppeteer@24.28.0(typescript@5.6.3):\n+  puppeteer@24.33.0(typescript@5.6.3):\n     dependencies:\n-      \u0027@puppeteer/browsers\u0027: 2.10.13\n-      chromium-bidi: 10.5.1(devtools-protocol@0.0.1521046)\n+      \u0027@puppeteer/browsers\u0027: 2.11.0\n+      chromium-bidi: 11.0.0(devtools-protocol@0.0.1534754)\n       cosmiconfig: 9.0.0(typescript@5.6.3)\n-      devtools-protocol: 0.0.1521046\n-      puppeteer-core: 24.28.0\n+      devtools-protocol: 0.0.1534754\n+      puppeteer-core: 24.33.0\n       typed-query-selector: 2.12.0\n     transitivePeerDependencies:\n       - bufferutil\n@@ -6216,8 +6061,6 @@ snapshots:\n       - typescript\n       - utf-8-validate\n \n-  queue-microtask@1.2.3: {}\n-\n   queue-tick@1.0.1: {}\n \n   range-parser@1.2.0: {}\n@@ -6288,8 +6131,6 @@ snapshots:\n       onetime: 7.0.0\n       signal-exit: 4.1.0\n \n-  reusify@1.1.0: {}\n-\n   rfdc@1.4.1: {}\n \n   rimraf@6.1.2:\n@@ -6349,10 +6190,6 @@ snapshots:\n       \u0027@rollup/rollup-win32-x64-msvc\u0027: 4.53.3\n       fsevents: 2.3.3\n \n-  run-parallel@1.2.0:\n-    dependencies:\n-      queue-microtask: 1.2.3\n-\n   safe-buffer@5.1.2: {}\n \n   safe-buffer@5.2.1: {}\n@@ -6732,7 +6569,7 @@ snapshots:\n       fsevents: 2.3.3\n       sass: 1.96.0\n \n-  vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0):\n+  vitest@3.2.4(@types/node@24.10.4)(jsdom@27.3.0(postcss@8.5.6))(sass@1.96.0):\n     dependencies:\n       \u0027@types/chai\u0027: 5.2.2\n       \u0027@vitest/expect\u0027: 3.2.4\n@@ -6759,7 +6596,7 @@ snapshots:\n       why-is-node-running: 2.3.0\n     optionalDependencies:\n       \u0027@types/node\u0027: 24.10.4\n-      jsdom: 27.1.0(postcss@8.5.6)\n+      jsdom: 27.3.0(postcss@8.5.6)\n     transitivePeerDependencies:\n       - less\n       - lightningcss\n@@ -6777,7 +6614,7 @@ snapshots:\n     dependencies:\n       xml-name-validator: 5.0.0\n \n-  webdriver-bidi-protocol@0.3.8: {}\n+  webdriver-bidi-protocol@0.3.9: {}\n \n   webidl-conversions@8.0.0: {}\n ","expectedMessage":"chore(deps): update test (#14068)","repository":"vue","commitHash":"918fd5a0297501f3226f844d9556938ad6e1d7a9","metadata":{"author":"renovate[bot] \u003c29139614+renovate[bot]@users.noreply.github.com\u003e"}}
{"id":"vue-9a517421","diff":" packages-private/template-explorer/package.json |  2 +-\n pnpm-lock.yaml                                  | 20 +++++++++++---------\n 2 files changed, 12 insertions(+), 10 deletions(-)\n\ndiff --git a/packages-private/template-explorer/package.json b/packages-private/template-explorer/package.json\nindex eace79a..04b8794 100644\n--- a/packages-private/template-explorer/package.json\n+++ b/packages-private/template-explorer/package.json\n@@ -11,7 +11,7 @@\n     \"enableNonBrowserBranches\": true\n   },\n   \"dependencies\": {\n-    \"monaco-editor\": \"^0.54.0\",\n+    \"monaco-editor\": \"^0.55.1\",\n     \"source-map-js\": \"^1.2.1\"\n   }\n }\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex c550a30..5c6b55a 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -226,8 +226,8 @@ importers:\n   packages-private/template-explorer:\n     dependencies:\n       monaco-editor:\n-        specifier: ^0.54.0\n-        version: 0.54.0\n+        specifier: ^0.55.1\n+        version: 0.55.1\n       source-map-js:\n         specifier: ^1.2.1\n         version: 1.2.1\n@@ -2015,8 +2015,8 @@ packages:\n   doctypes@1.1.0:\n     resolution: {integrity: sha512-LLBi6pEqS6Do3EKQ3J0NqHWV5hhb78Pi8vvESYwyOy2c31ZEZVdtitdzsQsKb7878PEERhzUk0ftqGhG6Mz+pQ\u003d\u003d}\n \n-  dompurify@3.1.7:\n-    resolution: {integrity: sha512-VaTstWtsneJY8xzy7DekmYWEOZcmzIe3Qb3zPd4STve1OBTa+e+WmS1ITQec1fZYXI3HCsOZZiSMpG6oxoWMWQ\u003d\u003d}\n+  dompurify@3.2.7:\n+    resolution: {integrity: sha512-WhL/YuveyGXJaerVlMYGWhvQswa7myDG17P7Vu65EWC05o8vfeNbvNf4d/BOvH99+ZW+LlQsc1GDKMa1vNK6dw\u003d\u003d}\n \n   dot-prop@5.3.0:\n     resolution: {integrity: sha512-QM8q3zDe58hqUqjraQOmzZ1LIH9SWQJTlEKCH4kJ2oQvLZk7RbQXvtDM2XEq3fwkV9CCvvH4LA0AV+ogFsBM2Q\u003d\u003d}\n@@ -2754,8 +2754,8 @@ packages:\n   mitt@3.0.1:\n     resolution: {integrity: sha512-vKivATfr97l2/QBCYAkXYDbrIWPM2IIKEl7YPhjCvKlG3kE2gm+uBo6nEXK3M5/Ffh/FLpKExzOQ3JJoJGFKBw\u003d\u003d}\n \n-  monaco-editor@0.54.0:\n-    resolution: {integrity: sha512-hx45SEUoLatgWxHKCmlLJH81xBo0uXP4sRkESUpmDQevfi+e7K1VuiSprK6UpQ8u4zOcKNiH0pMvHvlMWA/4cw\u003d\u003d}\n+  monaco-editor@0.55.1:\n+    resolution: {integrity: sha512-jz4x+TJNFHwHtwuV9vA9rMujcZRb0CEilTEwG2rRSpe/A7Jdkuj8xPKttCgOh+v/lkHy7HsZ64oj+q3xoAFl9A\u003d\u003d}\n \n   ms@2.0.0:\n     resolution: {integrity: sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A\u003d\u003d}\n@@ -5028,7 +5028,9 @@ snapshots:\n \n   doctypes@1.1.0: {}\n \n-  dompurify@3.1.7: {}\n+  dompurify@3.2.7:\n+    optionalDependencies:\n+      \u0027@types/trusted-types\u0027: 2.0.7\n \n   dot-prop@5.3.0:\n     dependencies:\n@@ -5832,9 +5834,9 @@ snapshots:\n \n   mitt@3.0.1: {}\n \n-  monaco-editor@0.54.0:\n+  monaco-editor@0.55.1:\n     dependencies:\n-      dompurify: 3.1.7\n+      dompurify: 3.2.7\n       marked: 14.0.0\n \n   ms@2.0.0: {}","expectedMessage":"fix(deps): update dependency monaco-editor to ^0.55.1 (#14130)","repository":"vue","commitHash":"9a51742176306a043d55a195a833a2983ebceacf","metadata":{"author":"renovate[bot] \u003c29139614+renovate[bot]@users.noreply.github.com\u003e"}}
{"id":"vue-8c605cc3","diff":" package.json   |  4 ++--\n pnpm-lock.yaml | 24 ++++++++++++------------\n 2 files changed, 14 insertions(+), 14 deletions(-)\n\ndiff --git a/package.json b/package.json\nindex 6800cb1..b9ed27e 100644\n--- a/package.json\n+++ b/package.json\n@@ -64,8 +64,8 @@\n   \"devDependencies\": {\n     \"@babel/parser\": \"catalog:\",\n     \"@babel/types\": \"catalog:\",\n-    \"@rollup/plugin-alias\": \"^5.1.1\",\n-    \"@rollup/plugin-commonjs\": \"^28.0.9\",\n+    \"@rollup/plugin-alias\": \"^6.0.0\",\n+    \"@rollup/plugin-commonjs\": \"^29.0.0\",\n     \"@rollup/plugin-json\": \"^6.1.0\",\n     \"@rollup/plugin-node-resolve\": \"^16.0.3\",\n     \"@rollup/plugin-replace\": \"5.0.4\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 1cd7b36..c550a30 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -39,11 +39,11 @@ importers:\n         specifier: \u0027catalog:\u0027\n         version: 7.28.5\n       \u0027@rollup/plugin-alias\u0027:\n-        specifier: ^5.1.1\n-        version: 5.1.1(rollup@4.53.3)\n+        specifier: ^6.0.0\n+        version: 6.0.0(rollup@4.53.3)\n       \u0027@rollup/plugin-commonjs\u0027:\n-        specifier: ^28.0.9\n-        version: 28.0.9(rollup@4.53.3)\n+        specifier: ^29.0.0\n+        version: 29.0.0(rollup@4.53.3)\n       \u0027@rollup/plugin-json\u0027:\n         specifier: ^6.1.0\n         version: 6.1.0(rollup@4.53.3)\n@@ -1041,17 +1041,17 @@ packages:\n   \u0027@rolldown/pluginutils@1.0.0-beta.53\u0027:\n     resolution: {integrity: sha512-vENRlFU4YbrwVqNDZ7fLvy+JR1CRkyr01jhSiDpE1u6py3OMzQfztQU2jxykW3ALNxO4kSlqIDeYyD0Y9RcQeQ\u003d\u003d}\n \n-  \u0027@rollup/plugin-alias@5.1.1\u0027:\n-    resolution: {integrity: sha512-PR9zDb+rOzkRb2VD+EuKB7UC41vU5DIwZ5qqCpk0KJudcWAyi8rvYOhS7+L5aZCspw1stTViLgN5v6FF1p5cgQ\u003d\u003d}\n-    engines: {node: \u0027\u003e\u003d14.0.0\u0027}\n+  \u0027@rollup/plugin-alias@6.0.0\u0027:\n+    resolution: {integrity: sha512-tPCzJOtS7uuVZd+xPhoy5W4vThe6KWXNmsFCNktaAh5RTqcLiSfT4huPQIXkgJ6YCOjJHvecOAzQxLFhPxKr+g\u003d\u003d}\n+    engines: {node: \u0027\u003e\u003d20.19.0\u0027}\n     peerDependencies:\n-      rollup: ^1.20.0||^2.0.0||^3.0.0||^4.0.0\n+      rollup: \u0027\u003e\u003d4.0.0\u0027\n     peerDependenciesMeta:\n       rollup:\n         optional: true\n \n-  \u0027@rollup/plugin-commonjs@28.0.9\u0027:\n-    resolution: {integrity: sha512-PIR4/OHZ79romx0BVVll/PkwWpJ7e5lsqFa3gFfcrFPWwLXLV39JVUzQV9RKjWerE7B845Hqjj9VYlQeieZ2dA\u003d\u003d}\n+  \u0027@rollup/plugin-commonjs@29.0.0\u0027:\n+    resolution: {integrity: sha512-U2YHaxR2cU/yAiwKJtJRhnyLk7cifnQw0zUpISsocBDoHDJn+HTV74ABqnwr5bEgWUwFZC9oFL6wLe21lHu5eQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d16.0.0 || 14 \u003e\u003d 14.17\u0027}\n     peerDependencies:\n       rollup: ^2.68.0||^3.0.0||^4.0.0\n@@ -4122,11 +4122,11 @@ snapshots:\n \n   \u0027@rolldown/pluginutils@1.0.0-beta.53\u0027: {}\n \n-  \u0027@rollup/plugin-alias@5.1.1(rollup@4.53.3)\u0027:\n+  \u0027@rollup/plugin-alias@6.0.0(rollup@4.53.3)\u0027:\n     optionalDependencies:\n       rollup: 4.53.3\n \n-  \u0027@rollup/plugin-commonjs@28.0.9(rollup@4.53.3)\u0027:\n+  \u0027@rollup/plugin-commonjs@29.0.0(rollup@4.53.3)\u0027:\n     dependencies:\n       \u0027@rollup/pluginutils\u0027: 5.1.0(rollup@4.53.3)\n       commondir: 1.0.1","expectedMessage":"chore(deps): update build (#14071)","repository":"vue","commitHash":"8c605cc3ef233297a7d75006faa5a0d93e90d816","metadata":{"author":"renovate[bot] \u003c29139614+renovate[bot]@users.noreply.github.com\u003e"}}
{"id":"vue-22cd4a39","diff":" package.json                       |   4 +-\n packages/compiler-sfc/package.json |   2 +-\n packages/runtime-dom/package.json  |   2 +-\n pnpm-lock.yaml                     | 118 +++++++++++++++----------------------\n 4 files changed, 50 insertions(+), 76 deletions(-)\n\ndiff --git a/package.json b/package.json\nindex bf0be54..6800cb1 100644\n--- a/package.json\n+++ b/package.json\n@@ -1,7 +1,7 @@\n {\n   \"private\": true,\n   \"version\": \"3.5.25\",\n-  \"packageManager\": \"pnpm@10.20.0\",\n+  \"packageManager\": \"pnpm@10.25.0\",\n   \"type\": \"module\",\n   \"scripts\": {\n     \"dev\": \"node scripts/dev.js\",\n@@ -96,7 +96,7 @@\n     \"pretty-bytes\": \"^7.1.0\",\n     \"pug\": \"^3.0.3\",\n     \"puppeteer\": \"~24.28.0\",\n-    \"rimraf\": \"^6.1.0\",\n+    \"rimraf\": \"^6.1.2\",\n     \"rollup\": \"^4.53.3\",\n     \"rollup-plugin-dts\": \"^6.3.0\",\n     \"rollup-plugin-esbuild\": \"^6.2.1\",\ndiff --git a/packages/compiler-sfc/package.json b/packages/compiler-sfc/package.json\nindex 2661f7b..bdb605d 100644\n--- a/packages/compiler-sfc/package.json\n+++ b/packages/compiler-sfc/package.json\n@@ -62,6 +62,6 @@\n     \"postcss-modules\": \"^6.0.1\",\n     \"postcss-selector-parser\": \"^7.1.0\",\n     \"pug\": \"^3.0.3\",\n-    \"sass\": \"^1.93.3\"\n+    \"sass\": \"^1.96.0\"\n   }\n }\ndiff --git a/packages/runtime-dom/package.json b/packages/runtime-dom/package.json\nindex 663ba52..d712948 100644\n--- a/packages/runtime-dom/package.json\n+++ b/packages/runtime-dom/package.json\n@@ -52,7 +52,7 @@\n     \"@vue/shared\": \"workspace:*\",\n     \"@vue/runtime-core\": \"workspace:*\",\n     \"@vue/reactivity\": \"workspace:*\",\n-    \"csstype\": \"^3.1.3\"\n+    \"csstype\": \"^3.2.3\"\n   },\n   \"devDependencies\": {\n     \"@types/trusted-types\": \"^2.0.7\"\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 0e64ff5..1cd7b36 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -70,10 +70,10 @@ importers:\n         version: 6.1.4\n       \u0027@vitest/coverage-v8\u0027:\n         specifier: ^3.2.4\n-        version: 3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\n+        version: 3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0))\n       \u0027@vitest/eslint-plugin\u0027:\n         specifier: ^1.4.0\n-        version: 1.4.0(eslint@9.27.0)(typescript@5.6.3)(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\n+        version: 1.4.0(eslint@9.27.0)(typescript@5.6.3)(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0))\n       \u0027@vue/consolidate\u0027:\n         specifier: 1.0.0\n         version: 1.0.0\n@@ -135,8 +135,8 @@ importers:\n         specifier: ~24.28.0\n         version: 24.28.0(typescript@5.6.3)\n       rimraf:\n-        specifier: ^6.1.0\n-        version: 6.1.0\n+        specifier: ^6.1.2\n+        version: 6.1.2\n       rollup:\n         specifier: ^4.53.3\n         version: 4.53.3\n@@ -175,10 +175,10 @@ importers:\n         version: 8.32.1(eslint@9.27.0)(typescript@5.6.3)\n       vite:\n         specifier: \u0027catalog:\u0027\n-        version: 5.4.15(@types/node@24.10.4)(sass@1.93.3)\n+        version: 5.4.15(@types/node@24.10.4)(sass@1.96.0)\n       vitest:\n         specifier: ^3.2.4\n-        version: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3)\n+        version: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0)\n \n   packages-private/dts-built-test:\n     dependencies:\n@@ -218,10 +218,10 @@ importers:\n     devDependencies:\n       \u0027@vitejs/plugin-vue\u0027:\n         specifier: \u0027catalog:\u0027\n-        version: 6.0.3(vite@5.4.15(@types/node@24.10.4)(sass@1.93.3))(vue@packages+vue)\n+        version: 6.0.3(vite@5.4.15(@types/node@24.10.4)(sass@1.96.0))(vue@packages+vue)\n       vite:\n         specifier: \u0027catalog:\u0027\n-        version: 5.4.15(@types/node@24.10.4)(sass@1.93.3)\n+        version: 5.4.15(@types/node@24.10.4)(sass@1.96.0)\n \n   packages-private/template-explorer:\n     dependencies:\n@@ -236,10 +236,10 @@ importers:\n     devDependencies:\n       \u0027@vitejs/plugin-vue\u0027:\n         specifier: \u0027catalog:\u0027\n-        version: 6.0.3(vite@5.4.15(@types/node@24.10.4)(sass@1.93.3))(vue@packages+vue)\n+        version: 6.0.3(vite@5.4.15(@types/node@24.10.4)(sass@1.96.0))(vue@packages+vue)\n       vite:\n         specifier: \u0027catalog:\u0027\n-        version: 5.4.15(@types/node@24.10.4)(sass@1.93.3)\n+        version: 5.4.15(@types/node@24.10.4)(sass@1.96.0)\n       vue:\n         specifier: workspace:*\n         version: link:../../packages/vue\n@@ -333,8 +333,8 @@ importers:\n         specifier: ^3.0.3\n         version: 3.0.3\n       sass:\n-        specifier: ^1.93.3\n-        version: 1.93.3\n+        specifier: ^1.96.0\n+        version: 1.96.0\n \n   packages/compiler-ssr:\n     dependencies:\n@@ -372,8 +372,8 @@ importers:\n         specifier: workspace:*\n         version: link:../shared\n       csstype:\n-        specifier: ^3.1.3\n-        version: 3.1.3\n+        specifier: ^3.2.3\n+        version: 3.2.3\n     devDependencies:\n       \u0027@types/trusted-types\u0027:\n         specifier: ^2.0.7\n@@ -1924,8 +1924,8 @@ packages:\n     resolution: {integrity: sha512-zDMqXh8Vs1CdRYZQ2M633m/SFgcjlu8RB8b/1h82i+6vpArF507NSYIWJHGlJaTWoS+imcnctmEz43txhbVkOw\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d20\u0027}\n \n-  csstype@3.1.3:\n-    resolution: {integrity: sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw\u003d\u003d}\n+  csstype@3.2.3:\n+    resolution: {integrity: sha512-z1HGKcYy2xA8AGQfwrn0PAy+PB7X/GSj3UVJW9qKyn43xWa+gl5nXmU4qqLMRzWVLFC8KusUX8T/0kCiOYpAIQ\u003d\u003d}\n \n   data-uri-to-buffer@6.0.2:\n     resolution: {integrity: sha512-7hvf7/GW8e86rW0ptuwS3OcBGDjIi6SZva7hCyWC0yYry2cOPmLIjXAUHI6DK2HsnwJd9ifmt57i8eV2n4YNpw\u003d\u003d}\n@@ -2253,10 +2253,6 @@ packages:\n     resolution: {integrity: sha512-Ld2g8rrAyMYFXBhEqMz8ZAHBi4J4uS1i/CxGMDnjyFWddMXLVcDp051DZfu+t7+ab7Wv6SMqpWmyFIj5UbfFvg\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d14\u0027}\n \n-  foreground-child@3.3.1:\n-    resolution: {integrity: sha512-gIXjKqtFuWEgzFRJA9WCQeSJLZDjgJUOMCMzxtvFq/37KojM1BFGufqsCy0r4qSQmYLsZYMeyRqzIWOMup03sw\u003d\u003d}\n-    engines: {node: \u0027\u003e\u003d14\u0027}\n-\n   fs-extra@11.2.0:\n     resolution: {integrity: sha512-PmDi3uwK5nFuXh7XDTlVnS17xJS7vW36is2+w3xcv8SVxiB4NyATf4ctkVY5bkSjX0Y4nbvZCq1/EjtEyr9ktw\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d14.14\u0027}\n@@ -2324,10 +2320,9 @@ packages:\n     resolution: {integrity: sha512-7Bv8RF0k6xjo7d4A/PxYLbUCfb6c+Vpd2/mB2yRDlew7Jb5hEXiCD9ibfO7wpk8i4sevK6DFny9h7EYbM3/sHg\u003d\u003d}\n     hasBin: true\n \n-  glob@11.0.3:\n-    resolution: {integrity: sha512-2Nim7dha1KVkaiF4q6Dj+ngPPMdfvLJEOpZk/jKiUAkqKebpGAWQXAq9z1xu9HKu5lWfqw/FASuccEjyznjPaA\u003d\u003d}\n+  glob@13.0.0:\n+    resolution: {integrity: sha512-tvZgpqk6fz4BaNZ66ZsRaZnbHvP/jG3uKJvAZOwEVUL4RTA5nJeeLYfyN9/VA8NX/V3IBG+hkeuGpKjvELkVhA\u003d\u003d}\n     engines: {node: 20 || \u003e\u003d22}\n-    hasBin: true\n \n   globals@14.0.0:\n     resolution: {integrity: sha512-oahGvuMGQlPw/ivIYBjVSrWAfWLBeku5tpPE2fOPLi+WHffIWbuh2tCjhyQhTBPMf5E9jDEH4FOmTYgYwbKwtQ\u003d\u003d}\n@@ -2545,10 +2540,6 @@ packages:\n   jackspeak@3.4.3:\n     resolution: {integrity: sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw\u003d\u003d}\n \n-  jackspeak@4.1.1:\n-    resolution: {integrity: sha512-zptv57P3GpL+O0I7VdMJNBZCu+BPHVQUk55Ft8/QCJjTVxrnJHuVuX/0Bl2A6/+2oyR/ZMEuFKwmzqqZ/U5nPQ\u003d\u003d}\n-    engines: {node: 20 || \u003e\u003d22}\n-\n   js-stringify@1.0.2:\n     resolution: {integrity: sha512-rtS5ATOo2Q5k1G+DADISilDA6lv79zIiwFd6CcjuIxGKLFm5C+RLImRscVap9k55i+MOZwgliw+NejvkLuGD5g\u003d\u003d}\n \n@@ -2859,9 +2850,6 @@ packages:\n     resolution: {integrity: sha512-5NPgf87AT2STgwa2ntRMr45jTKrYBGkVU36yT0ig/n/GMAa3oPqhZfIQ2kMEimReg0+t9kZViDVZ83qfVUlckg\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 14\u0027}\n \n-  package-json-from-dist@1.0.0:\n-    resolution: {integrity: sha512-dATvCeZN/8wQsGywez1mzHtTlP22H8OEfPrVMLNr4/eGa+ijtLn/6M5f0dY8UKNrC2O9UCU6SSoG3qRKnt7STw\u003d\u003d}\n-\n   package-json-from-dist@1.0.1:\n     resolution: {integrity: sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw\u003d\u003d}\n \n@@ -3130,8 +3118,8 @@ packages:\n   rfdc@1.4.1:\n     resolution: {integrity: sha512-q1b3N5QkRUWUl7iyylaaj3kOpIT0N2i9MqIEQXP73GVsN9cw3fdx8X63cEmWhJGi2PPCF23Ijp7ktmd39rawIA\u003d\u003d}\n \n-  rimraf@6.1.0:\n-    resolution: {integrity: sha512-DxdlA1bdNzkZK7JiNWH+BAx1x4tEJWoTofIopFo6qWUU94jYrFZ0ubY05TqH3nWPJ1nKa1JWVFDINZ3fnrle/A\u003d\u003d}\n+  rimraf@6.1.2:\n+    resolution: {integrity: sha512-cFCkPslJv7BAXJsYlK1dZsbP8/ZNLkCAQ0bi1hf5EKX2QHegmDFEFA6QhuYJlk7UDdc+02JjO80YSOrWPpw06g\u003d\u003d}\n     engines: {node: 20 || \u003e\u003d22}\n     hasBin: true\n \n@@ -3171,8 +3159,8 @@ packages:\n   safer-buffer@2.1.2:\n     resolution: {integrity: sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg\u003d\u003d}\n \n-  sass@1.93.3:\n-    resolution: {integrity: sha512-elOcIZRTM76dvxNAjqYrucTSI0teAF/L2Lv0s6f6b7FOwcwIuA357bIE871580AjHJuSvLIRUosgV+lIWx6Rgg\u003d\u003d}\n+  sass@1.96.0:\n+    resolution: {integrity: sha512-8u4xqqUeugGNCYwr9ARNtQKTOj4KmYiJAVKXf2CTIivTCR51j96htbMKWDru8H5SaQWpyVgTfOF8Ylyf5pun1Q\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d14.0.0\u0027}\n     hasBin: true\n \n@@ -4531,13 +4519,13 @@ snapshots:\n   \u0027@unrs/resolver-binding-win32-x64-msvc@1.7.2\u0027:\n     optional: true\n \n-  \u0027@vitejs/plugin-vue@6.0.3(vite@5.4.15(@types/node@24.10.4)(sass@1.93.3))(vue@packages+vue)\u0027:\n+  \u0027@vitejs/plugin-vue@6.0.3(vite@5.4.15(@types/node@24.10.4)(sass@1.96.0))(vue@packages+vue)\u0027:\n     dependencies:\n       \u0027@rolldown/pluginutils\u0027: 1.0.0-beta.53\n-      vite: 5.4.15(@types/node@24.10.4)(sass@1.93.3)\n+      vite: 5.4.15(@types/node@24.10.4)(sass@1.96.0)\n       vue: link:packages/vue\n \n-  \u0027@vitest/coverage-v8@3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\u0027:\n+  \u0027@vitest/coverage-v8@3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0))\u0027:\n     dependencies:\n       \u0027@ampproject/remapping\u0027: 2.3.0\n       \u0027@bcoe/v8-coverage\u0027: 1.0.2\n@@ -4552,18 +4540,18 @@ snapshots:\n       std-env: 3.9.0\n       test-exclude: 7.0.1\n       tinyrainbow: 2.0.0\n-      vitest: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3)\n+      vitest: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0)\n     transitivePeerDependencies:\n       - supports-color\n \n-  \u0027@vitest/eslint-plugin@1.4.0(eslint@9.27.0)(typescript@5.6.3)(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\u0027:\n+  \u0027@vitest/eslint-plugin@1.4.0(eslint@9.27.0)(typescript@5.6.3)(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0))\u0027:\n     dependencies:\n       \u0027@typescript-eslint/scope-manager\u0027: 8.46.3\n       \u0027@typescript-eslint/utils\u0027: 8.46.3(eslint@9.27.0)(typescript@5.6.3)\n       eslint: 9.27.0\n     optionalDependencies:\n       typescript: 5.6.3\n-      vitest: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3)\n+      vitest: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0)\n     transitivePeerDependencies:\n       - supports-color\n \n@@ -4575,13 +4563,13 @@ snapshots:\n       chai: 5.2.0\n       tinyrainbow: 2.0.0\n \n-  \u0027@vitest/mocker@3.2.4(vite@5.4.19(@types/node@24.10.4)(sass@1.93.3))\u0027:\n+  \u0027@vitest/mocker@3.2.4(vite@5.4.19(@types/node@24.10.4)(sass@1.96.0))\u0027:\n     dependencies:\n       \u0027@vitest/spy\u0027: 3.2.4\n       estree-walker: 3.0.3\n       magic-string: 0.30.21\n     optionalDependencies:\n-      vite: 5.4.19(@types/node@24.10.4)(sass@1.93.3)\n+      vite: 5.4.19(@types/node@24.10.4)(sass@1.96.0)\n \n   \u0027@vitest/pretty-format@3.2.4\u0027:\n     dependencies:\n@@ -4982,7 +4970,7 @@ snapshots:\n     transitivePeerDependencies:\n       - postcss\n \n-  csstype@3.1.3: {}\n+  csstype@3.2.3: {}\n \n   data-uri-to-buffer@6.0.2: {}\n \n@@ -5351,11 +5339,6 @@ snapshots:\n       cross-spawn: 7.0.6\n       signal-exit: 4.1.0\n \n-  foreground-child@3.3.1:\n-    dependencies:\n-      cross-spawn: 7.0.6\n-      signal-exit: 4.1.0\n-\n   fs-extra@11.2.0:\n     dependencies:\n       graceful-fs: 4.2.11\n@@ -5436,16 +5419,13 @@ snapshots:\n       jackspeak: 3.4.3\n       minimatch: 9.0.5\n       minipass: 7.1.2\n-      package-json-from-dist: 1.0.0\n+      package-json-from-dist: 1.0.1\n       path-scurry: 1.11.1\n \n-  glob@11.0.3:\n+  glob@13.0.0:\n     dependencies:\n-      foreground-child: 3.3.1\n-      jackspeak: 4.1.1\n       minimatch: 10.1.1\n       minipass: 7.1.2\n-      package-json-from-dist: 1.0.1\n       path-scurry: 2.0.0\n \n   globals@14.0.0: {}\n@@ -5636,10 +5616,6 @@ snapshots:\n     optionalDependencies:\n       \u0027@pkgjs/parseargs\u0027: 0.11.0\n \n-  jackspeak@4.1.1:\n-    dependencies:\n-      \u0027@isaacs/cliui\u0027: 8.0.2\n-\n   js-stringify@1.0.2: {}\n \n   js-tokens@4.0.0: {}\n@@ -5956,8 +5932,6 @@ snapshots:\n       degenerator: 5.0.1\n       netmask: 2.0.2\n \n-  package-json-from-dist@1.0.0: {}\n-\n   package-json-from-dist@1.0.1: {}\n \n   pako@1.0.11: {}\n@@ -6275,9 +6249,9 @@ snapshots:\n \n   rfdc@1.4.1: {}\n \n-  rimraf@6.1.0:\n+  rimraf@6.1.2:\n     dependencies:\n-      glob: 11.0.3\n+      glob: 13.0.0\n       package-json-from-dist: 1.0.1\n \n   rollup-plugin-dts@6.3.0(rollup@4.53.3)(typescript@5.6.3):\n@@ -6342,7 +6316,7 @@ snapshots:\n \n   safer-buffer@2.1.2: {}\n \n-  sass@1.93.3:\n+  sass@1.96.0:\n     dependencies:\n       chokidar: 4.0.1\n       immutable: 5.0.2\n@@ -6669,13 +6643,13 @@ snapshots:\n \n   vary@1.1.2: {}\n \n-  vite-node@3.2.4(@types/node@24.10.4)(sass@1.93.3):\n+  vite-node@3.2.4(@types/node@24.10.4)(sass@1.96.0):\n     dependencies:\n       cac: 6.7.14\n       debug: 4.4.1\n       es-module-lexer: 1.7.0\n       pathe: 2.0.3\n-      vite: 5.4.19(@types/node@24.10.4)(sass@1.93.3)\n+      vite: 5.4.19(@types/node@24.10.4)(sass@1.96.0)\n     transitivePeerDependencies:\n       - \u0027@types/node\u0027\n       - less\n@@ -6687,7 +6661,7 @@ snapshots:\n       - supports-color\n       - terser\n \n-  vite@5.4.15(@types/node@24.10.4)(sass@1.93.3):\n+  vite@5.4.15(@types/node@24.10.4)(sass@1.96.0):\n     dependencies:\n       esbuild: 0.21.5\n       postcss: 8.5.6\n@@ -6695,9 +6669,9 @@ snapshots:\n     optionalDependencies:\n       \u0027@types/node\u0027: 24.10.4\n       fsevents: 2.3.3\n-      sass: 1.93.3\n+      sass: 1.96.0\n \n-  vite@5.4.19(@types/node@24.10.4)(sass@1.93.3):\n+  vite@5.4.19(@types/node@24.10.4)(sass@1.96.0):\n     dependencies:\n       esbuild: 0.21.5\n       postcss: 8.5.6\n@@ -6705,13 +6679,13 @@ snapshots:\n     optionalDependencies:\n       \u0027@types/node\u0027: 24.10.4\n       fsevents: 2.3.3\n-      sass: 1.93.3\n+      sass: 1.96.0\n \n-  vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3):\n+  vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.96.0):\n     dependencies:\n       \u0027@types/chai\u0027: 5.2.2\n       \u0027@vitest/expect\u0027: 3.2.4\n-      \u0027@vitest/mocker\u0027: 3.2.4(vite@5.4.19(@types/node@24.10.4)(sass@1.93.3))\n+      \u0027@vitest/mocker\u0027: 3.2.4(vite@5.4.19(@types/node@24.10.4)(sass@1.96.0))\n       \u0027@vitest/pretty-format\u0027: 3.2.4\n       \u0027@vitest/runner\u0027: 3.2.4\n       \u0027@vitest/snapshot\u0027: 3.2.4\n@@ -6729,8 +6703,8 @@ snapshots:\n       tinyglobby: 0.2.14\n       tinypool: 1.1.1\n       tinyrainbow: 2.0.0\n-      vite: 5.4.19(@types/node@24.10.4)(sass@1.93.3)\n-      vite-node: 3.2.4(@types/node@24.10.4)(sass@1.93.3)\n+      vite: 5.4.19(@types/node@24.10.4)(sass@1.96.0)\n+      vite-node: 3.2.4(@types/node@24.10.4)(sass@1.96.0)\n       why-is-node-running: 2.3.0\n     optionalDependencies:\n       \u0027@types/node\u0027: 24.10.4","expectedMessage":"fix(deps): update all non-major dependencies (#14070)","repository":"vue","commitHash":"22cd4a399a12d93c0c3a785be3c58c00a438fff3","metadata":{"author":"renovate[bot] \u003c29139614+renovate[bot]@users.noreply.github.com\u003e"}}
{"id":"vue-5c461352","diff":" package.json   |   2 +-\n pnpm-lock.yaml | 104 +++++++++++++++++++++------------------------------------\n 2 files changed, 39 insertions(+), 67 deletions(-)\n\ndiff --git a/package.json b/package.json\nindex 0c98e2b..4e52e8b 100644\n--- a/package.json\n+++ b/package.json\n@@ -71,7 +71,7 @@\n     \"@rollup/plugin-replace\": \"5.0.4\",\n     \"@swc/core\": \"^1.14.0\",\n     \"@types/hash-sum\": \"^1.0.2\",\n-    \"@types/node\": \"^22.19.0\",\n+    \"@types/node\": \"^24.10.4\",\n     \"@types/semver\": \"^7.7.1\",\n     \"@types/serve-handler\": \"^6.1.4\",\n     \"@vitest/coverage-v8\": \"^3.2.4\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex e4548fc..26c8555 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -60,8 +60,8 @@ importers:\n         specifier: ^1.0.2\n         version: 1.0.2\n       \u0027@types/node\u0027:\n-        specifier: ^22.19.0\n-        version: 22.19.0\n+        specifier: ^24.10.4\n+        version: 24.10.4\n       \u0027@types/semver\u0027:\n         specifier: ^7.7.1\n         version: 7.7.1\n@@ -70,10 +70,10 @@ importers:\n         version: 6.1.4\n       \u0027@vitest/coverage-v8\u0027:\n         specifier: ^3.2.4\n-        version: 3.2.4(vitest@3.2.4(@types/node@22.19.0)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\n+        version: 3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\n       \u0027@vitest/eslint-plugin\u0027:\n         specifier: ^1.4.0\n-        version: 1.4.0(eslint@9.27.0)(typescript@5.6.3)(vitest@3.2.4(@types/node@22.19.0)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\n+        version: 1.4.0(eslint@9.27.0)(typescript@5.6.3)(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\n       \u0027@vue/consolidate\u0027:\n         specifier: 1.0.0\n         version: 1.0.0\n@@ -175,10 +175,10 @@ importers:\n         version: 8.32.1(eslint@9.27.0)(typescript@5.6.3)\n       vite:\n         specifier: \u0027catalog:\u0027\n-        version: 5.4.15(@types/node@22.19.0)(sass@1.93.3)\n+        version: 5.4.15(@types/node@24.10.4)(sass@1.93.3)\n       vitest:\n         specifier: ^3.2.4\n-        version: 3.2.4(@types/node@22.19.0)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3)\n+        version: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3)\n \n   packages-private/dts-built-test:\n     dependencies:\n@@ -218,10 +218,10 @@ importers:\n     devDependencies:\n       \u0027@vitejs/plugin-vue\u0027:\n         specifier: \u0027catalog:\u0027\n-        version: 6.0.1(vite@5.4.15(@types/node@22.19.0)(sass@1.93.3))(vue@packages+vue)\n+        version: 6.0.1(vite@5.4.15(@types/node@24.10.4)(sass@1.93.3))(vue@packages+vue)\n       vite:\n         specifier: \u0027catalog:\u0027\n-        version: 5.4.15(@types/node@22.19.0)(sass@1.93.3)\n+        version: 5.4.15(@types/node@24.10.4)(sass@1.93.3)\n \n   packages-private/template-explorer:\n     dependencies:\n@@ -236,10 +236,10 @@ importers:\n     devDependencies:\n       \u0027@vitejs/plugin-vue\u0027:\n         specifier: \u0027catalog:\u0027\n-        version: 6.0.1(vite@5.4.15(@types/node@22.19.0)(sass@1.93.3))(vue@packages+vue)\n+        version: 6.0.1(vite@5.4.15(@types/node@24.10.4)(sass@1.93.3))(vue@packages+vue)\n       vite:\n         specifier: \u0027catalog:\u0027\n-        version: 5.4.15(@types/node@22.19.0)(sass@1.93.3)\n+        version: 5.4.15(@types/node@24.10.4)(sass@1.93.3)\n       vue:\n         specifier: workspace:*\n         version: link:../../packages/vue\n@@ -986,35 +986,30 @@ packages:\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [arm]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@parcel/watcher-linux-arm64-glibc@2.4.1\u0027:\n     resolution: {integrity: sha512-BJ7mH985OADVLpbrzCLgrJ3TOpiZggE9FMblfO65PlOCdG++xJpKUJ0Aol74ZUIYfb8WsRlUdgrZxKkz3zXWYA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [arm64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@parcel/watcher-linux-arm64-musl@2.4.1\u0027:\n     resolution: {integrity: sha512-p4Xb7JGq3MLgAfYhslU2SjoV9G0kI0Xry0kuxeG/41UfpjHGOhv7UoUDAz/jb1u2elbhazy4rRBL8PegPJFBhA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [arm64]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@parcel/watcher-linux-x64-glibc@2.4.1\u0027:\n     resolution: {integrity: sha512-s9O3fByZ/2pyYDPoLM6zt92yu6P4E39a03zvO0qCHOTjxmt3GHRMLuRZEWhWLASTMSrrnVNWdVI/+pUElJBBBg\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [x64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@parcel/watcher-linux-x64-musl@2.4.1\u0027:\n     resolution: {integrity: sha512-L2nZTYR1myLNST0O632g0Dx9LyMNHrn6TOt76sYxWLdff3cB22/GZX2UPtJnaqQPdCRoszoY5rcOj4oMTtp5fQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [x64]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@parcel/watcher-win32-arm64@2.4.1\u0027:\n     resolution: {integrity: sha512-Uq2BPp5GWhrq/lcuItCHoqxjULU1QYEcyjSO5jqqOK8RNFDBQnenMMx4gAl3v8GiWa59E9+uDM7yZ6LxwUIfRg\u003d\u003d}\n@@ -1147,67 +1142,56 @@ packages:\n     resolution: {integrity: sha512-PsNAbcyv9CcecAUagQefwX8fQn9LQ4nZkpDboBOttmyffnInRy8R8dSg6hxxl2Re5QhHBf6FYIDhIj5v982ATQ\u003d\u003d}\n     cpu: [arm]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-arm-musleabihf@4.52.5\u0027:\n     resolution: {integrity: sha512-Fw4tysRutyQc/wwkmcyoqFtJhh0u31K+Q6jYjeicsGJJ7bbEq8LwPWV/w0cnzOqR2m694/Af6hpFayLJZkG2VQ\u003d\u003d}\n     cpu: [arm]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@rollup/rollup-linux-arm64-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-a+3wVnAYdQClOTlyapKmyI6BLPAFYs0JM8HRpgYZQO02rMR09ZcV9LbQB+NL6sljzG38869YqThrRnfPMCDtZg\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-arm64-musl@4.52.5\u0027:\n     resolution: {integrity: sha512-AvttBOMwO9Pcuuf7m9PkC1PUIKsfaAJ4AYhy944qeTJgQOqJYJ9oVl2nYgY7Rk0mkbsuOpCAYSs6wLYB2Xiw0Q\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@rollup/rollup-linux-loong64-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-DkDk8pmXQV2wVrF6oq5tONK6UHLz/XcEVow4JTTerdeV1uqPeHxwcg7aFsfnSm9L+OO8WJsWotKM2JJPMWrQtA\u003d\u003d}\n     cpu: [loong64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-ppc64-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-W/b9ZN/U9+hPQVvlGwjzi+Wy4xdoH2I8EjaCkMvzpI7wJUs8sWJ03Rq96jRnHkSrcHTpQe8h5Tg3ZzUPGauvAw\u003d\u003d}\n     cpu: [ppc64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-riscv64-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-sjQLr9BW7R/ZiXnQiWPkErNfLMkkWIoCz7YMn27HldKsADEKa5WYdobaa1hmN6slu9oWQbB6/jFpJ+P2IkVrmw\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-riscv64-musl@4.52.5\u0027:\n     resolution: {integrity: sha512-hq3jU/kGyjXWTvAh2awn8oHroCbrPm8JqM7RUpKjalIRWWXE01CQOf/tUNWNHjmbMHg/hmNCwc/Pz3k1T/j/Lg\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@rollup/rollup-linux-s390x-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-gn8kHOrku8D4NGHMK1Y7NA7INQTRdVOntt1OCYypZPRt6skGbddska44K8iocdpxHTMMNui5oH4elPH4QOLrFQ\u003d\u003d}\n     cpu: [s390x]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-x64-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-hXGLYpdhiNElzN770+H2nlx+jRog8TyynpTVzdlc6bndktjKWyZyiCsuDAlpd+j+W+WNqfcyAWz9HxxIGfZm1Q\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-x64-musl@4.52.5\u0027:\n     resolution: {integrity: sha512-arCGIcuNKjBoKAXD+y7XomR9gY6Mw7HnFBv5Rw7wQRvwYLR7gBAgV7Mb2QTyjXfTveBNFAtPt46/36vV9STLNg\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@rollup/rollup-openharmony-arm64@4.52.5\u0027:\n     resolution: {integrity: sha512-QoFqB6+/9Rly/RiPjaomPLmR/13cgkIGfA40LHly9zcH1S0bN2HVFYk3a1eAyHQyjs3ZJYlXvIGtcCs5tko9Cw\u003d\u003d}\n@@ -1257,28 +1241,24 @@ packages:\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [arm64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@swc/core-linux-arm64-musl@1.14.0\u0027:\n     resolution: {integrity: sha512-uofpVoPCEUjYIv454ZEZ3sLgMD17nIwlz2z7bsn7rl301Kt/01umFA7MscUovFfAK2IRGck6XB+uulMu6aFhKQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [arm64]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@swc/core-linux-x64-gnu@1.14.0\u0027:\n     resolution: {integrity: sha512-quTTx1Olm05fBfv66DEBuOsOgqdypnZ/1Bh3yGXWY7ANLFeeRpCDZpljD9BSjdsNdPOlwJmEUZXMHtGm3v1TZQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [x64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@swc/core-linux-x64-musl@1.14.0\u0027:\n     resolution: {integrity: sha512-caaNAu+aIqT8seLtCf08i8C3/UC5ttQujUjejhMcuS1/LoCKtNiUs4VekJd2UGt+pyuuSrQ6dKl8CbCfWvWeXw\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [x64]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@swc/core-win32-arm64-msvc@1.14.0\u0027:\n     resolution: {integrity: sha512-EeW3jFlT3YNckJ6V/JnTfGcX7UHGyh6/AiCPopZ1HNaGiXVCKHPpVQZicmtyr/UpqxCXLrTgjHOvyMke7YN26A\u003d\u003d}\n@@ -1337,8 +1317,8 @@ packages:\n   \u0027@types/json-schema@7.0.15\u0027:\n     resolution: {integrity: sha512-5+fP8P8MFNC+AyZCDxrB2pkZFPGzqQWUzpSeuuVLvm8VMcorNYavBqoFcxK8bQz4Qsbn4oUEEem4wDLfcysGHA\u003d\u003d}\n \n-  \u0027@types/node@22.19.0\u0027:\n-    resolution: {integrity: sha512-xpr/lmLPQEj+TUnHmR+Ab91/glhJvsqcjB+yY0Ix9GO70H6Lb4FHH5GeqdOE5btAx7eIMwuHkp4H2MSkLcqWbA\u003d\u003d}\n+  \u0027@types/node@24.10.4\u0027:\n+    resolution: {integrity: sha512-vnDVpYPMzs4wunl27jHrfmwojOGKya0xyM3sH+UE5iv5uPS6vX7UIoh6m+vQc5LGBq52HBKPIn/zcSZVzeDEZg\u003d\u003d}\n \n   \u0027@types/normalize-package-data@2.4.4\u0027:\n     resolution: {integrity: sha512-37i+OaWTh9qeK4LSHPsyRC7NahnGotNuZvjLSgcPzblpHB3rrCJxAOgI5gCdKm7coonsaX1Of0ILiTcnZjbfxA\u003d\u003d}\n@@ -1471,49 +1451,41 @@ packages:\n     resolution: {integrity: sha512-jon9M7DKRLGZ9VYSkFMflvNqu9hDtOCEnO2QAryFWgT6o6AXU8du56V7YqnaLKr6rAbZBWYsYpikF226v423QA\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-arm64-musl@1.7.2\u0027:\n     resolution: {integrity: sha512-c8Cg4/h+kQ63pL43wBNaVMmOjXI/X62wQmru51qjfTvI7kmCy5uHTJvK/9LrF0G8Jdx8r34d019P1DVJmhXQpA\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@unrs/resolver-binding-linux-ppc64-gnu@1.7.2\u0027:\n     resolution: {integrity: sha512-A+lcwRFyrjeJmv3JJvhz5NbcCkLQL6Mk16kHTNm6/aGNc4FwPHPE4DR9DwuCvCnVHvF5IAd9U4VIs/VvVir5lg\u003d\u003d}\n     cpu: [ppc64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-riscv64-gnu@1.7.2\u0027:\n     resolution: {integrity: sha512-hQQ4TJQrSQW8JlPm7tRpXN8OCNP9ez7PajJNjRD1ZTHQAy685OYqPrKjfaMw/8LiHCt8AZ74rfUVHP9vn0N69Q\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-riscv64-musl@1.7.2\u0027:\n     resolution: {integrity: sha512-NoAGbiqrxtY8kVooZ24i70CjLDlUFI7nDj3I9y54U94p+3kPxwd2L692YsdLa+cqQ0VoqMWoehDFp21PKRUoIQ\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@unrs/resolver-binding-linux-s390x-gnu@1.7.2\u0027:\n     resolution: {integrity: sha512-KaZByo8xuQZbUhhreBTW+yUnOIHUsv04P8lKjQ5otiGoSJ17ISGYArc+4vKdLEpGaLbemGzr4ZeUbYQQsLWFjA\u003d\u003d}\n     cpu: [s390x]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-x64-gnu@1.7.2\u0027:\n     resolution: {integrity: sha512-dEidzJDubxxhUCBJ/SHSMJD/9q7JkyfBMT77Px1npl4xpg9t0POLvnWywSk66BgZS/b2Hy9Y1yFaoMTFJUe9yg\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n-    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-x64-musl@1.7.2\u0027:\n     resolution: {integrity: sha512-RvP+Ux3wDjmnZDT4XWFfNBRVG0fMsc+yVzNFUqOflnDfZ9OYujv6nkh+GOr+watwrW4wdp6ASfG/e7bkDradsw\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n-    libc: [musl]\n \n   \u0027@unrs/resolver-binding-wasm32-wasi@1.7.2\u0027:\n     resolution: {integrity: sha512-y797JBmO9IsvXVRCKDXOxjyAE4+CcZpla2GSoBQ33TVb3ILXuFnMrbR/QQZoauBYeOFuu4w3ifWLw52sdHGz6g\u003d\u003d}\n@@ -3478,8 +3450,8 @@ packages:\n     engines: {node: \u0027\u003e\u003d0.8.0\u0027}\n     hasBin: true\n \n-  undici-types@6.21.0:\n-    resolution: {integrity: sha512-iwDZqg0QAGrg9Rav5H4n0M64c3mkR59cJ6wQp+7C4nI0gsmExaedaYLNO44eT4AtBBwjbTiGPMlt2Md0T9H9JQ\u003d\u003d}\n+  undici-types@7.16.0:\n+    resolution: {integrity: sha512-Zz+aZWSj8LE6zoxD+xrjh4VfkIG8Ya6LvYkZqtUQGJPZjYl53ypCaUwWqo7eI0x66KBGeRo+mlBEkMSeSZ38Nw\u003d\u003d}\n \n   unicorn-magic@0.1.0:\n     resolution: {integrity: sha512-lRfVq8fE8gz6QMBuDM6a+LO3IAzTi05H6gCVaUpir2E1Rwpo4ZUog45KpNXKC/Mn3Yb9UDuHumeFTo9iV/D9FQ\u003d\u003d}\n@@ -4362,9 +4334,9 @@ snapshots:\n \n   \u0027@types/json-schema@7.0.15\u0027: {}\n \n-  \u0027@types/node@22.19.0\u0027:\n+  \u0027@types/node@24.10.4\u0027:\n     dependencies:\n-      undici-types: 6.21.0\n+      undici-types: 7.16.0\n \n   \u0027@types/normalize-package-data@2.4.4\u0027: {}\n \n@@ -4374,13 +4346,13 @@ snapshots:\n \n   \u0027@types/serve-handler@6.1.4\u0027:\n     dependencies:\n-      \u0027@types/node\u0027: 22.19.0\n+      \u0027@types/node\u0027: 24.10.4\n \n   \u0027@types/trusted-types@2.0.7\u0027: {}\n \n   \u0027@types/yauzl@2.10.3\u0027:\n     dependencies:\n-      \u0027@types/node\u0027: 22.19.0\n+      \u0027@types/node\u0027: 24.10.4\n     optional: true\n \n   \u0027@typescript-eslint/eslint-plugin@8.32.1(@typescript-eslint/parser@8.32.1(eslint@9.27.0)(typescript@5.6.3))(eslint@9.27.0)(typescript@5.6.3)\u0027:\n@@ -4565,13 +4537,13 @@ snapshots:\n   \u0027@unrs/resolver-binding-win32-x64-msvc@1.7.2\u0027:\n     optional: true\n \n-  \u0027@vitejs/plugin-vue@6.0.1(vite@5.4.15(@types/node@22.19.0)(sass@1.93.3))(vue@packages+vue)\u0027:\n+  \u0027@vitejs/plugin-vue@6.0.1(vite@5.4.15(@types/node@24.10.4)(sass@1.93.3))(vue@packages+vue)\u0027:\n     dependencies:\n       \u0027@rolldown/pluginutils\u0027: 1.0.0-beta.29\n-      vite: 5.4.15(@types/node@22.19.0)(sass@1.93.3)\n+      vite: 5.4.15(@types/node@24.10.4)(sass@1.93.3)\n       vue: link:packages/vue\n \n-  \u0027@vitest/coverage-v8@3.2.4(vitest@3.2.4(@types/node@22.19.0)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\u0027:\n+  \u0027@vitest/coverage-v8@3.2.4(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\u0027:\n     dependencies:\n       \u0027@ampproject/remapping\u0027: 2.3.0\n       \u0027@bcoe/v8-coverage\u0027: 1.0.2\n@@ -4586,18 +4558,18 @@ snapshots:\n       std-env: 3.9.0\n       test-exclude: 7.0.1\n       tinyrainbow: 2.0.0\n-      vitest: 3.2.4(@types/node@22.19.0)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3)\n+      vitest: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3)\n     transitivePeerDependencies:\n       - supports-color\n \n-  \u0027@vitest/eslint-plugin@1.4.0(eslint@9.27.0)(typescript@5.6.3)(vitest@3.2.4(@types/node@22.19.0)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\u0027:\n+  \u0027@vitest/eslint-plugin@1.4.0(eslint@9.27.0)(typescript@5.6.3)(vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3))\u0027:\n     dependencies:\n       \u0027@typescript-eslint/scope-manager\u0027: 8.46.3\n       \u0027@typescript-eslint/utils\u0027: 8.46.3(eslint@9.27.0)(typescript@5.6.3)\n       eslint: 9.27.0\n     optionalDependencies:\n       typescript: 5.6.3\n-      vitest: 3.2.4(@types/node@22.19.0)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3)\n+      vitest: 3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3)\n     transitivePeerDependencies:\n       - supports-color\n \n@@ -4609,13 +4581,13 @@ snapshots:\n       chai: 5.2.0\n       tinyrainbow: 2.0.0\n \n-  \u0027@vitest/mocker@3.2.4(vite@5.4.19(@types/node@22.19.0)(sass@1.93.3))\u0027:\n+  \u0027@vitest/mocker@3.2.4(vite@5.4.19(@types/node@24.10.4)(sass@1.93.3))\u0027:\n     dependencies:\n       \u0027@vitest/spy\u0027: 3.2.4\n       estree-walker: 3.0.3\n       magic-string: 0.30.21\n     optionalDependencies:\n-      vite: 5.4.19(@types/node@22.19.0)(sass@1.93.3)\n+      vite: 5.4.19(@types/node@24.10.4)(sass@1.93.3)\n \n   \u0027@vitest/pretty-format@3.2.4\u0027:\n     dependencies:\n@@ -6652,7 +6624,7 @@ snapshots:\n   uglify-js@3.19.1:\n     optional: true\n \n-  undici-types@6.21.0: {}\n+  undici-types@7.16.0: {}\n \n   unicorn-magic@0.1.0: {}\n \n@@ -6703,13 +6675,13 @@ snapshots:\n \n   vary@1.1.2: {}\n \n-  vite-node@3.2.4(@types/node@22.19.0)(sass@1.93.3):\n+  vite-node@3.2.4(@types/node@24.10.4)(sass@1.93.3):\n     dependencies:\n       cac: 6.7.14\n       debug: 4.4.1\n       es-module-lexer: 1.7.0\n       pathe: 2.0.3\n-      vite: 5.4.19(@types/node@22.19.0)(sass@1.93.3)\n+      vite: 5.4.19(@types/node@24.10.4)(sass@1.93.3)\n     transitivePeerDependencies:\n       - \u0027@types/node\u0027\n       - less\n@@ -6721,31 +6693,31 @@ snapshots:\n       - supports-color\n       - terser\n \n-  vite@5.4.15(@types/node@22.19.0)(sass@1.93.3):\n+  vite@5.4.15(@types/node@24.10.4)(sass@1.93.3):\n     dependencies:\n       esbuild: 0.21.5\n       postcss: 8.5.6\n       rollup: 4.52.5\n     optionalDependencies:\n-      \u0027@types/node\u0027: 22.19.0\n+      \u0027@types/node\u0027: 24.10.4\n       fsevents: 2.3.3\n       sass: 1.93.3\n \n-  vite@5.4.19(@types/node@22.19.0)(sass@1.93.3):\n+  vite@5.4.19(@types/node@24.10.4)(sass@1.93.3):\n     dependencies:\n       esbuild: 0.21.5\n       postcss: 8.5.6\n       rollup: 4.52.5\n     optionalDependencies:\n-      \u0027@types/node\u0027: 22.19.0\n+      \u0027@types/node\u0027: 24.10.4\n       fsevents: 2.3.3\n       sass: 1.93.3\n \n-  vitest@3.2.4(@types/node@22.19.0)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3):\n+  vitest@3.2.4(@types/node@24.10.4)(jsdom@27.1.0(postcss@8.5.6))(sass@1.93.3):\n     dependencies:\n       \u0027@types/chai\u0027: 5.2.2\n       \u0027@vitest/expect\u0027: 3.2.4\n-      \u0027@vitest/mocker\u0027: 3.2.4(vite@5.4.19(@types/node@22.19.0)(sass@1.93.3))\n+      \u0027@vitest/mocker\u0027: 3.2.4(vite@5.4.19(@types/node@24.10.4)(sass@1.93.3))\n       \u0027@vitest/pretty-format\u0027: 3.2.4\n       \u0027@vitest/runner\u0027: 3.2.4\n       \u0027@vitest/snapshot\u0027: 3.2.4\n@@ -6763,11 +6735,11 @@ snapshots:\n       tinyglobby: 0.2.14\n       tinypool: 1.1.1\n       tinyrainbow: 2.0.0\n-      vite: 5.4.19(@types/node@22.19.0)(sass@1.93.3)\n-      vite-node: 3.2.4(@types/node@22.19.0)(sass@1.93.3)\n+      vite: 5.4.19(@types/node@24.10.4)(sass@1.93.3)\n+      vite-node: 3.2.4(@types/node@24.10.4)(sass@1.93.3)\n       why-is-node-running: 2.3.0\n     optionalDependencies:\n-      \u0027@types/node\u0027: 22.19.0\n+      \u0027@types/node\u0027: 24.10.4\n       jsdom: 27.1.0(postcss@8.5.6)\n     transitivePeerDependencies:\n       - less","expectedMessage":"chore(deps): update dependency @types/node to v24 (#14072)","repository":"vue","commitHash":"5c461352fc987428471adbad3cb3db3445acc0a1","metadata":{"author":"renovate[bot] \u003c29139614+renovate[bot]@users.noreply.github.com\u003e"}}
{"id":"vue-edbd5ec8","diff":" rollup.dts.config.js | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/rollup.dts.config.js b/rollup.dts.config.js\nindex d9af98f..516fe6e 100644\n--- a/rollup.dts.config.js\n+++ b/rollup.dts.config.js\n@@ -7,7 +7,7 @@ import dts from \u0027rollup-plugin-dts\u0027\n \n if (!existsSync(\u0027temp/packages\u0027)) {\n   console.warn(\n-    \u0027no temp dts files found. run `tsc -p tsconfig.build-browser.json \u0026\u0026 tsc -p tsconfig.build-node.json` first.\u0027,\n+    \u0027no temp dts files found. run `tsc -p tsconfig.build.json --noCheck` first.\u0027,\n   )\n   process.exit(1)\n }","expectedMessage":"chore: update warning message for missing temp dts files (#14186)","repository":"vue","commitHash":"edbd5ec81b8d6a0431e1eae41471a2f20dd8cbf7","metadata":{"author":"linzhe \u003c40790268+linzhe141@users.noreply.github.com\u003e"}}
{"id":"vue-f51d3e27","diff":" .github/workflows/ci.yml | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 027695f..ee9fd61 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -39,4 +39,4 @@ jobs:\n         run: pnpm build --withTypes\n \n       - name: Release\n-        run: pnpx pkg-pr-new publish --compact --pnpm \u0027./packages/*\u0027\n+        run: pnpx pkg-pr-new publish --compact --pnpm \u0027./packages/*\u0027 --packageManager\u003dpnpm,npm,yarn","expectedMessage":"ci: `pkg-pr-new` publish add pm option (#14175)","repository":"vue","commitHash":"f51d3e2789bb2f1700ec28d44a4953de1bdf7d71","metadata":{"author":"btea \u003c2356281422@qq.com\u003e"}}
{"id":"vue-44ee4384","diff":" SECURITY.md | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/SECURITY.md b/SECURITY.md\nindex 192502e..4b1db5a 100644\n--- a/SECURITY.md\n+++ b/SECURITY.md\n@@ -13,3 +13,4 @@ We would like to thank the following security researchers for responsibly disclo\n - Jeet Pal - [@jeetpal2007](https://github.com/jeetpal2007) | [Email](mailto:jeetpal2007@gmail.com) | [LinkedIn](https://in.linkedin.com/in/jeet-pal-22601a290)\n - Mix - [@mnixry](https://github.com/mnixry)\n - Aviv Keller - [@RedYetiDev](https://github.com/redyetidev) | [LinkedIn](https://www.linkedin.com/in/redyetidev) \u003credyetidev@gmail.com\u003e\n+- Ben Zimmermann - [@bzzimmy](https://github.com/bzzimmy) | [Email](mailto:kernelrocks@proton.me)","expectedMessage":"docs: add Ben Zimmermann to the list of security researchers in SECURITY.md","repository":"vue","commitHash":"44ee43848fe8563c914be6cf731157e360d4e801","metadata":{"author":"daiwei \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-92019e4a","diff":" packages-private/sfc-playground/package.json |  2 +-\n pnpm-lock.yaml                               | 38 ++++++++++++++++++++++++----\n 2 files changed, 34 insertions(+), 6 deletions(-)\n\ndiff --git a/packages-private/sfc-playground/package.json b/packages-private/sfc-playground/package.json\nindex abb888e..2643652 100644\n--- a/packages-private/sfc-playground/package.json\n+++ b/packages-private/sfc-playground/package.json\n@@ -13,7 +13,7 @@\n     \"vite\": \"catalog:\"\n   },\n   \"dependencies\": {\n-    \"@vue/repl\": \"^4.7.0\",\n+    \"@vue/repl\": \"^4.7.1\",\n     \"file-saver\": \"^2.0.5\",\n     \"jszip\": \"^3.10.1\",\n     \"vue\": \"workspace:*\"\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 086bb24..e4548fc 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -204,8 +204,8 @@ importers:\n   packages-private/sfc-playground:\n     dependencies:\n       \u0027@vue/repl\u0027:\n-        specifier: ^4.7.0\n-        version: 4.7.0\n+        specifier: ^4.7.1\n+        version: 4.7.1\n       file-saver:\n         specifier: ^2.0.5\n         version: 2.0.5\n@@ -986,30 +986,35 @@ packages:\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [arm]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@parcel/watcher-linux-arm64-glibc@2.4.1\u0027:\n     resolution: {integrity: sha512-BJ7mH985OADVLpbrzCLgrJ3TOpiZggE9FMblfO65PlOCdG++xJpKUJ0Aol74ZUIYfb8WsRlUdgrZxKkz3zXWYA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@parcel/watcher-linux-arm64-musl@2.4.1\u0027:\n     resolution: {integrity: sha512-p4Xb7JGq3MLgAfYhslU2SjoV9G0kI0Xry0kuxeG/41UfpjHGOhv7UoUDAz/jb1u2elbhazy4rRBL8PegPJFBhA\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@parcel/watcher-linux-x64-glibc@2.4.1\u0027:\n     resolution: {integrity: sha512-s9O3fByZ/2pyYDPoLM6zt92yu6P4E39a03zvO0qCHOTjxmt3GHRMLuRZEWhWLASTMSrrnVNWdVI/+pUElJBBBg\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [x64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@parcel/watcher-linux-x64-musl@2.4.1\u0027:\n     resolution: {integrity: sha512-L2nZTYR1myLNST0O632g0Dx9LyMNHrn6TOt76sYxWLdff3cB22/GZX2UPtJnaqQPdCRoszoY5rcOj4oMTtp5fQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 10.0.0\u0027}\n     cpu: [x64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@parcel/watcher-win32-arm64@2.4.1\u0027:\n     resolution: {integrity: sha512-Uq2BPp5GWhrq/lcuItCHoqxjULU1QYEcyjSO5jqqOK8RNFDBQnenMMx4gAl3v8GiWa59E9+uDM7yZ6LxwUIfRg\u003d\u003d}\n@@ -1142,56 +1147,67 @@ packages:\n     resolution: {integrity: sha512-PsNAbcyv9CcecAUagQefwX8fQn9LQ4nZkpDboBOttmyffnInRy8R8dSg6hxxl2Re5QhHBf6FYIDhIj5v982ATQ\u003d\u003d}\n     cpu: [arm]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-arm-musleabihf@4.52.5\u0027:\n     resolution: {integrity: sha512-Fw4tysRutyQc/wwkmcyoqFtJhh0u31K+Q6jYjeicsGJJ7bbEq8LwPWV/w0cnzOqR2m694/Af6hpFayLJZkG2VQ\u003d\u003d}\n     cpu: [arm]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@rollup/rollup-linux-arm64-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-a+3wVnAYdQClOTlyapKmyI6BLPAFYs0JM8HRpgYZQO02rMR09ZcV9LbQB+NL6sljzG38869YqThrRnfPMCDtZg\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-arm64-musl@4.52.5\u0027:\n     resolution: {integrity: sha512-AvttBOMwO9Pcuuf7m9PkC1PUIKsfaAJ4AYhy944qeTJgQOqJYJ9oVl2nYgY7Rk0mkbsuOpCAYSs6wLYB2Xiw0Q\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@rollup/rollup-linux-loong64-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-DkDk8pmXQV2wVrF6oq5tONK6UHLz/XcEVow4JTTerdeV1uqPeHxwcg7aFsfnSm9L+OO8WJsWotKM2JJPMWrQtA\u003d\u003d}\n     cpu: [loong64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-ppc64-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-W/b9ZN/U9+hPQVvlGwjzi+Wy4xdoH2I8EjaCkMvzpI7wJUs8sWJ03Rq96jRnHkSrcHTpQe8h5Tg3ZzUPGauvAw\u003d\u003d}\n     cpu: [ppc64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-riscv64-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-sjQLr9BW7R/ZiXnQiWPkErNfLMkkWIoCz7YMn27HldKsADEKa5WYdobaa1hmN6slu9oWQbB6/jFpJ+P2IkVrmw\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-riscv64-musl@4.52.5\u0027:\n     resolution: {integrity: sha512-hq3jU/kGyjXWTvAh2awn8oHroCbrPm8JqM7RUpKjalIRWWXE01CQOf/tUNWNHjmbMHg/hmNCwc/Pz3k1T/j/Lg\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@rollup/rollup-linux-s390x-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-gn8kHOrku8D4NGHMK1Y7NA7INQTRdVOntt1OCYypZPRt6skGbddska44K8iocdpxHTMMNui5oH4elPH4QOLrFQ\u003d\u003d}\n     cpu: [s390x]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-x64-gnu@4.52.5\u0027:\n     resolution: {integrity: sha512-hXGLYpdhiNElzN770+H2nlx+jRog8TyynpTVzdlc6bndktjKWyZyiCsuDAlpd+j+W+WNqfcyAWz9HxxIGfZm1Q\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@rollup/rollup-linux-x64-musl@4.52.5\u0027:\n     resolution: {integrity: sha512-arCGIcuNKjBoKAXD+y7XomR9gY6Mw7HnFBv5Rw7wQRvwYLR7gBAgV7Mb2QTyjXfTveBNFAtPt46/36vV9STLNg\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@rollup/rollup-openharmony-arm64@4.52.5\u0027:\n     resolution: {integrity: sha512-QoFqB6+/9Rly/RiPjaomPLmR/13cgkIGfA40LHly9zcH1S0bN2HVFYk3a1eAyHQyjs3ZJYlXvIGtcCs5tko9Cw\u003d\u003d}\n@@ -1241,24 +1257,28 @@ packages:\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@swc/core-linux-arm64-musl@1.14.0\u0027:\n     resolution: {integrity: sha512-uofpVoPCEUjYIv454ZEZ3sLgMD17nIwlz2z7bsn7rl301Kt/01umFA7MscUovFfAK2IRGck6XB+uulMu6aFhKQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@swc/core-linux-x64-gnu@1.14.0\u0027:\n     resolution: {integrity: sha512-quTTx1Olm05fBfv66DEBuOsOgqdypnZ/1Bh3yGXWY7ANLFeeRpCDZpljD9BSjdsNdPOlwJmEUZXMHtGm3v1TZQ\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [x64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@swc/core-linux-x64-musl@1.14.0\u0027:\n     resolution: {integrity: sha512-caaNAu+aIqT8seLtCf08i8C3/UC5ttQujUjejhMcuS1/LoCKtNiUs4VekJd2UGt+pyuuSrQ6dKl8CbCfWvWeXw\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d10\u0027}\n     cpu: [x64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@swc/core-win32-arm64-msvc@1.14.0\u0027:\n     resolution: {integrity: sha512-EeW3jFlT3YNckJ6V/JnTfGcX7UHGyh6/AiCPopZ1HNaGiXVCKHPpVQZicmtyr/UpqxCXLrTgjHOvyMke7YN26A\u003d\u003d}\n@@ -1451,41 +1471,49 @@ packages:\n     resolution: {integrity: sha512-jon9M7DKRLGZ9VYSkFMflvNqu9hDtOCEnO2QAryFWgT6o6AXU8du56V7YqnaLKr6rAbZBWYsYpikF226v423QA\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-arm64-musl@1.7.2\u0027:\n     resolution: {integrity: sha512-c8Cg4/h+kQ63pL43wBNaVMmOjXI/X62wQmru51qjfTvI7kmCy5uHTJvK/9LrF0G8Jdx8r34d019P1DVJmhXQpA\u003d\u003d}\n     cpu: [arm64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@unrs/resolver-binding-linux-ppc64-gnu@1.7.2\u0027:\n     resolution: {integrity: sha512-A+lcwRFyrjeJmv3JJvhz5NbcCkLQL6Mk16kHTNm6/aGNc4FwPHPE4DR9DwuCvCnVHvF5IAd9U4VIs/VvVir5lg\u003d\u003d}\n     cpu: [ppc64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-riscv64-gnu@1.7.2\u0027:\n     resolution: {integrity: sha512-hQQ4TJQrSQW8JlPm7tRpXN8OCNP9ez7PajJNjRD1ZTHQAy685OYqPrKjfaMw/8LiHCt8AZ74rfUVHP9vn0N69Q\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-riscv64-musl@1.7.2\u0027:\n     resolution: {integrity: sha512-NoAGbiqrxtY8kVooZ24i70CjLDlUFI7nDj3I9y54U94p+3kPxwd2L692YsdLa+cqQ0VoqMWoehDFp21PKRUoIQ\u003d\u003d}\n     cpu: [riscv64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@unrs/resolver-binding-linux-s390x-gnu@1.7.2\u0027:\n     resolution: {integrity: sha512-KaZByo8xuQZbUhhreBTW+yUnOIHUsv04P8lKjQ5otiGoSJ17ISGYArc+4vKdLEpGaLbemGzr4ZeUbYQQsLWFjA\u003d\u003d}\n     cpu: [s390x]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-x64-gnu@1.7.2\u0027:\n     resolution: {integrity: sha512-dEidzJDubxxhUCBJ/SHSMJD/9q7JkyfBMT77Px1npl4xpg9t0POLvnWywSk66BgZS/b2Hy9Y1yFaoMTFJUe9yg\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n+    libc: [glibc]\n \n   \u0027@unrs/resolver-binding-linux-x64-musl@1.7.2\u0027:\n     resolution: {integrity: sha512-RvP+Ux3wDjmnZDT4XWFfNBRVG0fMsc+yVzNFUqOflnDfZ9OYujv6nkh+GOr+watwrW4wdp6ASfG/e7bkDradsw\u003d\u003d}\n     cpu: [x64]\n     os: [linux]\n+    libc: [musl]\n \n   \u0027@unrs/resolver-binding-wasm32-wasi@1.7.2\u0027:\n     resolution: {integrity: sha512-y797JBmO9IsvXVRCKDXOxjyAE4+CcZpla2GSoBQ33TVb3ILXuFnMrbR/QQZoauBYeOFuu4w3ifWLw52sdHGz6g\u003d\u003d}\n@@ -1569,8 +1597,8 @@ packages:\n     resolution: {integrity: sha512-oTyUE+QHIzLw2PpV14GD/c7EohDyP64xCniWTcqcEmTd699eFqTIwOmtDYjcO1j3QgdXoJEoWv1/cCdLrRoOfg\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d 0.12.0\u0027}\n \n-  \u0027@vue/repl@4.7.0\u0027:\n-    resolution: {integrity: sha512-1veaAsfO6xYLblo8jr2hQDlegdPjaCZkchZuG7PRhC9zX0bN2aLenu2rT7AEPAXDXK0OXCsB2+WIUevOTyMvLg\u003d\u003d}\n+  \u0027@vue/repl@4.7.1\u0027:\n+    resolution: {integrity: sha512-8w5Z3cyqBJ5ufzXO2eut2stzb7aX/ZnSva2d3ee8eEINEB7FG2JYwc14eAHHHGGuoXOGN5v4cyb5ti/YZGcwlg\u003d\u003d}\n \n   \u0027@zeit/schemas@2.36.0\u0027:\n     resolution: {integrity: sha512-7kjMwcChYEzMKjeex9ZFXkt1AyNov9R5HZtjBKVsmVpw7pa7ZtlCGvCBC2vnnXctaYN+aRI61HjIqeetZW5ROg\u003d\u003d}\n@@ -4617,7 +4645,7 @@ snapshots:\n \n   \u0027@vue/consolidate@1.0.0\u0027: {}\n \n-  \u0027@vue/repl@4.7.0\u0027: {}\n+  \u0027@vue/repl@4.7.1\u0027: {}\n \n   \u0027@zeit/schemas@2.36.0\u0027: {}\n ","expectedMessage":"chore(deps): update @vue/repl to version 4.7.1 (#14169)","repository":"vue","commitHash":"92019e4a2d4a0f3caffe4ceffaaea557f72f88b8","metadata":{"author":"edison \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-25ebe3a4","diff":" CHANGELOG.md                          | 14 ++++++++++++++\n package.json                          |  2 +-\n packages/compiler-core/package.json   |  2 +-\n packages/compiler-dom/package.json    |  2 +-\n packages/compiler-sfc/package.json    |  2 +-\n packages/compiler-ssr/package.json    |  2 +-\n packages/reactivity/package.json      |  2 +-\n packages/runtime-core/package.json    |  2 +-\n packages/runtime-dom/package.json     |  2 +-\n packages/server-renderer/package.json |  2 +-\n packages/shared/package.json          |  2 +-\n packages/vue-compat/package.json      |  2 +-\n packages/vue/package.json             |  2 +-\n 13 files changed, 26 insertions(+), 12 deletions(-)\n\ndiff --git a/CHANGELOG.md b/CHANGELOG.md\nindex 3a07176..1417d29 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,3 +1,17 @@\n+## [3.5.25](https://github.com/vuejs/core/compare/v3.5.24...v3.5.25) (2025-11-24)\n+\n+\n+### Bug Fixes\n+\n+* **compiler:** share logic for comments and whitespace ([#13550](https://github.com/vuejs/core/issues/13550)) ([2214f7a](https://github.com/vuejs/core/commit/2214f7ab2940bcb751cd20130c020d895db6c042))\n+* **provide:** warn when using `provide` after mounting ([#13954](https://github.com/vuejs/core/issues/13954)) ([247b2c2](https://github.com/vuejs/core/commit/247b2c2067afc4dee52f9f7bc194f3aab347ac55)), closes [#13921](https://github.com/vuejs/core/issues/13921) [#13924](https://github.com/vuejs/core/issues/13924)\n+* **reactivity:** correctly wrap iterated array items to preserve their readonly status ([#14120](https://github.com/vuejs/core/issues/14120)) ([301020b](https://github.com/vuejs/core/commit/301020b481e85d03b0c96000f3221372063c41c6))\n+* **reactivity:** toRef edge cases for ref unwrapping ([#12420](https://github.com/vuejs/core/issues/12420)) ([0d2357e](https://github.com/vuejs/core/commit/0d2357e6974678d5484751c869f429dc6ea85582))\n+* **runtime-core:** keep options API typing intact when expose is used ([#14118](https://github.com/vuejs/core/issues/14118)) ([8f82f23](https://github.com/vuejs/core/commit/8f82f238463160284e504d1751d61b72dabb395e)), closes [#14117](https://github.com/vuejs/core/issues/14117) [vuejs/language-tools#5069](https://github.com/vuejs/language-tools/issues/5069)\n+* **suspense:** defer clearing fallback vnode el in case it has dirs ([#14080](https://github.com/vuejs/core/issues/14080)) ([c0f63dd](https://github.com/vuejs/core/commit/c0f63ddbfa8fa221d66b683b5c26e471851c2b50)), closes [#14078](https://github.com/vuejs/core/issues/14078)\n+\n+\n+\n ## [3.5.24](https://github.com/vuejs/core/compare/v3.5.23...v3.5.24) (2025-11-07)\n \n \ndiff --git a/package.json b/package.json\nindex 2ba9d2b..0c98e2b 100644\n--- a/package.json\n+++ b/package.json\n@@ -1,6 +1,6 @@\n {\n   \"private\": true,\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"packageManager\": \"pnpm@10.20.0\",\n   \"type\": \"module\",\n   \"scripts\": {\ndiff --git a/packages/compiler-core/package.json b/packages/compiler-core/package.json\nindex 2ff4004..b7f8fb4 100644\n--- a/packages/compiler-core/package.json\n+++ b/packages/compiler-core/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-core\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"@vue/compiler-core\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/compiler-core.esm-bundler.js\",\ndiff --git a/packages/compiler-dom/package.json b/packages/compiler-dom/package.json\nindex 8dec245..45f169b 100644\n--- a/packages/compiler-dom/package.json\n+++ b/packages/compiler-dom/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-dom\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"@vue/compiler-dom\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/compiler-dom.esm-bundler.js\",\ndiff --git a/packages/compiler-sfc/package.json b/packages/compiler-sfc/package.json\nindex e822d6e..2661f7b 100644\n--- a/packages/compiler-sfc/package.json\n+++ b/packages/compiler-sfc/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-sfc\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"@vue/compiler-sfc\",\n   \"main\": \"dist/compiler-sfc.cjs.js\",\n   \"module\": \"dist/compiler-sfc.esm-browser.js\",\ndiff --git a/packages/compiler-ssr/package.json b/packages/compiler-ssr/package.json\nindex 6d5d3f4..89bf859 100644\n--- a/packages/compiler-ssr/package.json\n+++ b/packages/compiler-ssr/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-ssr\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"@vue/compiler-ssr\",\n   \"main\": \"dist/compiler-ssr.cjs.js\",\n   \"types\": \"dist/compiler-ssr.d.ts\",\ndiff --git a/packages/reactivity/package.json b/packages/reactivity/package.json\nindex a5d36a0..c4507ff 100644\n--- a/packages/reactivity/package.json\n+++ b/packages/reactivity/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/reactivity\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"@vue/reactivity\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/reactivity.esm-bundler.js\",\ndiff --git a/packages/runtime-core/package.json b/packages/runtime-core/package.json\nindex 7c11de3..0e57c1d 100644\n--- a/packages/runtime-core/package.json\n+++ b/packages/runtime-core/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/runtime-core\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"@vue/runtime-core\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/runtime-core.esm-bundler.js\",\ndiff --git a/packages/runtime-dom/package.json b/packages/runtime-dom/package.json\nindex 9aab9f0..663ba52 100644\n--- a/packages/runtime-dom/package.json\n+++ b/packages/runtime-dom/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/runtime-dom\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"@vue/runtime-dom\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/runtime-dom.esm-bundler.js\",\ndiff --git a/packages/server-renderer/package.json b/packages/server-renderer/package.json\nindex 61d8ec3..45dbfc3 100644\n--- a/packages/server-renderer/package.json\n+++ b/packages/server-renderer/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/server-renderer\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"@vue/server-renderer\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/server-renderer.esm-bundler.js\",\ndiff --git a/packages/shared/package.json b/packages/shared/package.json\nindex 6863722..68dbe15 100644\n--- a/packages/shared/package.json\n+++ b/packages/shared/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/shared\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"internal utils shared across @vue packages\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/shared.esm-bundler.js\",\ndiff --git a/packages/vue-compat/package.json b/packages/vue-compat/package.json\nindex e39861a..d9f76bc 100644\n--- a/packages/vue-compat/package.json\n+++ b/packages/vue-compat/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compat\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"Vue 3 compatibility build for Vue 2\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/vue.runtime.esm-bundler.js\",\ndiff --git a/packages/vue/package.json b/packages/vue/package.json\nindex ee136ff..c520af8 100644\n--- a/packages/vue/package.json\n+++ b/packages/vue/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"vue\",\n-  \"version\": \"3.5.24\",\n+  \"version\": \"3.5.25\",\n   \"description\": \"The progressive JavaScript framework for building modern web UI.\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/vue.runtime.esm-bundler.js\",","expectedMessage":"release: v3.5.25","repository":"vue","commitHash":"25ebe3a42cd80ac0256355c2740a0258cdd7419d","metadata":{"author":"daiwei \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-c0f63ddb","diff":" .../__tests__/components/Suspense.spec.ts          | 36 ++++++++++++++++++++++\n packages/runtime-core/src/components/Suspense.ts   |  4 +--\n 2 files changed, 38 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/runtime-core/__tests__/components/Suspense.spec.ts b/packages/runtime-core/__tests__/components/Suspense.spec.ts\nindex c6683d6..4e8da32 100644\n--- a/packages/runtime-core/__tests__/components/Suspense.spec.ts\n+++ b/packages/runtime-core/__tests__/components/Suspense.spec.ts\n@@ -24,6 +24,7 @@ import {\n   shallowRef,\n   watch,\n   watchEffect,\n+  withDirectives,\n } from \u0027@vue/runtime-test\u0027\n import { computed, createApp, defineComponent, inject, provide } from \u0027vue\u0027\n import type { RawSlots } from \u0027packages/runtime-core/src/componentSlots\u0027\n@@ -2358,5 +2359,40 @@ describe(\u0027Suspense\u0027, () \u003d\u003e {\n         `\u003cdiv\u003e444\u003c/div\u003e\u003cdiv\u003e555\u003c/div\u003e\u003cdiv\u003e666\u003c/div\u003e`,\n       )\n     })\n+\n+    test(\u0027should call unmounted directive once when fallback is replaced by resolved async component\u0027, async () \u003d\u003e {\n+      const Comp \u003d {\n+        render() {\n+          return h(\u0027div\u0027, null, \u0027comp\u0027)\n+        },\n+      }\n+      const Foo \u003d defineAsyncComponent({\n+        render() {\n+          return h(Comp)\n+        },\n+      })\n+      const unmounted \u003d vi.fn(el \u003d\u003e {\n+        el.foo \u003d null\n+      })\n+      const vDir \u003d {\n+        unmounted,\n+      }\n+      const App \u003d {\n+        setup() {\n+          return () \u003d\u003e {\n+            return h(Suspense, null, {\n+              fallback: () \u003d\u003e withDirectives(h(\u0027div\u0027), [[vDir, true]]),\n+              default: () \u003d\u003e h(Foo),\n+            })\n+          }\n+        },\n+      }\n+      const root \u003d nodeOps.createElement(\u0027div\u0027)\n+      render(h(App), root)\n+\n+      await Promise.all(deps)\n+      await nextTick()\n+      expect(unmounted).toHaveBeenCalledTimes(1)\n+    })\n   })\n })\ndiff --git a/packages/runtime-core/src/components/Suspense.ts b/packages/runtime-core/src/components/Suspense.ts\nindex d14e96b..0c8b6c2 100644\n--- a/packages/runtime-core/src/components/Suspense.ts\n+++ b/packages/runtime-core/src/components/Suspense.ts\n@@ -20,6 +20,7 @@ import {\n   type RendererInternals,\n   type RendererNode,\n   type SetupRenderEffectFn,\n+  queuePostRenderEffect,\n } from \u0027../renderer\u0027\n import { queuePostFlushCb } from \u0027../scheduler\u0027\n import { filterSingleRoot, updateHOCHostEl } from \u0027../componentRenderUtils\u0027\n@@ -576,9 +577,8 @@ function createSuspenseBoundary(\n           }\n           unmount(activeBranch, parentComponent, suspense, true)\n           // clear el reference from fallback vnode to allow GC\n-          // only clear immediately if there\u0027s no delayed transition\n           if (!delayEnter \u0026\u0026 isInFallback \u0026\u0026 vnode.ssFallback) {\n-            vnode.ssFallback.el \u003d null\n+            queuePostRenderEffect(() \u003d\u003e (vnode.ssFallback!.el \u003d null), suspense)\n           }\n         }\n         if (!delayEnter) {","expectedMessage":"fix(suspense): defer clearing fallback vnode el in case it has dirs (#14080)","repository":"vue","commitHash":"c0f63ddbfa8fa221d66b683b5c26e471851c2b50","metadata":{"author":"linzhe \u003c40790268+linzhe141@users.noreply.github.com\u003e"}}
{"id":"vue-301020b4","diff":" packages/reactivity/__tests__/readonly.spec.ts   | 13 ++++++\n packages/reactivity/src/arrayInstrumentations.ts | 54 ++++++++++++++++++++----\n 2 files changed, 58 insertions(+), 9 deletions(-)\n\ndiff --git a/packages/reactivity/__tests__/readonly.spec.ts b/packages/reactivity/__tests__/readonly.spec.ts\nindex a6f7542..96e688e 100644\n--- a/packages/reactivity/__tests__/readonly.spec.ts\n+++ b/packages/reactivity/__tests__/readonly.spec.ts\n@@ -172,6 +172,19 @@ describe(\u0027reactivity/readonly\u0027, () \u003d\u003e {\n       expect(dummy).toBe(1)\n       expect(`target is readonly`).toHaveBeenWarnedTimes(2)\n     })\n+\n+    it(\u0027should maintain identity when iterating readonly ref array\u0027, () \u003d\u003e {\n+      const list \u003d readonly(ref([{}, {}, {}]))\n+      const computedList \u003d computed(() \u003d\u003e {\n+        const newList: any[] \u003d []\n+        list.value.forEach(x \u003d\u003e newList.push(x))\n+        return newList\n+      })\n+\n+      expect(list.value[0]).toBe(computedList.value[0])\n+      expect(isReadonly(computedList.value[0])).toBe(true)\n+      expect(isReactive(computedList.value[0])).toBe(true)\n+    })\n   })\n \n   const maps \u003d [Map, WeakMap]\ndiff --git a/packages/reactivity/src/arrayInstrumentations.ts b/packages/reactivity/src/arrayInstrumentations.ts\nindex 981a10d..f37b056 100644\n--- a/packages/reactivity/src/arrayInstrumentations.ts\n+++ b/packages/reactivity/src/arrayInstrumentations.ts\n@@ -1,6 +1,14 @@\n import { TrackOpTypes } from \u0027./constants\u0027\n import { endBatch, pauseTracking, resetTracking, startBatch } from \u0027./effect\u0027\n-import { isProxy, isShallow, toRaw, toReactive } from \u0027./reactive\u0027\n+import {\n+  isProxy,\n+  isReactive,\n+  isReadonly,\n+  isShallow,\n+  toRaw,\n+  toReactive,\n+  toReadonly,\n+} from \u0027./reactive\u0027\n import { ARRAY_ITERATE_KEY, track } from \u0027./dep\u0027\n import { isArray } from \u0027@vue/shared\u0027\n \n@@ -24,11 +32,18 @@ export function shallowReadArray\u003cT\u003e(arr: T[]): T[] {\n   return arr\n }\n \n+function toWrapped(target: unknown, item: unknown) {\n+  if (isReadonly(target)) {\n+    return isReactive(target) ? toReadonly(toReactive(item)) : toReadonly(item)\n+  }\n+  return toReactive(item)\n+}\n+\n export const arrayInstrumentations: Record\u003cstring | symbol, Function\u003e \u003d \u003cany\u003e{\n   __proto__: null,\n \n   [Symbol.iterator]() {\n-    return iterator(this, Symbol.iterator, toReactive)\n+    return iterator(this, Symbol.iterator, item \u003d\u003e toWrapped(this, item))\n   },\n \n   concat(...args: unknown[]) {\n@@ -39,7 +54,7 @@ export const arrayInstrumentations: Record\u003cstring | symbol, Function\u003e \u003d \u003cany\u003e{\n \n   entries() {\n     return iterator(this, \u0027entries\u0027, (value: [number, unknown]) \u003d\u003e {\n-      value[1] \u003d toReactive(value[1])\n+      value[1] \u003d toWrapped(this, value[1])\n       return value\n     })\n   },\n@@ -55,14 +70,28 @@ export const arrayInstrumentations: Record\u003cstring | symbol, Function\u003e \u003d \u003cany\u003e{\n     fn: (item: unknown, index: number, array: unknown[]) \u003d\u003e unknown,\n     thisArg?: unknown,\n   ) {\n-    return apply(this, \u0027filter\u0027, fn, thisArg, v \u003d\u003e v.map(toReactive), arguments)\n+    return apply(\n+      this,\n+      \u0027filter\u0027,\n+      fn,\n+      thisArg,\n+      v \u003d\u003e v.map((item: unknown) \u003d\u003e toWrapped(this, item)),\n+      arguments,\n+    )\n   },\n \n   find(\n     fn: (item: unknown, index: number, array: unknown[]) \u003d\u003e boolean,\n     thisArg?: unknown,\n   ) {\n-    return apply(this, \u0027find\u0027, fn, thisArg, toReactive, arguments)\n+    return apply(\n+      this,\n+      \u0027find\u0027,\n+      fn,\n+      thisArg,\n+      item \u003d\u003e toWrapped(this, item),\n+      arguments,\n+    )\n   },\n \n   findIndex(\n@@ -76,7 +105,14 @@ export const arrayInstrumentations: Record\u003cstring | symbol, Function\u003e \u003d \u003cany\u003e{\n     fn: (item: unknown, index: number, array: unknown[]) \u003d\u003e boolean,\n     thisArg?: unknown,\n   ) {\n-    return apply(this, \u0027findLast\u0027, fn, thisArg, toReactive, arguments)\n+    return apply(\n+      this,\n+      \u0027findLast\u0027,\n+      fn,\n+      thisArg,\n+      item \u003d\u003e toWrapped(this, item),\n+      arguments,\n+    )\n   },\n \n   findLastIndex(\n@@ -189,7 +225,7 @@ export const arrayInstrumentations: Record\u003cstring | symbol, Function\u003e \u003d \u003cany\u003e{\n   },\n \n   values() {\n-    return iterator(this, \u0027values\u0027, toReactive)\n+    return iterator(this, \u0027values\u0027, item \u003d\u003e toWrapped(this, item))\n   },\n }\n \n@@ -257,7 +293,7 @@ function apply(\n   if (arr !\u003d\u003d self) {\n     if (needsWrap) {\n       wrappedFn \u003d function (this: unknown, item, index) {\n-        return fn.call(this, toReactive(item), index, self)\n+        return fn.call(this, toWrapped(self, item), index, self)\n       }\n     } else if (fn.length \u003e 2) {\n       wrappedFn \u003d function (this: unknown, item, index) {\n@@ -281,7 +317,7 @@ function reduce(\n   if (arr !\u003d\u003d self) {\n     if (!isShallow(self)) {\n       wrappedFn \u003d function (this: unknown, acc, item, index) {\n-        return fn.call(this, acc, toReactive(item), index, self)\n+        return fn.call(this, acc, toWrapped(self, item), index, self)\n       }\n     } else if (fn.length \u003e 3) {\n       wrappedFn \u003d function (this: unknown, acc, item, index) {","expectedMessage":"fix(reactivity): correctly wrap iterated array items to preserve their readonly status (#14120)","repository":"vue","commitHash":"301020b481e85d03b0c96000f3221372063c41c6","metadata":{"author":"edison \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-0d2357e6","diff":" packages/reactivity/__tests__/ref.spec.ts | 216 +++++++++++++++++++++++++++++-\n packages/reactivity/src/baseHandlers.ts   |  10 +-\n packages/reactivity/src/ref.ts            |  42 +++++-\n 3 files changed, 252 insertions(+), 16 deletions(-)\n\ndiff --git a/packages/reactivity/__tests__/ref.spec.ts b/packages/reactivity/__tests__/ref.spec.ts\nindex 7976a53..25fe87a 100644\n--- a/packages/reactivity/__tests__/ref.spec.ts\n+++ b/packages/reactivity/__tests__/ref.spec.ts\n@@ -16,6 +16,7 @@ import {\n   isShallow,\n   readonly,\n   shallowReactive,\n+  shallowReadonly,\n } from \u0027../src/reactive\u0027\n \n describe(\u0027reactivity/ref\u0027, () \u003d\u003e {\n@@ -308,18 +309,83 @@ describe(\u0027reactivity/ref\u0027, () \u003d\u003e {\n     a.x \u003d 4\n     expect(dummyX).toBe(4)\n \n-    // should keep ref\n-    const r \u003d { x: ref(1) }\n-    expect(toRef(r, \u0027x\u0027)).toBe(r.x)\n+    // a ref in a non-reactive object should be unwrapped\n+    const r: any \u003d { x: ref(1) }\n+    const t \u003d toRef(r, \u0027x\u0027)\n+    expect(t.value).toBe(1)\n+\n+    r.x.value \u003d 2\n+    expect(t.value).toBe(2)\n+\n+    t.value \u003d 3\n+    expect(t.value).toBe(3)\n+    expect(r.x.value).toBe(3)\n+\n+    // with a default\n+    const u \u003d toRef(r, \u0027x\u0027, 7)\n+    expect(u.value).toBe(3)\n+\n+    r.x.value \u003d undefined\n+    expect(r.x.value).toBeUndefined()\n+    expect(t.value).toBeUndefined()\n+    expect(u.value).toBe(7)\n+\n+    u.value \u003d 7\n+    expect(r.x.value).toBe(7)\n+    expect(t.value).toBe(7)\n+    expect(u.value).toBe(7)\n   })\n \n   test(\u0027toRef on array\u0027, () \u003d\u003e {\n-    const a \u003d reactive([\u0027a\u0027, \u0027b\u0027])\n+    const a: any \u003d reactive([\u0027a\u0027, \u0027b\u0027])\n     const r \u003d toRef(a, 1)\n     expect(r.value).toBe(\u0027b\u0027)\n     r.value \u003d \u0027c\u0027\n     expect(r.value).toBe(\u0027c\u0027)\n     expect(a[1]).toBe(\u0027c\u0027)\n+\n+    a[1] \u003d ref(\u0027d\u0027)\n+    expect(isRef(a[1])).toBe(true)\n+    expect(r.value).toBe(\u0027d\u0027)\n+    r.value \u003d \u0027e\u0027\n+    expect(isRef(a[1])).toBe(true)\n+    expect(a[1].value).toBe(\u0027e\u0027)\n+\n+    const s \u003d toRef(a, 2, \u0027def\u0027)\n+    const len \u003d toRef(a, \u0027length\u0027)\n+\n+    expect(s.value).toBe(\u0027def\u0027)\n+    expect(len.value).toBe(2)\n+\n+    a.push(\u0027f\u0027)\n+    expect(s.value).toBe(\u0027f\u0027)\n+    expect(len.value).toBe(3)\n+\n+    len.value \u003d 2\n+\n+    expect(s.value).toBe(\u0027def\u0027)\n+    expect(len.value).toBe(2)\n+\n+    const symbol \u003d Symbol()\n+    const t \u003d toRef(a, \u0027foo\u0027)\n+    const u \u003d toRef(a, symbol)\n+    expect(t.value).toBeUndefined()\n+    expect(u.value).toBeUndefined()\n+\n+    const foo \u003d ref(3)\n+    const bar \u003d ref(5)\n+    a.foo \u003d foo\n+    a[symbol] \u003d bar\n+    expect(t.value).toBe(3)\n+    expect(u.value).toBe(5)\n+\n+    t.value \u003d 4\n+    u.value \u003d 6\n+\n+    expect(a.foo).toBe(4)\n+    expect(foo.value).toBe(4)\n+    expect(a[symbol]).toBe(6)\n+    expect(bar.value).toBe(6)\n   })\n \n   test(\u0027toRef default value\u0027, () \u003d\u003e {\n@@ -345,6 +411,148 @@ describe(\u0027reactivity/ref\u0027, () \u003d\u003e {\n     expect(isReadonly(x)).toBe(true)\n   })\n \n+  test(\u0027toRef lazy evaluation of properties inside a proxy\u0027, () \u003d\u003e {\n+    const fn \u003d vi.fn(() \u003d\u003e 5)\n+    const num \u003d computed(fn)\n+    const a \u003d toRef({ num }, \u0027num\u0027)\n+    const b \u003d toRef(reactive({ num }), \u0027num\u0027)\n+    const c \u003d toRef(readonly({ num }), \u0027num\u0027)\n+    const d \u003d toRef(shallowReactive({ num }), \u0027num\u0027)\n+    const e \u003d toRef(shallowReadonly({ num }), \u0027num\u0027)\n+\n+    expect(fn).not.toHaveBeenCalled()\n+\n+    expect(a.value).toBe(5)\n+    expect(b.value).toBe(5)\n+    expect(c.value).toBe(5)\n+    expect(d.value).toBe(5)\n+    expect(e.value).toBe(5)\n+    expect(fn).toHaveBeenCalledTimes(1)\n+  })\n+\n+  test(\u0027toRef with shallowReactive/shallowReadonly\u0027, () \u003d\u003e {\n+    const r \u003d ref(0)\n+    const s1 \u003d shallowReactive\u003c{ foo: any }\u003e({ foo: r })\n+    const t1 \u003d toRef(s1, \u0027foo\u0027, 2)\n+    const s2 \u003d shallowReadonly(s1)\n+    const t2 \u003d toRef(s2, \u0027foo\u0027, 3)\n+\n+    expect(r.value).toBe(0)\n+    expect(s1.foo.value).toBe(0)\n+    expect(t1.value).toBe(0)\n+    expect(s2.foo.value).toBe(0)\n+    expect(t2.value).toBe(0)\n+\n+    s1.foo \u003d ref(1)\n+\n+    expect(r.value).toBe(0)\n+    expect(s1.foo.value).toBe(1)\n+    expect(t1.value).toBe(1)\n+    expect(s2.foo.value).toBe(1)\n+    expect(t2.value).toBe(1)\n+\n+    s1.foo.value \u003d undefined\n+\n+    expect(r.value).toBe(0)\n+    expect(s1.foo.value).toBeUndefined()\n+    expect(t1.value).toBe(2)\n+    expect(s2.foo.value).toBeUndefined()\n+    expect(t2.value).toBe(3)\n+\n+    t1.value \u003d 2\n+\n+    expect(r.value).toBe(0)\n+    expect(s1.foo.value).toBe(2)\n+    expect(t1.value).toBe(2)\n+    expect(s2.foo.value).toBe(2)\n+    expect(t2.value).toBe(2)\n+\n+    t2.value \u003d 4\n+\n+    expect(r.value).toBe(0)\n+    expect(s1.foo.value).toBe(4)\n+    expect(t1.value).toBe(4)\n+    expect(s2.foo.value).toBe(4)\n+    expect(t2.value).toBe(4)\n+\n+    s1.foo \u003d undefined\n+\n+    expect(r.value).toBe(0)\n+    expect(s1.foo).toBeUndefined()\n+    expect(t1.value).toBe(2)\n+    expect(s2.foo).toBeUndefined()\n+    expect(t2.value).toBe(3)\n+  })\n+\n+  test(\u0027toRef for shallowReadonly around reactive\u0027, () \u003d\u003e {\n+    const get \u003d vi.fn(() \u003d\u003e 3)\n+    const set \u003d vi.fn()\n+    const num \u003d computed({ get, set })\n+    const t \u003d toRef(shallowReadonly(reactive({ num })), \u0027num\u0027)\n+\n+    expect(get).not.toHaveBeenCalled()\n+    expect(set).not.toHaveBeenCalled()\n+\n+    t.value \u003d 1\n+\n+    expect(\n+      \u0027Set operation on key \"num\" failed: target is readonly\u0027,\n+    ).toHaveBeenWarned()\n+\n+    expect(get).not.toHaveBeenCalled()\n+    expect(set).not.toHaveBeenCalled()\n+\n+    expect(t.value).toBe(3)\n+\n+    expect(get).toHaveBeenCalledTimes(1)\n+    expect(set).not.toHaveBeenCalled()\n+  })\n+\n+  test(\u0027toRef for readonly around shallowReactive\u0027, () \u003d\u003e {\n+    const get \u003d vi.fn(() \u003d\u003e 3)\n+    const set \u003d vi.fn()\n+    const num \u003d computed({ get, set })\n+    const t: Ref\u003cnumber\u003e \u003d toRef(readonly(shallowReactive({ num })), \u0027num\u0027)\n+\n+    expect(get).not.toHaveBeenCalled()\n+    expect(set).not.toHaveBeenCalled()\n+\n+    t.value \u003d 1\n+\n+    expect(\n+      \u0027Set operation on key \"num\" failed: target is readonly\u0027,\n+    ).toHaveBeenWarned()\n+\n+    expect(get).not.toHaveBeenCalled()\n+    expect(set).not.toHaveBeenCalled()\n+\n+    expect(t.value).toBe(3)\n+\n+    expect(get).toHaveBeenCalledTimes(1)\n+    expect(set).not.toHaveBeenCalled()\n+  })\n+\n+  test(`toRef doesn\u0027t bypass the proxy when getting/setting a nested ref`, () \u003d\u003e {\n+    const r \u003d ref(2)\n+    const obj \u003d shallowReactive({ num: r })\n+    const t \u003d toRef(obj, \u0027num\u0027)\n+\n+    expect(t.value).toBe(2)\n+\n+    effect(() \u003d\u003e {\n+      t.value \u003d 3\n+    })\n+\n+    expect(t.value).toBe(3)\n+    expect(r.value).toBe(3)\n+\n+    const s \u003d ref(4)\n+    obj.num \u003d s\n+\n+    expect(t.value).toBe(3)\n+    expect(s.value).toBe(3)\n+  })\n+\n   test(\u0027toRefs\u0027, () \u003d\u003e {\n     const a \u003d reactive({\n       x: 1,\ndiff --git a/packages/reactivity/src/baseHandlers.ts b/packages/reactivity/src/baseHandlers.ts\nindex 68ad10f..b69d795 100644\n--- a/packages/reactivity/src/baseHandlers.ts\n+++ b/packages/reactivity/src/baseHandlers.ts\n@@ -146,13 +146,14 @@ class MutableReactiveHandler extends BaseReactiveHandler {\n     receiver: object,\n   ): boolean {\n     let oldValue \u003d target[key]\n+    const isArrayWithIntegerKey \u003d isArray(target) \u0026\u0026 isIntegerKey(key)\n     if (!this._isShallow) {\n       const isOldValueReadonly \u003d isReadonly(oldValue)\n       if (!isShallow(value) \u0026\u0026 !isReadonly(value)) {\n         oldValue \u003d toRaw(oldValue)\n         value \u003d toRaw(value)\n       }\n-      if (!isArray(target) \u0026\u0026 isRef(oldValue) \u0026\u0026 !isRef(value)) {\n+      if (!isArrayWithIntegerKey \u0026\u0026 isRef(oldValue) \u0026\u0026 !isRef(value)) {\n         if (isOldValueReadonly) {\n           if (__DEV__) {\n             warn(\n@@ -170,10 +171,9 @@ class MutableReactiveHandler extends BaseReactiveHandler {\n       // in shallow mode, objects are set as-is regardless of reactive or not\n     }\n \n-    const hadKey \u003d\n-      isArray(target) \u0026\u0026 isIntegerKey(key)\n-        ? Number(key) \u003c target.length\n-        : hasOwn(target, key)\n+    const hadKey \u003d isArrayWithIntegerKey\n+      ? Number(key) \u003c target.length\n+      : hasOwn(target, key)\n     const result \u003d Reflect.set(\n       target,\n       key,\ndiff --git a/packages/reactivity/src/ref.ts b/packages/reactivity/src/ref.ts\nindex 0246297..1b8eaaf 100644\n--- a/packages/reactivity/src/ref.ts\n+++ b/packages/reactivity/src/ref.ts\n@@ -3,12 +3,14 @@ import {\n   hasChanged,\n   isArray,\n   isFunction,\n+  isIntegerKey,\n   isObject,\n } from \u0027@vue/shared\u0027\n import { Dep, getDepFromReactive } from \u0027./dep\u0027\n import {\n   type Builtin,\n   type ShallowReactiveMarker,\n+  type Target,\n   isProxy,\n   isReactive,\n   isReadonly,\n@@ -351,23 +353,52 @@ class ObjectRefImpl\u003cT extends object, K extends keyof T\u003e {\n   public readonly [ReactiveFlags.IS_REF] \u003d true\n   public _value: T[K] \u003d undefined!\n \n+  private readonly _raw: T\n+  private readonly _shallow: boolean\n+\n   constructor(\n     private readonly _object: T,\n     private readonly _key: K,\n     private readonly _defaultValue?: T[K],\n-  ) {}\n+  ) {\n+    this._raw \u003d toRaw(_object)\n+\n+    let shallow \u003d true\n+    let obj \u003d _object\n+\n+    // For an array with integer key, refs are not unwrapped\n+    if (!isArray(_object) || !isIntegerKey(String(_key))) {\n+      // Otherwise, check each proxy layer for unwrapping\n+      do {\n+        shallow \u003d !isProxy(obj) || isShallow(obj)\n+      } while (shallow \u0026\u0026 (obj \u003d (obj as Target)[ReactiveFlags.RAW]))\n+    }\n+\n+    this._shallow \u003d shallow\n+  }\n \n   get value() {\n-    const val \u003d this._object[this._key]\n+    let val \u003d this._object[this._key]\n+    if (this._shallow) {\n+      val \u003d unref(val)\n+    }\n     return (this._value \u003d val \u003d\u003d\u003d undefined ? this._defaultValue! : val)\n   }\n \n   set value(newVal) {\n+    if (this._shallow \u0026\u0026 isRef(this._raw[this._key])) {\n+      const nestedRef \u003d this._object[this._key]\n+      if (isRef(nestedRef)) {\n+        nestedRef.value \u003d newVal\n+        return\n+      }\n+    }\n+\n     this._object[this._key] \u003d newVal\n   }\n \n   get dep(): Dep | undefined {\n-    return getDepFromReactive(toRaw(this._object), this._key)\n+    return getDepFromReactive(this._raw, this._key)\n   }\n }\n \n@@ -464,10 +495,7 @@ function propertyToRef(\n   key: string,\n   defaultValue?: unknown,\n ) {\n-  const val \u003d source[key]\n-  return isRef(val)\n-    ? val\n-    : (new ObjectRefImpl(source, key, defaultValue) as any)\n+  return new ObjectRefImpl(source, key, defaultValue) as any\n }\n \n /**","expectedMessage":"fix(reactivity): toRef edge cases for ref unwrapping (#12420)","repository":"vue","commitHash":"0d2357e6974678d5484751c869f429dc6ea85582","metadata":{"author":"skirtle \u003c65301168+skirtles-code@users.noreply.github.com\u003e"}}
{"id":"vue-247b2c20","diff":" packages/runtime-core/__tests__/apiInject.spec.ts | 43 +++++++++++++++++++++++\n packages/runtime-core/src/apiInject.ts            |  7 ++--\n 2 files changed, 47 insertions(+), 3 deletions(-)\n\ndiff --git a/packages/runtime-core/__tests__/apiInject.spec.ts b/packages/runtime-core/__tests__/apiInject.spec.ts\nindex e5c9267..27dc967 100644\n--- a/packages/runtime-core/__tests__/apiInject.spec.ts\n+++ b/packages/runtime-core/__tests__/apiInject.spec.ts\n@@ -6,6 +6,7 @@ import {\n   hasInjectionContext,\n   inject,\n   nextTick,\n+  onMounted,\n   provide,\n   reactive,\n   readonly,\n@@ -372,4 +373,46 @@ describe(\u0027api: provide/inject\u0027, () \u003d\u003e {\n       })\n     })\n   })\n+\n+  describe(\u0027warnings for incorrect usage\u0027, () \u003d\u003e {\n+    it(\u0027should warn when inject() is called outside setup\u0027, () \u003d\u003e {\n+      inject(\u0027foo\u0027, \u0027bar\u0027)\n+      expect(`inject() can only be used`).toHaveBeenWarned()\n+    })\n+\n+    it(\u0027should warn when provide() is called outside setup\u0027, () \u003d\u003e {\n+      provide(\u0027foo\u0027, \u0027bar\u0027)\n+      expect(`provide() can only be used`).toHaveBeenWarned()\n+    })\n+\n+    it(\u0027should warn when provide() is called from a render function\u0027, () \u003d\u003e {\n+      const Provider \u003d {\n+        setup() {\n+          return () \u003d\u003e {\n+            provide(\u0027foo\u0027, \u0027bar\u0027)\n+          }\n+        },\n+      }\n+\n+      const root \u003d nodeOps.createElement(\u0027div\u0027)\n+      render(h(Provider), root)\n+      expect(`provide() can only be used`).toHaveBeenWarned()\n+    })\n+\n+    it(\u0027should warn when provide() is called from onMounted\u0027, () \u003d\u003e {\n+      const Provider \u003d {\n+        setup() {\n+          onMounted(() \u003d\u003e {\n+            provide(\u0027foo\u0027, \u0027bar\u0027)\n+          })\n+\n+          return () \u003d\u003e null\n+        },\n+      }\n+\n+      const root \u003d nodeOps.createElement(\u0027div\u0027)\n+      render(h(Provider), root)\n+      expect(`provide() can only be used`).toHaveBeenWarned()\n+    })\n+  })\n })\ndiff --git a/packages/runtime-core/src/apiInject.ts b/packages/runtime-core/src/apiInject.ts\nindex d5c97a5..af59984 100644\n--- a/packages/runtime-core/src/apiInject.ts\n+++ b/packages/runtime-core/src/apiInject.ts\n@@ -11,11 +11,12 @@ export function provide\u003cT, K \u003d InjectionKey\u003cT\u003e | string | number\u003e(\n   key: K,\n   value: K extends InjectionKey\u003cinfer V\u003e ? V : T,\n ): void {\n-  if (!currentInstance) {\n-    if (__DEV__) {\n+  if (__DEV__) {\n+    if (!currentInstance || currentInstance.isMounted) {\n       warn(`provide() can only be used inside setup().`)\n     }\n-  } else {\n+  }\n+  if (currentInstance) {\n     let provides \u003d currentInstance.provides\n     // by default an instance inherits its parent\u0027s provides object\n     // but when it needs to provide values of its own, it creates its","expectedMessage":"fix(provide): warn when using `provide` after mounting (#13954)","repository":"vue","commitHash":"247b2c2067afc4dee52f9f7bc194f3aab347ac55","metadata":{"author":"skirtle \u003c65301168+skirtles-code@users.noreply.github.com\u003e"}}
{"id":"vue-b50eb68c","diff":" packages/runtime-core/__tests__/component.spec.ts | 157 ++++++++++++++++++++++\n packages/runtime-core/src/component.ts            |  16 ++-\n 2 files changed, 167 insertions(+), 6 deletions(-)\n\ndiff --git a/packages/runtime-core/__tests__/component.spec.ts b/packages/runtime-core/__tests__/component.spec.ts\nnew file mode 100644\nindex 0000000..7b29e77\n--- /dev/null\n+++ b/packages/runtime-core/__tests__/component.spec.ts\n@@ -0,0 +1,157 @@\n+import {\n+  type ComponentInternalInstance,\n+  getCurrentInstance,\n+  h,\n+  nodeOps,\n+  render,\n+} from \u0027@vue/runtime-test\u0027\n+import { formatComponentName } from \u0027../src/component\u0027\n+\n+describe(\u0027formatComponentName\u0027, () \u003d\u003e {\n+  test(\u0027default name\u0027, () \u003d\u003e {\n+    let instance: ComponentInternalInstance | null \u003d null\n+    const Comp \u003d {\n+      setup() {\n+        instance \u003d getCurrentInstance()\n+        return () \u003d\u003e null\n+      },\n+    }\n+    render(h(Comp), nodeOps.createElement(\u0027div\u0027))\n+\n+    expect(formatComponentName(null, Comp)).toBe(\u0027Anonymous\u0027)\n+    expect(formatComponentName(null, Comp, true)).toBe(\u0027App\u0027)\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027Anonymous\u0027)\n+    expect(formatComponentName(instance, Comp, true)).toBe(\u0027App\u0027)\n+  })\n+\n+  test(\u0027name option\u0027, () \u003d\u003e {\n+    let instance: ComponentInternalInstance | null \u003d null\n+    const Comp \u003d {\n+      name: \u0027number-input\u0027,\n+      setup() {\n+        instance \u003d getCurrentInstance()\n+        return () \u003d\u003e null\n+      },\n+    }\n+    render(h(Comp), nodeOps.createElement(\u0027div\u0027))\n+\n+    expect(formatComponentName(null, Comp)).toBe(\u0027NumberInput\u0027)\n+    expect(formatComponentName(instance, Comp, true)).toBe(\u0027NumberInput\u0027)\n+  })\n+\n+  test(\u0027self recursive name\u0027, () \u003d\u003e {\n+    let instance: ComponentInternalInstance | null \u003d null\n+    const Comp \u003d {\n+      components: {} as any,\n+      setup() {\n+        instance \u003d getCurrentInstance()\n+        return () \u003d\u003e null\n+      },\n+    }\n+    Comp.components.ToggleButton \u003d Comp\n+    render(h(Comp), nodeOps.createElement(\u0027div\u0027))\n+\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027ToggleButton\u0027)\n+  })\n+\n+  test(\u0027name from parent\u0027, () \u003d\u003e {\n+    let instance: ComponentInternalInstance | null \u003d null\n+    const Comp \u003d {\n+      setup() {\n+        instance \u003d getCurrentInstance()\n+        return () \u003d\u003e null\n+      },\n+    }\n+    const Parent \u003d {\n+      components: {\n+        list_item: Comp,\n+      },\n+      render() {\n+        return h(Comp)\n+      },\n+    }\n+    render(h(Parent), nodeOps.createElement(\u0027div\u0027))\n+\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027ListItem\u0027)\n+  })\n+\n+  test(\u0027functional components\u0027, () \u003d\u003e {\n+    const UserAvatar \u003d () \u003d\u003e null\n+    expect(formatComponentName(null, UserAvatar)).toBe(\u0027UserAvatar\u0027)\n+    UserAvatar.displayName \u003d \u0027UserPicture\u0027\n+    expect(formatComponentName(null, UserAvatar)).toBe(\u0027UserPicture\u0027)\n+    expect(formatComponentName(null, () \u003d\u003e null)).toBe(\u0027Anonymous\u0027)\n+  })\n+\n+  test(\u0027Name from file\u0027, () \u003d\u003e {\n+    const Comp \u003d {\n+      __file: \u0027./src/locale-dropdown.vue\u0027,\n+    }\n+\n+    expect(formatComponentName(null, Comp)).toBe(\u0027LocaleDropdown\u0027)\n+  })\n+\n+  test(\u0027inferred name\u0027, () \u003d\u003e {\n+    const Comp \u003d {\n+      __name: \u0027MainSidebar\u0027,\n+    }\n+\n+    expect(formatComponentName(null, Comp)).toBe(\u0027MainSidebar\u0027)\n+  })\n+\n+  test(\u0027global component\u0027, () \u003d\u003e {\n+    let instance: ComponentInternalInstance | null \u003d null\n+    const Comp \u003d {\n+      setup() {\n+        instance \u003d getCurrentInstance()\n+        return () \u003d\u003e null\n+      },\n+    }\n+    render(h(Comp), nodeOps.createElement(\u0027div\u0027))\n+\n+    instance!.appContext.components.FieldLabel \u003d Comp\n+\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027FieldLabel\u0027)\n+  })\n+\n+  test(\u0027name precedence\u0027, () \u003d\u003e {\n+    let instance: ComponentInternalInstance | null \u003d null\n+    const Dummy \u003d () \u003d\u003e null\n+    const Comp: Record\u003cstring, any\u003e \u003d {\n+      components: { Dummy },\n+      setup() {\n+        instance \u003d getCurrentInstance()\n+        return () \u003d\u003e null\n+      },\n+    }\n+    const Parent \u003d {\n+      components: { Dummy } as any,\n+      render() {\n+        return h(Comp)\n+      },\n+    }\n+    render(h(Parent), nodeOps.createElement(\u0027div\u0027))\n+\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027Anonymous\u0027)\n+    expect(formatComponentName(instance, Comp, true)).toBe(\u0027App\u0027)\n+\n+    instance!.appContext.components.CompA \u003d Comp\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027CompA\u0027)\n+    expect(formatComponentName(instance, Comp, true)).toBe(\u0027CompA\u0027)\n+\n+    Parent.components.CompB \u003d Comp\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027CompB\u0027)\n+\n+    Comp.components.CompC \u003d Comp\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027CompC\u0027)\n+\n+    Comp.__file \u003d \u0027./CompD.js\u0027\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027CompD\u0027)\n+\n+    Comp.__name \u003d \u0027CompE\u0027\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027CompE\u0027)\n+\n+    Comp.name \u003d \u0027CompF\u0027\n+    expect(formatComponentName(instance, Comp)).toBe(\u0027CompF\u0027)\n+  })\n+})\ndiff --git a/packages/runtime-core/src/component.ts b/packages/runtime-core/src/component.ts\nindex baa673f..4e1aa5e 100644\n--- a/packages/runtime-core/src/component.ts\n+++ b/packages/runtime-core/src/component.ts\n@@ -897,7 +897,7 @@ function setupStatefulComponent(\n         // bail here and wait for re-entry.\n         instance.asyncDep \u003d setupResult\n         if (__DEV__ \u0026\u0026 !instance.suspense) {\n-          const name \u003d Component.name ?? \u0027Anonymous\u0027\n+          const name \u003d formatComponentName(instance, Component)\n           warn(\n             `Component \u003c${name}\u003e: setup function returned a promise, but no ` +\n               `\u003cSuspense\u003e boundary was found in the parent component tree. ` +\n@@ -1229,9 +1229,11 @@ export function formatComponentName(\n     }\n   }\n \n-  if (!name \u0026\u0026 instance \u0026\u0026 instance.parent) {\n+  if (!name \u0026\u0026 instance) {\n     // try to infer the name based on reverse resolution\n-    const inferFromRegistry \u003d (registry: Record\u003cstring, any\u003e | undefined) \u003d\u003e {\n+    const inferFromRegistry \u003d (\n+      registry: Record\u003cstring, any\u003e | undefined | null,\n+    ) \u003d\u003e {\n       for (const key in registry) {\n         if (registry[key] \u003d\u003d\u003d Component) {\n           return key\n@@ -1239,10 +1241,12 @@ export function formatComponentName(\n       }\n     }\n     name \u003d\n-      inferFromRegistry(\n-        instance.components ||\n+      inferFromRegistry(instance.components) ||\n+      (instance.parent \u0026\u0026\n+        inferFromRegistry(\n           (instance.parent.type as ComponentOptions).components,\n-      ) || inferFromRegistry(instance.appContext.components)\n+        )) ||\n+      inferFromRegistry(instance.appContext.components)\n   }\n \n   return name ? classify(name) : isRoot ? `App` : `Anonymous`","expectedMessage":"dx(runtime-core): check current and parent components in formatComponentName (#7220)","repository":"vue","commitHash":"b50eb68c50f3b94dca2e96f706c3e96ab864df24","metadata":{"author":"skirtle \u003c65301168+skirtles-code@users.noreply.github.com\u003e"}}
{"id":"vue-5af3dd9b","diff":" packages/runtime-core/src/componentPublicInstance.ts | 14 ++++----------\n 1 file changed, 4 insertions(+), 10 deletions(-)\n\ndiff --git a/packages/runtime-core/src/componentPublicInstance.ts b/packages/runtime-core/src/componentPublicInstance.ts\nindex 57d784c..a334b48 100644\n--- a/packages/runtime-core/src/componentPublicInstance.ts\n+++ b/packages/runtime-core/src/componentPublicInstance.ts\n@@ -430,7 +430,6 @@ export const PublicInstanceProxyHandlers: ProxyHandler\u003cany\u003e \u003d {\n     // is the multiple hasOwn() calls. It\u0027s much faster to do a simple property\n     // access on a plain object, so we use an accessCache object (with null\n     // prototype) to memoize what access type a key corresponds to.\n-    let normalizedProps\n     if (key[0] !\u003d\u003d \u0027$\u0027) {\n       const n \u003d accessCache![key]\n       if (n !\u003d\u003d undefined) {\n@@ -455,12 +454,7 @@ export const PublicInstanceProxyHandlers: ProxyHandler\u003cany\u003e \u003d {\n       ) {\n         accessCache![key] \u003d AccessTypes.DATA\n         return data[key]\n-      } else if (\n-        // only cache other properties when instance has declared (thus stable)\n-        // props\n-        (normalizedProps \u003d instance.propsOptions[0]) \u0026\u0026\n-        hasOwn(normalizedProps, key)\n-      ) {\n+      } else if (hasOwn(props, key)) {\n         accessCache![key] \u003d AccessTypes.PROPS\n         return props![key]\n       } else if (ctx !\u003d\u003d EMPTY_OBJ \u0026\u0026 hasOwn(ctx, key)) {\n@@ -583,11 +577,11 @@ export const PublicInstanceProxyHandlers: ProxyHandler\u003cany\u003e \u003d {\n \n   has(\n     {\n-      _: { data, setupState, accessCache, ctx, appContext, propsOptions, type },\n+      _: { data, setupState, accessCache, ctx, appContext, props, type },\n     }: ComponentRenderContext,\n     key: string,\n   ) {\n-    let normalizedProps, cssModules\n+    let cssModules\n     return !!(\n       accessCache![key] ||\n       (__FEATURE_OPTIONS_API__ \u0026\u0026\n@@ -595,7 +589,7 @@ export const PublicInstanceProxyHandlers: ProxyHandler\u003cany\u003e \u003d {\n         key[0] !\u003d\u003d \u0027$\u0027 \u0026\u0026\n         hasOwn(data, key)) ||\n       hasSetupBinding(setupState, key) ||\n-      ((normalizedProps \u003d propsOptions[0]) \u0026\u0026 hasOwn(normalizedProps, key)) ||\n+      hasOwn(props, key) ||\n       hasOwn(ctx, key) ||\n       hasOwn(publicPropertiesMap, key) ||\n       hasOwn(appContext.config.globalProperties, key) ||","expectedMessage":"refactor(runtime-core): check `props` rather than `propsOptions[0]` (#13514)","repository":"vue","commitHash":"5af3dd9b4546252222bb2e4d80499ba37cead03b","metadata":{"author":"skirtle \u003c65301168+skirtles-code@users.noreply.github.com\u003e"}}
{"id":"vue-2214f7ab","diff":" .../transforms/__snapshots__/vSlot.spec.ts.snap    | 58 ++++++++++++++++\n .../__tests__/transforms/transformText.spec.ts     | 19 +++++\n .../compiler-core/__tests__/transforms/vIf.spec.ts | 52 +++++++++++++-\n .../__tests__/transforms/vSlot.spec.ts             | 80 +++++++++++++++++++++-\n packages/compiler-core/src/parser.ts               | 10 +--\n packages/compiler-core/src/transforms/vIf.ts       | 23 +++----\n packages/compiler-core/src/transforms/vSlot.ts     | 14 ++--\n packages/compiler-core/src/utils.ts                | 21 ++++++\n .../__tests__/transforms/Transition.spec.ts        | 28 ++++++++\n .../__snapshots__/Transition.spec.ts.snap          | 17 +++++\n packages/compiler-dom/src/transforms/Transition.ts |  7 +-\n 11 files changed, 292 insertions(+), 37 deletions(-)\n\ndiff --git a/packages/compiler-core/__tests__/transforms/__snapshots__/vSlot.spec.ts.snap b/packages/compiler-core/__tests__/transforms/__snapshots__/vSlot.spec.ts.snap\nindex 2cd13ba..0ce4033 100644\n--- a/packages/compiler-core/__tests__/transforms/__snapshots__/vSlot.spec.ts.snap\n+++ b/packages/compiler-core/__tests__/transforms/__snapshots__/vSlot.spec.ts.snap\n@@ -139,6 +139,24 @@ return function render(_ctx, _cache) {\n }\"\n `;\n \n+exports[`compiler: transform component slots \u003e named slots w/ implicit default slot containing non-breaking space 1`] \u003d `\n+\"const _Vue \u003d Vue\n+\n+return function render(_ctx, _cache) {\n+  with (_ctx) {\n+    const { resolveComponent: _resolveComponent, withCtx: _withCtx, openBlock: _openBlock, createBlock: _createBlock } \u003d _Vue\n+\n+    const _component_Comp \u003d _resolveComponent(\"Comp\")\n+\n+    return (_openBlock(), _createBlock(_component_Comp, null, {\n+      one: _withCtx(() \u003d\u003e [\"foo\"]),\n+      default: _withCtx(() \u003d\u003e [\"  \"]),\n+      _: 1 /* STABLE */\n+    }))\n+  }\n+}\"\n+`;\n+\n exports[`compiler: transform component slots \u003e nested slots scoping 1`] \u003d `\n \"const { toDisplayString: _toDisplayString, resolveComponent: _resolveComponent, withCtx: _withCtx, createVNode: _createVNode, openBlock: _openBlock, createBlock: _createBlock } \u003d Vue\n \n@@ -232,6 +250,20 @@ return function render(_ctx, _cache) {\n }\"\n `;\n \n+exports[`compiler: transform component slots \u003e with whitespace: \u0027preserve\u0027 \u003e implicit default slot with non-breaking space 1`] \u003d `\n+\"const { resolveComponent: _resolveComponent, withCtx: _withCtx, openBlock: _openBlock, createBlock: _createBlock } \u003d Vue\n+\n+return function render(_ctx, _cache) {\n+  const _component_Comp \u003d _resolveComponent(\"Comp\")\n+\n+  return (_openBlock(), _createBlock(_component_Comp, null, {\n+    header: _withCtx(() \u003d\u003e [\" Header \"]),\n+    default: _withCtx(() \u003d\u003e [\"\\\\n        \\\\n        \"]),\n+    _: 1 /* STABLE */\n+  }))\n+}\"\n+`;\n+\n exports[`compiler: transform component slots \u003e with whitespace: \u0027preserve\u0027 \u003e named default slot + implicit whitespace content 1`] \u003d `\n \"const { resolveComponent: _resolveComponent, withCtx: _withCtx, openBlock: _openBlock, createBlock: _createBlock } \u003d Vue\n \n@@ -268,6 +300,32 @@ return function render(_ctx, _cache) {\n }\"\n `;\n \n+exports[`compiler: transform component slots \u003e with whitespace: \u0027preserve\u0027 \u003e named slot with v-if + v-else and comments 1`] \u003d `\n+\"const { createTextVNode: _createTextVNode, createCommentVNode: _createCommentVNode, resolveComponent: _resolveComponent, withCtx: _withCtx, createSlots: _createSlots, openBlock: _openBlock, createBlock: _createBlock } \u003d Vue\n+\n+return function render(_ctx, _cache) {\n+  const _component_Comp \u003d _resolveComponent(\"Comp\")\n+\n+  return (_openBlock(), _createBlock(_component_Comp, null, _createSlots({ _: 2 /* DYNAMIC */ }, [\n+    ok\n+      ? {\n+          name: \"one\",\n+          fn: _withCtx(() \u003d\u003e [\n+            _createTextVNode(\"foo\")\n+          ]),\n+          key: \"0\"\n+        }\n+      : {\n+          name: \"two\",\n+          fn: _withCtx(() \u003d\u003e [\n+            _createTextVNode(\"baz\")\n+          ]),\n+          key: \"1\"\n+        }\n+  ]), 1024 /* DYNAMIC_SLOTS */))\n+}\"\n+`;\n+\n exports[`compiler: transform component slots \u003e with whitespace: \u0027preserve\u0027 \u003e should not generate whitespace only default slot 1`] \u003d `\n \"const { resolveComponent: _resolveComponent, withCtx: _withCtx, openBlock: _openBlock, createBlock: _createBlock } \u003d Vue\n \ndiff --git a/packages/compiler-core/__tests__/transforms/transformText.spec.ts b/packages/compiler-core/__tests__/transforms/transformText.spec.ts\nindex 1a6d691..057250d 100644\n--- a/packages/compiler-core/__tests__/transforms/transformText.spec.ts\n+++ b/packages/compiler-core/__tests__/transforms/transformText.spec.ts\n@@ -4,6 +4,7 @@ import {\n   type ForNode,\n   NodeTypes,\n   generate,\n+  isWhitespaceText,\n   baseParse as parse,\n   transform,\n } from \u0027../../src\u0027\n@@ -109,6 +110,24 @@ describe(\u0027compiler: transform text\u0027, () \u003d\u003e {\n     expect(generate(root).code).toMatchSnapshot()\n   })\n \n+  test(\u0027whitespace text\u0027, () \u003d\u003e {\n+    const root \u003d transformWithTextOpt(`\u003cdiv/\u003ehello\u003cdiv/\u003e  \u003cdiv/\u003e`)\n+    expect(root.children.length).toBe(5)\n+    expect(root.children[0].type).toBe(NodeTypes.ELEMENT)\n+    expect(root.children[1].type).toBe(NodeTypes.TEXT_CALL)\n+    expect(root.children[2].type).toBe(NodeTypes.ELEMENT)\n+    expect(root.children[3].type).toBe(NodeTypes.TEXT_CALL)\n+    expect(root.children[4].type).toBe(NodeTypes.ELEMENT)\n+\n+    expect(root.children.map(isWhitespaceText)).toEqual([\n+      false,\n+      false,\n+      false,\n+      true,\n+      false,\n+    ])\n+  })\n+\n   test(\u0027consecutive text mixed with elements\u0027, () \u003d\u003e {\n     const root \u003d transformWithTextOpt(\n       `\u003cdiv/\u003e{{ foo }} bar {{ baz }}\u003cdiv/\u003ehello\u003cdiv/\u003e`,\ndiff --git a/packages/compiler-core/__tests__/transforms/vIf.spec.ts b/packages/compiler-core/__tests__/transforms/vIf.spec.ts\nindex 1e0067a..fe3aef7 100644\n--- a/packages/compiler-core/__tests__/transforms/vIf.spec.ts\n+++ b/packages/compiler-core/__tests__/transforms/vIf.spec.ts\n@@ -266,6 +266,31 @@ describe(\u0027compiler: v-if\u0027, () \u003d\u003e {\n           loc: node3.loc,\n         },\n       ])\n+\n+      const { node: node4 } \u003d parseWithIfTransform(\n+        `\u003cdiv v-if\u003d\"bar\"/\u003efoo\u003cdiv v-else/\u003e`,\n+        { onError },\n+        2,\n+      )\n+      expect(onError.mock.calls[3]).toMatchObject([\n+        {\n+          code: ErrorCodes.X_V_ELSE_NO_ADJACENT_IF,\n+          loc: node4.loc,\n+        },\n+      ])\n+\n+      // Non-breaking space\n+      const { node: node5 } \u003d parseWithIfTransform(\n+        `\u003cdiv v-if\u003d\"bar\"/\u003e\\u00a0\u003cdiv v-else/\u003e`,\n+        { onError },\n+        2,\n+      )\n+      expect(onError.mock.calls[4]).toMatchObject([\n+        {\n+          code: ErrorCodes.X_V_ELSE_NO_ADJACENT_IF,\n+          loc: node5.loc,\n+        },\n+      ])\n     })\n \n     test(\u0027error on v-else-if missing adjacent v-if or v-else-if\u0027, () \u003d\u003e {\n@@ -305,6 +330,31 @@ describe(\u0027compiler: v-if\u0027, () \u003d\u003e {\n         },\n       ])\n \n+      const { node: node4 } \u003d parseWithIfTransform(\n+        `\u003cdiv v-if\u003d\"bar\"/\u003efoo\u003cdiv v-else-if\u003d\"foo\"/\u003e`,\n+        { onError },\n+        2,\n+      )\n+      expect(onError.mock.calls[3]).toMatchObject([\n+        {\n+          code: ErrorCodes.X_V_ELSE_NO_ADJACENT_IF,\n+          loc: node4.loc,\n+        },\n+      ])\n+\n+      // Non-breaking space\n+      const { node: node5 } \u003d parseWithIfTransform(\n+        `\u003cdiv v-if\u003d\"bar\"/\u003e\\u00a0\u003cdiv v-else-if\u003d\"foo\"/\u003e`,\n+        { onError },\n+        2,\n+      )\n+      expect(onError.mock.calls[4]).toMatchObject([\n+        {\n+          code: ErrorCodes.X_V_ELSE_NO_ADJACENT_IF,\n+          loc: node5.loc,\n+        },\n+      ])\n+\n       const {\n         node: { branches },\n       } \u003d parseWithIfTransform(\n@@ -313,7 +363,7 @@ describe(\u0027compiler: v-if\u0027, () \u003d\u003e {\n         0,\n       )\n \n-      expect(onError.mock.calls[3]).toMatchObject([\n+      expect(onError.mock.calls[5]).toMatchObject([\n         {\n           code: ErrorCodes.X_V_ELSE_NO_ADJACENT_IF,\n           loc: branches[branches.length - 1].loc,\ndiff --git a/packages/compiler-core/__tests__/transforms/vSlot.spec.ts b/packages/compiler-core/__tests__/transforms/vSlot.spec.ts\nindex 1213e21..97f6810 100644\n--- a/packages/compiler-core/__tests__/transforms/vSlot.spec.ts\n+++ b/packages/compiler-core/__tests__/transforms/vSlot.spec.ts\n@@ -28,8 +28,12 @@ import { createObjectMatcher } from \u0027../testUtils\u0027\n import { PatchFlags } from \u0027@vue/shared\u0027\n import { transformFor } from \u0027../../src/transforms/vFor\u0027\n import { transformIf } from \u0027../../src/transforms/vIf\u0027\n+import { transformText } from \u0027../../src/transforms/transformText\u0027\n \n-function parseWithSlots(template: string, options: CompilerOptions \u003d {}) {\n+function parseWithSlots(\n+  template: string,\n+  options: CompilerOptions \u0026 { transformText?: boolean } \u003d {},\n+) {\n   const ast \u003d parse(template, {\n     whitespace: options.whitespace,\n   })\n@@ -43,6 +47,7 @@ function parseWithSlots(template: string, options: CompilerOptions \u003d {}) {\n       transformSlotOutlet,\n       transformElement,\n       trackSlotScopes,\n+      ...(options.transformText ? [transformText] : []),\n     ],\n     directiveTransforms: {\n       on: transformOn,\n@@ -307,6 +312,40 @@ describe(\u0027compiler: transform component slots\u0027, () \u003d\u003e {\n     expect(generate(root).code).toMatchSnapshot()\n   })\n \n+  test(\u0027named slots w/ implicit default slot containing non-breaking space\u0027, () \u003d\u003e {\n+    const { root, slots } \u003d parseWithSlots(\n+      `\u003cComp\u003e\n+        \\u00a0\n+        \u003ctemplate #one\u003efoo\u003c/template\u003e\n+      \u003c/Comp\u003e`,\n+    )\n+    expect(slots).toMatchObject(\n+      createSlotMatcher({\n+        one: {\n+          type: NodeTypes.JS_FUNCTION_EXPRESSION,\n+          params: undefined,\n+          returns: [\n+            {\n+              type: NodeTypes.TEXT,\n+              content: `foo`,\n+            },\n+          ],\n+        },\n+        default: {\n+          type: NodeTypes.JS_FUNCTION_EXPRESSION,\n+          params: undefined,\n+          returns: [\n+            {\n+              type: NodeTypes.TEXT,\n+              content: ` \\u00a0 `,\n+            },\n+          ],\n+        },\n+      }),\n+    )\n+    expect(generate(root).code).toMatchSnapshot()\n+  })\n+\n   test(\u0027dynamically named slots\u0027, () \u003d\u003e {\n     const { root, slots } \u003d parseWithSlots(\n       `\u003cComp\u003e\n@@ -1011,6 +1050,27 @@ describe(\u0027compiler: transform component slots\u0027, () \u003d\u003e {\n       expect(generate(root, { prefixIdentifiers: true }).code).toMatchSnapshot()\n     })\n \n+    test(\u0027implicit default slot with non-breaking space\u0027, () \u003d\u003e {\n+      const source \u003d `\n+      \u003cComp\u003e\n+        \u0026nbsp;\n+        \u003ctemplate #header\u003e Header \u003c/template\u003e\n+      \u003c/Comp\u003e\n+      `\n+      const { root } \u003d parseWithSlots(source, {\n+        whitespace: \u0027preserve\u0027,\n+      })\n+\n+      const slots \u003d (root as any).children[0].codegenNode.children\n+        .properties as ObjectExpression[\u0027properties\u0027]\n+\n+      expect(\n+        slots.some(p \u003d\u003e (p.key as SimpleExpressionNode).content \u003d\u003d\u003d \u0027default\u0027),\n+      ).toBe(true)\n+\n+      expect(generate(root, { prefixIdentifiers: true }).code).toMatchSnapshot()\n+    })\n+\n     test(\u0027named slot with v-if + v-else\u0027, () \u003d\u003e {\n       const source \u003d `\n         \u003cComp\u003e\n@@ -1024,5 +1084,23 @@ describe(\u0027compiler: transform component slots\u0027, () \u003d\u003e {\n \n       expect(generate(root, { prefixIdentifiers: true }).code).toMatchSnapshot()\n     })\n+\n+    test(\u0027named slot with v-if + v-else and comments\u0027, () \u003d\u003e {\n+      const source \u003d `\n+        \u003cComp\u003e\n+          \u003ctemplate #one v-if\u003d\"ok\"\u003efoo\u003c/template\u003e\n+          \u003c!-- start --\u003e\n+\n+          \u003c!-- end --\u003e\n+          \u003ctemplate #two v-else\u003ebaz\u003c/template\u003e\n+        \u003c/Comp\u003e\n+      `\n+      const { root } \u003d parseWithSlots(source, {\n+        transformText: true,\n+        whitespace: \u0027preserve\u0027,\n+      })\n+\n+      expect(generate(root, { prefixIdentifiers: true }).code).toMatchSnapshot()\n+    })\n   })\n })\ndiff --git a/packages/compiler-core/src/parser.ts b/packages/compiler-core/src/parser.ts\nindex 2d85289..debf11f 100644\n--- a/packages/compiler-core/src/parser.ts\n+++ b/packages/compiler-core/src/parser.ts\n@@ -40,6 +40,7 @@ import {\n } from \u0027./errors\u0027\n import {\n   forAliasRE,\n+  isAllWhitespace,\n   isCoreComponent,\n   isSimpleIdentifier,\n   isStaticArgOf,\n@@ -881,15 +882,6 @@ function condenseWhitespace(nodes: TemplateChildNode[]): TemplateChildNode[] {\n   return removedWhitespace ? nodes.filter(Boolean) : nodes\n }\n \n-function isAllWhitespace(str: string) {\n-  for (let i \u003d 0; i \u003c str.length; i++) {\n-    if (!isWhitespace(str.charCodeAt(i))) {\n-      return false\n-    }\n-  }\n-  return true\n-}\n-\n function hasNewlineChar(str: string) {\n   for (let i \u003d 0; i \u003c str.length; i++) {\n     const c \u003d str.charCodeAt(i)\ndiff --git a/packages/compiler-core/src/transforms/vIf.ts b/packages/compiler-core/src/transforms/vIf.ts\nindex 7457532..63a65cb 100644\n--- a/packages/compiler-core/src/transforms/vIf.ts\n+++ b/packages/compiler-core/src/transforms/vIf.ts\n@@ -32,7 +32,13 @@ import { processExpression } from \u0027./transformExpression\u0027\n import { validateBrowserExpression } from \u0027../validateExpression\u0027\n import { cloneLoc } from \u0027../parser\u0027\n import { CREATE_COMMENT, FRAGMENT } from \u0027../runtimeHelpers\u0027\n-import { findDir, findProp, getMemoedVNodeCall, injectProp } from \u0027../utils\u0027\n+import {\n+  findDir,\n+  findProp,\n+  getMemoedVNodeCall,\n+  injectProp,\n+  isCommentOrWhitespace,\n+} from \u0027../utils\u0027\n import { PatchFlags } from \u0027@vue/shared\u0027\n \n export const transformIf: NodeTransform \u003d createStructuralDirectiveTransform(\n@@ -125,18 +131,11 @@ export function processIf(\n     let i \u003d siblings.indexOf(node)\n     while (i-- \u003e\u003d -1) {\n       const sibling \u003d siblings[i]\n-      if (sibling \u0026\u0026 sibling.type \u003d\u003d\u003d NodeTypes.COMMENT) {\n-        context.removeNode(sibling)\n-        __DEV__ \u0026\u0026 comments.unshift(sibling)\n-        continue\n-      }\n-\n-      if (\n-        sibling \u0026\u0026\n-        sibling.type \u003d\u003d\u003d NodeTypes.TEXT \u0026\u0026\n-        !sibling.content.trim().length\n-      ) {\n+      if (sibling \u0026\u0026 isCommentOrWhitespace(sibling)) {\n         context.removeNode(sibling)\n+        if (__DEV__ \u0026\u0026 sibling.type \u003d\u003d\u003d NodeTypes.COMMENT) {\n+          comments.unshift(sibling)\n+        }\n         continue\n       }\n \ndiff --git a/packages/compiler-core/src/transforms/vSlot.ts b/packages/compiler-core/src/transforms/vSlot.ts\nindex 3493934..f9a1b72 100644\n--- a/packages/compiler-core/src/transforms/vSlot.ts\n+++ b/packages/compiler-core/src/transforms/vSlot.ts\n@@ -26,9 +26,11 @@ import {\n   assert,\n   findDir,\n   hasScopeRef,\n+  isCommentOrWhitespace,\n   isStaticExp,\n   isTemplateNode,\n   isVSlot,\n+  isWhitespaceText,\n } from \u0027../utils\u0027\n import { CREATE_SLOTS, RENDER_LIST, WITH_CTX } from \u0027../runtimeHelpers\u0027\n import { createForLoopParams, finalizeForParseResult } from \u0027./vFor\u0027\n@@ -230,7 +232,7 @@ export function buildSlots(\n       let prev\n       while (j--) {\n         prev \u003d children[j]\n-        if (prev.type !\u003d\u003d NodeTypes.COMMENT \u0026\u0026 isNonWhitespaceContent(prev)) {\n+        if (!isCommentOrWhitespace(prev)) {\n           break\n         }\n       }\n@@ -327,7 +329,7 @@ export function buildSlots(\n       // #3766\n       // with whitespace: \u0027preserve\u0027, whitespaces between slots will end up in\n       // implicitDefaultChildren. Ignore if all implicit children are whitespaces.\n-      implicitDefaultChildren.some(node \u003d\u003e isNonWhitespaceContent(node))\n+      !implicitDefaultChildren.every(isWhitespaceText)\n     ) {\n       // implicit default slot (mixed with named slots)\n       if (hasNamedDefaultSlot) {\n@@ -419,11 +421,3 @@ function hasForwardedSlots(children: TemplateChildNode[]): boolean {\n   }\n   return false\n }\n-\n-function isNonWhitespaceContent(node: TemplateChildNode): boolean {\n-  if (node.type !\u003d\u003d NodeTypes.TEXT \u0026\u0026 node.type !\u003d\u003d NodeTypes.TEXT_CALL)\n-    return true\n-  return node.type \u003d\u003d\u003d NodeTypes.TEXT\n-    ? !!node.content.trim()\n-    : isNonWhitespaceContent(node.content)\n-}\ndiff --git a/packages/compiler-core/src/utils.ts b/packages/compiler-core/src/utils.ts\nindex e04247d..aa426bb 100644\n--- a/packages/compiler-core/src/utils.ts\n+++ b/packages/compiler-core/src/utils.ts\n@@ -42,6 +42,7 @@ import type { PropsExpression } from \u0027./transforms/transformElement\u0027\n import { parseExpression } from \u0027@babel/parser\u0027\n import type { Expression, Node } from \u0027@babel/types\u0027\n import { unwrapTSNode } from \u0027./babelUtils\u0027\n+import { isWhitespace } from \u0027./tokenizer\u0027\n \n export const isStaticExp \u003d (p: JSChildNode): p is SimpleExpressionNode \u003d\u003e\n   p.type \u003d\u003d\u003d NodeTypes.SIMPLE_EXPRESSION \u0026\u0026 p.isStatic\n@@ -568,3 +569,23 @@ export function getMemoedVNodeCall(\n }\n \n export const forAliasRE: RegExp \u003d /([\\s\\S]*?)\\s+(?:in|of)\\s+(\\S[\\s\\S]*)/\n+\n+export function isAllWhitespace(str: string): boolean {\n+  for (let i \u003d 0; i \u003c str.length; i++) {\n+    if (!isWhitespace(str.charCodeAt(i))) {\n+      return false\n+    }\n+  }\n+  return true\n+}\n+\n+export function isWhitespaceText(node: TemplateChildNode): boolean {\n+  return (\n+    (node.type \u003d\u003d\u003d NodeTypes.TEXT \u0026\u0026 isAllWhitespace(node.content)) ||\n+    (node.type \u003d\u003d\u003d NodeTypes.TEXT_CALL \u0026\u0026 isWhitespaceText(node.content))\n+  )\n+}\n+\n+export function isCommentOrWhitespace(node: TemplateChildNode): boolean {\n+  return node.type \u003d\u003d\u003d NodeTypes.COMMENT || isWhitespaceText(node)\n+}\ndiff --git a/packages/compiler-dom/__tests__/transforms/Transition.spec.ts b/packages/compiler-dom/__tests__/transforms/Transition.spec.ts\nindex 8f64adb..93039d2 100644\n--- a/packages/compiler-dom/__tests__/transforms/Transition.spec.ts\n+++ b/packages/compiler-dom/__tests__/transforms/Transition.spec.ts\n@@ -135,6 +135,18 @@ describe(\u0027Transition multi children warnings\u0027, () \u003d\u003e {\n       false,\n     )\n   })\n+\n+  test(\u0027non-breaking spaces are treated as normal text\u0027, () \u003d\u003e {\n+    checkWarning(\n+      `\n+      \u003ctransition\u003e\n+        \\u00a0\n+        \u003cdiv\u003efoo\u003c/div\u003e\n+      \u003c/transition\u003e\n+      `,\n+      true,\n+    )\n+  })\n })\n \n test(\u0027inject persisted when child has v-show\u0027, () \u003d\u003e {\n@@ -164,3 +176,19 @@ test(\u0027the v-if/else-if/else branches in Transition should ignore comments\u0027, () \u003d\n     `).code,\n   ).toMatchSnapshot()\n })\n+\n+test(\u0027comments and preserved whitespace are ignored\u0027, () \u003d\u003e {\n+  expect(\n+    compile(\n+      `\n+      \u003ctransition\u003e\n+        \u003c!-- foo --\u003e \u003c!-- bar --\u003e\n+        \u003cdiv\u003efoo bar\u003c/div\u003e\n+      \u003c/transition\u003e\n+      `,\n+      {\n+        whitespace: \u0027preserve\u0027,\n+      },\n+    ).code,\n+  ).toMatchSnapshot()\n+})\ndiff --git a/packages/compiler-dom/__tests__/transforms/__snapshots__/Transition.spec.ts.snap b/packages/compiler-dom/__tests__/transforms/__snapshots__/Transition.spec.ts.snap\nindex aa08c13..404ad8c 100644\n--- a/packages/compiler-dom/__tests__/transforms/__snapshots__/Transition.spec.ts.snap\n+++ b/packages/compiler-dom/__tests__/transforms/__snapshots__/Transition.spec.ts.snap\n@@ -1,5 +1,22 @@\n // Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html\n \n+exports[`comments and preserved whitespace are ignored 1`] \u003d `\n+\"const _Vue \u003d Vue\n+\n+return function render(_ctx, _cache) {\n+  with (_ctx) {\n+    const { createCommentVNode: _createCommentVNode, createElementVNode: _createElementVNode, Transition: _Transition, withCtx: _withCtx, openBlock: _openBlock, createBlock: _createBlock } \u003d _Vue\n+\n+    return (_openBlock(), _createBlock(_Transition, null, {\n+      default: _withCtx(() \u003d\u003e [\n+        _createElementVNode(\"div\", null, \"foo bar\")\n+      ]),\n+      _: 1 /* STABLE */\n+    }))\n+  }\n+}\"\n+`;\n+\n exports[`inject persisted when child has v-show 1`] \u003d `\n \"const _Vue \u003d Vue\n \ndiff --git a/packages/compiler-dom/src/transforms/Transition.ts b/packages/compiler-dom/src/transforms/Transition.ts\nindex f6cf968..ccf96e8 100644\n--- a/packages/compiler-dom/src/transforms/Transition.ts\n+++ b/packages/compiler-dom/src/transforms/Transition.ts\n@@ -4,6 +4,7 @@ import {\n   type IfBranchNode,\n   type NodeTransform,\n   NodeTypes,\n+  isCommentOrWhitespace,\n } from \u0027@vue/compiler-core\u0027\n import { TRANSITION } from \u0027../runtimeHelpers\u0027\n import { DOMErrorCodes, createDOMCompilerError } from \u0027../errors\u0027\n@@ -56,11 +57,9 @@ export const transformTransition: NodeTransform \u003d (node, context) \u003d\u003e {\n }\n \n function hasMultipleChildren(node: ComponentNode | IfBranchNode): boolean {\n-  // #1352 filter out potential comment nodes.\n+  // filter out potential comment nodes (#1352) and whitespace (#4637)\n   const children \u003d (node.children \u003d node.children.filter(\n-    c \u003d\u003e\n-      c.type !\u003d\u003d NodeTypes.COMMENT \u0026\u0026\n-      !(c.type \u003d\u003d\u003d NodeTypes.TEXT \u0026\u0026 !c.content.trim()),\n+    c \u003d\u003e !isCommentOrWhitespace(c),\n   ))\n   const child \u003d children[0]\n   return (","expectedMessage":"fix(compiler): share logic for comments and whitespace (#13550)","repository":"vue","commitHash":"2214f7ab2940bcb751cd20130c020d895db6c042","metadata":{"author":"skirtle \u003c65301168+skirtles-code@users.noreply.github.com\u003e"}}
{"id":"vue-8f82f238","diff":" .../dts-test/defineComponent.test-d.tsx            | 35 ++++++++++++++++++++++\n packages/runtime-core/src/apiDefineComponent.ts    |  2 +-\n packages/runtime-core/src/componentOptions.ts      |  4 +--\n 3 files changed, 38 insertions(+), 3 deletions(-)\n\ndiff --git a/packages-private/dts-test/defineComponent.test-d.tsx b/packages-private/dts-test/defineComponent.test-d.tsx\nindex 1967668..9dc5bf8 100644\n--- a/packages-private/dts-test/defineComponent.test-d.tsx\n+++ b/packages-private/dts-test/defineComponent.test-d.tsx\n@@ -2107,3 +2107,38 @@ defineComponent({\n     expectType\u003cstring\u003e(this.$props)\n   },\n })\n+\n+// #14117\n+defineComponent({\n+  setup() {\n+    const setup1 \u003d ref(\u0027setup1\u0027)\n+    const setup2 \u003d ref(\u0027setup2\u0027)\n+    return { setup1, setup2 }\n+  },\n+  data() {\n+    return {\n+      data1: 1,\n+    }\n+  },\n+  props: {\n+    props1: {\n+      type: String,\n+    },\n+  },\n+  methods: {\n+    methods1() {\n+      return `methods1`\n+    },\n+  },\n+  computed: {\n+    computed1() {\n+      this.setup1\n+      this.setup2\n+      this.data1\n+      this.props1\n+      this.methods1()\n+      return `computed1`\n+    },\n+  },\n+  expose: [\u0027setup1\u0027],\n+})\ndiff --git a/packages/runtime-core/src/apiDefineComponent.ts b/packages/runtime-core/src/apiDefineComponent.ts\nindex 68155e8..e83715f 100644\n--- a/packages/runtime-core/src/apiDefineComponent.ts\n+++ b/packages/runtime-core/src/apiDefineComponent.ts\n@@ -272,7 +272,7 @@ export function defineComponent\u003c\n         Slots,\n         LocalComponents,\n         Directives,\n-        Exposed\n+        string\n       \u003e\n     \u003e,\n ): DefineComponent\u003c\ndiff --git a/packages/runtime-core/src/componentOptions.ts b/packages/runtime-core/src/componentOptions.ts\nindex 35f2f0c..fc41b04 100644\n--- a/packages/runtime-core/src/componentOptions.ts\n+++ b/packages/runtime-core/src/componentOptions.ts\n@@ -1194,7 +1194,7 @@ export type ComponentOptionsWithoutProps\u003c\n       S,\n       LC,\n       Directives,\n-      Exposed\n+      string\n     \u003e\n   \u003e\n \n@@ -1256,7 +1256,7 @@ export type ComponentOptionsWithArrayProps\u003c\n       S,\n       LC,\n       Directives,\n-      Exposed\n+      string\n     \u003e\n   \u003e\n ","expectedMessage":"fix(runtime-core): keep options API typing intact when expose is used (#14118)","repository":"vue","commitHash":"8f82f238463160284e504d1751d61b72dabb395e","metadata":{"author":"SerKo \u003cserko.dev@gmail.com\u003e"}}
{"id":"vue-83f6ab68","diff":" packages/compiler-ssr/src/transforms/ssrVModel.ts | 8 ++++----\n 1 file changed, 4 insertions(+), 4 deletions(-)\n\ndiff --git a/packages/compiler-ssr/src/transforms/ssrVModel.ts b/packages/compiler-ssr/src/transforms/ssrVModel.ts\nindex cbe5b2b..bf62a9b 100644\n--- a/packages/compiler-ssr/src/transforms/ssrVModel.ts\n+++ b/packages/compiler-ssr/src/transforms/ssrVModel.ts\n@@ -83,11 +83,11 @@ export const ssrTransformModel: DirectiveTransform \u003d (dir, node, context) \u003d\u003e {\n \n   if (node.tagType \u003d\u003d\u003d ElementTypes.ELEMENT) {\n     const res: DirectiveTransformResult \u003d { props: [] }\n-    const defaultProps \u003d [\n-      // default value binding for text type inputs\n-      createObjectProperty(`value`, model),\n-    ]\n     if (node.tag \u003d\u003d\u003d \u0027input\u0027) {\n+      const defaultProps \u003d [\n+        // default value binding for text type inputs\n+        createObjectProperty(`value`, model),\n+      ]\n       const type \u003d findProp(node, \u0027type\u0027)\n       if (type) {\n         const value \u003d findValueBinding(node)","expectedMessage":"chore(compiler-ssr): move `defaultProps` initialization into `input` tag branch (#14115)","repository":"vue","commitHash":"83f6ab686d18e0c2edd75fcc7019664fa21a65f3","metadata":{"author":"Vida Xie \u003cvida_2020@163.com\u003e"}}
{"id":"vue-3942dbe6","diff":" packages/runtime-dom/src/jsx.ts | 36 +++++++++++++++++++++++-------------\n 1 file changed, 23 insertions(+), 13 deletions(-)\n\ndiff --git a/packages/runtime-dom/src/jsx.ts b/packages/runtime-dom/src/jsx.ts\nindex eb43ccb..550926b 100644\n--- a/packages/runtime-dom/src/jsx.ts\n+++ b/packages/runtime-dom/src/jsx.ts\n@@ -286,6 +286,19 @@ export interface HTMLAttributes extends AriaAttributes, EventHandlers\u003cEvents\u003e {\n   contextmenu?: string | undefined\n   dir?: string | undefined\n   draggable?: Booleanish | undefined\n+  enterkeyhint?:\n+    | \u0027enter\u0027\n+    | \u0027done\u0027\n+    | \u0027go\u0027\n+    | \u0027next\u0027\n+    | \u0027previous\u0027\n+    | \u0027search\u0027\n+    | \u0027send\u0027\n+    | undefined\n+  /**\n+   * @deprecated Use `enterkeyhint` instead.\n+   */\n+  enterKeyHint?: HTMLAttributes[\u0027enterkeyhint\u0027]\n   hidden?: Booleanish | \u0027\u0027 | \u0027hidden\u0027 | \u0027until-found\u0027 | undefined\n   id?: string | undefined\n   inert?: Booleanish | undefined\n@@ -346,6 +359,14 @@ export interface HTMLAttributes extends AriaAttributes, EventHandlers\u003cEvents\u003e {\n    * @see https://html.spec.whatwg.org/multipage/custom-elements.html#attr-is\n    */\n   is?: string | undefined\n+  /**\n+   * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/exportparts\n+   */\n+  exportparts?: string\n+  /**\n+   * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/part\n+   */\n+  part?: string\n }\n \n type HTMLAttributeReferrerPolicy \u003d\n@@ -498,6 +519,7 @@ export interface ImgHTMLAttributes extends HTMLAttributes {\n   alt?: string | undefined\n   crossorigin?: \u0027anonymous\u0027 | \u0027use-credentials\u0027 | \u0027\u0027 | undefined\n   decoding?: \u0027async\u0027 | \u0027auto\u0027 | \u0027sync\u0027 | undefined\n+  fetchpriority?: \u0027high\u0027 | \u0027low\u0027 | \u0027auto\u0027 | undefined\n   height?: Numberish | undefined\n   loading?: \u0027eager\u0027 | \u0027lazy\u0027 | undefined\n   referrerpolicy?: HTMLAttributeReferrerPolicy | undefined\n@@ -547,19 +569,6 @@ export interface InputHTMLAttributes extends HTMLAttributes {\n   checked?: Booleanish | any[] | Set\u003cany\u003e | undefined // for IDE v-model multi-checkbox support\n   crossorigin?: string | undefined\n   disabled?: Booleanish | undefined\n-  enterkeyhint?:\n-    | \u0027enter\u0027\n-    | \u0027done\u0027\n-    | \u0027go\u0027\n-    | \u0027next\u0027\n-    | \u0027previous\u0027\n-    | \u0027search\u0027\n-    | \u0027send\u0027\n-    | undefined\n-  /**\n-   * @deprecated Use `enterkeyhint` instead.\n-   */\n-  enterKeyHint?: InputHTMLAttributes[\u0027enterkeyhint\u0027]\n   form?: string | undefined\n   formaction?: string | undefined\n   formenctype?: string | undefined\n@@ -1292,6 +1301,7 @@ export interface IntrinsicElementAttributes {\n   polyline: SVGAttributes\n   radialGradient: SVGAttributes\n   rect: SVGAttributes\n+  set: SVGAttributes\n   stop: SVGAttributes\n   switch: SVGAttributes\n   symbol: SVGAttributes","expectedMessage":"types(jsx): add new HTML attributes for improved JSX support (#13370)","repository":"vue","commitHash":"3942dbe61394526d33e78056028ab09d34581eb3","metadata":{"author":"Sean Wang \u003cjeffwcx@icloud.com\u003e"}}
{"id":"vue-f40baa2d","diff":" packages/runtime-dom/src/jsx.ts | 6 +++++-\n 1 file changed, 5 insertions(+), 1 deletion(-)\n\ndiff --git a/packages/runtime-dom/src/jsx.ts b/packages/runtime-dom/src/jsx.ts\nindex 3d09278..eb43ccb 100644\n--- a/packages/runtime-dom/src/jsx.ts\n+++ b/packages/runtime-dom/src/jsx.ts\n@@ -547,7 +547,7 @@ export interface InputHTMLAttributes extends HTMLAttributes {\n   checked?: Booleanish | any[] | Set\u003cany\u003e | undefined // for IDE v-model multi-checkbox support\n   crossorigin?: string | undefined\n   disabled?: Booleanish | undefined\n-  enterKeyHint?:\n+  enterkeyhint?:\n     | \u0027enter\u0027\n     | \u0027done\u0027\n     | \u0027go\u0027\n@@ -556,6 +556,10 @@ export interface InputHTMLAttributes extends HTMLAttributes {\n     | \u0027search\u0027\n     | \u0027send\u0027\n     | undefined\n+  /**\n+   * @deprecated Use `enterkeyhint` instead.\n+   */\n+  enterKeyHint?: InputHTMLAttributes[\u0027enterkeyhint\u0027]\n   form?: string | undefined\n   formaction?: string | undefined\n   formenctype?: string | undefined","expectedMessage":"types(jsx): correct the naming of the enterKeyHint property (#14090)","repository":"vue","commitHash":"f40baa2d506db4d13a17e64401774cb1e138cd33","metadata":{"author":"shuang \u003c58057732+eamd-wq@users.noreply.github.com\u003e"}}
{"id":"vue-e9c676ff","diff":" packages/runtime-dom/src/index.ts | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/packages/runtime-dom/src/index.ts b/packages/runtime-dom/src/index.ts\nindex 9b87827..7407ed7 100644\n--- a/packages/runtime-dom/src/index.ts\n+++ b/packages/runtime-dom/src/index.ts\n@@ -17,6 +17,7 @@ import {\n } from \u0027@vue/runtime-core\u0027\n import { nodeOps } from \u0027./nodeOps\u0027\n import { patchProp } from \u0027./patchProp\u0027\n+export { nodeOps, patchProp }\n // Importing from the compiler, will be tree-shaken in prod\n import {\n   NOOP,","expectedMessage":"chore(runtime-dom): export nodeOps and patchProp for better accessibility (#13753)","repository":"vue","commitHash":"e9c676ff2b64724ad74f017bd280d623e8d72e6b","metadata":{"author":"Stefano Nepa \u003c124149383+stefanonepanedap@users.noreply.github.com\u003e"}}
{"id":"vue-e1313698","diff":" CHANGELOG.md                          | 9 +++++++++\n package.json                          | 2 +-\n packages/compiler-core/package.json   | 2 +-\n packages/compiler-dom/package.json    | 2 +-\n packages/compiler-sfc/package.json    | 2 +-\n packages/compiler-ssr/package.json    | 2 +-\n packages/reactivity/package.json      | 2 +-\n packages/runtime-core/package.json    | 2 +-\n packages/runtime-dom/package.json     | 2 +-\n packages/server-renderer/package.json | 2 +-\n packages/shared/package.json          | 2 +-\n packages/vue-compat/package.json      | 2 +-\n packages/vue/package.json             | 2 +-\n 13 files changed, 21 insertions(+), 12 deletions(-)\n\ndiff --git a/CHANGELOG.md b/CHANGELOG.md\nindex edb9534..3a07176 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,3 +1,12 @@\n+## [3.5.24](https://github.com/vuejs/core/compare/v3.5.23...v3.5.24) (2025-11-07)\n+\n+\n+### Reverts\n+\n+* Revert \"fix(compiler-core): correctly handle ts type assertions in expression\" (#14062) ([11ec51a](https://github.com/vuejs/core/commit/11ec51aa5a7914745fee10ed2b9f9464fab4d02c)), closes [#14062](https://github.com/vuejs/core/issues/14062) [#14060](https://github.com/vuejs/core/issues/14060)\n+\n+\n+\n ## [3.5.23](https://github.com/vuejs/core/compare/v3.5.22...v3.5.23) (2025-11-06)\n \n \ndiff --git a/package.json b/package.json\nindex 2263e58..2ba9d2b 100644\n--- a/package.json\n+++ b/package.json\n@@ -1,6 +1,6 @@\n {\n   \"private\": true,\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"packageManager\": \"pnpm@10.20.0\",\n   \"type\": \"module\",\n   \"scripts\": {\ndiff --git a/packages/compiler-core/package.json b/packages/compiler-core/package.json\nindex 67da3bc..2ff4004 100644\n--- a/packages/compiler-core/package.json\n+++ b/packages/compiler-core/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-core\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"@vue/compiler-core\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/compiler-core.esm-bundler.js\",\ndiff --git a/packages/compiler-dom/package.json b/packages/compiler-dom/package.json\nindex e96077c..8dec245 100644\n--- a/packages/compiler-dom/package.json\n+++ b/packages/compiler-dom/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-dom\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"@vue/compiler-dom\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/compiler-dom.esm-bundler.js\",\ndiff --git a/packages/compiler-sfc/package.json b/packages/compiler-sfc/package.json\nindex 4c20dda..e822d6e 100644\n--- a/packages/compiler-sfc/package.json\n+++ b/packages/compiler-sfc/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-sfc\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"@vue/compiler-sfc\",\n   \"main\": \"dist/compiler-sfc.cjs.js\",\n   \"module\": \"dist/compiler-sfc.esm-browser.js\",\ndiff --git a/packages/compiler-ssr/package.json b/packages/compiler-ssr/package.json\nindex 0c41506..6d5d3f4 100644\n--- a/packages/compiler-ssr/package.json\n+++ b/packages/compiler-ssr/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-ssr\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"@vue/compiler-ssr\",\n   \"main\": \"dist/compiler-ssr.cjs.js\",\n   \"types\": \"dist/compiler-ssr.d.ts\",\ndiff --git a/packages/reactivity/package.json b/packages/reactivity/package.json\nindex 2307d36..a5d36a0 100644\n--- a/packages/reactivity/package.json\n+++ b/packages/reactivity/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/reactivity\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"@vue/reactivity\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/reactivity.esm-bundler.js\",\ndiff --git a/packages/runtime-core/package.json b/packages/runtime-core/package.json\nindex 5f5b101..7c11de3 100644\n--- a/packages/runtime-core/package.json\n+++ b/packages/runtime-core/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/runtime-core\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"@vue/runtime-core\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/runtime-core.esm-bundler.js\",\ndiff --git a/packages/runtime-dom/package.json b/packages/runtime-dom/package.json\nindex 27f1bc6..9aab9f0 100644\n--- a/packages/runtime-dom/package.json\n+++ b/packages/runtime-dom/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/runtime-dom\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"@vue/runtime-dom\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/runtime-dom.esm-bundler.js\",\ndiff --git a/packages/server-renderer/package.json b/packages/server-renderer/package.json\nindex 5f12901..61d8ec3 100644\n--- a/packages/server-renderer/package.json\n+++ b/packages/server-renderer/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/server-renderer\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"@vue/server-renderer\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/server-renderer.esm-bundler.js\",\ndiff --git a/packages/shared/package.json b/packages/shared/package.json\nindex 37de8f7..6863722 100644\n--- a/packages/shared/package.json\n+++ b/packages/shared/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/shared\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"internal utils shared across @vue packages\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/shared.esm-bundler.js\",\ndiff --git a/packages/vue-compat/package.json b/packages/vue-compat/package.json\nindex 182a91c..e39861a 100644\n--- a/packages/vue-compat/package.json\n+++ b/packages/vue-compat/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compat\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"Vue 3 compatibility build for Vue 2\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/vue.runtime.esm-bundler.js\",\ndiff --git a/packages/vue/package.json b/packages/vue/package.json\nindex 9a448f9..ee136ff 100644\n--- a/packages/vue/package.json\n+++ b/packages/vue/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"vue\",\n-  \"version\": \"3.5.23\",\n+  \"version\": \"3.5.24\",\n   \"description\": \"The progressive JavaScript framework for building modern web UI.\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/vue.runtime.esm-bundler.js\",","expectedMessage":"release: v3.5.24","repository":"vue","commitHash":"e131369833d71b2c9e8bbafda427d331ef59a6fd","metadata":{"author":"daiwei \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-90ce838a","diff":" packages/reactivity/src/effect.ts | 5 -----\n 1 file changed, 5 deletions(-)\n\ndiff --git a/packages/reactivity/src/effect.ts b/packages/reactivity/src/effect.ts\nindex 77c6f9d..978d3b0 100644\n--- a/packages/reactivity/src/effect.ts\n+++ b/packages/reactivity/src/effect.ts\n@@ -470,11 +470,6 @@ function removeDep(link: Link) {\n   }\n }\n \n-export interface ReactiveEffectRunner\u003cT \u003d any\u003e {\n-  (): T\n-  effect: ReactiveEffect\n-}\n-\n export function effect\u003cT \u003d any\u003e(\n   fn: () \u003d\u003e T,\n   options?: ReactiveEffectOptions,","expectedMessage":"chore(reactivity): remove duplicated ReactiveEffectRunner interface (#14063)","repository":"vue","commitHash":"90ce838a9476b9d5abbc98dea03559dc68228b29","metadata":{"author":" \u003cyinyihui@gmail.com\u003e"}}
{"id":"vue-11ec51aa","diff":" .../__snapshots__/transformExpressions.spec.ts.snap          | 10 ----------\n .../__tests__/transforms/transformExpressions.spec.ts        |  8 --------\n packages/compiler-core/src/transforms/transformExpression.ts | 12 ++++--------\n 3 files changed, 4 insertions(+), 26 deletions(-)\n\ndiff --git a/packages/compiler-core/__tests__/transforms/__snapshots__/transformExpressions.spec.ts.snap b/packages/compiler-core/__tests__/transforms/__snapshots__/transformExpressions.spec.ts.snap\nindex 8907962..5a94de5 100644\n--- a/packages/compiler-core/__tests__/transforms/__snapshots__/transformExpressions.spec.ts.snap\n+++ b/packages/compiler-core/__tests__/transforms/__snapshots__/transformExpressions.spec.ts.snap\n@@ -14,16 +14,6 @@ return function render(_ctx, _cache, $props, $setup, $data, $options) {\n }\"\n `;\n \n-exports[`compiler: expression transform \u003e expression with type 1`] \u003d `\n-\"const { openBlock: _openBlock, createElementBlock: _createElementBlock } \u003d Vue\n-\n-return function render(_ctx, _cache) {\n-  return (_openBlock(), _createElementBlock(\"div\", {\n-    onClick: _ctx.handleClick\n-  }, null, 8 /* PROPS */, [\"onClick\"]))\n-}\"\n-`;\n-\n exports[`compiler: expression transform \u003e should allow leak of var declarations in for loop 1`] \u003d `\n \"const { openBlock: _openBlock, createElementBlock: _createElementBlock } \u003d Vue\n \ndiff --git a/packages/compiler-core/__tests__/transforms/transformExpressions.spec.ts b/packages/compiler-core/__tests__/transforms/transformExpressions.spec.ts\nindex 47627ff..2f1e6eb 100644\n--- a/packages/compiler-core/__tests__/transforms/transformExpressions.spec.ts\n+++ b/packages/compiler-core/__tests__/transforms/transformExpressions.spec.ts\n@@ -754,12 +754,4 @@ describe(\u0027compiler: expression transform\u0027, () \u003d\u003e {\n       expect(code).toMatch(`_ctx.bar`)\n     })\n   })\n-\n-  test(\u0027expression with type\u0027, () \u003d\u003e {\n-    const { code } \u003d compile(\n-      `\u003cdiv @click\u003d\"(\u003cnumber\u003ehandleClick as any)\"\u003e\u003c/div\u003e`,\n-    )\n-    expect(code).toMatch(`onClick: _ctx.handleClick`)\n-    expect(code).toMatchSnapshot()\n-  })\n })\ndiff --git a/packages/compiler-core/src/transforms/transformExpression.ts b/packages/compiler-core/src/transforms/transformExpression.ts\nindex be4b09b..9ae8897 100644\n--- a/packages/compiler-core/src/transforms/transformExpression.ts\n+++ b/packages/compiler-core/src/transforms/transformExpression.ts\n@@ -18,7 +18,6 @@ import {\n   createSimpleExpression,\n } from \u0027../ast\u0027\n import {\n-  TS_NODE_TYPES,\n   isInDestructureAssignment,\n   isInNewExpression,\n   isStaticProperty,\n@@ -348,18 +347,15 @@ export function processExpression(\n   // an ExpressionNode has the `.children` property, it will be used instead of\n   // `.content`.\n   const children: CompoundExpressionNode[\u0027children\u0027] \u003d []\n-  const isTSNode \u003d TS_NODE_TYPES.includes(ast.type)\n   ids.sort((a, b) \u003d\u003e a.start - b.start)\n   ids.forEach((id, i) \u003d\u003e {\n     // range is offset by -1 due to the wrapping parens when parsed\n     const start \u003d id.start - 1\n     const end \u003d id.end - 1\n     const last \u003d ids[i - 1]\n-    if (!(isTSNode \u0026\u0026 i \u003d\u003d\u003d 0)) {\n-      const leadingText \u003d rawExp.slice(last ? last.end - 1 : 0, start)\n-      if (leadingText.length || id.prefix) {\n-        children.push(leadingText + (id.prefix || ``))\n-      }\n+    const leadingText \u003d rawExp.slice(last ? last.end - 1 : 0, start)\n+    if (leadingText.length || id.prefix) {\n+      children.push(leadingText + (id.prefix || ``))\n     }\n     const source \u003d rawExp.slice(start, end)\n     children.push(\n@@ -376,7 +372,7 @@ export function processExpression(\n           : ConstantTypes.NOT_CONSTANT,\n       ),\n     )\n-    if (i \u003d\u003d\u003d ids.length - 1 \u0026\u0026 end \u003c rawExp.length \u0026\u0026 !isTSNode) {\n+    if (i \u003d\u003d\u003d ids.length - 1 \u0026\u0026 end \u003c rawExp.length) {\n       children.push(rawExp.slice(end))\n     }\n   })","expectedMessage":"Revert \"fix(compiler-core): correctly handle ts type assertions in expression\" (#14062)","repository":"vue","commitHash":"11ec51aa5a7914745fee10ed2b9f9464fab4d02c","metadata":{"author":"edison \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-5cf0097f","diff":" CHANGELOG.md                          | 21 +++++++++++++++++++++\n package.json                          |  2 +-\n packages/compiler-core/package.json   |  2 +-\n packages/compiler-dom/package.json    |  2 +-\n packages/compiler-sfc/package.json    |  2 +-\n packages/compiler-ssr/package.json    |  2 +-\n packages/reactivity/package.json      |  2 +-\n packages/runtime-core/package.json    |  2 +-\n packages/runtime-dom/package.json     |  2 +-\n packages/server-renderer/package.json |  2 +-\n packages/shared/package.json          |  2 +-\n packages/vue-compat/package.json      |  2 +-\n packages/vue/package.json             |  2 +-\n 13 files changed, 33 insertions(+), 12 deletions(-)\n\ndiff --git a/CHANGELOG.md b/CHANGELOG.md\nindex 813a2ae..edb9534 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,3 +1,24 @@\n+## [3.5.23](https://github.com/vuejs/core/compare/v3.5.22...v3.5.23) (2025-11-06)\n+\n+\n+### Bug Fixes\n+\n+* **compiler-core:** correctly handle ts type assertions in expressions ([#13397](https://github.com/vuejs/core/issues/13397)) ([e6544ac](https://github.com/vuejs/core/commit/e6544ac292b5b473274f87cdb83ebeac3e7e61a4)), closes [#13395](https://github.com/vuejs/core/issues/13395)\n+* **compiler-core:** fix v-bind shorthand handling for in-DOM templates ([#13933](https://github.com/vuejs/core/issues/13933)) ([b3cca26](https://github.com/vuejs/core/commit/b3cca2611c656b85f0c4e737b9ec248d2627dded)), closes [#13930](https://github.com/vuejs/core/issues/13930)\n+* **compiler-sfc:** resolve numeric literals and template literals without expressions as static property key ([#13998](https://github.com/vuejs/core/issues/13998)) ([75d44c7](https://github.com/vuejs/core/commit/75d44c718981f91843e197265cc68e82fe2532dd))\n+* **compiler-ssr:** textarea with v-text directive SSR ([#13975](https://github.com/vuejs/core/issues/13975)) ([006a0c1](https://github.com/vuejs/core/commit/006a0c1011a224bcbf21195c6df76812c3a7e757))\n+* **compiler:** using guard instead of non-nullish assertion ([#13982](https://github.com/vuejs/core/issues/13982)) ([dcc6f36](https://github.com/vuejs/core/commit/dcc6f362577ed86ccad31c2623c6cf75137dd27a))\n+* **custom-element:** batch custom element prop patching ([#13478](https://github.com/vuejs/core/issues/13478)) ([c13e674](https://github.com/vuejs/core/commit/c13e674fb9f92ab9339d28a862d18de460faf56e)), closes [#12619](https://github.com/vuejs/core/issues/12619)\n+* **custom-element:** optimize slot retrieval to avoid duplicates ([#13961](https://github.com/vuejs/core/issues/13961)) ([84ca349](https://github.com/vuejs/core/commit/84ca349fef73f6f55fc98299fcfa5c1eeef721db)), closes [#13955](https://github.com/vuejs/core/issues/13955)\n+* **hydration:** avoid mismatch during hydrate text with newlines in interpolation ([#9232](https://github.com/vuejs/core/issues/9232)) ([6cbdf78](https://github.com/vuejs/core/commit/6cbdf7823b0c961190bee5b7c117b7f2bbeb832f)), closes [#9229](https://github.com/vuejs/core/issues/9229)\n+* **runtime-core:** pass props and children to loadingComponent ([#13997](https://github.com/vuejs/core/issues/13997)) ([40c4b2a](https://github.com/vuejs/core/commit/40c4b2a876ce606973521dfc3024e26bfc10953a))\n+* **runtime-dom:** ensure iframe sandbox is handled as an attribute to prevent unintended behavior ([#13950](https://github.com/vuejs/core/issues/13950)) ([5689884](https://github.com/vuejs/core/commit/5689884c8e32cda6a802ac36b4d23218f67b38ed)), closes [#13946](https://github.com/vuejs/core/issues/13946)\n+* **suspense:** clear placeholder and fallback el after resolve to enable GC ([#13928](https://github.com/vuejs/core/issues/13928)) ([f411c66](https://github.com/vuejs/core/commit/f411c6604c12c531883aa0d30b81a7f69092f8a6))\n+* **transition-group:** use offsetLeft and offsetTop instead of getBoundingClientRect  to avoid transform scale affect animation ([#6108](https://github.com/vuejs/core/issues/6108)) ([dc4dd59](https://github.com/vuejs/core/commit/dc4dd594fbecce6ed7f44ffa69dc8b5d022287b6)), closes [#6105](https://github.com/vuejs/core/issues/6105)\n+* **v-model:** handle number modifier on change ([#13959](https://github.com/vuejs/core/issues/13959)) ([8fbe48f](https://github.com/vuejs/core/commit/8fbe48fe396d830999afd07f9413d899157d5f5e)), closes [#13958](https://github.com/vuejs/core/issues/13958)\n+\n+\n+\n ## [3.5.22](https://github.com/vuejs/core/compare/v3.5.21...v3.5.22) (2025-09-25)\n \n \ndiff --git a/package.json b/package.json\nindex a5d4e70..2263e58 100644\n--- a/package.json\n+++ b/package.json\n@@ -1,6 +1,6 @@\n {\n   \"private\": true,\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"packageManager\": \"pnpm@10.20.0\",\n   \"type\": \"module\",\n   \"scripts\": {\ndiff --git a/packages/compiler-core/package.json b/packages/compiler-core/package.json\nindex 50af152..67da3bc 100644\n--- a/packages/compiler-core/package.json\n+++ b/packages/compiler-core/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-core\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"@vue/compiler-core\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/compiler-core.esm-bundler.js\",\ndiff --git a/packages/compiler-dom/package.json b/packages/compiler-dom/package.json\nindex f22e8a4..e96077c 100644\n--- a/packages/compiler-dom/package.json\n+++ b/packages/compiler-dom/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-dom\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"@vue/compiler-dom\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/compiler-dom.esm-bundler.js\",\ndiff --git a/packages/compiler-sfc/package.json b/packages/compiler-sfc/package.json\nindex ee91652..4c20dda 100644\n--- a/packages/compiler-sfc/package.json\n+++ b/packages/compiler-sfc/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-sfc\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"@vue/compiler-sfc\",\n   \"main\": \"dist/compiler-sfc.cjs.js\",\n   \"module\": \"dist/compiler-sfc.esm-browser.js\",\ndiff --git a/packages/compiler-ssr/package.json b/packages/compiler-ssr/package.json\nindex c7815ea..0c41506 100644\n--- a/packages/compiler-ssr/package.json\n+++ b/packages/compiler-ssr/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compiler-ssr\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"@vue/compiler-ssr\",\n   \"main\": \"dist/compiler-ssr.cjs.js\",\n   \"types\": \"dist/compiler-ssr.d.ts\",\ndiff --git a/packages/reactivity/package.json b/packages/reactivity/package.json\nindex 8449e3c..2307d36 100644\n--- a/packages/reactivity/package.json\n+++ b/packages/reactivity/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/reactivity\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"@vue/reactivity\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/reactivity.esm-bundler.js\",\ndiff --git a/packages/runtime-core/package.json b/packages/runtime-core/package.json\nindex 2a30ea1..5f5b101 100644\n--- a/packages/runtime-core/package.json\n+++ b/packages/runtime-core/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/runtime-core\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"@vue/runtime-core\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/runtime-core.esm-bundler.js\",\ndiff --git a/packages/runtime-dom/package.json b/packages/runtime-dom/package.json\nindex b8421dd..27f1bc6 100644\n--- a/packages/runtime-dom/package.json\n+++ b/packages/runtime-dom/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/runtime-dom\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"@vue/runtime-dom\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/runtime-dom.esm-bundler.js\",\ndiff --git a/packages/server-renderer/package.json b/packages/server-renderer/package.json\nindex f83f5ad..5f12901 100644\n--- a/packages/server-renderer/package.json\n+++ b/packages/server-renderer/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/server-renderer\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"@vue/server-renderer\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/server-renderer.esm-bundler.js\",\ndiff --git a/packages/shared/package.json b/packages/shared/package.json\nindex 8d2beb5..37de8f7 100644\n--- a/packages/shared/package.json\n+++ b/packages/shared/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/shared\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"internal utils shared across @vue packages\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/shared.esm-bundler.js\",\ndiff --git a/packages/vue-compat/package.json b/packages/vue-compat/package.json\nindex 6f12237..182a91c 100644\n--- a/packages/vue-compat/package.json\n+++ b/packages/vue-compat/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"@vue/compat\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"Vue 3 compatibility build for Vue 2\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/vue.runtime.esm-bundler.js\",\ndiff --git a/packages/vue/package.json b/packages/vue/package.json\nindex 2c72c39..9a448f9 100644\n--- a/packages/vue/package.json\n+++ b/packages/vue/package.json\n@@ -1,6 +1,6 @@\n {\n   \"name\": \"vue\",\n-  \"version\": \"3.5.22\",\n+  \"version\": \"3.5.23\",\n   \"description\": \"The progressive JavaScript framework for building modern web UI.\",\n   \"main\": \"index.js\",\n   \"module\": \"dist/vue.runtime.esm-bundler.js\",","expectedMessage":"release: v3.5.23","repository":"vue","commitHash":"5cf0097f333ae6230cf30052361e88b8637d2b02","metadata":{"author":"daiwei \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-f411c660","diff":" packages/runtime-core/src/components/Suspense.ts | 12 ++++++++++++\n 1 file changed, 12 insertions(+)\n\ndiff --git a/packages/runtime-core/src/components/Suspense.ts b/packages/runtime-core/src/components/Suspense.ts\nindex 0109d77..d14e96b 100644\n--- a/packages/runtime-core/src/components/Suspense.ts\n+++ b/packages/runtime-core/src/components/Suspense.ts\n@@ -530,6 +530,7 @@ function createSuspenseBoundary(\n         effects,\n         parentComponent,\n         container,\n+        isInFallback,\n       } \u003d suspense\n \n       // if there\u0027s a transition happening we need to wait it to finish.\n@@ -551,6 +552,10 @@ function createSuspenseBoundary(\n                 MoveType.ENTER,\n               )\n               queuePostFlushCb(effects)\n+              // clear el reference from fallback vnode to allow GC after transition\n+              if (isInFallback \u0026\u0026 vnode.ssFallback) {\n+                vnode.ssFallback.el \u003d null\n+              }\n             }\n           }\n         }\n@@ -570,6 +575,11 @@ function createSuspenseBoundary(\n             anchor \u003d next(activeBranch)\n           }\n           unmount(activeBranch, parentComponent, suspense, true)\n+          // clear el reference from fallback vnode to allow GC\n+          // only clear immediately if there\u0027s no delayed transition\n+          if (!delayEnter \u0026\u0026 isInFallback \u0026\u0026 vnode.ssFallback) {\n+            vnode.ssFallback.el \u003d null\n+          }\n         }\n         if (!delayEnter) {\n           // move content from off-dom container to actual container\n@@ -728,6 +738,8 @@ function createSuspenseBoundary(\n             optimized,\n           )\n           if (placeholder) {\n+            // clean up placeholder reference\n+            vnode.placeholder \u003d null\n             remove(placeholder)\n           }\n           updateHOCHostEl(instance, vnode.el)","expectedMessage":"fix(suspense): clear placeholder and fallback el after resolve to enable GC (#13928)","repository":"vue","commitHash":"f411c6604c12c531883aa0d30b81a7f69092f8a6","metadata":{"author":"edison \u003cdaiwei521@126.com\u003e"}}
{"id":"vue-dc4dd594","diff":" .../runtime-dom/src/components/TransitionGroup.ts  | 22 ++++++---\n packages/vue/__tests__/e2e/TransitionGroup.spec.ts | 56 ++++++++++++++++++++++\n 2 files changed, 71 insertions(+), 7 deletions(-)\n\ndiff --git a/packages/runtime-dom/src/components/TransitionGroup.ts b/packages/runtime-dom/src/components/TransitionGroup.ts\nindex 3ba59f0..eb86dd4 100644\n--- a/packages/runtime-dom/src/components/TransitionGroup.ts\n+++ b/packages/runtime-dom/src/components/TransitionGroup.ts\n@@ -29,8 +29,13 @@ import {\n } from \u0027@vue/runtime-core\u0027\n import { extend } from \u0027@vue/shared\u0027\n \n-const positionMap \u003d new WeakMap\u003cVNode, DOMRect\u003e()\n-const newPositionMap \u003d new WeakMap\u003cVNode, DOMRect\u003e()\n+interface Position {\n+  top: number\n+  left: number\n+}\n+\n+const positionMap \u003d new WeakMap\u003cVNode, Position\u003e()\n+const newPositionMap \u003d new WeakMap\u003cVNode, Position\u003e()\n const moveCbKey \u003d Symbol(\u0027_moveCb\u0027)\n const enterCbKey \u003d Symbol(\u0027_enterCb\u0027)\n \n@@ -145,10 +150,10 @@ const TransitionGroupImpl: ComponentOptions \u003d /*@__PURE__*/ decorate({\n                 instance,\n               ),\n             )\n-            positionMap.set(\n-              child,\n-              (child.el as Element).getBoundingClientRect(),\n-            )\n+            positionMap.set(child, {\n+              left: (child.el as HTMLElement).offsetLeft,\n+              top: (child.el as HTMLElement).offsetTop,\n+            })\n           }\n         }\n       }\n@@ -189,7 +194,10 @@ function callPendingCbs(c: VNode) {\n }\n \n function recordPosition(c: VNode) {\n-  newPositionMap.set(c, (c.el as Element).getBoundingClientRect())\n+  newPositionMap.set(c, {\n+    left: (c.el as HTMLElement).offsetLeft,\n+    top: (c.el as HTMLElement).offsetTop,\n+  })\n }\n \n function applyTranslation(c: VNode): VNode | undefined {\ndiff --git a/packages/vue/__tests__/e2e/TransitionGroup.spec.ts b/packages/vue/__tests__/e2e/TransitionGroup.spec.ts\nindex 62d89db..09f137b 100644\n--- a/packages/vue/__tests__/e2e/TransitionGroup.spec.ts\n+++ b/packages/vue/__tests__/e2e/TransitionGroup.spec.ts\n@@ -646,6 +646,62 @@ describe(\u0027e2e: TransitionGroup\u0027, () \u003d\u003e {\n     E2E_TIMEOUT,\n   )\n \n+  // #6105\n+  test(\n+    \u0027with scale\u0027,\n+    async () \u003d\u003e {\n+      await page().evaluate(() \u003d\u003e {\n+        const { createApp, ref, onMounted } \u003d (window as any).Vue\n+        createApp({\n+          template: `\n+            \u003cdiv id\u003d\"container\"\u003e\n+              \u003cdiv class\u003d\"scale\" style\u003d\"transform: scale(2) translateX(50%) translateY(50%)\"\u003e\n+                \u003ctransition-group tag\u003d\"ul\"\u003e\n+                  \u003cli v-for\u003d\"item in items\" :key\u003d\"item\"\u003e{{item}}\u003c/li\u003e\n+                \u003c/transition-group\u003e\n+                \u003cbutton id\u003d\"toggleBtn\" @click\u003d\"click\"\u003ebutton\u003c/button\u003e\n+              \u003c/div\u003e\n+            \u003c/div\u003e\n+          `,\n+          setup: () \u003d\u003e {\n+            const items \u003d ref([\u0027a\u0027, \u0027b\u0027, \u0027c\u0027])\n+            const click \u003d () \u003d\u003e {\n+              items.value.reverse()\n+            }\n+\n+            onMounted(() \u003d\u003e {\n+              const styleNode \u003d document.createElement(\u0027style\u0027)\n+              styleNode.innerHTML \u003d `.v-move {\n+                transition: transform 0.5s ease;\n+              }`\n+              document.body.appendChild(styleNode)\n+            })\n+\n+            return { items, click }\n+          },\n+        }).mount(\u0027#app\u0027)\n+      })\n+\n+      const original_top \u003d await page().$eval(\u0027ul li:nth-child(1)\u0027, node \u003d\u003e {\n+        return node.getBoundingClientRect().top\n+      })\n+      const new_top \u003d await page().evaluate(() \u003d\u003e {\n+        const el \u003d document.querySelector(\u0027ul li:nth-child(1)\u0027)\n+        const p \u003d new Promise(resolve \u003d\u003e {\n+          el!.addEventListener(\u0027transitionstart\u0027, () \u003d\u003e {\n+            const new_top \u003d el!.getBoundingClientRect().top\n+            resolve(new_top)\n+          })\n+        })\n+        ;(document.querySelector(\u0027#toggleBtn\u0027) as any)!.click()\n+        return p\n+      })\n+\n+      expect(original_top).toBeLessThan(new_top as number)\n+    },\n+    E2E_TIMEOUT,\n+  )\n+\n   test(\n     \u0027not leaking after children unmounted\u0027,\n     async () \u003d\u003e {","expectedMessage":"fix(TransitionGroup): use offsetLeft and offsetTop instead of getBoundingClientRect  to avoid transform scale affect animation (#6108)","repository":"vue","commitHash":"dc4dd594fbecce6ed7f44ffa69dc8b5d022287b6","metadata":{"author":"Jooies \u003c76929557+joo1es@users.noreply.github.com\u003e"}}
{"id":"vue-40c4b2a8","diff":" packages/runtime-core/src/apiAsyncComponent.ts | 5 ++++-\n 1 file changed, 4 insertions(+), 1 deletion(-)\n\ndiff --git a/packages/runtime-core/src/apiAsyncComponent.ts b/packages/runtime-core/src/apiAsyncComponent.ts\nindex f5ba778..e594944 100644\n--- a/packages/runtime-core/src/apiAsyncComponent.ts\n+++ b/packages/runtime-core/src/apiAsyncComponent.ts\n@@ -241,7 +241,10 @@ export function defineAsyncComponent\u003c\n             error: error.value,\n           })\n         } else if (loadingComponent \u0026\u0026 !delayed.value) {\n-          return createVNode(loadingComponent)\n+          return createInnerComp(\n+            loadingComponent as ConcreteComponent,\n+            instance,\n+          )\n         }\n       }\n     },","expectedMessage":"fix(runtime-core): pass props and children to loadingComponent (#13997)","repository":"vue","commitHash":"40c4b2a876ce606973521dfc3024e26bfc10953a","metadata":{"author":"indykoning \u003c15870933+indykoning@users.noreply.github.com\u003e"}}
{"id":"vue-e6544ac2","diff":" .../__snapshots__/transformExpressions.spec.ts.snap          | 10 ++++++++++\n .../__tests__/transforms/transformExpressions.spec.ts        |  8 ++++++++\n packages/compiler-core/src/transforms/transformExpression.ts | 12 ++++++++----\n 3 files changed, 26 insertions(+), 4 deletions(-)\n\ndiff --git a/packages/compiler-core/__tests__/transforms/__snapshots__/transformExpressions.spec.ts.snap b/packages/compiler-core/__tests__/transforms/__snapshots__/transformExpressions.spec.ts.snap\nindex 5a94de5..8907962 100644\n--- a/packages/compiler-core/__tests__/transforms/__snapshots__/transformExpressions.spec.ts.snap\n+++ b/packages/compiler-core/__tests__/transforms/__snapshots__/transformExpressions.spec.ts.snap\n@@ -14,6 +14,16 @@ return function render(_ctx, _cache, $props, $setup, $data, $options) {\n }\"\n `;\n \n+exports[`compiler: expression transform \u003e expression with type 1`] \u003d `\n+\"const { openBlock: _openBlock, createElementBlock: _createElementBlock } \u003d Vue\n+\n+return function render(_ctx, _cache) {\n+  return (_openBlock(), _createElementBlock(\"div\", {\n+    onClick: _ctx.handleClick\n+  }, null, 8 /* PROPS */, [\"onClick\"]))\n+}\"\n+`;\n+\n exports[`compiler: expression transform \u003e should allow leak of var declarations in for loop 1`] \u003d `\n \"const { openBlock: _openBlock, createElementBlock: _createElementBlock } \u003d Vue\n \ndiff --git a/packages/compiler-core/__tests__/transforms/transformExpressions.spec.ts b/packages/compiler-core/__tests__/transforms/transformExpressions.spec.ts\nindex 2f1e6eb..47627ff 100644\n--- a/packages/compiler-core/__tests__/transforms/transformExpressions.spec.ts\n+++ b/packages/compiler-core/__tests__/transforms/transformExpressions.spec.ts\n@@ -754,4 +754,12 @@ describe(\u0027compiler: expression transform\u0027, () \u003d\u003e {\n       expect(code).toMatch(`_ctx.bar`)\n     })\n   })\n+\n+  test(\u0027expression with type\u0027, () \u003d\u003e {\n+    const { code } \u003d compile(\n+      `\u003cdiv @click\u003d\"(\u003cnumber\u003ehandleClick as any)\"\u003e\u003c/div\u003e`,\n+    )\n+    expect(code).toMatch(`onClick: _ctx.handleClick`)\n+    expect(code).toMatchSnapshot()\n+  })\n })\ndiff --git a/packages/compiler-core/src/transforms/transformExpression.ts b/packages/compiler-core/src/transforms/transformExpression.ts\nindex 9ae8897..be4b09b 100644\n--- a/packages/compiler-core/src/transforms/transformExpression.ts\n+++ b/packages/compiler-core/src/transforms/transformExpression.ts\n@@ -18,6 +18,7 @@ import {\n   createSimpleExpression,\n } from \u0027../ast\u0027\n import {\n+  TS_NODE_TYPES,\n   isInDestructureAssignment,\n   isInNewExpression,\n   isStaticProperty,\n@@ -347,15 +348,18 @@ export function processExpression(\n   // an ExpressionNode has the `.children` property, it will be used instead of\n   // `.content`.\n   const children: CompoundExpressionNode[\u0027children\u0027] \u003d []\n+  const isTSNode \u003d TS_NODE_TYPES.includes(ast.type)\n   ids.sort((a, b) \u003d\u003e a.start - b.start)\n   ids.forEach((id, i) \u003d\u003e {\n     // range is offset by -1 due to the wrapping parens when parsed\n     const start \u003d id.start - 1\n     const end \u003d id.end - 1\n     const last \u003d ids[i - 1]\n-    const leadingText \u003d rawExp.slice(last ? last.end - 1 : 0, start)\n-    if (leadingText.length || id.prefix) {\n-      children.push(leadingText + (id.prefix || ``))\n+    if (!(isTSNode \u0026\u0026 i \u003d\u003d\u003d 0)) {\n+      const leadingText \u003d rawExp.slice(last ? last.end - 1 : 0, start)\n+      if (leadingText.length || id.prefix) {\n+        children.push(leadingText + (id.prefix || ``))\n+      }\n     }\n     const source \u003d rawExp.slice(start, end)\n     children.push(\n@@ -372,7 +376,7 @@ export function processExpression(\n           : ConstantTypes.NOT_CONSTANT,\n       ),\n     )\n-    if (i \u003d\u003d\u003d ids.length - 1 \u0026\u0026 end \u003c rawExp.length) {\n+    if (i \u003d\u003d\u003d ids.length - 1 \u0026\u0026 end \u003c rawExp.length \u0026\u0026 !isTSNode) {\n       children.push(rawExp.slice(end))\n     }\n   })","expectedMessage":"fix(compiler-core): correctly handle ts type assertions in expressions (#13397)","repository":"vue","commitHash":"e6544ac292b5b473274f87cdb83ebeac3e7e61a4","metadata":{"author":"zhiyuanzmj \u003c260480378@qq.com\u003e"}}
{"id":"vue-75d44c71","diff":" .../__tests__/compileScript/resolveType.spec.ts        |  6 +++++-\n packages/compiler-sfc/src/script/resolveType.ts        | 12 ++++--------\n packages/compiler-sfc/src/script/utils.ts              | 18 ++++++++++++++++++\n 3 files changed, 27 insertions(+), 9 deletions(-)\n\ndiff --git a/packages/compiler-sfc/__tests__/compileScript/resolveType.spec.ts b/packages/compiler-sfc/__tests__/compileScript/resolveType.spec.ts\nindex eff2f01..557f6ec 100644\n--- a/packages/compiler-sfc/__tests__/compileScript/resolveType.spec.ts\n+++ b/packages/compiler-sfc/__tests__/compileScript/resolveType.spec.ts\n@@ -20,6 +20,8 @@ describe(\u0027resolveType\u0027, () \u003d\u003e {\n       foo: number // property\n       bar(): void // method\n       \u0027baz\u0027: string // string literal key\n+      [\\`qux\\`]: boolean // template literal key\n+      123: symbol // numeric literal key\n       (e: \u0027foo\u0027): void // call signature\n       (e: \u0027bar\u0027): void\n     }\u003e()`)\n@@ -27,6 +29,8 @@ describe(\u0027resolveType\u0027, () \u003d\u003e {\n       foo: [\u0027Number\u0027],\n       bar: [\u0027Function\u0027],\n       baz: [\u0027String\u0027],\n+      qux: [\u0027Boolean\u0027],\n+      123: [\u0027Symbol\u0027],\n     })\n     expect(calls?.length).toBe(2)\n   })\n@@ -195,7 +199,7 @@ describe(\u0027resolveType\u0027, () \u003d\u003e {\n     type T \u003d \u0027foo\u0027 | \u0027bar\u0027\n     type S \u003d \u0027x\u0027 | \u0027y\u0027\n     defineProps\u003c{\n-      [\\`_\\${T}_\\${S}_\\`]: string\n+      [K in \\`_\\${T}_\\${S}_\\`]: string\n     }\u003e()\n     `).props,\n     ).toStrictEqual({\ndiff --git a/packages/compiler-sfc/src/script/resolveType.ts b/packages/compiler-sfc/src/script/resolveType.ts\nindex b40c7cd..9cb4ce8 100644\n--- a/packages/compiler-sfc/src/script/resolveType.ts\n+++ b/packages/compiler-sfc/src/script/resolveType.ts\n@@ -29,6 +29,7 @@ import {\n   createGetCanonicalFileName,\n   getId,\n   getImportedName,\n+  getStringLiteralKey,\n   joinPaths,\n   normalizePath,\n } from \u0027./utils\u0027\n@@ -336,13 +337,9 @@ function typeElementsToMap(\n         Object.assign(scope.types, typeParameters)\n       }\n       ;(e as MaybeWithScope)._ownerScope \u003d scope\n-      const name \u003d getId(e.key)\n-      if (name \u0026\u0026 !e.computed) {\n+      const name \u003d getStringLiteralKey(e)\n+      if (name !\u003d\u003d null) {\n         res.props[name] \u003d e as ResolvedElements[\u0027props\u0027][string]\n-      } else if (e.key.type \u003d\u003d\u003d \u0027TemplateLiteral\u0027) {\n-        for (const key of resolveTemplateKeys(ctx, e.key, scope)) {\n-          res.props[key] \u003d e as ResolvedElements[\u0027props\u0027][string]\n-        }\n       } else {\n         ctx.error(\n           `Unsupported computed key in type referenced by a macro`,\n@@ -2029,8 +2026,7 @@ function findStaticPropertyType(node: TSTypeLiteral, key: string) {\n   const prop \u003d node.members.find(\n     m \u003d\u003e\n       m.type \u003d\u003d\u003d \u0027TSPropertySignature\u0027 \u0026\u0026\n-      !m.computed \u0026\u0026\n-      getId(m.key) \u003d\u003d\u003d key \u0026\u0026\n+      getStringLiteralKey(m) \u003d\u003d\u003d key \u0026\u0026\n       m.typeAnnotation,\n   )\n   return prop \u0026\u0026 prop.typeAnnotation!.typeAnnotation\ndiff --git a/packages/compiler-sfc/src/script/utils.ts b/packages/compiler-sfc/src/script/utils.ts\nindex 1b7da0e..bda64dc 100644\n--- a/packages/compiler-sfc/src/script/utils.ts\n+++ b/packages/compiler-sfc/src/script/utils.ts\n@@ -7,6 +7,8 @@ import type {\n   ImportSpecifier,\n   Node,\n   StringLiteral,\n+  TSMethodSignature,\n+  TSPropertySignature,\n } from \u0027@babel/types\u0027\n import path from \u0027path\u0027\n \n@@ -79,6 +81,22 @@ export function getId(node: Expression) {\n       : null\n }\n \n+export function getStringLiteralKey(\n+  node: TSPropertySignature | TSMethodSignature,\n+): string | null {\n+  return node.computed\n+    ? node.key.type \u003d\u003d\u003d \u0027TemplateLiteral\u0027 \u0026\u0026 !node.key.expressions.length\n+      ? node.key.quasis.map(q \u003d\u003e q.value.cooked).join(\u0027\u0027)\n+      : null\n+    : node.key.type \u003d\u003d\u003d \u0027Identifier\u0027\n+      ? node.key.name\n+      : node.key.type \u003d\u003d\u003d \u0027StringLiteral\u0027\n+        ? node.key.value\n+        : node.key.type \u003d\u003d\u003d \u0027NumericLiteral\u0027\n+          ? String(node.key.value)\n+          : null\n+}\n+\n const identity \u003d (str: string) \u003d\u003e str\n const fileNameLowerCaseRegExp \u003d /[^\\u0130\\u0131\\u00DFa-z0-9\\\\/:\\-_\\. ]+/g\n const toLowerCase \u003d (str: string) \u003d\u003e str.toLowerCase()","expectedMessage":"fix(compiler-sfc): resolve numeric literals and template literals without expressions as static property key (#13998)","repository":"vue","commitHash":"75d44c718981f91843e197265cc68e82fe2532dd","metadata":{"author":" \u003c85992002+KazariEX@users.noreply.github.com\u003e"}}
{"id":"vue-dcc6f362","diff":" packages/compiler-core/src/transforms/transformVBindShorthand.ts | 5 +++--\n 1 file changed, 3 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/compiler-core/src/transforms/transformVBindShorthand.ts b/packages/compiler-core/src/transforms/transformVBindShorthand.ts\nindex a6b989e..2101808 100644\n--- a/packages/compiler-core/src/transforms/transformVBindShorthand.ts\n+++ b/packages/compiler-core/src/transforms/transformVBindShorthand.ts\n@@ -19,9 +19,10 @@ export const transformVBindShorthand: NodeTransform \u003d (node, context) \u003d\u003e {\n           // #13930 :foo in in-DOM templates will be parsed into :foo\u003d\"\" by browser\n           (__BROWSER__ \u0026\u0026\n             prop.exp.type \u003d\u003d\u003d NodeTypes.SIMPLE_EXPRESSION \u0026\u0026\n-            !prop.exp.content.trim()))\n+            !prop.exp.content.trim())) \u0026\u0026\n+        prop.arg\n       ) {\n-        const arg \u003d prop.arg!\n+        const arg \u003d prop.arg\n         if (arg.type !\u003d\u003d NodeTypes.SIMPLE_EXPRESSION || !arg.isStatic) {\n           // only simple expression is allowed for same-name shorthand\n           context.onError(","expectedMessage":"fix(compiler): using guard instead of non-nullish assertion (#13982)","repository":"vue","commitHash":"dcc6f362577ed86ccad31c2623c6cf75137dd27a","metadata":{"author":" \u003c46062972+ShenQingchuan@users.noreply.github.com\u003e"}}
