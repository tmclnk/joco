{"id":"angular-417c385d","diff":" .../introduction/essentials/signal-forms.md        | 46 +++++++++++-----------\n 1 file changed, 23 insertions(+), 23 deletions(-)\n\ndiff --git a/adev/src/content/introduction/essentials/signal-forms.md b/adev/src/content/introduction/essentials/signal-forms.md\nindex 611034bb..ac390f8b 100644\n--- a/adev/src/content/introduction/essentials/signal-forms.md\n+++ b/adev/src/content/introduction/essentials/signal-forms.md\n@@ -36,18 +36,18 @@ loginForm.email;\n loginForm.password;\n ```\n \n-### 3. Bind HTML inputs with `[field]` directive\n+### 3. Bind HTML inputs with `[formField]` directive\n \n-Next, you bind your HTML inputs to the form using the `[field]` directive, which creates two-way binding between them:\n+Next, you bind your HTML inputs to the form using the `[formField]` directive, which creates two-way binding between them:\n \n ```html\n-\u003cinput type\u003d\"email\" [field]\u003d\"loginForm.email\" /\u003e\n-\u003cinput type\u003d\"password\" [field]\u003d\"loginForm.password\" /\u003e\n+\u003cinput type\u003d\"email\" [formField]\u003d\"loginForm.email\" /\u003e\n+\u003cinput type\u003d\"password\" [formField]\u003d\"loginForm.password\" /\u003e\n ```\n \n As a result, user changes (such as typing in the field) automatically updates the form.\n \n-NOTE: The `[field]` directive also syncs field state for attributes like `required`, `disabled`, and `readonly` when appropriate.\n+NOTE: The `[formField]` directive also syncs field state for attributes like `required`, `disabled`, and `readonly` when appropriate.\n \n ### 4. Read field values with `value()`\n \n@@ -95,7 +95,7 @@ Here\u0027s a complete example:\n \n ## Basic usage\n \n-The `[field]` directive works with all standard HTML input types. Here are the most common patterns:\n+The `[formField]` directive works with all standard HTML input types. Here are the most common patterns:\n \n ### Text inputs\n \n@@ -103,8 +103,8 @@ Text inputs work with various `type` attributes and textareas:\n \n ```html\n \u003c!-- Text and email --\u003e\n-\u003cinput type\u003d\"text\" [field]\u003d\"form.name\" /\u003e\n-\u003cinput type\u003d\"email\" [field]\u003d\"form.email\" /\u003e\n+\u003cinput type\u003d\"text\" [formField]\u003d\"form.name\" /\u003e\n+\u003cinput type\u003d\"email\" [formField]\u003d\"form.email\" /\u003e\n ```\n \n #### Numbers\n@@ -113,7 +113,7 @@ Number inputs automatically convert between strings and numbers:\n \n ```html\n \u003c!-- Number - automatically converts to number type --\u003e\n-\u003cinput type\u003d\"number\" [field]\u003d\"form.age\" /\u003e\n+\u003cinput type\u003d\"number\" [formField]\u003d\"form.age\" /\u003e\n ```\n \n #### Date and time\n@@ -122,8 +122,8 @@ Date inputs store values as `YYYY-MM-DD` strings, and time inputs use `HH:mm` fo\n \n ```html\n \u003c!-- Date and time - stores as ISO format strings --\u003e\n-\u003cinput type\u003d\"date\" [field]\u003d\"form.eventDate\" /\u003e\n-\u003cinput type\u003d\"time\" [field]\u003d\"form.eventTime\" /\u003e\n+\u003cinput type\u003d\"date\" [formField]\u003d\"form.eventDate\" /\u003e\n+\u003cinput type\u003d\"time\" [formField]\u003d\"form.eventTime\" /\u003e\n ```\n \n If you need to convert date strings to Date objects, you can do so by passing the field value into `Date()`:\n@@ -138,7 +138,7 @@ Textareas work the same way as text inputs:\n \n ```html\n \u003c!-- Textarea --\u003e\n-\u003ctextarea [field]\u003d\"form.message\" rows\u003d\"4\"\u003e\u003c/textarea\u003e\n+\u003ctextarea [formField]\u003d\"form.message\" rows\u003d\"4\"\u003e\u003c/textarea\u003e\n ```\n \n ### Checkboxes\n@@ -148,42 +148,42 @@ Checkboxes bind to boolean values:\n ```html\n \u003c!-- Single checkbox --\u003e\n \u003clabel\u003e\n-  \u003cinput type\u003d\"checkbox\" [field]\u003d\"form.agreeToTerms\" /\u003e\n+  \u003cinput type\u003d\"checkbox\" [formField]\u003d\"form.agreeToTerms\" /\u003e\n   I agree to the terms\n \u003c/label\u003e\n ```\n \n #### Multiple checkboxes\n \n-For multiple options, create a separate boolean `field` for each:\n+For multiple options, create a separate boolean `formField` for each:\n \n ```html\n \u003clabel\u003e\n-  \u003cinput type\u003d\"checkbox\" [field]\u003d\"form.emailNotifications\" /\u003e\n+  \u003cinput type\u003d\"checkbox\" [formField]\u003d\"form.emailNotifications\" /\u003e\n   Email notifications\n \u003c/label\u003e\n \u003clabel\u003e\n-  \u003cinput type\u003d\"checkbox\" [field]\u003d\"form.smsNotifications\" /\u003e\n+  \u003cinput type\u003d\"checkbox\" [formField]\u003d\"form.smsNotifications\" /\u003e\n   SMS notifications\n \u003c/label\u003e\n ```\n \n ### Radio buttons\n \n-Radio buttons work similarly to checkboxes. As long as the radio buttons use the same `[field]` value, Signal Forms will automatically bind the same `name` attribute to all of them:\n+Radio buttons work similarly to checkboxes. As long as the radio buttons use the same `[formField]` value, Signal Forms will automatically bind the same `name` attribute to all of them:\n \n ```html\n \u003clabel\u003e\n-  \u003cinput type\u003d\"radio\" value\u003d\"free\" [field]\u003d\"form.plan\" /\u003e\n+  \u003cinput type\u003d\"radio\" value\u003d\"free\" [formField]\u003d\"form.plan\" /\u003e\n   Free\n \u003c/label\u003e\n \u003clabel\u003e\n-  \u003cinput type\u003d\"radio\" value\u003d\"premium\" [field]\u003d\"form.plan\" /\u003e\n+  \u003cinput type\u003d\"radio\" value\u003d\"premium\" [formField]\u003d\"form.plan\" /\u003e\n   Premium\n \u003c/label\u003e\n ```\n \n-When a user selects a radio button, the form `field` stores the value from that radio button\u0027s `value` attribute. For example, selecting \"Premium\" sets `form.plan().value()` to `\"premium\"`.\n+When a user selects a radio button, the form `formField` stores the value from that radio button\u0027s `value` attribute. For example, selecting \"Premium\" sets `form.plan().value()` to `\"premium\"`.\n \n ### Select dropdowns\n \n@@ -191,14 +191,14 @@ Select elements work with both static and dynamic options:\n \n ```angular-html\n \u003c!-- Static options --\u003e\n-\u003cselect [field]\u003d\"form.country\"\u003e\n+\u003cselect [formField]\u003d\"form.country\"\u003e\n   \u003coption value\u003d\"\"\u003eSelect a country\u003c/option\u003e\n   \u003coption value\u003d\"us\"\u003eUnited States\u003c/option\u003e\n   \u003coption value\u003d\"ca\"\u003eCanada\u003c/option\u003e\n \u003c/select\u003e\n \n \u003c!-- Dynamic options with @for --\u003e\n-\u003cselect [field]\u003d\"form.productId\"\u003e\n+\u003cselect [formField]\u003d\"form.productId\"\u003e\n   \u003coption value\u003d\"\"\u003eSelect a product\u003c/option\u003e\n   @for (product of products; track product.id) {\n     \u003coption [value]\u003d\"product.id\"\u003e{{ product.name }}\u003c/option\u003e\n@@ -206,7 +206,7 @@ Select elements work with both static and dynamic options:\n \u003c/select\u003e\n ```\n \n-NOTE: Multiple select (`\u003cselect multiple\u003e`) is not supported by the `[field]` directive at this time.\n+NOTE: Multiple select (`\u003cselect multiple\u003e`) is not supported by the `[formField]` directive at this time.\n \n ## Validation and state\n ","expectedMessage":"docs: update directive name from `[field]` to `[formField]` in signal-forms documentation","repository":"angular","commitHash":"417c385ddceab612493b26e57f6b2ac87df0b89e","metadata":{"author":"Jeevan Mahesha \u003ccsejeevanm@gmail.com\u003e"}}
{"id":"angular-87f47973","diff":" .../signals-view/signals-visualizer/BUILD.bazel         |  2 +-\n .../signals-visualizer/signals-visualizer.ts            | 16 +++++++---------\n .../{dagre-d3-types.ts \u003d\u003e visualizer-types.ts}          | 17 +++++------------\n 3 files changed, 13 insertions(+), 22 deletions(-)\n\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/BUILD.bazel b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/BUILD.bazel\nindex b12c11a5..9ddfd7f7 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/BUILD.bazel\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/BUILD.bazel\n@@ -13,9 +13,9 @@ sass_binary(\n ng_project(\n     name \u003d \"signals-visualizer\",\n     srcs \u003d [\n-        \"dagre-d3-types.ts\",\n         \"signals-visualizer.component.ts\",\n         \"signals-visualizer.ts\",\n+        \"visualizer-types.ts\",\n     ],\n     angular_assets \u003d [\n         \"signals-visualizer.component.html\",\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\nindex a430c667..114d1abd 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\n@@ -17,7 +17,7 @@ import {\n   DevtoolsSignalNode,\n } from \u0027../../signal-graph\u0027;\n import {DebugSignalGraphNode} from \u0027../../../../../../../protocol\u0027;\n-import type {DagreGraph, DagreGraphCluster, DagreGraphNode} from \u0027./dagre-d3-types\u0027;\n+import type {DagreCluster, DagreEdge, DagreNode, DagreRegularNode} from \u0027./visualizer-types\u0027;\n \n const KIND_CLASS_MAP: {[key in DebugSignalGraphNode[\u0027kind\u0027]]: string} \u003d {\n   \u0027signal\u0027: \u0027kind-signal\u0027,\n@@ -65,7 +65,7 @@ const CLUSTER_EXPAND_ANIM_DURATION \u003d 1100; // Empirical value based on Dagre\u0027s b\n // - Standard cluster node – A cluster node, visualized as a standard node (i.e. collapsed)\n // - Expanded cluster node – A cluster node, visualized as a container of its child nodes (i.e. expanded)\n export class SignalsGraphVisualizer {\n-  private graph: DagreGraph;\n+  private graph: graphlib.Graph\u003cany, DagreNode, DagreEdge\u003e;\n   private drender: ReturnType\u003ctypeof dagreRender\u003e;\n \n   zoomController: d3.ZoomBehavior\u003cSVGSVGElement, unknown\u003e;\n@@ -302,7 +302,7 @@ export class SignalsGraphVisualizer {\n     // Add new/update existing nodes\n     for (const n of signalGraph.nodes) {\n       const isSignal \u003d isSignalNode(n);\n-      const existingNode \u003d this.graph.node(n.id) as DagreGraphNode | undefined;\n+      const existingNode \u003d this.graph.node(n.id) as DagreRegularNode | undefined;\n \n       if (existingNode) {\n         if (isSignal \u0026\u0026 n.epoch !\u003d\u003d existingNode.epoch) {\n@@ -408,7 +408,7 @@ export class SignalsGraphVisualizer {\n \n   private updateDagreNode(\n     newNode: DevtoolsSignalNode,\n-    existingNode: DagreGraphNode,\n+    existingNode: DagreRegularNode,\n     signalGraph: DevtoolsSignalGraph,\n   ) {\n     const count \u003d this.animatedNodesMap.get(newNode.id) ?? 0;\n@@ -548,7 +548,7 @@ export class SignalsGraphVisualizer {\n       .each((nodeId, idx, group) \u003d\u003e {\n         const node \u003d group[idx];\n         const d3Node \u003d d3.select(node);\n-        const {width, height} \u003d this.graph.node(nodeId as string) as DagreGraphNode;\n+        const {width, height} \u003d this.graph.node(nodeId as string) as DagreRegularNode;\n \n         d3Node\n           .select(\u0027g\u0027)\n@@ -600,8 +600,6 @@ function convertNodesToMap(nodes: DevtoolsSignalGraphNode[]): Map\u003cstring, Devtoo\n   return new Map(nodes.map((n) \u003d\u003e [n.id, n]));\n }\n \n-function isDagreClusterNode(\n-  node: DagreGraphCluster | DagreGraphNode | undefined,\n-): node is DagreGraphCluster {\n-  return !!(node as DagreGraphCluster)?.clusterLabelPos;\n+function isDagreClusterNode(node: DagreNode | undefined): node is DagreCluster {\n+  return !!(node as DagreCluster)?.clusterLabelPos;\n }\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/dagre-d3-types.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/visualizer-types.ts\nsimilarity index 61%\nrename from devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/dagre-d3-types.ts\nrename to devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/visualizer-types.ts\nindex 014285c0..cd773b9e 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/dagre-d3-types.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/visualizer-types.ts\n@@ -6,10 +6,8 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {graphlib} from \u0027dagre-d3-es\u0027;\n-\n // Non-exhaustive; Alter based on Dagre D3 docs if required\n-export interface DagreGraphNode {\n+export interface DagreRegularNode {\n   label: HTMLDivElement;\n   labelType: string;\n   shape: string;\n@@ -21,24 +19,19 @@ export interface DagreGraphNode {\n }\n \n // Non-exhaustive; Alter based on Dagre D3 docs if required\n-export interface DagreGraphCluster {\n+export interface DagreCluster {\n   label: string;\n   clusterLabelPos: string;\n   class?: string;\n   style?: string;\n }\n \n+export type DagreNode \u003d DagreRegularNode | DagreCluster;\n+\n // Non-exhaustive; Alter based on Dagre D3 docs if required\n-export interface DagreGraphEdge {\n+export interface DagreEdge {\n   curve: any;\n   style?: string;\n   arrowheadStyle?: string;\n   class?: string;\n }\n-\n-// Improve Graphlib types\n-export declare class DagreGraph extends graphlib.Graph {\n-  override setNode(id: string, value: DagreGraphNode | DagreGraphCluster, ...args: any[]): this;\n-  override node(id: string): DagreGraphNode | DagreGraphCluster;\n-  override edges(): {v: string; w: string}[];\n-}","expectedMessage":"refactor(devtools): drop dagre graph type","repository":"angular","commitHash":"87f4797321f3d005cba08d5d4d936574e8d28a36","metadata":{"author":"hawkgs \u003chawk.dvp@gmail.com\u003e"}}
{"id":"angular-72109478","diff":" .../signals-visualizer.component.ts                | 14 ++++---\n .../signals-visualizer/signals-visualizer.ts       | 49 ++++++++++++++--------\n 2 files changed, 41 insertions(+), 22 deletions(-)\n\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.component.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.component.ts\nindex 206e3855..19afb4ed 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.component.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.component.ts\n@@ -62,9 +62,6 @@ export class SignalsVisualizerComponent {\n     return Array.from(clusterIds).map((id) \u003d\u003e graph.clusters[id]);\n   });\n \n-  private onResize \u003d () \u003d\u003e this.signalsVisualizer?.resize();\n-  private observer \u003d new ResizeObserver(this.onResize);\n-\n   constructor() {\n     const injector \u003d inject(Injector);\n \n@@ -73,9 +70,18 @@ export class SignalsVisualizerComponent {\n         this.setUpSignalsVisualizer();\n \n         runInInjectionContext(injector, () \u003d\u003e {\n+          let lastElement: ElementPosition | undefined;\n+\n           effect(() \u003d\u003e {\n             const graph \u003d this.graph();\n             this.signalsVisualizer!.render(graph!);\n+            const currElement \u003d untracked(this.element);\n+\n+            // Snap to root node only if the element changes.\n+            if (lastElement !\u003d\u003d currElement) {\n+              this.signalsVisualizer!.snapToRootNode();\n+            }\n+            lastElement \u003d currElement;\n           });\n \n           effect(() \u003d\u003e {\n@@ -92,12 +98,10 @@ export class SignalsVisualizerComponent {\n             untracked(() \u003d\u003e this.signalsVisualizer!.reset());\n           });\n         });\n-        this.observer.observe(this.svgHost().nativeElement);\n       },\n     });\n \n     inject(DestroyRef).onDestroy(() \u003d\u003e {\n-      this.observer.disconnect();\n       this.signalsVisualizer?.cleanup();\n     });\n   }\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\nindex 377ccd7a..a430c667 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/signals-view/signals-visualizer/signals-visualizer.ts\n@@ -53,6 +53,8 @@ const NODE_WIDTH \u003d 100;\n const NODE_HEIGHT \u003d 60;\n const NODE_EPOCH_UPDATE_ANIM_DURATION \u003d 250;\n \n+const TEMPL_NODE_ZOOM_SCALE \u003d 0.8;\n+\n const CLUSTER_EXPAND_ANIM_DURATION \u003d 1100; // Empirical value based on Dagre\u0027s behavior with an included leeway\n \n // Terminology:\n@@ -88,7 +90,6 @@ export class SignalsGraphVisualizer {\n \n     const d3svg \u003d d3.select(this.svg);\n     d3svg.attr(\u0027height\u0027, \u0027100%\u0027).attr(\u0027width\u0027, \u0027100%\u0027);\n-    this.resize();\n \n     const g \u003d d3svg.append(\u0027g\u0027);\n \n@@ -100,6 +101,36 @@ export class SignalsGraphVisualizer {\n     d3svg.call(this.zoomController);\n   }\n \n+  /** Snaps to the root node – either the template or the first node depending which exists. */\n+  snapToRootNode() {\n+    let node \u003d\n+      this.inputGraph?.nodes.find((n) \u003d\u003e isSignalNode(n) \u0026\u0026 n.kind \u003d\u003d\u003d \u0027template\u0027) ??\n+      this.inputGraph?.nodes[0];\n+\n+    if (!node) {\n+      return;\n+    }\n+\n+    // TODO(Georgi): Drop `any` when Dagre is updated.\n+    const dagreNode \u003d this.graph.node(node.id) as any;\n+    if (!dagreNode) {\n+      return;\n+    }\n+\n+    const contWidth \u003d this.svg.clientWidth;\n+    const contHeight \u003d this.svg.clientHeight;\n+    const x \u003d contWidth / 2 - dagreNode.x * TEMPL_NODE_ZOOM_SCALE;\n+    const y \u003d contHeight / 2 - dagreNode.y * TEMPL_NODE_ZOOM_SCALE;\n+\n+    d3.select(this.svg)\n+      .transition()\n+      .duration(500)\n+      .call(\n+        this.zoomController.transform,\n+        d3.zoomIdentity.translate(x, y).scale(TEMPL_NODE_ZOOM_SCALE),\n+      );\n+  }\n+\n   setSelected(selected: string | null) {\n     d3.select(this.svg)\n       .select(\u0027.output .nodes\u0027)\n@@ -144,28 +175,12 @@ export class SignalsGraphVisualizer {\n \n     this.drender(g, this.graph);\n \n-    // if there are no nodes, we reset the transform to 0\n-    const {width, height} \u003d this.graph.graph();\n-    const xTransform \u003d isFinite(width) ? -width / 2 : 0;\n-    const yTransform \u003d isFinite(height) ? -height / 2 : 0;\n-    g.select(\u0027.output\u0027).attr(\u0027transform\u0027, `translate(${xTransform}, ${yTransform})`);\n-\n     this.addCloseButtonsToClusters(g);\n     this.reinforceNodeDimensions();\n \n     this.inputGraph \u003d signalGraph;\n   }\n \n-  resize() {\n-    const svg \u003d d3.select(this.svg);\n-    svg.attr(\u0027viewBox\u0027, [\n-      -this.svg.clientWidth / 2,\n-      -this.svg.clientHeight / 2,\n-      this.svg.clientWidth,\n-      this.svg.clientHeight,\n-    ]);\n-  }\n-\n   setClusterState(clusterId: string, expanded: boolean) {\n     if (!this.inputGraph) {\n       return;","expectedMessage":"refactor(devtools): snap to root node on signal graph render","repository":"angular","commitHash":"721094788a5cc287882156551517ae134c102460","metadata":{"author":"hawkgs \u003chawk.dvp@gmail.com\u003e"}}
{"id":"angular-c7eee830","diff":" adev/src/content/tools/libraries/angular-package-format.md | 2 ++\n 1 file changed, 2 insertions(+)\n\ndiff --git a/adev/src/content/tools/libraries/angular-package-format.md b/adev/src/content/tools/libraries/angular-package-format.md\nindex 9f29cfb2..4254feed 100644\n--- a/adev/src/content/tools/libraries/angular-package-format.md\n+++ b/adev/src/content/tools/libraries/angular-package-format.md\n@@ -206,6 +206,7 @@ The Angular compiler can generate index ES module files. Tools like Rollup can u\n \n FESM is a file format created by flattening all ES Modules accessible from an entrypoint into a single ES Module.\n It\u0027s formed by following all imports from a package and copying that code into a single file while preserving all public ES exports and removing all private imports.\n+However, in some cases, the FESM may depend on shared chunks that are shared between multiple entry points.\n \n The abbreviated name, FESM, pronounced _phe-som_, can be followed by a number such as FESM2020.\n The number refers to the language level of the JavaScript inside the module.\n@@ -300,6 +301,7 @@ Short for ECMAScript Modules \\(see above\\).\n ### FESM\n \n Short for Flattened ES Modules and consists of a file format created by flattening all ES Modules accessible from an entry point into a single ES Module.\n+Note that FESM is typically a single file, but it can depend on a shared chunk that is shared with other FESMs.\n \n ### Module ID\n ","expectedMessage":"docs: clarify that FESM can depend on shared chunks","repository":"angular","commitHash":"c7eee8300f31102a52f8132dc0522da9aa3a4a54","metadata":{"author":"Alan Agius \u003c17563226+alan-agius4@users.noreply.github.com\u003e"}}
{"id":"angular-5974cd0a","diff":" .../public-api/forms/signals/compat/index.api.md   |  1 +\n goldens/public-api/forms/signals/index.api.md      | 10 ++++-\n packages/core/src/core_render3_private_export.ts   |  1 +\n packages/core/src/render3/instructions/control.ts  | 19 +++-------\n packages/core/src/render3/interfaces/control.ts    |  8 ++--\n packages/forms/signals/src/api/control.ts          | 20 ++++++++--\n .../forms/signals/src/api/form_field_directive.ts  | 42 +++++++++++++++++++--\n packages/forms/signals/src/errors.ts               |  1 +\n packages/forms/signals/test/web/focus.spec.ts      | 43 +++++++++++++++++++++-\n .../signals/test/web/form_field_directive.spec.ts  | 27 ++++++++++++++\n 10 files changed, 146 insertions(+), 26 deletions(-)\n\ndiff --git a/goldens/public-api/forms/signals/compat/index.api.md b/goldens/public-api/forms/signals/compat/index.api.md\nindex 33f0094e..cb1c8bf3 100644\n--- a/goldens/public-api/forms/signals/compat/index.api.md\n+++ b/goldens/public-api/forms/signals/compat/index.api.md\n@@ -19,6 +19,7 @@ import { WritableSignal } from \u0027@angular/core\u0027;\n import { ɵCONTROL } from \u0027@angular/core\u0027;\n import { ɵcontrolUpdate } from \u0027@angular/core\u0027;\n import { ɵFieldState } from \u0027@angular/core\u0027;\n+import { ɵFormFieldBindingOptions } from \u0027@angular/core\u0027;\n import { ɵɵcontrolCreate } from \u0027@angular/core\u0027;\n \n // @public\ndiff --git a/goldens/public-api/forms/signals/index.api.md b/goldens/public-api/forms/signals/index.api.md\nindex 617de19f..e7f29aef 100644\n--- a/goldens/public-api/forms/signals/index.api.md\n+++ b/goldens/public-api/forms/signals/index.api.md\n@@ -29,6 +29,7 @@ import { WritableSignal } from \u0027@angular/core\u0027;\n import { ɵCONTROL } from \u0027@angular/core\u0027;\n import { ɵcontrolUpdate } from \u0027@angular/core\u0027;\n import { ɵFieldState } from \u0027@angular/core\u0027;\n+import { ɵFormFieldBindingOptions } from \u0027@angular/core\u0027;\n import { ɵɵcontrolCreate } from \u0027@angular/core\u0027;\n \n // @public\n@@ -175,12 +176,13 @@ export class FormField\u003cT\u003e {\n     };\n     // (undocumented)\n     readonly element: HTMLElement;\n-    focus?(): void;\n+    focus(): void;\n     // (undocumented)\n     readonly formField: i0.InputSignal\u003cFieldTree\u003cT\u003e\u003e;\n     protected getOrCreateNgControl(): InteropNgControl;\n     // (undocumented)\n     readonly injector: Injector;\n+    registerAsBinding(bindingOptions?: FormFieldBindingOptions): void;\n     // (undocumented)\n     readonly state: i0.Signal\u003c[T] extends [_angular_forms.AbstractControl\u003cany, any, any\u003e] ? CompatFieldState\u003cT, string | number\u003e : FieldState\u003cT, string | number\u003e\u003e;\n     // (undocumented)\n@@ -189,6 +191,11 @@ export class FormField\u003cT\u003e {\n     static ɵfac: i0.ɵɵFactoryDeclaration\u003cFormField\u003cany\u003e, never\u003e;\n }\n \n+// @public (undocumented)\n+export interface FormFieldBindingOptions extends ɵFormFieldBindingOptions {\n+    focus?: VoidFunction;\n+}\n+\n // @public\n export interface FormOptions {\n     adapter?: FieldAdapter;\n@@ -203,6 +210,7 @@ export interface FormUiControl {\n     readonly disabled?: InputSignal\u003cboolean\u003e | InputSignalWithTransform\u003cboolean, unknown\u003e;\n     readonly disabledReasons?: InputSignal\u003creadonly WithOptionalField\u003cDisabledReason\u003e[]\u003e | InputSignalWithTransform\u003creadonly WithOptionalField\u003cDisabledReason\u003e[], unknown\u003e;\n     readonly errors?: InputSignal\u003creadonly WithOptionalField\u003cValidationError\u003e[]\u003e | InputSignalWithTransform\u003creadonly WithOptionalField\u003cValidationError\u003e[], unknown\u003e;\n+    focus?(): void;\n     readonly hidden?: InputSignal\u003cboolean\u003e | InputSignalWithTransform\u003cboolean, unknown\u003e;\n     readonly invalid?: InputSignal\u003cboolean\u003e | InputSignalWithTransform\u003cboolean, unknown\u003e;\n     readonly max?: InputSignal\u003cnumber | undefined\u003e | InputSignalWithTransform\u003cnumber | undefined, unknown\u003e;\ndiff --git a/packages/core/src/core_render3_private_export.ts b/packages/core/src/core_render3_private_export.ts\nindex 19cc4dd7..3f184ce9 100644\n--- a/packages/core/src/core_render3_private_export.ts\n+++ b/packages/core/src/core_render3_private_export.ts\n@@ -253,6 +253,7 @@ export {LContext as ɵLContext} from \u0027./render3/interfaces/context\u0027;\n export {\n   ɵCONTROL,\n   ɵFieldState,\n+  ɵFormFieldBindingOptions,\n   ɵFormFieldDirective,\n   ɵInteropControl,\n } from \u0027./render3/interfaces/control\u0027;\ndiff --git a/packages/core/src/render3/instructions/control.ts b/packages/core/src/render3/instructions/control.ts\nindex e73e3ce3..a5472509 100644\n--- a/packages/core/src/render3/instructions/control.ts\n+++ b/packages/core/src/render3/instructions/control.ts\n@@ -14,7 +14,7 @@ import {\n   ɵCONTROL,\n   ɵFieldState,\n   ɵFormFieldDirective,\n-  type ɵCustomControl,\n+  type ɵFormFieldBindingOptions,\n } from \u0027../interfaces/control\u0027;\n import {DirectiveDef} from \u0027../interfaces/definition\u0027;\n import {TElementNode, TNode, TNodeFlags, TNodeType} from \u0027../interfaces/node\u0027;\n@@ -76,7 +76,7 @@ export function ɵɵcontrolCreate(): void {\n     initializeNativeControl(lView, tNode, fieldDirective);\n   }\n \n-  fieldDirective.ɵregister();\n+  fieldDirective.registerAsBinding(getCustomControl(tNode, lView));\n }\n \n /**\n@@ -291,14 +291,14 @@ function isNativeControlFirstCreatePass(tNode: TNode): boolean {\n  * @param tNode The `TNode` of the element to check.\n  * @param lView The `LView` that contains the element.\n  */\n-function getFieldDirective\u003cT\u003e(tNode: TNode, lView: LView): ɵFormFieldDirective\u003cT\u003e | null {\n+function getFieldDirective\u003cT\u003e(tNode: TNode, lView: LView): ɵFormFieldDirective\u003cT\u003e | undefined {\n   const index \u003d tNode.fieldIndex;\n-  return index \u003d\u003d\u003d -1 ? null : lView[index];\n+  return index \u003d\u003d\u003d -1 ? undefined : lView[index];\n }\n \n-function getCustomControl(tNode: TNode, lView: LView): ɵCustomControl | null {\n+function getCustomControl(tNode: TNode, lView: LView): ɵFormFieldBindingOptions | undefined {\n   const index \u003d tNode.customControlIndex;\n-  return index \u003d\u003d\u003d -1 ? null : lView[index];\n+  return index \u003d\u003d\u003d -1 ? undefined : lView[index];\n }\n \n /**\n@@ -361,10 +361,6 @@ function initializeCustomControl(\n       wrapListener(tNode, lView, () \u003d\u003e fieldDirective.state().markAsTouched()),\n     );\n   }\n-\n-  const customControl \u003d lView[directiveIndex] as ɵCustomControl;\n-  fieldDirective.focus \u003d () \u003d\u003e\n-    customControl.focus ? customControl.focus() : fieldDirective.element.focus();\n }\n \n /**\n@@ -379,7 +375,6 @@ function initializeInteropControl(fieldDirective: ɵFormFieldDirective\u003cunknown\u003e)\n     fieldDirective.state().setControlValue(value),\n   );\n   interopControl.registerOnTouched(() \u003d\u003e fieldDirective.state().markAsTouched());\n-  fieldDirective.focus \u003d () \u003d\u003e fieldDirective.element.focus();\n }\n \n /**\n@@ -472,8 +467,6 @@ function initializeNativeControl(\n \n     storeCleanupWithContext(tView, lView, observer, observer.disconnect);\n   }\n-\n-  fieldDirective.focus \u003d () \u003d\u003e element.focus();\n }\n \n /**\ndiff --git a/packages/core/src/render3/interfaces/control.ts b/packages/core/src/render3/interfaces/control.ts\nindex 393b6031..a5ba2fd3 100644\n--- a/packages/core/src/render3/interfaces/control.ts\n+++ b/packages/core/src/render3/interfaces/control.ts\n@@ -42,8 +42,6 @@ export interface ɵFormFieldDirective\u003cT\u003e {\n   /** A reference to the interoperable control, if one is present. */\n   readonly ɵinteropControl: ɵInteropControl | undefined;\n \n-  focus?(): void;\n-\n   /**\n    * Registers this directive as a control of its associated form field.\n    *\n@@ -52,10 +50,12 @@ export interface ɵFormFieldDirective\u003cT\u003e {\n    * the component will forward the bound field to another field directive in its own template,\n    * and do nothing.\n    */\n-  ɵregister(): void;\n+  registerAsBinding(bindingOptions?: ɵFormFieldBindingOptions): void;\n }\n \n-export interface ɵCustomControl {\n+/** A custom UI control for signal forms. */\n+export interface ɵFormFieldBindingOptions {\n+  /** Focuses the custom control. */\n   focus?(): void;\n }\n \ndiff --git a/packages/forms/signals/src/api/control.ts b/packages/forms/signals/src/api/control.ts\nindex 4533810d..f28922d6 100644\n--- a/packages/forms/signals/src/api/control.ts\n+++ b/packages/forms/signals/src/api/control.ts\n@@ -7,6 +7,7 @@\n  */\n \n import {InputSignal, InputSignalWithTransform, ModelSignal, OutputRef} from \u0027@angular/core\u0027;\n+import type {FormFieldBindingOptions} from \u0027./form_field_directive\u0027;\n import {ValidationError, type WithOptionalField} from \u0027./rules/validation/validation_errors\u0027;\n import type {DisabledReason} from \u0027./types\u0027;\n \n@@ -17,10 +18,6 @@ import type {DisabledReason} from \u0027./types\u0027;\n  * @experimental 21.0.0\n  */\n export interface FormUiControl {\n-  // TODO: `ValidationError` and `DisabledReason` are inherently tied to the signal forms system.\n-  // They don\u0027t make sense when using a control separately from the forms system and setting the\n-  // inputs individually. Given that, should they still be part of this interface?\n-\n   /**\n    * An input to receive the errors for the field. If implemented, the `Field` directive will\n    * automatically bind errors from the bound field to this input.\n@@ -119,8 +116,23 @@ export interface FormUiControl {\n   readonly pattern?:\n     | InputSignal\u003creadonly RegExp[]\u003e\n     | InputSignalWithTransform\u003creadonly RegExp[], unknown\u003e;\n+  /**\n+   * Focuses the UI control.\n+   *\n+   * If the focus method is not implemented, Signal Forms will attempt to focus the host element\n+   * when asked to focus this control.\n+   */\n+  focus?(): void;\n }\n \n+// Verify that `FormUiControl` implements `FormFieldBindingOptions`.\n+// We intend for this to be the case so that a `FormUiControl` can act as its own `FormFieldBindingOptions`.\n+// However, we don\u0027t want to add it as an actual `extends` clause to avoid confusing users.\n+type Check\u003cT extends true\u003e \u003d T;\n+type FormUiControlImplementsFormFieldBindingOptions \u003d Check\u003c\n+  FormUiControl extends FormFieldBindingOptions ? true : false\n+\u003e;\n+\n /**\n  * A contract for a form control that edits a `FieldTree` of type `TValue`. Any component that\n  * implements this contract can be used with the `Field` directive.\ndiff --git a/packages/forms/signals/src/api/form_field_directive.ts b/packages/forms/signals/src/api/form_field_directive.ts\nindex 91e8f72d..4c760fe6 100644\n--- a/packages/forms/signals/src/api/form_field_directive.ts\n+++ b/packages/forms/signals/src/api/form_field_directive.ts\n@@ -16,17 +16,32 @@ import {\n   InjectionToken,\n   Injector,\n   input,\n+  ɵRuntimeError as RuntimeError,\n+  signal,\n+  untracked,\n   ɵcontrolUpdate as updateControlBinding,\n   ɵCONTROL,\n   ɵInteropControl,\n+  type ɵFormFieldBindingOptions,\n   type ɵFormFieldDirective,\n } from \u0027@angular/core\u0027;\n import {NG_VALUE_ACCESSOR, NgControl} from \u0027@angular/forms\u0027;\n import {InteropNgControl} from \u0027../controls/interop_ng_control\u0027;\n+import {SignalFormsErrorCode} from \u0027../errors\u0027;\n import {SIGNAL_FORMS_CONFIG} from \u0027../field/di\u0027;\n import type {FieldNode} from \u0027../field/node\u0027;\n import type {FieldTree} from \u0027./types\u0027;\n \n+export interface FormFieldBindingOptions extends ɵFormFieldBindingOptions {\n+  /**\n+   * Focuses the binding.\n+   *\n+   * If not specified, Signal Forms will attempt to focus the host element of the `FormField` when\n+   * asked to focus this binding.\n+   */\n+  focus?: VoidFunction;\n+}\n+\n /**\n  * Lightweight DI token provided by the {@link FormField} directive.\n  *\n@@ -79,6 +94,7 @@ export class FormField\u003cT\u003e {\n   readonly injector \u003d inject(Injector);\n   readonly formField \u003d input.required\u003cFieldTree\u003cT\u003e\u003e();\n   readonly state \u003d computed(() \u003d\u003e this.formField()());\n+  private readonly bindingOptions \u003d signal\u003cFormFieldBindingOptions | undefined\u003e(undefined);\n \n   readonly [ɵCONTROL] \u003d controlInstructions;\n \n@@ -109,8 +125,21 @@ export class FormField\u003cT\u003e {\n     return (this.interopNgControl ??\u003d new InteropNgControl(this.state));\n   }\n \n-  /** @internal */\n-  ɵregister() {\n+  /**\n+   * Registers this `FormField` as a binding on its associated `FieldState`.\n+   *\n+   * This method should be called at most once for a given `FormField`. A `FormField` placed on a\n+   * custom control (`FormUiControl`) automatically registers that custom control as a binding.\n+   */\n+  registerAsBinding(bindingOptions?: FormFieldBindingOptions) {\n+    if (untracked(this.bindingOptions)) {\n+      throw new RuntimeError(\n+        SignalFormsErrorCode.BINDING_ALREADY_REGISTERED,\n+        ngDevMode \u0026\u0026 \u0027FormField already registered as a binding\u0027,\n+      );\n+    }\n+\n+    this.bindingOptions.set(bindingOptions);\n     // Register this control on the field state it is currently bound to. We do this at the end of\n     // initialization so that it only runs if we are actually syncing with this control\n     // (as opposed to just passing the field state through to its `formField` input).\n@@ -132,7 +161,14 @@ export class FormField\u003cT\u003e {\n   }\n \n   /** Focuses this UI control. */\n-  focus?(): void;\n+  focus() {\n+    const bindingOptions \u003d untracked(this.bindingOptions);\n+    if (bindingOptions?.focus) {\n+      bindingOptions.focus();\n+    } else {\n+      this.element.focus();\n+    }\n+  }\n }\n \n // We can\u0027t add `implements ɵFormFieldDirective\u003cT\u003e` to `Field` even though it should conform to the interface.\ndiff --git a/packages/forms/signals/src/errors.ts b/packages/forms/signals/src/errors.ts\nindex 9ff7cd95..8d636993 100644\n--- a/packages/forms/signals/src/errors.ts\n+++ b/packages/forms/signals/src/errors.ts\n@@ -25,4 +25,5 @@ export const enum SignalFormsErrorCode {\n   UNKNOWN_STATUS \u003d 1910,\n   COMPAT_NO_CHILDREN \u003d 1911,\n   MANAGED_METADATA_LAZY_CREATION \u003d 1912,\n+  BINDING_ALREADY_REGISTERED \u003d 1913,\n }\ndiff --git a/packages/forms/signals/test/web/focus.spec.ts b/packages/forms/signals/test/web/focus.spec.ts\nindex 92918391..f5a5501e 100644\n--- a/packages/forms/signals/test/web/focus.spec.ts\n+++ b/packages/forms/signals/test/web/focus.spec.ts\n@@ -6,7 +6,16 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {ApplicationRef, Component, input, model, signal} from \u0027@angular/core\u0027;\n+import {\n+  ApplicationRef,\n+  Component,\n+  inject,\n+  input,\n+  model,\n+  signal,\n+  viewChild,\n+  type ElementRef,\n+} from \u0027@angular/core\u0027;\n import {TestBed} from \u0027@angular/core/testing\u0027;\n import {FormControl} from \u0027@angular/forms\u0027;\n import {compatForm} from \u0027../../compat\u0027;\n@@ -182,6 +191,38 @@ describe(\u0027FieldState focus behavior\u0027, () \u003d\u003e {\n     await act(() \u003d\u003e fixture.componentInstance.f().focusBoundControl());\n     expect(document.activeElement).toBe(focusedEl);\n   });\n+\n+  it(\u0027should focus a manually registered form field binding\u0027, async () \u003d\u003e {\n+    @Component({\n+      selector: \u0027custom-control\u0027,\n+      template: `\u003cinput #input /\u003e`,\n+    })\n+    class CustomControl {\n+      formField \u003d input.required\u003cFieldTree\u003cstring\u003e\u003e();\n+      input \u003d viewChild.required\u003cElementRef\u003cHTMLInputElement\u003e\u003e(\u0027input\u0027);\n+\n+      constructor() {\n+        inject(FormField, {self: true, optional: true})?.registerAsBinding({\n+          focus: () \u003d\u003e this.input().nativeElement.focus(),\n+        });\n+      }\n+    }\n+\n+    @Component({\n+      imports: [FormField, CustomControl],\n+      template: `\u003ccustom-control [formField]\u003d\"f\" /\u003e`,\n+    })\n+    class TestCmp {\n+      readonly f \u003d form(signal(\u0027\u0027));\n+    }\n+\n+    const fixture \u003d await act(() \u003d\u003e TestBed.createComponent(TestCmp));\n+    const nativeInput \u003d fixture.nativeElement.querySelector(\u0027custom-control \u003e input\u0027);\n+    expect(nativeInput).toBeTruthy();\n+\n+    await act(() \u003d\u003e fixture.componentInstance.f().focusBoundControl());\n+    expect(document.activeElement).toBe(nativeInput);\n+  });\n });\n \n async function act\u003cT\u003e(fn: () \u003d\u003e T): Promise\u003cT\u003e {\ndiff --git a/packages/forms/signals/test/web/form_field_directive.spec.ts b/packages/forms/signals/test/web/form_field_directive.spec.ts\nindex e245dca2..f8c52bb6 100644\n--- a/packages/forms/signals/test/web/form_field_directive.spec.ts\n+++ b/packages/forms/signals/test/web/form_field_directive.spec.ts\n@@ -3310,6 +3310,33 @@ describe(\u0027field directive\u0027, () \u003d\u003e {\n       const fixture \u003d act(() \u003d\u003e TestBed.createComponent(TestCmp));\n       expect(fixture.componentInstance.f().formFieldBindings()).toHaveSize(0);\n     });\n+\n+    it(`should manually register pass-through instance as a form field binding`, () \u003d\u003e {\n+      @Component({\n+        selector: \u0027complex-control\u0027,\n+        template: ``,\n+      })\n+      class ComplexControl {\n+        readonly formField \u003d input.required\u003cFieldTree\u003cstring\u003e\u003e();\n+\n+        constructor() {\n+          inject(FormField, {optional: true, self: true})?.registerAsBinding();\n+        }\n+      }\n+\n+      @Component({\n+        template: `\u003ccomplex-control [formField]\u003d\"f\" /\u003e`,\n+        imports: [ComplexControl, FormField],\n+      })\n+      class TestCmp {\n+        f \u003d form(signal(\u0027test\u0027));\n+        formField \u003d viewChild.required(FormField);\n+      }\n+\n+      const fixture \u003d act(() \u003d\u003e TestBed.createComponent(TestCmp));\n+      const instance \u003d fixture.componentInstance;\n+      expect(instance.f().formFieldBindings()).toEqual([instance.formField()]);\n+    });\n   });\n \n   it(\u0027should synchronize disabled reasons\u0027, () \u003d\u003e {","expectedMessage":"feat(forms): Ability to manually register a form field binding in signal forms","repository":"angular","commitHash":"5974cd0afcdeaaeecc245e1a6759591d8eae3be6","metadata":{"author":"Miles Malerba \u003cmmalerba@google.com\u003e"}}
{"id":"angular-f2cf96b5","diff":" adev/shared-docs/pipeline/tutorials/common/angular.json            | 2 +-\n adev/shared-docs/pipeline/tutorials/common/src/public/.gitkeep     | 0\n .../steps/01-hello-world/src/{assets \u003d\u003e public}/location-pin.svg   | 0\n .../first-app/steps/01-hello-world/src/{assets \u003d\u003e public}/logo.svg | 0\n .../steps/02-Home/src/{assets \u003d\u003e public}/location-pin.svg          | 0\n .../first-app/steps/02-Home/src/{assets \u003d\u003e public}/logo.svg        | 0\n .../tutorials/first-app/steps/03-HousingLocation/src/app/app.ts    | 2 +-\n .../03-HousingLocation/src/{assets \u003d\u003e public}/location-pin.svg     | 0\n .../steps/03-HousingLocation/src/{assets \u003d\u003e public}/logo.svg       | 0\n .../content/tutorials/first-app/steps/04-interfaces/src/app/app.ts | 2 +-\n .../04-interfaces/src/app/housing-location/housing-location.css    | 4 ++--\n .../steps/04-interfaces/src/{assets \u003d\u003e public}/location-pin.svg    | 0\n .../first-app/steps/04-interfaces/src/{assets \u003d\u003e public}/logo.svg  | 0\n .../src/content/tutorials/first-app/steps/05-inputs/src/app/app.ts | 2 +-\n .../steps/05-inputs/src/app/housing-location/housing-location.css  | 4 ++--\n .../steps/05-inputs/src/{assets \u003d\u003e public}/location-pin.svg        | 0\n .../first-app/steps/05-inputs/src/{assets \u003d\u003e public}/logo.svg      | 0\n .../tutorials/first-app/steps/06-property-binding/src/app/app.ts   | 2 +-\n .../src/app/housing-location/housing-location.css                  | 4 ++--\n .../06-property-binding/src/{assets \u003d\u003e public}/location-pin.svg    | 0\n .../steps/06-property-binding/src/{assets \u003d\u003e public}/logo.svg      | 0\n .../first-app/steps/07-dynamic-template-values/src/app/app.ts      | 2 +-\n .../src/app/housing-location/housing-location.css                  | 4 ++--\n .../src/{assets \u003d\u003e public}/location-pin.svg                        | 0\n .../07-dynamic-template-values/src/{assets \u003d\u003e public}/logo.svg     | 0\n adev/src/content/tutorials/first-app/steps/08-ngFor/src/app/app.ts | 2 +-\n .../steps/08-ngFor/src/app/housing-location/housing-location.css   | 4 ++--\n .../steps/08-ngFor/src/{assets \u003d\u003e public}/location-pin.svg         | 0\n .../first-app/steps/08-ngFor/src/{assets \u003d\u003e public}/logo.svg       | 0\n .../content/tutorials/first-app/steps/09-services/src/app/app.ts   | 2 +-\n .../09-services/src/app/housing-location/housing-location.css      | 4 ++--\n .../steps/09-services/src/{assets \u003d\u003e public}/location-pin.svg      | 0\n .../first-app/steps/09-services/src/{assets \u003d\u003e public}/logo.svg    | 0\n .../content/tutorials/first-app/steps/10-routing/src/app/app.ts    | 2 +-\n .../steps/10-routing/src/app/housing-location/housing-location.css | 4 ++--\n .../steps/10-routing/src/{assets \u003d\u003e public}/location-pin.svg       | 0\n .../first-app/steps/10-routing/src/{assets \u003d\u003e public}/logo.svg     | 0\n .../tutorials/first-app/steps/11-details-page/src/app/app.ts       | 2 +-\n .../11-details-page/src/app/housing-location/housing-location.css  | 4 ++--\n .../steps/11-details-page/src/{assets \u003d\u003e public}/location-pin.svg  | 0\n .../steps/11-details-page/src/{assets \u003d\u003e public}/logo.svg          | 0\n adev/src/content/tutorials/first-app/steps/12-forms/src/app/app.ts | 2 +-\n .../tutorials/first-app/steps/12-forms/src/app/details/details.css | 7 ++++---\n .../steps/12-forms/src/app/housing-location/housing-location.css   | 4 ++--\n .../steps/12-forms/src/{assets \u003d\u003e public}/location-pin.svg         | 0\n .../first-app/steps/12-forms/src/{assets \u003d\u003e public}/logo.svg       | 0\n .../src/content/tutorials/first-app/steps/13-search/src/app/app.ts | 2 +-\n .../first-app/steps/13-search/src/app/details/details.css          | 7 ++++---\n .../steps/13-search/src/app/housing-location/housing-location.css  | 4 ++--\n .../steps/13-search/src/{assets \u003d\u003e public}/location-pin.svg        | 0\n .../first-app/steps/13-search/src/{assets \u003d\u003e public}/logo.svg      | 0\n .../content/tutorials/first-app/steps/14-http/src-final/app/app.ts | 2 +-\n .../first-app/steps/14-http/src-final/app/details/details.css      | 7 ++++---\n .../14-http/src-final/app/housing-location/housing-location.css    | 4 ++--\n .../steps/14-http/src-final/{assets \u003d\u003e public}/location-pin.svg    | 0\n .../first-app/steps/14-http/src-final/{assets \u003d\u003e public}/logo.svg  | 0\n adev/src/content/tutorials/first-app/steps/14-http/src/app/app.ts  | 2 +-\n .../tutorials/first-app/steps/14-http/src/app/details/details.css  | 7 ++++---\n .../steps/14-http/src/app/housing-location/housing-location.css    | 4 ++--\n .../steps/14-http/src/{assets \u003d\u003e public}/location-pin.svg          | 0\n .../first-app/steps/14-http/src/{assets \u003d\u003e public}/logo.svg        | 0\n .../tutorials/learn-angular/steps/11-optimizing-images/README.md   | 2 +-\n .../steps/11-optimizing-images/answer/src/app/user.ts              | 4 ++--\n .../11-optimizing-images/answer/src/public/{assets \u003d\u003e }/logo.svg   | 0\n .../learn-angular/steps/11-optimizing-images/src/app/user.ts       | 4 ++--\n .../steps/11-optimizing-images/src/public/{assets \u003d\u003e }/logo.svg    | 0\n 66 files changed, 59 insertions(+), 55 deletions(-)\n\ndiff --git a/adev/shared-docs/pipeline/tutorials/common/angular.json b/adev/shared-docs/pipeline/tutorials/common/angular.json\nindex e541511c..621a8c16 100644\n--- a/adev/shared-docs/pipeline/tutorials/common/angular.json\n+++ b/adev/shared-docs/pipeline/tutorials/common/angular.json\n@@ -47,7 +47,7 @@\n             \"polyfills\": [\"zone.js\"],\n             \"tsConfig\": \"tsconfig.app.json\",\n             \"inlineStyleLanguage\": \"scss\",\n-            \"assets\": [\"src/favicon.ico\", \"src/assets\"],\n+            \"assets\": [\"src/favicon.ico\", \"src/assets\", \"src/public\"],\n             \"styles\": [\"src/styles.css\"],\n             \"scripts\": []\n           },\ndiff --git a/adev/shared-docs/pipeline/tutorials/common/src/public/.gitkeep b/adev/shared-docs/pipeline/tutorials/common/src/public/.gitkeep\nnew file mode 100644\nindex 00000000..e69de29b\ndiff --git a/adev/src/content/tutorials/first-app/steps/01-hello-world/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/01-hello-world/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/01-hello-world/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/01-hello-world/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/01-hello-world/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/01-hello-world/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/01-hello-world/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/01-hello-world/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/02-Home/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/02-Home/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/02-Home/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/02-Home/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/02-Home/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/02-Home/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/02-Home/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/02-Home/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/app/app.ts\nindex 24174f4e..f22be65d 100644\n--- a/adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/app/app.ts\n@@ -7,7 +7,7 @@ import {Home} from \u0027./home/home\u0027;\n   template: `\n     \u003cmain\u003e\n       \u003cheader class\u003d\"brand-name\"\u003e\n-        \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+        \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n       \u003c/header\u003e\n       \u003csection class\u003d\"content\"\u003e\n         \u003capp-home /\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/03-HousingLocation/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/04-interfaces/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/04-interfaces/src/app/app.ts\nindex 24174f4e..f22be65d 100644\n--- a/adev/src/content/tutorials/first-app/steps/04-interfaces/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/04-interfaces/src/app/app.ts\n@@ -7,7 +7,7 @@ import {Home} from \u0027./home/home\u0027;\n   template: `\n     \u003cmain\u003e\n       \u003cheader class\u003d\"brand-name\"\u003e\n-        \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+        \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n       \u003c/header\u003e\n       \u003csection class\u003d\"content\"\u003e\n         \u003capp-home /\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/04-interfaces/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/04-interfaces/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/04-interfaces/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/04-interfaces/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/04-interfaces/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/04-interfaces/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/04-interfaces/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/04-interfaces/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/04-interfaces/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/04-interfaces/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/04-interfaces/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/04-interfaces/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/05-inputs/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/05-inputs/src/app/app.ts\nindex 24174f4e..f22be65d 100644\n--- a/adev/src/content/tutorials/first-app/steps/05-inputs/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/05-inputs/src/app/app.ts\n@@ -7,7 +7,7 @@ import {Home} from \u0027./home/home\u0027;\n   template: `\n     \u003cmain\u003e\n       \u003cheader class\u003d\"brand-name\"\u003e\n-        \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+        \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n       \u003c/header\u003e\n       \u003csection class\u003d\"content\"\u003e\n         \u003capp-home /\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/05-inputs/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/05-inputs/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/05-inputs/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/05-inputs/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/05-inputs/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/05-inputs/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/05-inputs/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/05-inputs/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/05-inputs/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/05-inputs/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/05-inputs/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/05-inputs/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/06-property-binding/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/06-property-binding/src/app/app.ts\nindex 24174f4e..f22be65d 100644\n--- a/adev/src/content/tutorials/first-app/steps/06-property-binding/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/06-property-binding/src/app/app.ts\n@@ -7,7 +7,7 @@ import {Home} from \u0027./home/home\u0027;\n   template: `\n     \u003cmain\u003e\n       \u003cheader class\u003d\"brand-name\"\u003e\n-        \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+        \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n       \u003c/header\u003e\n       \u003csection class\u003d\"content\"\u003e\n         \u003capp-home /\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/06-property-binding/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/06-property-binding/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/06-property-binding/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/06-property-binding/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/06-property-binding/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/06-property-binding/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/06-property-binding/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/06-property-binding/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/06-property-binding/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/06-property-binding/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/06-property-binding/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/06-property-binding/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/app/app.ts\nindex 24174f4e..f22be65d 100644\n--- a/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/app/app.ts\n@@ -7,7 +7,7 @@ import {Home} from \u0027./home/home\u0027;\n   template: `\n     \u003cmain\u003e\n       \u003cheader class\u003d\"brand-name\"\u003e\n-        \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+        \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n       \u003c/header\u003e\n       \u003csection class\u003d\"content\"\u003e\n         \u003capp-home /\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/07-dynamic-template-values/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/08-ngFor/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/08-ngFor/src/app/app.ts\nindex 24174f4e..f22be65d 100644\n--- a/adev/src/content/tutorials/first-app/steps/08-ngFor/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/08-ngFor/src/app/app.ts\n@@ -7,7 +7,7 @@ import {Home} from \u0027./home/home\u0027;\n   template: `\n     \u003cmain\u003e\n       \u003cheader class\u003d\"brand-name\"\u003e\n-        \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+        \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n       \u003c/header\u003e\n       \u003csection class\u003d\"content\"\u003e\n         \u003capp-home /\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/08-ngFor/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/08-ngFor/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/08-ngFor/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/08-ngFor/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/08-ngFor/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/08-ngFor/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/08-ngFor/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/08-ngFor/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/08-ngFor/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/08-ngFor/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/08-ngFor/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/08-ngFor/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/09-services/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/09-services/src/app/app.ts\nindex 24174f4e..f22be65d 100644\n--- a/adev/src/content/tutorials/first-app/steps/09-services/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/09-services/src/app/app.ts\n@@ -7,7 +7,7 @@ import {Home} from \u0027./home/home\u0027;\n   template: `\n     \u003cmain\u003e\n       \u003cheader class\u003d\"brand-name\"\u003e\n-        \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+        \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n       \u003c/header\u003e\n       \u003csection class\u003d\"content\"\u003e\n         \u003capp-home /\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/09-services/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/09-services/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/09-services/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/09-services/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/09-services/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/09-services/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/09-services/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/09-services/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/09-services/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/09-services/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/09-services/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/09-services/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/10-routing/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/10-routing/src/app/app.ts\nindex 24174f4e..f22be65d 100644\n--- a/adev/src/content/tutorials/first-app/steps/10-routing/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/10-routing/src/app/app.ts\n@@ -7,7 +7,7 @@ import {Home} from \u0027./home/home\u0027;\n   template: `\n     \u003cmain\u003e\n       \u003cheader class\u003d\"brand-name\"\u003e\n-        \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+        \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n       \u003c/header\u003e\n       \u003csection class\u003d\"content\"\u003e\n         \u003capp-home /\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/10-routing/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/10-routing/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/10-routing/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/10-routing/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/10-routing/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/10-routing/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/10-routing/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/10-routing/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/10-routing/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/10-routing/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/10-routing/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/10-routing/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/11-details-page/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/11-details-page/src/app/app.ts\nindex ff01a9c1..2ebf41f3 100644\n--- a/adev/src/content/tutorials/first-app/steps/11-details-page/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/11-details-page/src/app/app.ts\n@@ -8,7 +8,7 @@ import {RouterLink, RouterOutlet} from \u0027@angular/router\u0027;\n     \u003cmain\u003e\n       \u003ca [routerLink]\u003d\"[\u0027/\u0027]\"\u003e\n         \u003cheader class\u003d\"brand-name\"\u003e\n-          \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+          \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n         \u003c/header\u003e\n       \u003c/a\u003e\n       \u003csection class\u003d\"content\"\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/11-details-page/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/11-details-page/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/11-details-page/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/11-details-page/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/11-details-page/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/11-details-page/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/11-details-page/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/11-details-page/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/11-details-page/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/11-details-page/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/11-details-page/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/11-details-page/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/12-forms/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/12-forms/src/app/app.ts\nindex fa549e7c..cc4d9c47 100644\n--- a/adev/src/content/tutorials/first-app/steps/12-forms/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/12-forms/src/app/app.ts\n@@ -9,7 +9,7 @@ import {RouterLink, RouterOutlet} from \u0027@angular/router\u0027;\n     \u003cmain\u003e\n       \u003ca [routerLink]\u003d\"[\u0027/\u0027]\"\u003e\n         \u003cheader class\u003d\"brand-name\"\u003e\n-          \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+          \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n         \u003c/header\u003e\n       \u003c/a\u003e\n       \u003csection class\u003d\"content\"\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/12-forms/src/app/details/details.css b/adev/src/content/tutorials/first-app/steps/12-forms/src/app/details/details.css\nindex 8993c7ee..90cebfd3 100644\n--- a/adev/src/content/tutorials/first-app/steps/12-forms/src/app/details/details.css\n+++ b/adev/src/content/tutorials/first-app/steps/12-forms/src/app/details/details.css\n@@ -13,7 +13,7 @@\n }\n \n .listing-location::before {\n-  content: url(\u0027/assets/location-pin.svg\u0027) / \u0027\u0027;\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n .listing-location {\n@@ -44,7 +44,8 @@ li {\n   margin-bottom: 15px;\n }\n \n-label, input {\n+label,\n+input {\n   display: block;\n }\n label {\n@@ -61,7 +62,7 @@ input {\n   border-top: none;\n   border-right: none;\n   border-left: none;\n-  border-bottom: solid .3px;\n+  border-bottom: solid 0.3px;\n }\n @media (max-width: 1024px) {\n   .listing-photo {\ndiff --git a/adev/src/content/tutorials/first-app/steps/12-forms/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/12-forms/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/12-forms/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/12-forms/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/12-forms/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/12-forms/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/12-forms/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/12-forms/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/12-forms/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/12-forms/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/12-forms/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/12-forms/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/13-search/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/13-search/src/app/app.ts\nindex fa549e7c..cc4d9c47 100644\n--- a/adev/src/content/tutorials/first-app/steps/13-search/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/13-search/src/app/app.ts\n@@ -9,7 +9,7 @@ import {RouterLink, RouterOutlet} from \u0027@angular/router\u0027;\n     \u003cmain\u003e\n       \u003ca [routerLink]\u003d\"[\u0027/\u0027]\"\u003e\n         \u003cheader class\u003d\"brand-name\"\u003e\n-          \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+          \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n         \u003c/header\u003e\n       \u003c/a\u003e\n       \u003csection class\u003d\"content\"\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/13-search/src/app/details/details.css b/adev/src/content/tutorials/first-app/steps/13-search/src/app/details/details.css\nindex 8993c7ee..90cebfd3 100644\n--- a/adev/src/content/tutorials/first-app/steps/13-search/src/app/details/details.css\n+++ b/adev/src/content/tutorials/first-app/steps/13-search/src/app/details/details.css\n@@ -13,7 +13,7 @@\n }\n \n .listing-location::before {\n-  content: url(\u0027/assets/location-pin.svg\u0027) / \u0027\u0027;\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n .listing-location {\n@@ -44,7 +44,8 @@ li {\n   margin-bottom: 15px;\n }\n \n-label, input {\n+label,\n+input {\n   display: block;\n }\n label {\n@@ -61,7 +62,7 @@ input {\n   border-top: none;\n   border-right: none;\n   border-left: none;\n-  border-bottom: solid .3px;\n+  border-bottom: solid 0.3px;\n }\n @media (max-width: 1024px) {\n   .listing-photo {\ndiff --git a/adev/src/content/tutorials/first-app/steps/13-search/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/13-search/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/13-search/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/13-search/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/13-search/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/13-search/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/13-search/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/13-search/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/13-search/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/13-search/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/13-search/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/13-search/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/app.ts b/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/app.ts\nindex fa549e7c..cc4d9c47 100644\n--- a/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/app.ts\n@@ -9,7 +9,7 @@ import {RouterLink, RouterOutlet} from \u0027@angular/router\u0027;\n     \u003cmain\u003e\n       \u003ca [routerLink]\u003d\"[\u0027/\u0027]\"\u003e\n         \u003cheader class\u003d\"brand-name\"\u003e\n-          \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+          \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n         \u003c/header\u003e\n       \u003c/a\u003e\n       \u003csection class\u003d\"content\"\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/details/details.css b/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/details/details.css\nindex 8993c7ee..90cebfd3 100644\n--- a/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/details/details.css\n+++ b/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/details/details.css\n@@ -13,7 +13,7 @@\n }\n \n .listing-location::before {\n-  content: url(\u0027/assets/location-pin.svg\u0027) / \u0027\u0027;\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n .listing-location {\n@@ -44,7 +44,8 @@ li {\n   margin-bottom: 15px;\n }\n \n-label, input {\n+label,\n+input {\n   display: block;\n }\n label {\n@@ -61,7 +62,7 @@ input {\n   border-top: none;\n   border-right: none;\n   border-left: none;\n-  border-bottom: solid .3px;\n+  border-bottom: solid 0.3px;\n }\n @media (max-width: 1024px) {\n   .listing-photo {\ndiff --git a/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/14-http/src-final/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/14-http/src-final/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/14-http/src-final/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/14-http/src-final/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/14-http/src-final/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/14-http/src-final/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/14-http/src-final/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/14-http/src-final/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/14-http/src-final/public/logo.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/14-http/src/app/app.ts b/adev/src/content/tutorials/first-app/steps/14-http/src/app/app.ts\nindex fa549e7c..cc4d9c47 100644\n--- a/adev/src/content/tutorials/first-app/steps/14-http/src/app/app.ts\n+++ b/adev/src/content/tutorials/first-app/steps/14-http/src/app/app.ts\n@@ -9,7 +9,7 @@ import {RouterLink, RouterOutlet} from \u0027@angular/router\u0027;\n     \u003cmain\u003e\n       \u003ca [routerLink]\u003d\"[\u0027/\u0027]\"\u003e\n         \u003cheader class\u003d\"brand-name\"\u003e\n-          \u003cimg class\u003d\"brand-logo\" src\u003d\"/assets/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n+          \u003cimg class\u003d\"brand-logo\" src\u003d\"/public/logo.svg\" alt\u003d\"logo\" aria-hidden\u003d\"true\" /\u003e\n         \u003c/header\u003e\n       \u003c/a\u003e\n       \u003csection class\u003d\"content\"\u003e\ndiff --git a/adev/src/content/tutorials/first-app/steps/14-http/src/app/details/details.css b/adev/src/content/tutorials/first-app/steps/14-http/src/app/details/details.css\nindex 8993c7ee..90cebfd3 100644\n--- a/adev/src/content/tutorials/first-app/steps/14-http/src/app/details/details.css\n+++ b/adev/src/content/tutorials/first-app/steps/14-http/src/app/details/details.css\n@@ -13,7 +13,7 @@\n }\n \n .listing-location::before {\n-  content: url(\u0027/assets/location-pin.svg\u0027) / \u0027\u0027;\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n .listing-location {\n@@ -44,7 +44,8 @@ li {\n   margin-bottom: 15px;\n }\n \n-label, input {\n+label,\n+input {\n   display: block;\n }\n label {\n@@ -61,7 +62,7 @@ input {\n   border-top: none;\n   border-right: none;\n   border-left: none;\n-  border-bottom: solid .3px;\n+  border-bottom: solid 0.3px;\n }\n @media (max-width: 1024px) {\n   .listing-photo {\ndiff --git a/adev/src/content/tutorials/first-app/steps/14-http/src/app/housing-location/housing-location.css b/adev/src/content/tutorials/first-app/steps/14-http/src/app/housing-location/housing-location.css\nindex af6becb6..7a311a07 100644\n--- a/adev/src/content/tutorials/first-app/steps/14-http/src/app/housing-location/housing-location.css\n+++ b/adev/src/content/tutorials/first-app/steps/14-http/src/app/housing-location/housing-location.css\n@@ -17,7 +17,7 @@\n   padding: 10px 20px 20px 20px;\n }\n .listing-location::before {\n-  content: url(\"/assets/location-pin.svg\") / \"\";\n+  content: url(\u0027/public/location-pin.svg\u0027) / \u0027\u0027;\n }\n \n section.listing a {\n@@ -26,6 +26,6 @@ section.listing a {\n   color: var(--primary-color);\n }\n section.listing a::after {\n-  content: \"\\203A\";\n+  content: \u0027\\203A\u0027;\n   margin-left: 5px;\n }\ndiff --git a/adev/src/content/tutorials/first-app/steps/14-http/src/assets/location-pin.svg b/adev/src/content/tutorials/first-app/steps/14-http/src/public/location-pin.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/14-http/src/assets/location-pin.svg\nrename to adev/src/content/tutorials/first-app/steps/14-http/src/public/location-pin.svg\ndiff --git a/adev/src/content/tutorials/first-app/steps/14-http/src/assets/logo.svg b/adev/src/content/tutorials/first-app/steps/14-http/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/first-app/steps/14-http/src/assets/logo.svg\nrename to adev/src/content/tutorials/first-app/steps/14-http/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/README.md b/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/README.md\nindex 7e683d7f..c0b75c8f 100644\n--- a/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/README.md\n+++ b/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/README.md\n@@ -38,7 +38,7 @@ import { NgOptimizedImage } from \u0027@angular/common\u0027;\n template: `     ...\n     \u003cli\u003e\n       Static Image:\n-      \u003cimg ngSrc\u003d\"/assets/logo.svg\" alt\u003d\"Angular logo\" width\u003d\"32\" height\u003d\"32\" /\u003e\n+      \u003cimg ngSrc\u003d\"/public/logo.svg\" alt\u003d\"Angular logo\" width\u003d\"32\" height\u003d\"32\" /\u003e\n     \u003c/li\u003e\n     \u003cli\u003e\n       Dynamic Image:\ndiff --git a/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/answer/src/app/user.ts b/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/answer/src/app/user.ts\nindex 7248be2b..5cc51734 100644\n--- a/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/answer/src/app/user.ts\n+++ b/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/answer/src/app/user.ts\n@@ -9,7 +9,7 @@ import {NgOptimizedImage} from \u0027@angular/common\u0027;\n     \u003cul\u003e\n       \u003cli\u003e\n         Static Image:\n-        \u003cimg ngSrc\u003d\"/assets/logo.svg\" alt\u003d\"Angular logo\" width\u003d\"32\" height\u003d\"32\" /\u003e\n+        \u003cimg ngSrc\u003d\"/public/logo.svg\" alt\u003d\"Angular logo\" width\u003d\"32\" height\u003d\"32\" /\u003e\n       \u003c/li\u003e\n       \u003cli\u003e\n         Dynamic Image:\n@@ -20,7 +20,7 @@ import {NgOptimizedImage} from \u0027@angular/common\u0027;\n   imports: [NgOptimizedImage],\n })\n export class User {\n-  logoUrl \u003d \u0027/assets/logo.svg\u0027;\n+  logoUrl \u003d \u0027/public/logo.svg\u0027;\n   logoAlt \u003d \u0027Angular logo\u0027;\n   username \u003d \u0027youngTech\u0027;\n }\ndiff --git a/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/answer/src/public/assets/logo.svg b/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/answer/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/answer/src/public/assets/logo.svg\nrename to adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/answer/src/public/logo.svg\ndiff --git a/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/src/app/user.ts b/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/src/app/user.ts\nindex e04d8280..f0d41714 100644\n--- a/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/src/app/user.ts\n+++ b/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/src/app/user.ts\n@@ -8,7 +8,7 @@ import {Component} from \u0027@angular/core\u0027;\n     \u003cul\u003e\n       \u003cli\u003e\n         Static Image:\n-        \u003cimg src\u003d\"/assets/logo.svg\" alt\u003d\"Angular logo\" /\u003e\n+        \u003cimg src\u003d\"/public/logo.svg\" alt\u003d\"Angular logo\" /\u003e\n       \u003c/li\u003e\n       \u003cli\u003e\n         Dynamic Image:\n@@ -19,7 +19,7 @@ import {Component} from \u0027@angular/core\u0027;\n   imports: [],\n })\n export class User {\n-  logoUrl \u003d \u0027/assets/logo.svg\u0027;\n+  logoUrl \u003d \u0027/public/logo.svg\u0027;\n   logoAlt \u003d \u0027Angular logo\u0027;\n   username \u003d \u0027youngTech\u0027;\n }\ndiff --git a/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/src/public/assets/logo.svg b/adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/src/public/logo.svg\nsimilarity index 100%\nrename from adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/src/public/assets/logo.svg\nrename to adev/src/content/tutorials/learn-angular/steps/11-optimizing-images/src/public/logo.svg","expectedMessage":"fix(docs-infra): use public folder instead of assets folder for static files in adev tutorials","repository":"angular","commitHash":"f2cf96b51951302ee7772d165dce63c0d22397e6","metadata":{"author":"Joey Perrott \u003cjosephperrott@gmail.com\u003e"}}
{"id":"angular-849b8401","diff":" .github/workflows/scorecard.yml | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/.github/workflows/scorecard.yml b/.github/workflows/scorecard.yml\nindex 94274a52..cf03ef88 100644\n--- a/.github/workflows/scorecard.yml\n+++ b/.github/workflows/scorecard.yml\n@@ -47,6 +47,6 @@ jobs:\n \n       # Upload the results to GitHub\u0027s code scanning dashboard.\n       - name: \u0027Upload to code-scanning\u0027\n-        uses: github/codeql-action/upload-sarif@5d4e8d1aca955e8d8589aabd499c5cae939e33c7 # v4.31.9\n+        uses: github/codeql-action/upload-sarif@cdefb33c0f6224e58673d9004f47f7cb3e328b89 # v4.31.10\n         with:\n           sarif_file: results.sarif","expectedMessage":"build: update github/codeql-action action to v4.31.10","repository":"angular","commitHash":"849b8401a071eed956f8cd043e200f1911063c9e","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-22fefe78","diff":" MODULE.bazel      |  8 ++++----\n MODULE.bazel.lock | 41 ++++++++++++++++++++++++-----------------\n 2 files changed, 28 insertions(+), 21 deletions(-)\n\ndiff --git a/MODULE.bazel b/MODULE.bazel\nindex a4c34158..26699412 100644\n--- a/MODULE.bazel\n+++ b/MODULE.bazel\n@@ -5,14 +5,14 @@ module(\n )\n \n bazel_dep(name \u003d \"rules_pkg\", version \u003d \"1.2.0\")\n-bazel_dep(name \u003d \"rules_nodejs\", version \u003d \"6.6.2\")\n-bazel_dep(name \u003d \"aspect_rules_ts\", version \u003d \"3.8.1\")\n-bazel_dep(name \u003d \"aspect_rules_js\", version \u003d \"2.8.3\")\n+bazel_dep(name \u003d \"rules_nodejs\", version \u003d \"6.7.3\")\n+bazel_dep(name \u003d \"aspect_rules_ts\", version \u003d \"3.8.3\")\n+bazel_dep(name \u003d \"aspect_rules_js\", version \u003d \"2.9.1\")\n bazel_dep(name \u003d \"aspect_rules_esbuild\", version \u003d \"0.25.0\")\n bazel_dep(name \u003d \"aspect_rules_jasmine\", version \u003d \"2.0.2\")\n bazel_dep(name \u003d \"aspect_rules_rollup\", version \u003d \"2.0.1\")\n bazel_dep(name \u003d \"bazel_skylib\", version \u003d \"1.9.0\")\n-bazel_dep(name \u003d \"aspect_bazel_lib\", version \u003d \"2.22.2\")\n+bazel_dep(name \u003d \"aspect_bazel_lib\", version \u003d \"2.22.5\")\n bazel_dep(name \u003d \"tar.bzl\", version \u003d \"0.7.0\")\n bazel_dep(name \u003d \"yq.bzl\", version \u003d \"0.3.4\")\n bazel_dep(name \u003d \"rules_angular\")\ndiff --git a/MODULE.bazel.lock b/MODULE.bazel.lock\nindex 2e1f8148..586e5607 100644\n--- a/MODULE.bazel.lock\n+++ b/MODULE.bazel.lock\n@@ -16,7 +16,8 @@\n     \"https://bcr.bazel.build/modules/aspect_bazel_lib/2.17.1/MODULE.bazel\": \"9b027af55f619c7c444cead71061578fab6587e5e1303fa4ed61d49d2b1a7262\",\n     \"https://bcr.bazel.build/modules/aspect_bazel_lib/2.19.3/MODULE.bazel\": \"253d739ba126f62a5767d832765b12b59e9f8d2bc88cc1572f4a73e46eb298ca\",\n     \"https://bcr.bazel.build/modules/aspect_bazel_lib/2.22.2/MODULE.bazel\": \"6b735f3fdd64978e217c9725f4ff0d84bf606554c8e77d20e90977841d7ff2ed\",\n-    \"https://bcr.bazel.build/modules/aspect_bazel_lib/2.22.2/source.json\": \"58fffa2d722cff47cb8d921c8bbed7701c53f233009d9ca82beb4a0fb8fb9418\",\n+    \"https://bcr.bazel.build/modules/aspect_bazel_lib/2.22.5/MODULE.bazel\": \"004ba890363d05372a97248c37205ae64b6fa31047629cd2c0895a9d0c7779e8\",\n+    \"https://bcr.bazel.build/modules/aspect_bazel_lib/2.22.5/source.json\": \"ac2c3213df8f985785f1d0aeb7f0f73d5324e6e67d593d9b9470fb74a25d4a9b\",\n     \"https://bcr.bazel.build/modules/aspect_bazel_lib/2.7.7/MODULE.bazel\": \"491f8681205e31bb57892d67442ce448cda4f472a8e6b3dc062865e29a64f89c\",\n     \"https://bcr.bazel.build/modules/aspect_bazel_lib/2.8.1/MODULE.bazel\": \"812d2dd42f65dca362152101fbec418029cc8fd34cbad1a2fde905383d705838\",\n     \"https://bcr.bazel.build/modules/aspect_bazel_lib/2.9.3/MODULE.bazel\": \"66baf724dbae7aff4787bf2245cc188d50cb08e07789769730151c0943587c14\",\n@@ -28,13 +29,15 @@\n     \"https://bcr.bazel.build/modules/aspect_rules_js/2.4.2/MODULE.bazel\": \"0d01db38b96d25df7ed952a5e96eac4b3802723d146961974bf020f6dd07591d\",\n     \"https://bcr.bazel.build/modules/aspect_rules_js/2.6.2/MODULE.bazel\": \"ed2a871f4ab8fbde0cab67c425745069d84ea64b64313fa1a2954017326511f5\",\n     \"https://bcr.bazel.build/modules/aspect_rules_js/2.8.3/MODULE.bazel\": \"807ce5f624124a8bc586c743394d174e85f0f9c6c4e0e2410b4088aebe790ac8\",\n-    \"https://bcr.bazel.build/modules/aspect_rules_js/2.8.3/source.json\": \"c35cb4e04f61a09c17f8c569894b80de884b1e3dee2d33829704786e3f778037\",\n+    \"https://bcr.bazel.build/modules/aspect_rules_js/2.9.1/MODULE.bazel\": \"77b49cd52fe3d36d6caa857d7b59064547f26221fbe6ac499a973dcff033e745\",\n+    \"https://bcr.bazel.build/modules/aspect_rules_js/2.9.1/source.json\": \"2f53efd9718ff1d92435fd0388429fd7d7859950b6eb15348f56bbfcbfdacc5c\",\n     \"https://bcr.bazel.build/modules/aspect_rules_rollup/2.0.1/MODULE.bazel\": \"296e3a053658c2af989ba9bd62a205e6d1fa84bdd6dd5249196546e6b84770ec\",\n     \"https://bcr.bazel.build/modules/aspect_rules_rollup/2.0.1/source.json\": \"2fe8ac1ccb4de74bf884761e070010280b272d94e3997205b361b91c75409726\",\n     \"https://bcr.bazel.build/modules/aspect_rules_ts/3.6.3/MODULE.bazel\": \"d09db394970f076176ce7bab5b5fa7f0d560fd4f30b8432ea5e2c2570505b130\",\n     \"https://bcr.bazel.build/modules/aspect_rules_ts/3.7.0/MODULE.bazel\": \"5aace216caf88638950ef061245d23c36f57c8359e56e97f02a36f70bb09c50f\",\n     \"https://bcr.bazel.build/modules/aspect_rules_ts/3.8.1/MODULE.bazel\": \"796622c65ae3008374fc2d77c32ddb4ef6da9fe891826ce648f70033a48b3667\",\n-    \"https://bcr.bazel.build/modules/aspect_rules_ts/3.8.1/source.json\": \"a7c4f332f5c21f4e63d073f8dda40bf278d5307499fb307b35058dba558f417a\",\n+    \"https://bcr.bazel.build/modules/aspect_rules_ts/3.8.3/MODULE.bazel\": \"a26c28ebcd0c0d50ab0708ac21fa48bd2dced3a4dad4c31a2fa48588b42ad762\",\n+    \"https://bcr.bazel.build/modules/aspect_rules_ts/3.8.3/source.json\": \"d17304791281168c42c5532b4b9e01dfb4bdb42d7bf784597b75f401211efc63\",\n     \"https://bcr.bazel.build/modules/aspect_tools_telemetry/0.2.3/MODULE.bazel\": \"20f53b145f40957a51077ae90b37b7ce83582a1daf9350349f0f86179e19dd0d\",\n     \"https://bcr.bazel.build/modules/aspect_tools_telemetry/0.2.6/MODULE.bazel\": \"cafb8781ad591bc57cc765dca5fefab08cf9f65af363d162b79d49205c7f8af7\",\n     \"https://bcr.bazel.build/modules/aspect_tools_telemetry/0.2.8/MODULE.bazel\": \"aa975a83e72bcaac62ee61ab12b788ea324a1d05c4aab28aadb202f647881679\",\n@@ -47,9 +50,11 @@\n     \"https://bcr.bazel.build/modules/bazel_features/1.18.0/MODULE.bazel\": \"1be0ae2557ab3a72a57aeb31b29be347bcdc5d2b1eb1e70f39e3851a7e97041a\",\n     \"https://bcr.bazel.build/modules/bazel_features/1.19.0/MODULE.bazel\": \"59adcdf28230d220f0067b1f435b8537dd033bfff8db21335ef9217919c7fb58\",\n     \"https://bcr.bazel.build/modules/bazel_features/1.21.0/MODULE.bazel\": \"675642261665d8eea09989aa3b8afb5c37627f1be178382c320d1b46afba5e3b\",\n+    \"https://bcr.bazel.build/modules/bazel_features/1.28.0/MODULE.bazel\": \"4b4200e6cbf8fa335b2c3f43e1d6ef3e240319c33d43d60cc0fbd4b87ece299d\",\n     \"https://bcr.bazel.build/modules/bazel_features/1.30.0/MODULE.bazel\": \"a14b62d05969a293b80257e72e597c2da7f717e1e69fa8b339703ed6731bec87\",\n     \"https://bcr.bazel.build/modules/bazel_features/1.34.0/MODULE.bazel\": \"e8475ad7c8965542e0c7aac8af68eb48c4af904be3d614b6aa6274c092c2ea1e\",\n-    \"https://bcr.bazel.build/modules/bazel_features/1.34.0/source.json\": \"dfa5c4b01110313153b484a735764d247fee5624bbab63d25289e43b151a657a\",\n+    \"https://bcr.bazel.build/modules/bazel_features/1.39.0/MODULE.bazel\": \"28739425c1fc283c91931619749c832b555e60bcd1010b40d8441ce0a5cf726d\",\n+    \"https://bcr.bazel.build/modules/bazel_features/1.39.0/source.json\": \"f63cbeb4c602098484d57001e5a07d31cb02bbccde9b5e2c9bf0b29d05283e93\",\n     \"https://bcr.bazel.build/modules/bazel_features/1.4.1/MODULE.bazel\": \"e45b6bb2350aff3e442ae1111c555e27eac1d915e77775f6fdc4b351b758b5d7\",\n     \"https://bcr.bazel.build/modules/bazel_features/1.9.0/MODULE.bazel\": \"885151d58d90d8d9c811eb75e3288c11f850e1d6b481a8c9f766adee4712358b\",\n     \"https://bcr.bazel.build/modules/bazel_features/1.9.1/MODULE.bazel\": \"8f679097876a9b609ad1f60249c49d68bfab783dd9be012faf9d82547b14815a\",\n@@ -122,7 +127,8 @@\n     \"https://bcr.bazel.build/modules/rules_cc/0.0.8/MODULE.bazel\": \"964c85c82cfeb6f3855e6a07054fdb159aced38e99a5eecf7bce9d53990afa3e\",\n     \"https://bcr.bazel.build/modules/rules_cc/0.0.9/MODULE.bazel\": \"836e76439f354b89afe6a911a7adf59a6b2518fafb174483ad78a2a2fde7b1c5\",\n     \"https://bcr.bazel.build/modules/rules_cc/0.1.1/MODULE.bazel\": \"2f0222a6f229f0bf44cd711dc13c858dad98c62d52bd51d8fc3a764a83125513\",\n-    \"https://bcr.bazel.build/modules/rules_cc/0.1.1/source.json\": \"d61627377bd7dd1da4652063e368d9366fc9a73920bfa396798ad92172cf645c\",\n+    \"https://bcr.bazel.build/modules/rules_cc/0.2.16/MODULE.bazel\": \"9242fa89f950c6ef7702801ab53922e99c69b02310c39fb6e62b2bd30df2a1d4\",\n+    \"https://bcr.bazel.build/modules/rules_cc/0.2.16/source.json\": \"d03d5cde49376d87e14ec14b666c56075e5e3926930327fd5d0484a1ff2ac1cc\",\n     \"https://bcr.bazel.build/modules/rules_foreign_cc/0.9.0/MODULE.bazel\": \"c9e8c682bf75b0e7c704166d79b599f93b72cfca5ad7477df596947891feeef6\",\n     \"https://bcr.bazel.build/modules/rules_fuzzing/0.5.2/MODULE.bazel\": \"40c97d1144356f52905566c55811f13b299453a14ac7769dfba2ac38192337a8\",\n     \"https://bcr.bazel.build/modules/rules_fuzzing/0.5.2/source.json\": \"c8b1e2c717646f1702290959a3302a178fb639d987ab61d548105019f11e527e\",\n@@ -160,7 +166,8 @@\n     \"https://bcr.bazel.build/modules/rules_nodejs/6.5.0/MODULE.bazel\": \"546d0cf79f36f9f6e080816045f97234b071c205f4542e3351bd4424282a8810\",\n     \"https://bcr.bazel.build/modules/rules_nodejs/6.5.2/MODULE.bazel\": \"7f9ea68a0ce6d82905ce9f74e76ab8a8b4531ed4c747018c9d76424ad0b3370d\",\n     \"https://bcr.bazel.build/modules/rules_nodejs/6.6.2/MODULE.bazel\": \"9fdb5e1d50246a25761f150fcc820dc47e4052330a8408451e628804f9ca64a6\",\n-    \"https://bcr.bazel.build/modules/rules_nodejs/6.6.2/source.json\": \"6e8c1ecc64ff8da147c1620f862ad77d7b19c5d1b52b3aa5e847d5b3d0de4cc3\",\n+    \"https://bcr.bazel.build/modules/rules_nodejs/6.7.3/MODULE.bazel\": \"c22a48b2a0dbf05a9dc5f83837bbc24c226c1f6e618de3c3a610044c9f336056\",\n+    \"https://bcr.bazel.build/modules/rules_nodejs/6.7.3/source.json\": \"a3f966f4415a8a6545e560ee5449eac95cc633f96429d08e87c87775c72f5e09\",\n     \"https://bcr.bazel.build/modules/rules_pkg/0.7.0/MODULE.bazel\": \"df99f03fc7934a4737122518bb87e667e62d780b610910f0447665a7e2be62dc\",\n     \"https://bcr.bazel.build/modules/rules_pkg/1.0.1/MODULE.bazel\": \"5b1df97dbc29623bccdf2b0dcd0f5cb08e2f2c9050aab1092fd39a41e82686ff\",\n     \"https://bcr.bazel.build/modules/rules_pkg/1.2.0/MODULE.bazel\": \"c7db3c2b407e673c7a39e3625dc05dc9f12d6682cbd82a3a5924a13b491eda7e\",\n@@ -211,7 +218,7 @@\n   \"moduleExtensions\": {\n     \"@@aspect_rules_esbuild+//esbuild:extensions.bzl%esbuild\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"9odiC0alKLq5PUYv/CZiw2yiMHsGpxvEhPsqt//fRRk\u003d\",\n+        \"bzlTransitiveDigest\": \"RI14KgUrvKQ5YNDfXpXTphbCxvV+TKnasDm/ltO1VkA\u003d\",\n         \"usagesDigest\": \"ToTaCONCN/E05krnHXLM1kpV1zrHNxHrGpUip973II4\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n@@ -412,8 +419,8 @@\n     },\n     \"@@aspect_rules_js+//npm:extensions.bzl%pnpm\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"VaGKuK2sKVTWlq9QBZfNc4fhigCeN9Wt4YhnhdGUkv8\u003d\",\n-        \"usagesDigest\": \"V3eYj3dhR+UR/L7u17ZGfCuqJZpobNrN/6oEZPkZgDc\u003d\",\n+        \"bzlTransitiveDigest\": \"k8N/8kN3PnK4a8S/PlynWenNzI5NCiFM0O/A1AKzf7o\u003d\",\n+        \"usagesDigest\": \"RBF6ZMp3t6Prq70XsVgSKrEdTqKsOl27yQzpUYtMcwc\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},\n@@ -566,7 +573,7 @@\n     },\n     \"@@aspect_rules_ts+//ts:extensions.bzl%ext\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"7k3bewVApw4Kc6Rpho1Rrs1nrW/5jphUA5Mh1iHE2U4\u003d\",\n+        \"bzlTransitiveDigest\": \"gyALvLdd/1AuLPFXhzNeabk2DMLHf32oxn8qKfEK8UA\u003d\",\n         \"usagesDigest\": \"BIPOUwqzuuYqLOw/0p3h5GwHIDeBVXvNcxNoG5YlsHQ\u003d\",\n         \"recordedFileInputs\": {\n           \"@@rules_browsers+//package.json\": \"84dc1ba9b1c667a25894e97218bd8f247d54f24bb694efb397a881be3c06a4c5\"\n@@ -633,7 +640,7 @@\n     \"@@aspect_tools_telemetry+//:extension.bzl%telemetry\": {\n       \"general\": {\n         \"bzlTransitiveDigest\": \"cl5A2O84vDL6Tt+Qga8FCj1DUDGqn+e7ly5rZ+4xvcc\u003d\",\n-        \"usagesDigest\": \"c8kIEi+rX5/1OpfMZW0mHrM7sAvw+nu7pOep2xSjFb4\u003d\",\n+        \"usagesDigest\": \"TL0Un3rFCCJUGDopew7P0kOkKFqss3AnkD1ryXAdeCY\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},\n@@ -642,8 +649,8 @@\n             \"repoRuleId\": \"@@aspect_tools_telemetry+//:extension.bzl%tel_repository\",\n             \"attributes\": {\n               \"deps\": {\n-                \"aspect_rules_ts\": \"3.8.1\",\n-                \"aspect_rules_js\": \"2.8.3\",\n+                \"aspect_rules_ts\": \"3.8.3\",\n+                \"aspect_rules_js\": \"2.9.1\",\n                 \"aspect_rules_esbuild\": \"0.25.0\",\n                 \"aspect_rules_jasmine\": \"2.0.2\",\n                 \"aspect_tools_telemetry\": \"0.3.3\"\n@@ -1086,8 +1093,8 @@\n     },\n     \"@@rules_nodejs+//nodejs:extensions.bzl%node\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"NwcLXHrbh2hoorA/Ybmcpjxsn/6avQmewDglodkDrgo\u003d\",\n-        \"usagesDigest\": \"JCQTSBqneRVlPU6lK5eO3tfMlb29Zvh+cPUZ8rY2q8U\u003d\",\n+        \"bzlTransitiveDigest\": \"4pUxCNc22K4I+6+4Nxu52Hur12tFRfa1JMsN5mdDv60\u003d\",\n+        \"usagesDigest\": \"1WEUFNkNvr1u3e2LpL/ELe9JQgOvPG383gjFxlUy7wg\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},\n@@ -1508,7 +1515,7 @@\n     },\n     \"@@rules_python+//python/extensions:pip.bzl%pip\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"rPZpN8uoLnuu3B+LRiijfMadoMlO1/dxOO8/emPCZV4\u003d\",\n+        \"bzlTransitiveDigest\": \"d3ENjFH8qMwmOrkcb3c9JYqQ5hJ6owjfbSr24KY0Ugg\u003d\",\n         \"usagesDigest\": \"/9NP3RV6/DWuNdYAsIU/8UCgCX0TdPUJr0X6O+0lrtk\u003d\",\n         \"recordedFileInputs\": {\n           \"@@protobuf+//python/requirements.txt\": \"983be60d3cec4b319dcab6d48aeb3f5b2f7c3350f26b3a9e97486c37967c73c5\",\n@@ -4303,7 +4310,7 @@\n     \"@@yq.bzl+//yq:extensions.bzl%yq\": {\n       \"general\": {\n         \"bzlTransitiveDigest\": \"tDqk+ntWTdxNAWPDjRY1uITgHbti2jcXR5ZdinltBs0\u003d\",\n-        \"usagesDigest\": \"fKeGl7m4X6ZwRQS4Up/5Bzx+9laXzZyKEn6s9ODJQTc\u003d\",\n+        \"usagesDigest\": \"R9KNjxxjO4CZcSEeTrBKH3CArdPo6/yYrZOf77nF/eI\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},","expectedMessage":"build: update bazel dependencies","repository":"angular","commitHash":"22fefe7880c732ca70181e1e90138e9514ea06fd","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-a792315f","diff":" .../marked/extensions/docs-card/docs-card.mts      | 24 +++++++++++-----------\n .../pipeline/shared/marked/renderer.mts            |  2 ++\n .../shared/marked/test/heading/heading.spec.mts    | 17 +++++++++++++--\n .../shared/marked/test/renderer-context.mts        |  1 +\n .../shared/marked/transformations/heading.mts      |  4 +++-\n .../shared/marked/transformations/link.mts         | 14 ++-----------\n 6 files changed, 35 insertions(+), 27 deletions(-)\n\ndiff --git a/adev/shared-docs/pipeline/shared/marked/extensions/docs-card/docs-card.mts b/adev/shared-docs/pipeline/shared/marked/extensions/docs-card/docs-card.mts\nindex 457936a0..f21fa846 100644\n--- a/adev/shared-docs/pipeline/shared/marked/extensions/docs-card/docs-card.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/extensions/docs-card/docs-card.mts\n@@ -6,9 +6,9 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {Tokens, Token, RendererThis, TokenizerThis} from \u0027marked\u0027;\n-import {loadWorkspaceRelativeFile, anchorTarget} from \u0027../../helpers.mjs\u0027;\n-import {setInsideLink} from \u0027../../transformations/link.mjs\u0027;\n+import {RendererThis, Token, TokenizerThis, Tokens} from \u0027marked\u0027;\n+import {anchorTarget, loadWorkspaceRelativeFile} from \u0027../../helpers.mjs\u0027;\n+import {AdevDocsRenderer} from \u0027../../renderer.mjs\u0027;\n \n interface DocsCardToken extends Tokens.Generic {\n   type: \u0027docs-card\u0027;\n@@ -67,11 +67,13 @@ export const docsCardExtension \u003d {\n     return undefined;\n   },\n   renderer(this: RendererThis, token: DocsCardToken) {\n-    return token.imgSrc ? getCardWithSvgIllustration(this, token) : getStandardCard(this, token);\n+    return token.imgSrc\n+      ? getCardWithSvgIllustration(this, token)\n+      : getStandardCard(this.parser.renderer as AdevDocsRenderer, token);\n   },\n };\n \n-function getStandardCard(renderer: RendererThis, token: DocsCardToken) {\n+function getStandardCard(renderer: AdevDocsRenderer, token: DocsCardToken) {\n   if (token.iconImgSrc \u0026\u0026 token.href) {\n     // We can assume that all icons are svg files since they are custom.\n     // We need to read svg content, instead of renering svg with `img`,\n@@ -110,13 +112,11 @@ function getStandardCard(renderer: RendererThis, token: DocsCardToken) {\n   `;\n }\n \n-function parseWithoutCreatingLinks(renderer: RendererThis, token: DocsCardToken) {\n-  setInsideLink(true);\n-  try {\n-    return renderer.parser.parse(token.tokens);\n-  } finally {\n-    setInsideLink(false);\n-  }\n+function parseWithoutCreatingLinks(renderer: AdevDocsRenderer, token: DocsCardToken) {\n+  renderer.context.disableAutoLinking \u003d true;\n+  const parsed \u003d renderer.parser.parse(token.tokens);\n+  renderer.context.disableAutoLinking \u003d false;\n+  return parsed;\n }\n \n function getCardWithSvgIllustration(renderer: RendererThis, token: DocsCardToken) {\ndiff --git a/adev/shared-docs/pipeline/shared/marked/renderer.mts b/adev/shared-docs/pipeline/shared/marked/renderer.mts\nindex dc884fae..fe07d2a8 100644\n--- a/adev/shared-docs/pipeline/shared/marked/renderer.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/renderer.mts\n@@ -31,6 +31,8 @@ export interface RendererContext {\n   apiEntries?: Record\u003cstring, {moduleName: string; aliases?: string[]}\u003e;\n   highlighter: HighlighterGeneric\u003cany, any\u003e;\n   headerIds: Map\u003cstring, number\u003e;\n+  /** In the case we want to disable auto-linking because anchor blocks might be incompatible where some code blocks are being rendered */\n+  disableAutoLinking: boolean;\n }\n \n /**\ndiff --git a/adev/shared-docs/pipeline/shared/marked/test/heading/heading.spec.mts b/adev/shared-docs/pipeline/shared/marked/test/heading/heading.spec.mts\nindex 16faedf0..dd3bb563 100644\n--- a/adev/shared-docs/pipeline/shared/marked/test/heading/heading.spec.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/test/heading/heading.spec.mts\n@@ -6,10 +6,10 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {parseMarkdown} from \u0027../../parse.mjs\u0027;\n-import {resolve} from \u0027node:path\u0027;\n import {readFile} from \u0027fs/promises\u0027;\n import {JSDOM} from \u0027jsdom\u0027;\n+import {resolve} from \u0027node:path\u0027;\n+import {parseMarkdown} from \u0027../../parse.mjs\u0027;\n import {rendererContext} from \u0027../renderer-context.mjs\u0027;\n \n describe(\u0027markdown to html\u0027, () \u003d\u003e {\n@@ -118,4 +118,17 @@ describe(\u0027markdown to html\u0027, () \u003d\u003e {\n \n     expect(h2.firstElementChild!.innerHTML).toBe(\u0027Query for the \u003ccode\u003e\u0026lt;h1\u0026gt;\u003c/code\u003e\u0027);\n   });\n+\n+  it(\u0027shoud now link symbols in headings\u0027, () \u003d\u003e {\n+    const markdownDocument \u003d JSDOM.fragment(\n+      parseMarkdown(\u0027## Hello **NEW** `Router` \u0027, rendererContext),\n+    );\n+    const h2 \u003d markdownDocument.querySelector(\u0027h2\u0027)!;\n+\n+    // The anchor element should be to only child, no nested anchor\n+    expect(h2.children.length).toBe(1);\n+\n+    // We ensure that we still style the heading content\n+    expect(markdownDocument.querySelector(\u0027strong\u0027)).toBeDefined();\n+  });\n });\ndiff --git a/adev/shared-docs/pipeline/shared/marked/test/renderer-context.mts b/adev/shared-docs/pipeline/shared/marked/test/renderer-context.mts\nindex dfaf5ce1..d202cb00 100644\n--- a/adev/shared-docs/pipeline/shared/marked/test/renderer-context.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/test/renderer-context.mts\n@@ -25,6 +25,7 @@ export const rendererContext: RendererContext \u003d {\n     Router: {moduleName: \u0027angular/router\u0027},\n   },\n   headerIds: new Map\u003cstring, number\u003e(),\n+  disableAutoLinking: false,\n };\n \n export async function setHighlighter() {\ndiff --git a/adev/shared-docs/pipeline/shared/marked/transformations/heading.mts b/adev/shared-docs/pipeline/shared/marked/transformations/heading.mts\nindex 3bd651ee..f5ed377e 100644\n--- a/adev/shared-docs/pipeline/shared/marked/transformations/heading.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/transformations/heading.mts\n@@ -13,7 +13,9 @@ export function headingRender(\n   this: AdevDocsRenderer,\n   {depth, tokens, text: headingText, raw}: Tokens.Heading,\n ): string {\n-  const parsedText \u003d this?.parser.parseInline(tokens);\n+  this.context.disableAutoLinking \u003d true;\n+  const parsedText \u003d this?.parser.parseInline(tokens, this);\n+  this.context.disableAutoLinking \u003d false;\n   if (depth \u003d\u003d\u003d 1) {\n     return `\n     \u003cheader class\u003d\"docs-header\"\u003e\ndiff --git a/adev/shared-docs/pipeline/shared/marked/transformations/link.mts b/adev/shared-docs/pipeline/shared/marked/transformations/link.mts\nindex 50263558..d01b65ab 100644\n--- a/adev/shared-docs/pipeline/shared/marked/transformations/link.mts\n+++ b/adev/shared-docs/pipeline/shared/marked/transformations/link.mts\n@@ -6,20 +6,10 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n+import {Tokens} from \u0027marked\u0027;\n import {anchorTarget} from \u0027../helpers.mjs\u0027;\n-import {Renderer, Tokens} from \u0027marked\u0027;\n import {AdevDocsRenderer} from \u0027../renderer.mjs\u0027;\n \n-/**\n- * Tracks whether the current renderer is inside a link.\n- *\n- * This is necessary because nested links are invalid HTML and can cause rendering issues.\n- */\n-let insideLink \u003d false;\n-export function setInsideLink(value: boolean) {\n-  insideLink \u003d value;\n-}\n-\n export function linkRender(this: AdevDocsRenderer, {href, title, tokens}: Tokens.Link) {\n   // We have render-time check that we don\u0027t create absolute links (which are rendered as external links)\n   // in our guides\n@@ -40,7 +30,7 @@ export function linkRender(this: AdevDocsRenderer, {href, title, tokens}: Tokens\n     );\n   }\n \n-  if (insideLink) {\n+  if (this.context.disableAutoLinking) {\n     return this.parser.parseInline(tokens);\n   }\n ","expectedMessage":"docs(docs-infra): prevent heading from linking symbols","repository":"angular","commitHash":"a792315f095961ad82de8e6b9b77868f8850ac1a","metadata":{"author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e"}}
{"id":"angular-fa4bcf12","diff":" .github/actions/saucelabs-legacy/action.yml        |  4 +-\n .github/workflows/adev-preview-build.yml           |  8 ++--\n .github/workflows/adev-preview-deploy.yml          |  2 +-\n .../workflows/assistant-to-the-branch-manager.yml  |  2 +-\n .github/workflows/benchmark-compare.yml            |  2 +-\n .github/workflows/ci.yml                           | 50 +++++++++++-----------\n .github/workflows/dev-infra.yml                    |  4 +-\n .github/workflows/google-internal-tests.yml        |  2 +-\n .github/workflows/manual.yml                       |  8 ++--\n .github/workflows/merge-ready-status.yml           |  2 +-\n .github/workflows/perf.yml                         |  6 +--\n .github/workflows/pr.yml                           | 40 ++++++++---------\n MODULE.bazel                                       |  2 +-\n package.json                                       |  2 +-\n pnpm-lock.yaml                                     | 12 +++---\n 15 files changed, 73 insertions(+), 73 deletions(-)\n\ndiff --git a/.github/actions/saucelabs-legacy/action.yml b/.github/actions/saucelabs-legacy/action.yml\nindex 32557209..a1598247 100644\n--- a/.github/actions/saucelabs-legacy/action.yml\n+++ b/.github/actions/saucelabs-legacy/action.yml\n@@ -5,9 +5,9 @@ runs:\n   using: \u0027composite\u0027\n   steps:\n     - name: Setup Bazel\n-      uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+      uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n     - name: Setup Saucelabs Variables\n-      uses: angular/dev-infra/github-actions/saucelabs@1ce250a660eca5f613794a32cbae6d0f7a449918\n+      uses: angular/dev-infra/github-actions/saucelabs@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n     - name: Starting Saucelabs tunnel service\n       shell: bash\n       run: ./tools/saucelabs/sauce-service.sh run \u0026\ndiff --git a/.github/workflows/adev-preview-build.yml b/.github/workflows/adev-preview-build.yml\nindex 6efbe3aa..08825399 100644\n--- a/.github/workflows/adev-preview-build.yml\n+++ b/.github/workflows/adev-preview-build.yml\n@@ -21,17 +21,17 @@ jobs:\n       (github.event.action \u003d\u003d \u0027synchronize\u0027 \u0026\u0026 contains(github.event.pull_request.labels.*.name, \u0027adev: preview\u0027))\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\n         # `snapshot-build` config is used to stamp the exact version with sha in the footer.\n         run: pnpm bazel build //adev:build.production --config\u003dsnapshot-build\n-      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@1ce250a660eca5f613794a32cbae6d0f7a449918\n+      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           workflow-artifact-name: \u0027adev-preview\u0027\n           pull-number: \u0027${{github.event.pull_request.number}}\u0027\ndiff --git a/.github/workflows/adev-preview-deploy.yml b/.github/workflows/adev-preview-deploy.yml\nindex c176c669..1051040b 100644\n--- a/.github/workflows/adev-preview-deploy.yml\n+++ b/.github/workflows/adev-preview-deploy.yml\n@@ -40,7 +40,7 @@ jobs:\n           npx -y firebase-tools@latest target:clear --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs\n           npx -y firebase-tools@latest target:apply --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs ${{env.PREVIEW_SITE}}\n \n-      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@1ce250a660eca5f613794a32cbae6d0f7a449918\n+      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           github-token: \u0027${{secrets.GITHUB_TOKEN}}\u0027\n           workflow-artifact-name: \u0027adev-preview\u0027\ndiff --git a/.github/workflows/assistant-to-the-branch-manager.yml b/.github/workflows/assistant-to-the-branch-manager.yml\nindex 95b5789f..f7625289 100644\n--- a/.github/workflows/assistant-to-the-branch-manager.yml\n+++ b/.github/workflows/assistant-to-the-branch-manager.yml\n@@ -17,6 +17,6 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n         with:\n           persist-credentials: false\n-      - uses: angular/dev-infra/github-actions/branch-manager@1ce250a660eca5f613794a32cbae6d0f7a449918\n+      - uses: angular/dev-infra/github-actions/branch-manager@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/benchmark-compare.yml b/.github/workflows/benchmark-compare.yml\nindex b198a1e7..fd7acbb2 100644\n--- a/.github/workflows/benchmark-compare.yml\n+++ b/.github/workflows/benchmark-compare.yml\n@@ -38,7 +38,7 @@ jobs:\n \n       - run: pnpm install --frozen-lockfile\n \n-      - uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+      - uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           bazelrc: ./.bazelrc.user\n \ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex d1be1578..ceb74460 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -21,7 +21,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -39,13 +39,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -67,11 +67,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -83,11 +83,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -100,11 +100,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -119,11 +119,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -136,11 +136,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: echo \"https://${{secrets.SNAPSHOT_BUILDS_GITHUB_TOKEN}}:@github.com\" \u003e ${HOME}/.git_credentials\n@@ -152,11 +152,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -206,11 +206,11 @@ jobs:\n     runs-on: ubuntu-latest-8core\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\ndiff --git a/.github/workflows/dev-infra.yml b/.github/workflows/dev-infra.yml\nindex 3c0a8223..9f72796f 100644\n--- a/.github/workflows/dev-infra.yml\n+++ b/.github/workflows/dev-infra.yml\n@@ -13,13 +13,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/pull-request-labeling@1ce250a660eca5f613794a32cbae6d0f7a449918\n+      - uses: angular/dev-infra/github-actions/pull-request-labeling@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\n   post_approval_changes:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/post-approval-changes@1ce250a660eca5f613794a32cbae6d0f7a449918\n+      - uses: angular/dev-infra/github-actions/post-approval-changes@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/google-internal-tests.yml b/.github/workflows/google-internal-tests.yml\nindex f997dafe..df65351e 100644\n--- a/.github/workflows/google-internal-tests.yml\n+++ b/.github/workflows/google-internal-tests.yml\n@@ -14,7 +14,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/google-internal-tests@1ce250a660eca5f613794a32cbae6d0f7a449918\n+      - uses: angular/dev-infra/github-actions/google-internal-tests@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           run-tests-guide-url: http://go/angular-g3sync-start\n           github-token: ${{ secrets.GITHUB_TOKEN }}\ndiff --git a/.github/workflows/manual.yml b/.github/workflows/manual.yml\nindex a317ec4a..b6b2a7a5 100644\n--- a/.github/workflows/manual.yml\n+++ b/.github/workflows/manual.yml\n@@ -13,15 +13,15 @@ jobs:\n       JOBS: 2\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Saucelabs Variables\n-        uses: angular/dev-infra/github-actions/saucelabs@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/saucelabs@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Set up Sauce Tunnel Daemon\n         run: pnpm bazel run //tools/saucelabs-daemon/background-service -- $JOBS \u0026\n         env:\ndiff --git a/.github/workflows/merge-ready-status.yml b/.github/workflows/merge-ready-status.yml\nindex 59d3ad0f..3416b1bc 100644\n--- a/.github/workflows/merge-ready-status.yml\n+++ b/.github/workflows/merge-ready-status.yml\n@@ -9,6 +9,6 @@ jobs:\n   status:\n     runs-on: ubuntu-latest\n     steps:\n-      - uses: angular/dev-infra/github-actions/unified-status-check@1ce250a660eca5f613794a32cbae6d0f7a449918\n+      - uses: angular/dev-infra/github-actions/unified-status-check@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/perf.yml b/.github/workflows/perf.yml\nindex f9de7d34..4d68c30e 100644\n--- a/.github/workflows/perf.yml\n+++ b/.github/workflows/perf.yml\n@@ -21,7 +21,7 @@ jobs:\n       workflows: ${{ steps.workflows.outputs.workflows }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - id: workflows\n@@ -36,9 +36,9 @@ jobs:\n         workflow: ${{ fromJSON(needs.list.outputs.workflows) }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       # We utilize the google-github-actions/auth action to allow us to get an active credential using workflow\ndiff --git a/.github/workflows/pr.yml b/.github/workflows/pr.yml\nindex 7ab3a3d4..c93e49d5 100644\n--- a/.github/workflows/pr.yml\n+++ b/.github/workflows/pr.yml\n@@ -19,7 +19,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -37,7 +37,7 @@ jobs:\n       - name: Check code format\n         run: pnpm ng-dev format changed --check ${{ github.event.pull_request.base.sha }}\n       - name: Check Package Licenses\n-        uses: angular/dev-infra/github-actions/linting/licenses@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/linting/licenses@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           allow-dependencies-licenses: \u0027pkg:npm/google-protobuf@\u0027\n \n@@ -45,13 +45,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run unit tests\n@@ -71,11 +71,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run CI tests for framework\n@@ -95,11 +95,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run integration CI tests for framework\n@@ -110,11 +110,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -127,11 +127,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -142,11 +142,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/setup@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@1ce250a660eca5f613794a32cbae6d0f7a449918\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@b816685b6260ab760f1a24fc6f79db9bd1cb4921\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: |\ndiff --git a/MODULE.bazel b/MODULE.bazel\nindex c94ea372..a4c34158 100644\n--- a/MODULE.bazel\n+++ b/MODULE.bazel\n@@ -25,7 +25,7 @@ git_override(\n bazel_dep(name \u003d \"devinfra\")\n git_override(\n     module_name \u003d \"devinfra\",\n-    commit \u003d \"1ce250a660eca5f613794a32cbae6d0f7a449918\",\n+    commit \u003d \"b816685b6260ab760f1a24fc6f79db9bd1cb4921\",\n     remote \u003d \"https://github.com/angular/dev-infra.git\",\n )\n \ndiff --git a/package.json b/package.json\nindex d818037f..46afd9b3 100644\n--- a/package.json\n+++ b/package.json\n@@ -161,7 +161,7 @@\n   \"devDependencies\": {\n     \"@actions/core\": \"^2.0.0\",\n     \"@actions/github\": \"^7.0.0\",\n-    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#7f29a07e259169c1eb3f1659b75faa164f017972\",\n+    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#0b9654158d79ed9bf68866d619ea3a12700ed385\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\n     \"@babel/plugin-transform-async-generator-functions\": \"^7.27.1\",\n     \"@bazel/bazelisk\": \"^1.7.5\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 9c41ad36..cf4ef7e3 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -336,8 +336,8 @@ importers:\n         specifier: ^7.0.0\n         version: 7.0.0\n       \u0027@angular/ng-dev\u0027:\n-        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#7f29a07e259169c1eb3f1659b75faa164f017972\n-        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/7f29a07e259169c1eb3f1659b75faa164f017972(@modelcontextprotocol/sdk@1.25.2)\n+        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#0b9654158d79ed9bf68866d619ea3a12700ed385\n+        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/0b9654158d79ed9bf68866d619ea3a12700ed385(@modelcontextprotocol/sdk@1.25.2)\n       \u0027@babel/plugin-proposal-async-generator-functions\u0027:\n         specifier: 7.20.7\n         version: 7.20.7(@babel/core@7.28.5)\n@@ -1678,9 +1678,9 @@ packages:\n       \u0027@angular/platform-browser\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n       rxjs: ^6.5.3 || ^7.4.0\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/7f29a07e259169c1eb3f1659b75faa164f017972\u0027:\n-    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/7f29a07e259169c1eb3f1659b75faa164f017972}\n-    version: 0.0.0-1ce250a660eca5f613794a32cbae6d0f7a449918\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/0b9654158d79ed9bf68866d619ea3a12700ed385\u0027:\n+    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/0b9654158d79ed9bf68866d619ea3a12700ed385}\n+    version: 0.0.0-b816685b6260ab760f1a24fc6f79db9bd1cb4921\n     hasBin: true\n \n   \u0027@angular/ssr@21.1.0-rc.0\u0027:\n@@ -13285,7 +13285,7 @@ snapshots:\n       rxjs: 7.8.2\n       tslib: 2.8.1\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/7f29a07e259169c1eb3f1659b75faa164f017972(@modelcontextprotocol/sdk@1.25.2)\u0027:\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/0b9654158d79ed9bf68866d619ea3a12700ed385(@modelcontextprotocol/sdk@1.25.2)\u0027:\n     dependencies:\n       \u0027@actions/core\u0027: 2.0.1\n       \u0027@google-cloud/spanner\u0027: 8.0.0(supports-color@10.2.2)","expectedMessage":"build: update cross-repo angular dependencies","repository":"angular","commitHash":"fa4bcf12cdadebb677f01fe9429b0350ec748d4a","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-01592689","diff":" CHANGELOG.md | 247 ++++++++---------------------------------------------------\n 1 file changed, 34 insertions(+), 213 deletions(-)\n\ndiff --git a/CHANGELOG.md b/CHANGELOG.md\nindex 596420e2..9c27ce65 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,19 +1,8 @@\n-\u003ca name\u003d\"21.0.9\"\u003e\u003c/a\u003e\n-# 21.0.9 (2026-01-14)\n-### forms\n-| Commit | Type | Description |\n-| -- | -- | -- |\n-| [82d556a8fb](https://github.com/angular/angular/commit/82d556a8fb38cd2024e3d098c55254305ba12b6b) | fix | Ensure the control instruction comes after the other bindings |\n-| [0055f3cc79](https://github.com/angular/angular/commit/0055f3cc79f387b8dec6ce5e1a33fad5486f9341) | fix | Rename signal form [field] to [formField] |\n-### migrations\n-| Commit | Type | Description |\n-| -- | -- | -- |\n-| [e4bfa5c9e7](https://github.com/angular/angular/commit/e4bfa5c9e7feec48d3c4e9425a21a2ccf6532bdb) | fix | prevent duplicate imports in common-to-standalone migration |\n-\n-\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n-\n-\u003ca name\u003d\"21.1.0-rc.0\"\u003e\u003c/a\u003e\n-# 21.1.0-rc.0 (2026-01-08)\n+\u003ca name\u003d\"21.1.0\"\u003e\u003c/a\u003e\n+# 21.1.0 (2026-01-14)\n+## Deprecations\n+### upgrade\n+- `VERSION` from `@angular/upgrade` is deprecated. Please use the entry from `@angular/upgrade/static` instead.\n ### common\n | Commit | Type | Description |\n | -- | -- | -- |\n@@ -23,17 +12,7 @@\n | Commit | Type | Description |\n | -- | -- | -- |\n | [640693da8e](https://github.com/angular/angular/commit/640693da8e667c015662246152236585d9b24e7f) | feat | Add support for multiple swich cases matching |\n-| [10da2f9029](https://github.com/angular/angular/commit/10da2f9029720e7a647d57921548b39cf11f55dd) | fix | better types for a few expression AST nodes |\n-| [3a56c1367f](https://github.com/angular/angular/commit/3a56c1367f336a7da0ed8dd00c299c8be8da848c) | fix | produce accurate span for typeof and void expressions |\n-| [76fa180005](https://github.com/angular/angular/commit/76fa180005a30b431c133285b68e8398df2e0e52) | fix | provide location information for literal map keys |\n-| [fa7cb4b87a](https://github.com/angular/angular/commit/fa7cb4b87af39f64a77ba930d891ac371a6858e9) | fix | stop ThisReceiver inheritance from ImplicitReceiver |\n | [0ad3adc7c6](https://github.com/angular/angular/commit/0ad3adc7c6d4094f1e3432a3f2e3bdc9862cb4fa) | fix | Support empty cases |\n-### compiler-cli\n-| Commit | Type | Description |\n-| -- | -- | -- |\n-| [106ba63650](https://github.com/angular/angular/commit/106ba63650340cc828e302dc4eb46dbd4fb43a3b) | fix | ensure component import diagnostics are reported within the `imports` expression |\n-| [3a26244d61](https://github.com/angular/angular/commit/3a26244d61c9233e237817dc861be12dfc4bc918) | fix | fix up spelling of diagnostic |\n-| [f12e160bc1](https://github.com/angular/angular/commit/f12e160bc1010daf582d5f0ab863a16e4b94ca4c) | fix | support qualified names in `typeof` type references |\n ### core\n | Commit | Type | Description |\n | -- | -- | -- |\n@@ -41,30 +20,45 @@\n | [a0dfa5fa86](https://github.com/angular/angular/commit/a0dfa5fa86f40520b0e368a021b3c72009a45e8e) | feat | support rest arguments in function calls |\n | [6e18fa8bc9](https://github.com/angular/angular/commit/6e18fa8bc9d7e6801e2e89e635c2f759dc422317) | feat | support spread elements in array literals |\n | [e407280ab5](https://github.com/angular/angular/commit/e407280ab53cde5f93c3a643457c848845c6ec8b) | feat | support spread expressions in object literals |\n-| [80b0fbba1f](https://github.com/angular/angular/commit/80b0fbba1f9e3a8ce9a89aa88ae3efd4a1f60271) | fix | avoid leaking view data in animations |\n-| [e2a9938c51](https://github.com/angular/angular/commit/e2a9938c517b1e0429818e285ef70b69bf61181b) | fix | explicitly cast signal node value to String |\n-| [30e9c62bdf](https://github.com/angular/angular/commit/30e9c62bdfb8af73c24833473bd4492869538d2d) | fix | fix memory leak with event replay |\n-| [86dc1283e8](https://github.com/angular/angular/commit/86dc1283e8cad0eac1a31bc2c6cff137e6cb2542) | fix | handle cancelled traversals in fake navigation |\n-| [91dc91bae4](https://github.com/angular/angular/commit/91dc91bae4a1bbefc58bef6ef739d0e02ab44d56) | fix | sanitize sensitive attributes on SVG script elements |\n+| [06be8034bb](https://github.com/angular/angular/commit/06be8034bb9b9adfc07ab0d40cd87c6ae5de02de) | fix | Microtask scheduling should be used after any application synchronization |\n+| [b4f584cf42](https://github.com/angular/angular/commit/b4f584cf42235c94bb8389fa55bc634e23d7b010) | fix | return `StaticProvider` for `providePlatformInitializer` |\n ### forms\n | Commit | Type | Description |\n | -- | -- | -- |\n-| [2d85ae5811](https://github.com/angular/angular/commit/2d85ae58115690507d4a47ca5c6a7a642abd1c2e) | feat | add `[formField]` directive |\n-| [89c37f1f7f](https://github.com/angular/angular/commit/89c37f1f7f93ec3746479c73b87b948a6e93dcaa) | fix | allow custom controls to require `dirty` input |\n-| [82edf18427](https://github.com/angular/angular/commit/82edf18427b1fcf7e63cb3ac930dfa1d065a25f1) | fix | allow custom controls to require `hidden` input |\n-| [1a4c3eb1d0](https://github.com/angular/angular/commit/1a4c3eb1d09a5db57a07ea5ed593cbe3e47e8125) | fix | allow custom controls to require `pending` input |\n-| [e7d99f02cb](https://github.com/angular/angular/commit/e7d99f02cba503aa7a30f71d388aef353205fff7) | fix | clean up abort listener after timeout |\n-| [cb09fb8308](https://github.com/angular/angular/commit/cb09fb8308a7c94cca9af6074ef523ce094d5f67) | fix | support custom controls with non signal-based models |\n-| [282220d032](https://github.com/angular/angular/commit/282220d032a64d32c466bb37057c6f91df39bfb3) | fix | Support readonly arrays in signal forms |\n+| [1ea5c97703](https://github.com/angular/angular/commit/1ea5c97703ad3c6d8e4cb1b4297eec57629ce117) | feat | allow focusing bound control from field state |\n+### platform-browser\n+| Commit | Type | Description |\n+| -- | -- | -- |\n+| [ec9dc94cee](https://github.com/angular/angular/commit/ec9dc94ceeb3c026c64e01c6889b7f5c6fd25a66) | feat | add `context` to `createApplication` |\n+| [ab67988d2e](https://github.com/angular/angular/commit/ab67988d2e5242eff0034483f984428d684acd02) | feat | resolve JIT resources in `createApplication` |\n ### router\n | Commit | Type | Description |\n | -- | -- | -- |\n | [5edceffd04](https://github.com/angular/angular/commit/5edceffd0431f5a25e111a731db521e966b91f86) | feat | add controls for route cleanup |\n+| [a03c82564d](https://github.com/angular/angular/commit/a03c82564da6824e199ff48d5249ea8708040951) | feat | Add scroll behavior controls on router navigation |\n | [e44839b016](https://github.com/angular/angular/commit/e44839b01640505e554fff16f24e08f282a557c0) | feat | Add standalone function to create a comptued for isActive |\n+| [c25d749d85](https://github.com/angular/angular/commit/c25d749d85374fff7745980cd9bb2673c661105a) | feat | Execute RunGuardsAndResolvers function in injection context |\n | [1c00ab42f8](https://github.com/angular/angular/commit/1c00ab42f8714f2775ed75bbf3cdf0fd44ee32c3) | feat | extend paramters of RedirectFunction to include paramMap and queryParamMap |\n | [7003e8d241](https://github.com/angular/angular/commit/7003e8d2417660f71b3a2a017aff3e650c8d9646) | feat | Publish Router\u0027s integration with platform Navigation API as experimental |\n-| [bcef77d950](https://github.com/angular/angular/commit/bcef77d9507e9778c35a6186ef4a8c1d67cd5992) | fix | Fix RouterLink href not updating with `queryParamsHandling` |\n-| [9e043decaf](https://github.com/angular/angular/commit/9e043decaf01dc622236814a2a2db73ec2bffe28) | fix | handle errors from view transition `updateCallbackDone` promise |\n+| [c84d372778](https://github.com/angular/angular/commit/c84d37277874cf7cbd7582a295d796ff113b9cc1) | feat | Support wildcard params with segments trailing ([#64737](https://github.com/angular/angular/pull/64737)) |\n+### upgrade\n+| Commit | Type | Description |\n+| -- | -- | -- |\n+| [75fe8f8af9](https://github.com/angular/angular/commit/75fe8f8af9488bae6f7068b64d44500643c5d63f) | refactor | deprecate `VERSION` export |\n+\n+\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n+\n+\u003ca name\u003d\"21.0.9\"\u003e\u003c/a\u003e\n+# 21.0.9 (2026-01-14)\n+### forms\n+| Commit | Type | Description |\n+| -- | -- | -- |\n+| [82d556a8fb](https://github.com/angular/angular/commit/82d556a8fb38cd2024e3d098c55254305ba12b6b) | fix | Ensure the control instruction comes after the other bindings |\n+| [0055f3cc79](https://github.com/angular/angular/commit/0055f3cc79f387b8dec6ce5e1a33fad5486f9341) | fix | Rename signal form [field] to [formField] |\n+### migrations\n+| Commit | Type | Description |\n+| -- | -- | -- |\n+| [e4bfa5c9e7](https://github.com/angular/angular/commit/e4bfa5c9e7feec48d3c4e9425a21a2ccf6532bdb) | fix | prevent duplicate imports in common-to-standalone migration |\n \n \u003c!-- CHANGELOG SPLIT MARKER --\u003e\n \n@@ -135,53 +129,6 @@\n \n \u003c!-- CHANGELOG SPLIT MARKER --\u003e\n \n-\u003ca name\u003d\"21.1.0-next.4\"\u003e\u003c/a\u003e\n-# 21.1.0-next.4 (2025-12-17)\n-## Breaking Changes\n-### forms\n-- The shape of `SignalFormsConfig.classes` has changed\n-  \n-  Previously each function in the `classes` map took a `FieldState`. Now\n-  it takes a `Field` directive.\n-  \n-  For example if you previously had:\n-  ```\n-  provideSignalFormsConfig({\n-    classes: {\n-      \u0027my-valid\u0027: (state) \u003d\u003e state.valid()\n-    }\n-  })\n-  ```\n-  \n-  You would need to update to:\n-  ```\n-  provideSignalFormsConfig({\n-    classes: {\n-      \u0027my-valid\u0027: ({state}) \u003d\u003e state().valid()\n-    }\n-  })\n-  ```\n-- \n-### core\n-| Commit | Type | Description |\n-| -- | -- | -- |\n-| [06be8034bb](https://github.com/angular/angular/commit/06be8034bb9b9adfc07ab0d40cd87c6ae5de02de) | fix | Microtask scheduling should be used after any application synchronization |\n-| [b4f584cf42](https://github.com/angular/angular/commit/b4f584cf42235c94bb8389fa55bc634e23d7b010) | fix | return `StaticProvider` for `providePlatformInitializer` |\n-| [7be4ddef1c](https://github.com/angular/angular/commit/7be4ddef1ccb9a6b330b52b9bbdd174089755503) | fix | throw better errors for potential circular references |\n-| [f516370c8e](https://github.com/angular/angular/commit/f516370c8e8e96806bad757d43c857ab5f2051ed) | fix | use mutable ResponseInit type for RESPONSE_INIT token |\n-### forms\n-| Commit | Type | Description |\n-| -- | -- | -- |\n-| [348f149e8b](https://github.com/angular/angular/commit/348f149e8b06d6885f54bac4cf03a9481a8b19b7) | feat | pass field directive to class config |\n-| [ae0c59028a](https://github.com/angular/angular/commit/ae0c59028a2f393ea5716bf222db2c38e7a3989f) | refactor | rename field to fieldTree in FieldContext and ValidationError |\n-### language-service\n-| Commit | Type | Description |\n-| -- | -- | -- |\n-| [9f5744a92d](https://github.com/angular/angular/commit/9f5744a92dda4219e93bf7e6236d32a93bc167e6) | fix | avoid interpolation highlighting inside @let |\n-| [ce1a4769f9](https://github.com/angular/angular/commit/ce1a4769f987e96e2a1b1cbc7654ed5bac9ce91d) | fix | Prevent language service from crashing on suggestion diagnostic errors |\n-\n-\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n-\n \u003ca name\u003d\"21.0.6\"\u003e\u003c/a\u003e\n # 21.0.6 (2025-12-17)\n ## Breaking Changes (affecting only experimental features)\n@@ -229,24 +176,6 @@\n \n \u003c!-- CHANGELOG SPLIT MARKER --\u003e\n \n-\u003ca name\u003d\"21.1.0-next.3\"\u003e\u003c/a\u003e\n-\n-# 21.1.0-next.3 (2025-12-11)\n-\n-### core\n-\n-| Commit                                                                                            | Type | Description                                                                    |\n-| ------------------------------------------------------------------------------------------------- | ---- | ------------------------------------------------------------------------------ |\n-| [4f6014a756a](https://github.com/angular/angular/commit/4f6014a756a95ff9cb55e91deb27039b7eb079ee) | fix  | avoid false-positive deprecation when using `InjectionToken` with factory only |\n-\n-### forms\n-\n-| Commit                                                                                            | Type | Description                 |\n-| ------------------------------------------------------------------------------------------------- | ---- | --------------------------- |\n-| [d0097f7d0c2](https://github.com/angular/angular/commit/d0097f7d0c214c5c3d715e7f1dfa3723b31f4065) | fix  | fix signal forms type error |\n-\n-\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n-\n \u003ca name\u003d\"21.0.5\"\u003e\u003c/a\u003e\n \n # 21.0.5 (2025-12-11)\n@@ -265,47 +194,6 @@\n \n \u003c!-- CHANGELOG SPLIT MARKER --\u003e\n \n-\u003ca name\u003d\"21.1.0-next.2\"\u003e\u003c/a\u003e\n-\n-# 21.1.0-next.2 (2025-12-10)\n-\n-## Deprecations\n-\n-### upgrade\n-\n-- `VERSION` from `@angular/upgrade` is deprecated. Please use the entry from `@angular/upgrade/static` instead.\n-\n-### compiler\n-\n-| Commit                                                                                            | Type | Description                       |\n-| ------------------------------------------------------------------------------------------------- | ---- | --------------------------------- |\n-| [ae1c0dc4900](https://github.com/angular/angular/commit/ae1c0dc49002665c10d4e44f530f4cb8d1e35b8d) | perf | chain query creation instructions |\n-\n-### compiler-cli\n-\n-| Commit                                                                                            | Type | Description                                         |\n-| ------------------------------------------------------------------------------------------------- | ---- | --------------------------------------------------- |\n-| [8a3f3a91cf6](https://github.com/angular/angular/commit/8a3f3a91cf6919f11c1583afeb71b65488f8cba4) | fix  | expand type for native controls with a dynamic type |\n-\n-### forms\n-\n-| Commit                                                                                            | Type | Description                                                                                             |\n-| ------------------------------------------------------------------------------------------------- | ---- | ------------------------------------------------------------------------------------------------------- |\n-| [aff8b248b35](https://github.com/angular/angular/commit/aff8b248b35931cbe7d644ad2594144b75064ca6) | feat | expose element on signal forms `Field` directive                                                        |\n-| [ebc5c2b083a](https://github.com/angular/angular/commit/ebc5c2b083a90fde6fced3521be434a414ef29dd) | feat | redo the signal forms metadata API                                                                      |\n-| [9fe95665813](https://github.com/angular/angular/commit/9fe95665813e24544d00dcf463658067da745ac2) | fix  | add signals for dirty, hidden, and pending states in custom controls                                    |\n-| [14713d09923](https://github.com/angular/angular/commit/14713d09923b5315ac7c6f20acc06fc69ff0ed79) | fix  | allow resetting with empty string                                                                       |\n-| [b96f65a963f](https://github.com/angular/angular/commit/b96f65a963febab376f2a783cf4313a8b8140efe) | fix  | memoize reads of child fields in signal forms ([#65802](https://github.com/angular/angular/pull/65802)) |\n-| [179b4cba67b](https://github.com/angular/angular/commit/179b4cba67b95563da27fd5f12dd2acc910a1a52) | fix  | Reuse key in parent in compat structure                                                                 |\n-\n-### upgrade\n-\n-| Commit                                                                                            | Type     | Description                |\n-| ------------------------------------------------------------------------------------------------- | -------- | -------------------------- |\n-| [75fe8f8af94](https://github.com/angular/angular/commit/75fe8f8af9488bae6f7068b64d44500643c5d63f) | refactor | deprecate `VERSION` export |\n-\n-\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n-\n \u003ca name\u003d\"21.0.4\"\u003e\u003c/a\u003e\n \n # 21.0.4 (2025-12-10)\n@@ -335,52 +223,6 @@\n \n \u003c!-- CHANGELOG SPLIT MARKER --\u003e\n \n-\u003ca name\u003d\"21.1.0-next.1\"\u003e\u003c/a\u003e\n-\n-# 21.1.0-next.1 (2025-12-03)\n-\n-### compiler\n-\n-| Commit                                                                                           | Type | Description                                                       |\n-| ------------------------------------------------------------------------------------------------ | ---- | ----------------------------------------------------------------- |\n-| [1c6b0704fb](https://github.com/angular/angular/commit/1c6b0704fb63d051fab8acff84d076abfbc4893a) | fix  | prevent XSS via SVG animation `attributeName` and MathML/SVG URLs |\n-\n-### compiler-cli\n-\n-| Commit                                                                                           | Type | Description                                               |\n-| ------------------------------------------------------------------------------------------------ | ---- | --------------------------------------------------------- |\n-| [e30e61b789](https://github.com/angular/angular/commit/e30e61b7893a9b04ada54ab184c24e652dcd114e) | fix  | avoid allocating an object for signals in production mode |\n-| [6773d3b97d](https://github.com/angular/angular/commit/6773d3b97d07dcbf7760c0c12d9384fa60f7082e) | fix  | check that field radio button values are strings          |\n-\n-### core\n-\n-| Commit                                                                                           | Type | Description                                                                                                        |\n-| ------------------------------------------------------------------------------------------------ | ---- | ------------------------------------------------------------------------------------------------------------------ |\n-| [d8ab83ca82](https://github.com/angular/angular/commit/d8ab83ca82c36faacae9fc1a01e9eb9762e679fc) | fix  | run animation queue in environment injector context                                                                |\n-| [886cf6c452](https://github.com/angular/angular/commit/886cf6c452abcf85b70058caeb080ff3a5c51cb9) | fix  | unable to inject viewProviders when host directive with providers is present                                       |\n-| [e6d5632a30](https://github.com/angular/angular/commit/e6d5632a3059a4920f19eb6b193ec7edb11645d4) | perf | tree shake unused dynamic `[field]` binding instructions ([#65599](https://github.com/angular/angular/pull/65599)) |\n-\n-### forms\n-\n-| Commit                                                                                           | Type | Description                                                                                  |\n-| ------------------------------------------------------------------------------------------------ | ---- | -------------------------------------------------------------------------------------------- |\n-| [7d1e502345](https://github.com/angular/angular/commit/7d1e50234515185ee73c8bdd39f7af2a26635ca2) | feat | Allows transforms on `FormUiControl` signals                                                 |\n-| [cd7ae7e2ce](https://github.com/angular/angular/commit/cd7ae7e2ce4648edf62c047b3e453c8b32539d4a) | fix  | support dynamic `[field]` bindings ([#65599](https://github.com/angular/angular/pull/65599)) |\n-\n-### http\n-\n-| Commit                                                                                           | Type | Description                                          |\n-| ------------------------------------------------------------------------------------------------ | ---- | ---------------------------------------------------- |\n-| [0659d11c85](https://github.com/angular/angular/commit/0659d11c854c9c6b886a2e925afef98d70bb005f) | fix  | enable XSRF protection for same-origin absolute URLs |\n-\n-### router\n-\n-| Commit                                                                                           | Type | Description                                         |\n-| ------------------------------------------------------------------------------------------------ | ---- | --------------------------------------------------- |\n-| [b74a0693f2](https://github.com/angular/angular/commit/b74a0693f2409812ad1ab02f19eb3fbe7ce1b83e) | fix  | handle errors from view transition finished promise |\n-\n-\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n-\n \u003ca name\u003d\"21.0.3\"\u003e\u003c/a\u003e\n \n # 21.0.3 (2025-12-03)\n@@ -469,27 +311,6 @@\n \n \u003c!-- CHANGELOG SPLIT MARKER --\u003e\n \n-\u003ca name\u003d\"21.1.0-next.0\"\u003e\u003c/a\u003e\n-\n-# 21.1.0-next.0 (2025-11-25)\n-\n-### platform-browser\n-\n-| Commit                                                                                           | Type | Description                                  |\n-| ------------------------------------------------------------------------------------------------ | ---- | -------------------------------------------- |\n-| [ec9dc94cee](https://github.com/angular/angular/commit/ec9dc94ceeb3c026c64e01c6889b7f5c6fd25a66) | feat | add `context` to `createApplication`         |\n-| [ab67988d2e](https://github.com/angular/angular/commit/ab67988d2e5242eff0034483f984428d684acd02) | feat | resolve JIT resources in `createApplication` |\n-\n-### router\n-\n-| Commit                                                                                           | Type | Description                                                                                              |\n-| ------------------------------------------------------------------------------------------------ | ---- | -------------------------------------------------------------------------------------------------------- |\n-| [a03c82564d](https://github.com/angular/angular/commit/a03c82564da6824e199ff48d5249ea8708040951) | feat | Add scroll behavior controls on router navigation                                                        |\n-| [c25d749d85](https://github.com/angular/angular/commit/c25d749d85374fff7745980cd9bb2673c661105a) | feat | Execute RunGuardsAndResolvers function in injection context                                              |\n-| [c84d372778](https://github.com/angular/angular/commit/c84d37277874cf7cbd7582a295d796ff113b9cc1) | feat | Support wildcard params with segments trailing ([#64737](https://github.com/angular/angular/pull/64737)) |\n-\n-\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n-\n \u003ca name\u003d\"20.3.14\"\u003e\u003c/a\u003e\n \n # 20.3.14 (2025-11-25)","expectedMessage":"docs: release notes for the v21.1.0 release","repository":"angular","commitHash":"015926897139e8cc07589a57bdf129caaac3460b","metadata":{"author":"Jessica Janiuk \u003cjessica.janiuk@gmail.com\u003e"}}
{"id":"angular-d12e6f09","diff":" CHANGELOG.md | 14 ++++++++++++++\n 1 file changed, 14 insertions(+)\n\ndiff --git a/CHANGELOG.md b/CHANGELOG.md\nindex b6b603e0..596420e2 100644\n--- a/CHANGELOG.md\n+++ b/CHANGELOG.md\n@@ -1,3 +1,17 @@\n+\u003ca name\u003d\"21.0.9\"\u003e\u003c/a\u003e\n+# 21.0.9 (2026-01-14)\n+### forms\n+| Commit | Type | Description |\n+| -- | -- | -- |\n+| [82d556a8fb](https://github.com/angular/angular/commit/82d556a8fb38cd2024e3d098c55254305ba12b6b) | fix | Ensure the control instruction comes after the other bindings |\n+| [0055f3cc79](https://github.com/angular/angular/commit/0055f3cc79f387b8dec6ce5e1a33fad5486f9341) | fix | Rename signal form [field] to [formField] |\n+### migrations\n+| Commit | Type | Description |\n+| -- | -- | -- |\n+| [e4bfa5c9e7](https://github.com/angular/angular/commit/e4bfa5c9e7feec48d3c4e9425a21a2ccf6532bdb) | fix | prevent duplicate imports in common-to-standalone migration |\n+\n+\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n+\n \u003ca name\u003d\"21.1.0-rc.0\"\u003e\u003c/a\u003e\n # 21.1.0-rc.0 (2026-01-08)\n ### common","expectedMessage":"docs: release notes for the v21.0.9 release","repository":"angular","commitHash":"d12e6f0986a3392633604dffab103d46d9974ae8","metadata":{"author":"Jessica Janiuk \u003cjessica.janiuk@gmail.com\u003e"}}
{"id":"angular-3f13db87","diff":" .github/workflows/ci.yml                   |  2 +-\n adev/scripts/synonyms/algolia-synonyms.mts |  2 +-\n adev/scripts/synonyms/tsconfig.json        | 22 ++++++++++++++++++++++\n adev/scripts/synonyms/update-synonyms.mts  |  2 +-\n 4 files changed, 25 insertions(+), 3 deletions(-)\n\ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 04ff82f5..d1be1578 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -224,6 +224,6 @@ jobs:\n           configPath: \u0027adev/firebase.json\u0027\n           distDir: \u0027dist/bin/adev/dist\u0027\n       - name: Update Algolia synonym record\n-        run: pnpm tsx adev/scripts/synonyms/update-synonyms.mts\n+        run: node adev/scripts/synonyms/update-synonyms.mts\n         env:\n           ALGOLIA_KEY: ${{ secrets.ALGOLIA_SYNONYM_MANAGER }}\ndiff --git a/adev/scripts/synonyms/algolia-synonyms.mts b/adev/scripts/synonyms/algolia-synonyms.mts\nindex e50c8d28..78fe68c4 100644\n--- a/adev/scripts/synonyms/algolia-synonyms.mts\n+++ b/adev/scripts/synonyms/algolia-synonyms.mts\n@@ -6,7 +6,7 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {SynonymHit} from \u0027algoliasearch\u0027;\n+import {type SynonymHit} from \u0027algoliasearch\u0027;\n \n /**\n  * List of synonyms to upload to algolia.\ndiff --git a/adev/scripts/synonyms/tsconfig.json b/adev/scripts/synonyms/tsconfig.json\nnew file mode 100644\nindex 00000000..7f56507b\n--- /dev/null\n+++ b/adev/scripts/synonyms/tsconfig.json\n@@ -0,0 +1,22 @@\n+{\n+  \"compileOnSave\": false,\n+  \"compilerOptions\": {\n+    \"forceConsistentCasingInFileNames\": true,\n+    \"strict\": true,\n+    \"noImplicitOverride\": true,\n+    \"noPropertyAccessFromIndexSignature\": true,\n+    \"noImplicitReturns\": true,\n+    \"noFallthroughCasesInSwitch\": true,\n+    \"sourceMap\": true,\n+    \"declaration\": false,\n+    \"moduleResolution\": \"bundler\",\n+    \"preserveSymlinks\": true,\n+    \"importHelpers\": true,\n+    \"target\": \"ES2022\",\n+    \"module\": \"ES2022\",\n+    \"allowImportingTsExtensions\": true,\n+    \"lib\": [\"ES2022\"],\n+    \"types\": [],\n+    \"skipLibCheck\": true\n+  }\n+}\ndiff --git a/adev/scripts/synonyms/update-synonyms.mts b/adev/scripts/synonyms/update-synonyms.mts\nindex c0277df8..ee28ec30 100644\n--- a/adev/scripts/synonyms/update-synonyms.mts\n+++ b/adev/scripts/synonyms/update-synonyms.mts\n@@ -7,7 +7,7 @@\n  */\n \n import {algoliasearch} from \u0027algoliasearch\u0027;\n-import synonyms from \u0027./algolia-synonyms.mjs\u0027;\n+import synonyms from \u0027./algolia-synonyms.mts\u0027;\n \n /** The name of the index being updated. */\n const INDEX_NAME \u003d \u0027angular_v17\u0027;","expectedMessage":"ci: update algolia synonym updater to use node directly rather than tsx","repository":"angular","commitHash":"3f13db87e27f6ffc207fc642979776606a71fcec","metadata":{"author":"Joey Perrott \u003cjosephperrott@gmail.com\u003e"}}
{"id":"angular-724e917f","diff":" adev/shared-docs/pipeline/shared/linking.mts | 3 +++\n 1 file changed, 3 insertions(+)\n\ndiff --git a/adev/shared-docs/pipeline/shared/linking.mts b/adev/shared-docs/pipeline/shared/linking.mts\nindex a51a59bb..87ddb02e 100644\n--- a/adev/shared-docs/pipeline/shared/linking.mts\n+++ b/adev/shared-docs/pipeline/shared/linking.mts\n@@ -20,6 +20,9 @@ const LINK_EXEMPT \u003d new Set([\n   \u0027hidden\u0027,\n   \u0027state\u0027,\n   \u0027group\u0027,\n+  \u0027animation\u0027,\n+  \u0027transition\u0027,\n+  \u0027trigger\u0027,\n ]);\n \n export function shouldLinkSymbol(symbol: string): boolean {","expectedMessage":"docs(docs-infra): Exempts animation-related symbols from linking","repository":"angular","commitHash":"724e917f7a68529996bf1c0e93876b699c544213","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-c9f584b9","diff":" adev/src/content/guide/templates/pipes.md | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/guide/templates/pipes.md b/adev/src/content/guide/templates/pipes.md\nindex 61e558c2..1f8e5cdf 100644\n--- a/adev/src/content/guide/templates/pipes.md\n+++ b/adev/src/content/guide/templates/pipes.md\n@@ -271,7 +271,7 @@ export class MyCustomTransformationPipe implements PipeTransform {\n \n When you want a pipe to detect changes within arrays or objects, it must be marked as an impure function by passing the `pure` flag with a value of `false`.\n \n-Avoid creating impure pipes unless absolutely necessary, as they can incur a significant performance penalty if used without care.\n+IMPORTANT: Avoid creating impure pipes unless absolutely necessary, as they can incur a significant performance penalty if used without care.\n \n ```angular-ts\n import { Pipe, PipeTransform } from \u0027@angular/core\u0027;","expectedMessage":"docs: add IMPORTANT prefix to pipe usage warning and","repository":"angular","commitHash":"c9f584b91859838a4d811842a4f7ee1a7dca8d14","metadata":{"author":"Shuaib Hasan Akib \u003cakibh805@gmail.com\u003e"}}
{"id":"angular-a904d9f7","diff":" .../src/ngtsc/transform/src/transform.ts           |  11 +-\n .../components_and_directives/GOLDEN_PARTIAL.js    |  33 +++++\n .../components_and_directives/TEST_CASES.json      | 135 +++++++--------------\n .../nested_component_definition.js                 |  10 ++\n .../nested_component_definition.ts                 |  13 ++\n 5 files changed, 105 insertions(+), 97 deletions(-)\n\ndiff --git a/packages/compiler-cli/src/ngtsc/transform/src/transform.ts b/packages/compiler-cli/src/ngtsc/transform/src/transform.ts\nindex ab1dd4d0..098af686 100644\n--- a/packages/compiler-cli/src/ngtsc/transform/src/transform.ts\n+++ b/packages/compiler-cli/src/ngtsc/transform/src/transform.ts\n@@ -136,9 +136,14 @@ class IvyTransformationVisitor extends Visitor {\n   override visitClassDeclaration(\n     node: ts.ClassDeclaration,\n   ): VisitListEntryResult\u003cts.Statement, ts.ClassDeclaration\u003e {\n+    // Node might be modified since results were collected in the compilation phase.\n+    const original \u003d ts.getOriginalNode(node, ts.isClassDeclaration);\n+\n     // If this class is not registered in the map, it means that it doesn\u0027t have Angular decorators,\n     // thus no further processing is required.\n-    if (!this.classCompilationMap.has(node)) {\n+    const compileResults \u003d\n+      this.classCompilationMap.get(node) ?? this.classCompilationMap.get(original);\n+    if (!compileResults) {\n       return {node};\n     }\n \n@@ -153,9 +158,9 @@ class IvyTransformationVisitor extends Visitor {\n \n     // Note: Class may be already transformed by e.g. Tsickle and\n     // not have a direct reference to the source file.\n-    const sourceFile \u003d ts.getOriginalNode(node).getSourceFile();\n+    const sourceFile \u003d original.getSourceFile();\n \n-    for (const field of this.classCompilationMap.get(node)!) {\n+    for (const field of compileResults) {\n       // Type-only member.\n       if (field.initializer \u003d\u003d\u003d null) {\n         continue;\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/GOLDEN_PARTIAL.js b/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/GOLDEN_PARTIAL.js\nindex 01af447d..ea806335 100644\n--- a/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/GOLDEN_PARTIAL.js\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/GOLDEN_PARTIAL.js\n@@ -700,3 +700,36 @@ export declare class MainStandalone {\n     static ɵcmp: i0.ɵɵComponentDeclaration\u003cMainStandalone, \"ng-component\", never, {}, {}, never, never, true, never\u003e;\n }\n \n+/****************************************************************************************************\n+ * PARTIAL FILE: nested_component_definition.js\n+ ****************************************************************************************************/\n+import { Component } from \u0027@angular/core\u0027;\n+import * as i0 from \"@angular/core\";\n+class Outer {\n+    constructor() {\n+        class Inner {\n+            static ɵfac \u003d i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDER\", ngImport: i0, type: Inner, deps: [], target: i0.ɵɵFactoryTarget.Component });\n+            static ɵcmp \u003d i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"0.0.0-PLACEHOLDER\", type: Inner, isStandalone: true, selector: \"ng-component\", ngImport: i0, template: \u0027inner\u0027, isInline: true });\n+        }\n+        i0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDER\", ngImport: i0, type: Inner, decorators: [{\n+                    type: Component,\n+                    args: [{\n+                            template: \u0027inner\u0027,\n+                        }]\n+                }] });\n+    }\n+    static ɵfac \u003d i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDER\", ngImport: i0, type: Outer, deps: [], target: i0.ɵɵFactoryTarget.Component });\n+    static ɵcmp \u003d i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"0.0.0-PLACEHOLDER\", type: Outer, isStandalone: true, selector: \"ng-component\", ngImport: i0, template: \u0027outer\u0027, isInline: true });\n+}\n+i0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDER\", ngImport: i0, type: Outer, decorators: [{\n+            type: Component,\n+            args: [{\n+                    template: \u0027outer\u0027,\n+                }]\n+        }], ctorParameters: () \u003d\u003e [] });\n+\n+/****************************************************************************************************\n+ * PARTIAL FILE: nested_component_definition.d.ts\n+ ****************************************************************************************************/\n+export {};\n+\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/TEST_CASES.json b/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/TEST_CASES.json\nindex 6be669ee..87aa86e6 100644\n--- a/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/TEST_CASES.json\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/TEST_CASES.json\n@@ -3,202 +3,143 @@\n   \"cases\": [\n     {\n       \"description\": \"should instantiate directives in a closure when they are forward referenced\",\n-      \"inputFiles\": [\n-        \"forward_referenced_directive.ts\"\n-      ],\n+      \"inputFiles\": [\"forward_referenced_directive.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Invalid component definition\",\n-          \"files\": [\n-            \"forward_referenced_directive.js\"\n-          ]\n+          \"files\": [\"forward_referenced_directive.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should instantiate pipes in a closure when they are forward referenced\",\n-      \"inputFiles\": [\n-        \"forward_referenced_pipe.ts\"\n-      ],\n+      \"inputFiles\": [\"forward_referenced_pipe.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Invalid component definition\",\n-          \"files\": [\n-            \"forward_referenced_pipe.js\"\n-          ]\n+          \"files\": [\"forward_referenced_pipe.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should split multiple `exportAs` values into an array\",\n-      \"inputFiles\": [\n-        \"export_as.ts\"\n-      ],\n+      \"inputFiles\": [\"export_as.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Incorrect SomeDirective.ɵdir\",\n-          \"files\": [\n-            \"export_as.js\"\n-          ]\n+          \"files\": [\"export_as.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should not generate a selectors array if the directive does not have a selector\",\n-      \"inputFiles\": [\n-        \"no_selector.ts\"\n-      ],\n+      \"inputFiles\": [\"no_selector.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Invalid directive definition\",\n-          \"files\": [\n-            \"no_selector.js\"\n-          ]\n+          \"files\": [\"no_selector.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should generate a pure function for constant object literals\",\n-      \"inputFiles\": [\n-        \"constant_object_literals.ts\"\n-      ],\n+      \"inputFiles\": [\"constant_object_literals.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Invalid component definition\",\n-          \"files\": [\n-            \"constant_object_literals.js\"\n-          ]\n+          \"files\": [\"constant_object_literals.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should generate a pure function for constant array literals\",\n-      \"inputFiles\": [\n-        \"constant_array_literals.ts\"\n-      ],\n+      \"inputFiles\": [\"constant_array_literals.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Invalid component definition\",\n-          \"files\": [\n-            \"constant_array_literals.js\"\n-          ]\n+          \"files\": [\"constant_array_literals.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should not share pure functions between null and object literals\",\n-      \"inputFiles\": [\n-        \"object_literals_null_vs_empty.ts\"\n-      ],\n+      \"inputFiles\": [\"object_literals_null_vs_empty.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Invalid component definition\",\n-          \"files\": [\n-            \"object_literals_null_vs_empty.js\"\n-          ]\n+          \"files\": [\"object_literals_null_vs_empty.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should not share pure functions between null and array literals\",\n-      \"inputFiles\": [\n-        \"array_literals_null_vs_empty.ts\"\n-      ],\n+      \"inputFiles\": [\"array_literals_null_vs_empty.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Invalid component definition\",\n-          \"files\": [\n-            \"array_literals_null_vs_empty.js\"\n-          ]\n+          \"files\": [\"array_literals_null_vs_empty.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should not share pure functions between null and function calls\",\n-      \"inputFiles\": [\n-        \"object_literals_null_vs_function.ts\"\n-      ],\n+      \"inputFiles\": [\"object_literals_null_vs_function.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Invalid component definition\",\n-          \"files\": [\n-            \"object_literals_null_vs_function.js\"\n-          ]\n+          \"files\": [\"object_literals_null_vs_function.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should emit a valid setClassMetadata call in ES5 if a class with a custom decorator is referencing itself inside its own metadata\",\n-      \"inputFiles\": [\n-        \"custom_decorator_es5.ts\"\n-      ],\n+      \"inputFiles\": [\"custom_decorator_es5.ts\"],\n       \"compilerOptions\": {\n         \"target\": \"ES5\"\n       },\n-      \"compilationModeFilter\": [\n-        \"full compile\"\n-      ],\n+      \"compilationModeFilter\": [\"full compile\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Incorrect setClassMetadata call\",\n-          \"files\": [\n-            \"custom_decorator_es5.js\"\n-          ]\n+          \"files\": [\"custom_decorator_es5.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should support empty property bindings on ng-template\",\n-      \"inputFiles\": [\n-        \"ng_template_empty_binding.ts\"\n-      ],\n+      \"inputFiles\": [\"ng_template_empty_binding.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Incorrect template\",\n-          \"files\": [\n-            \"ng_template_empty_binding.js\"\n-          ]\n+          \"files\": [\"ng_template_empty_binding.js\"]\n         }\n       ]\n     },\n     {\n       \"description\": \"should support inline non-literal templates\",\n-      \"inputFiles\": [\n-        \"non_literal_template.ts\"\n-      ]\n+      \"inputFiles\": [\"non_literal_template.ts\"]\n     },\n     {\n       \"description\": \"should support inline non-literal templates using substitution\",\n-      \"inputFiles\": [\n-        \"non_literal_template_with_substitution.ts\"\n-      ]\n+      \"inputFiles\": [\"non_literal_template_with_substitution.ts\"]\n     },\n     {\n       \"description\": \"should support inline non-literal templates using string concatenation\",\n-      \"inputFiles\": [\n-        \"non_literal_template_with_concatenation.ts\"\n-      ]\n+      \"inputFiles\": [\"non_literal_template_with_concatenation.ts\"]\n     },\n     {\n       \"description\": \"should not use reexport names inside declarations when a direct export is available\",\n-      \"inputFiles\": [\n-        \"external_library.d.ts\",\n-        \"library_exports.ts\"\n-      ],\n+      \"inputFiles\": [\"external_library.d.ts\", \"library_exports.ts\"],\n       \"expectations\": [\n         {\n           \"failureMessage\": \"Invalid list of directives\",\n-          \"files\": [\n-            \"library_exports.js\"\n-          ]\n+          \"files\": [\"library_exports.js\"]\n         }\n       ],\n       \"compilerOptions\": {\n         \"baseUrl\": \".\",\n         \"paths\": {\n-          \"external_library\": [\n-            \"./external_library\"\n-          ]\n+          \"external_library\": [\"./external_library\"]\n         }\n       }\n     },\n@@ -209,13 +150,19 @@\n         {\n           \"failureMessage\": \"Incorrect generated debug info statement\",\n           \"files\": [\"debug_info.js\"]\n-        }        \n+        }\n       ],\n-      \"compilationModeFilter\": [\n-        \"full compile\",\n-        \"local compile\",\n-        \"declaration-only emit\"\n+      \"compilationModeFilter\": [\"full compile\", \"local compile\", \"declaration-only emit\"]\n+    },\n+    {\n+      \"description\": \"should support nested component declarations\",\n+      \"inputFiles\": [\"nested_component_definition.ts\"],\n+      \"expectations\": [\n+        {\n+          \"failureMessage\": \"Invalid component definition\",\n+          \"files\": [\"nested_component_definition.js\"]\n+        }\n       ]\n     }\n   ]\n-}\n\\ No newline at end of file\n+}\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/nested_component_definition.js b/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/nested_component_definition.js\nnew file mode 100644\nindex 00000000..f68f23ab\n--- /dev/null\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/nested_component_definition.js\n@@ -0,0 +1,10 @@\n+class Outer {\n+  constructor() {\n+    class Inner {\n+      static ɵfac \u003d …\n+      static ɵcmp \u003d …\n+    }\n+  }\n+\n+  …\n+}\n\\ No newline at end of file\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/nested_component_definition.ts b/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/nested_component_definition.ts\nnew file mode 100644\nindex 00000000..9a1abccc\n--- /dev/null\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_compiler_compliance/components_and_directives/nested_component_definition.ts\n@@ -0,0 +1,13 @@\n+import {Component} from \u0027@angular/core\u0027;\n+\n+@Component({\n+  template: \u0027outer\u0027,\n+})\n+class Outer {\n+  constructor() {\n+    @Component({\n+      template: \u0027inner\u0027,\n+    })\n+    class Inner {}\n+  }\n+}","expectedMessage":"fix(compiler-cli): support nested component declaration","repository":"angular","commitHash":"a904d9f77b56feab407f75f8d0527fa512d5dafb","metadata":{"author":"Younes Jaaidi \u003cyounes@marmicode.io\u003e"}}
{"id":"angular-074666b2","diff":" .../components/search-dialog/search-dialog.component.ts            | 3 +--\n .../references/api-reference-list/api-reference-list.component.ts  | 7 ++-----\n 2 files changed, 3 insertions(+), 7 deletions(-)\n\ndiff --git a/adev/shared-docs/components/search-dialog/search-dialog.component.ts b/adev/shared-docs/components/search-dialog/search-dialog.component.ts\nindex 4eb83ac6..688d3fa7 100644\n--- a/adev/shared-docs/components/search-dialog/search-dialog.component.ts\n+++ b/adev/shared-docs/components/search-dialog/search-dialog.component.ts\n@@ -54,7 +54,6 @@ export class SearchDialog {\n   readonly onClose \u003d output();\n   readonly dialog \u003d viewChild.required\u003cElementRef\u003cHTMLDialogElement\u003e\u003e(\u0027searchDialog\u0027);\n   readonly items \u003d viewChildren(SearchItem);\n-  readonly textField \u003d viewChild(TextField);\n \n   readonly history \u003d inject(SearchHistory);\n   private readonly search \u003d inject(Search);\n@@ -98,7 +97,7 @@ export class SearchDialog {\n         }\n         // We want to select the pre-existing text on opening\n         // In order to change the search input with minimal user interaction.\n-        this.textField()?.input().nativeElement.select();\n+        this.searchForm().focusBoundControl();\n       },\n     });\n \ndiff --git a/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts b/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts\nindex e4099e3e..770395ad 100644\n--- a/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts\n+++ b/adev/src/app/features/references/api-reference-list/api-reference-list.component.ts\n@@ -18,7 +18,6 @@ import {\n   inject,\n   input,\n   linkedSignal,\n-  viewChild,\n } from \u0027@angular/core\u0027;\n import {Select, SelectOption, TextField} from \u0027@angular/docs\u0027;\n import {FormField, form} from \u0027@angular/forms/signals\u0027;\n@@ -62,7 +61,6 @@ export default class ApiReferenceList {\n   // services\n   private readonly apiReferenceManager \u003d inject(ApiReferenceManager);\n   private readonly router \u003d inject(Router);\n-  private readonly filterInput \u003d viewChild.required(TextField);\n   private readonly injector \u003d inject(EnvironmentInjector);\n \n   // inputs\n@@ -137,13 +135,12 @@ export default class ApiReferenceList {\n \n   constructor() {\n     effect(() \u003d\u003e {\n-      const filterInput \u003d this.filterInput();\n+      const filterInput \u003d this.form.query();\n       afterNextRender(\n         {\n           write: () \u003d\u003e {\n-            // Why not improve this once https://github.com/orgs/angular/projects/60?pane\u003dissue\u0026itemId\u003d143488813 is done\n             if (matchMedia(\u0027(hover: hover) and (pointer:fine)\u0027).matches) {\n-              scheduleOnIdle(() \u003d\u003e filterInput.focus());\n+              scheduleOnIdle(() \u003d\u003e filterInput.focusBoundControl());\n             }\n           },\n         },","expectedMessage":"docs(docs-infra): use Signals Forms focusBoundControl","repository":"angular","commitHash":"074666b2e8c3c8e2b7bc473f8d5772ebec4fc586","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-4c2d860c","diff":" .nvmrc            |   2 +-\n MODULE.bazel      |  16 +-\n MODULE.bazel.lock | 466 +++++++++++++++++++++++++++---------------------------\n 3 files changed, 242 insertions(+), 242 deletions(-)\n\ndiff --git a/.nvmrc b/.nvmrc\nindex 5767036a..85e50277 100644\n--- a/.nvmrc\n+++ b/.nvmrc\n@@ -1 +1 @@\n-22.21.1\n+22.22.0\ndiff --git a/MODULE.bazel b/MODULE.bazel\nindex c28f53c7..0c64d6d6 100644\n--- a/MODULE.bazel\n+++ b/MODULE.bazel\n@@ -49,15 +49,15 @@ use_repo(yq, \"yq_toolchains\")\n node \u003d use_extension(\"@rules_nodejs//nodejs:extensions.bzl\", \"node\")\n node.toolchain(\n     node_repositories \u003d {\n-        \"22.21.1-darwin_arm64\": (\"node-v22.21.1-darwin-arm64.tar.gz\", \"node-v22.21.1-darwin-arm64\", \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"),\n-        \"22.21.1-darwin_amd64\": (\"node-v22.21.1-darwin-x64.tar.gz\", \"node-v22.21.1-darwin-x64\", \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"),\n-        \"22.21.1-linux_arm64\": (\"node-v22.21.1-linux-arm64.tar.xz\", \"node-v22.21.1-linux-arm64\", \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"),\n-        \"22.21.1-linux_ppc64le\": (\"node-v22.21.1-linux-ppc64le.tar.xz\", \"node-v22.21.1-linux-ppc64le\", \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"),\n-        \"22.21.1-linux_s390x\": (\"node-v22.21.1-linux-s390x.tar.xz\", \"node-v22.21.1-linux-s390x\", \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"),\n-        \"22.21.1-linux_amd64\": (\"node-v22.21.1-linux-x64.tar.xz\", \"node-v22.21.1-linux-x64\", \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"),\n-        \"22.21.1-windows_amd64\": (\"node-v22.21.1-win-x64.zip\", \"node-v22.21.1-win-x64\", \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"),\n+        \"22.22.0-darwin_arm64\": (\"node-v22.22.0-darwin-arm64.tar.gz\", \"node-v22.22.0-darwin-arm64\", \"5ed4db0fcf1eaf84d91ad12462631d73bf4576c1377e192d222e48026a902640\"),\n+        \"22.22.0-darwin_amd64\": (\"node-v22.22.0-darwin-x64.tar.gz\", \"node-v22.22.0-darwin-x64\", \"5ea50c9d6dea3dfa3abb66b2656f7a4e1c8cef23432b558d45fb538c7b5dedce\"),\n+        \"22.22.0-linux_arm64\": (\"node-v22.22.0-linux-arm64.tar.xz\", \"node-v22.22.0-linux-arm64\", \"1bf1eb9ee63ffc4e5d324c0b9b62cf4a289f44332dfef9607cea1a0d9596ba6f\"),\n+        \"22.22.0-linux_ppc64le\": (\"node-v22.22.0-linux-ppc64le.tar.xz\", \"node-v22.22.0-linux-ppc64le\", \"d83b9957431cc18e1fc143a4b99f89cde7b8a18f53ef392231b4336afd058865\"),\n+        \"22.22.0-linux_s390x\": (\"node-v22.22.0-linux-s390x.tar.xz\", \"node-v22.22.0-linux-s390x\", \"5aa0e520689448c4233e8d73f284e8e0634fdcd32b479735698494be5641f3e4\"),\n+        \"22.22.0-linux_amd64\": (\"node-v22.22.0-linux-x64.tar.xz\", \"node-v22.22.0-linux-x64\", \"9aa8e9d2298ab68c600bd6fb86a6c13bce11a4eca1ba9b39d79fa021755d7c37\"),\n+        \"22.22.0-windows_amd64\": (\"node-v22.22.0-win-x64.zip\", \"node-v22.22.0-win-x64\", \"c97fa376d2becdc8863fcd3ca2dd9a83a9f3468ee7ccf7a6d076ec66a645c77a\"),\n     },\n-    node_version \u003d \"22.21.1\",\n+    node_version \u003d \"22.22.0\",\n )\n use_repo(node, \"nodejs_toolchains\")\n use_repo(node, \"nodejs_darwin_amd64\")\ndiff --git a/MODULE.bazel.lock b/MODULE.bazel.lock\nindex 963c800f..be2c4e27 100644\n--- a/MODULE.bazel.lock\n+++ b/MODULE.bazel.lock\n@@ -1087,7 +1087,7 @@\n     \"@@rules_nodejs+//nodejs:extensions.bzl%node\": {\n       \"general\": {\n         \"bzlTransitiveDigest\": \"NwcLXHrbh2hoorA/Ybmcpjxsn/6avQmewDglodkDrgo\u003d\",\n-        \"usagesDigest\": \"6zqbiJMe63ISwLi85YnsFYWZh7eO1/JBkk3WkjOnqxc\u003d\",\n+        \"usagesDigest\": \"T3gjlzx8790k9gVB7W62mx5xJN1PsdmHx9Cnyq8U3FE\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},\n@@ -1097,46 +1097,46 @@\n             \"attributes\": {\n               \"node_download_auth\": {},\n               \"node_repositories\": {\n-                \"22.21.1-darwin_arm64\": [\n-                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n-                  \"node-v22.21.1-darwin-arm64\",\n-                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                \"22.22.0-darwin_arm64\": [\n+                  \"node-v22.22.0-darwin-arm64.tar.gz\",\n+                  \"node-v22.22.0-darwin-arm64\",\n+                  \"5ed4db0fcf1eaf84d91ad12462631d73bf4576c1377e192d222e48026a902640\"\n                 ],\n-                \"22.21.1-darwin_amd64\": [\n-                  \"node-v22.21.1-darwin-x64.tar.gz\",\n-                  \"node-v22.21.1-darwin-x64\",\n-                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                \"22.22.0-darwin_amd64\": [\n+                  \"node-v22.22.0-darwin-x64.tar.gz\",\n+                  \"node-v22.22.0-darwin-x64\",\n+                  \"5ea50c9d6dea3dfa3abb66b2656f7a4e1c8cef23432b558d45fb538c7b5dedce\"\n                 ],\n-                \"22.21.1-linux_arm64\": [\n-                  \"node-v22.21.1-linux-arm64.tar.xz\",\n-                  \"node-v22.21.1-linux-arm64\",\n-                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                \"22.22.0-linux_arm64\": [\n+                  \"node-v22.22.0-linux-arm64.tar.xz\",\n+                  \"node-v22.22.0-linux-arm64\",\n+                  \"1bf1eb9ee63ffc4e5d324c0b9b62cf4a289f44332dfef9607cea1a0d9596ba6f\"\n                 ],\n-                \"22.21.1-linux_ppc64le\": [\n-                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n-                  \"node-v22.21.1-linux-ppc64le\",\n-                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                \"22.22.0-linux_ppc64le\": [\n+                  \"node-v22.22.0-linux-ppc64le.tar.xz\",\n+                  \"node-v22.22.0-linux-ppc64le\",\n+                  \"d83b9957431cc18e1fc143a4b99f89cde7b8a18f53ef392231b4336afd058865\"\n                 ],\n-                \"22.21.1-linux_s390x\": [\n-                  \"node-v22.21.1-linux-s390x.tar.xz\",\n-                  \"node-v22.21.1-linux-s390x\",\n-                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                \"22.22.0-linux_s390x\": [\n+                  \"node-v22.22.0-linux-s390x.tar.xz\",\n+                  \"node-v22.22.0-linux-s390x\",\n+                  \"5aa0e520689448c4233e8d73f284e8e0634fdcd32b479735698494be5641f3e4\"\n                 ],\n-                \"22.21.1-linux_amd64\": [\n-                  \"node-v22.21.1-linux-x64.tar.xz\",\n-                  \"node-v22.21.1-linux-x64\",\n-                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                \"22.22.0-linux_amd64\": [\n+                  \"node-v22.22.0-linux-x64.tar.xz\",\n+                  \"node-v22.22.0-linux-x64\",\n+                  \"9aa8e9d2298ab68c600bd6fb86a6c13bce11a4eca1ba9b39d79fa021755d7c37\"\n                 ],\n-                \"22.21.1-windows_amd64\": [\n-                  \"node-v22.21.1-win-x64.zip\",\n-                  \"node-v22.21.1-win-x64\",\n-                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                \"22.22.0-windows_amd64\": [\n+                  \"node-v22.22.0-win-x64.zip\",\n+                  \"node-v22.22.0-win-x64\",\n+                  \"c97fa376d2becdc8863fcd3ca2dd9a83a9f3468ee7ccf7a6d076ec66a645c77a\"\n                 ]\n               },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"22.21.1\",\n+              \"node_version\": \"22.22.0\",\n               \"include_headers\": false,\n               \"platform\": \"linux_amd64\"\n             }\n@@ -1146,46 +1146,46 @@\n             \"attributes\": {\n               \"node_download_auth\": {},\n               \"node_repositories\": {\n-                \"22.21.1-darwin_arm64\": [\n-                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n-                  \"node-v22.21.1-darwin-arm64\",\n-                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                \"22.22.0-darwin_arm64\": [\n+                  \"node-v22.22.0-darwin-arm64.tar.gz\",\n+                  \"node-v22.22.0-darwin-arm64\",\n+                  \"5ed4db0fcf1eaf84d91ad12462631d73bf4576c1377e192d222e48026a902640\"\n                 ],\n-                \"22.21.1-darwin_amd64\": [\n-                  \"node-v22.21.1-darwin-x64.tar.gz\",\n-                  \"node-v22.21.1-darwin-x64\",\n-                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                \"22.22.0-darwin_amd64\": [\n+                  \"node-v22.22.0-darwin-x64.tar.gz\",\n+                  \"node-v22.22.0-darwin-x64\",\n+                  \"5ea50c9d6dea3dfa3abb66b2656f7a4e1c8cef23432b558d45fb538c7b5dedce\"\n                 ],\n-                \"22.21.1-linux_arm64\": [\n-                  \"node-v22.21.1-linux-arm64.tar.xz\",\n-                  \"node-v22.21.1-linux-arm64\",\n-                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                \"22.22.0-linux_arm64\": [\n+                  \"node-v22.22.0-linux-arm64.tar.xz\",\n+                  \"node-v22.22.0-linux-arm64\",\n+                  \"1bf1eb9ee63ffc4e5d324c0b9b62cf4a289f44332dfef9607cea1a0d9596ba6f\"\n                 ],\n-                \"22.21.1-linux_ppc64le\": [\n-                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n-                  \"node-v22.21.1-linux-ppc64le\",\n-                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                \"22.22.0-linux_ppc64le\": [\n+                  \"node-v22.22.0-linux-ppc64le.tar.xz\",\n+                  \"node-v22.22.0-linux-ppc64le\",\n+                  \"d83b9957431cc18e1fc143a4b99f89cde7b8a18f53ef392231b4336afd058865\"\n                 ],\n-                \"22.21.1-linux_s390x\": [\n-                  \"node-v22.21.1-linux-s390x.tar.xz\",\n-                  \"node-v22.21.1-linux-s390x\",\n-                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                \"22.22.0-linux_s390x\": [\n+                  \"node-v22.22.0-linux-s390x.tar.xz\",\n+                  \"node-v22.22.0-linux-s390x\",\n+                  \"5aa0e520689448c4233e8d73f284e8e0634fdcd32b479735698494be5641f3e4\"\n                 ],\n-                \"22.21.1-linux_amd64\": [\n-                  \"node-v22.21.1-linux-x64.tar.xz\",\n-                  \"node-v22.21.1-linux-x64\",\n-                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                \"22.22.0-linux_amd64\": [\n+                  \"node-v22.22.0-linux-x64.tar.xz\",\n+                  \"node-v22.22.0-linux-x64\",\n+                  \"9aa8e9d2298ab68c600bd6fb86a6c13bce11a4eca1ba9b39d79fa021755d7c37\"\n                 ],\n-                \"22.21.1-windows_amd64\": [\n-                  \"node-v22.21.1-win-x64.zip\",\n-                  \"node-v22.21.1-win-x64\",\n-                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                \"22.22.0-windows_amd64\": [\n+                  \"node-v22.22.0-win-x64.zip\",\n+                  \"node-v22.22.0-win-x64\",\n+                  \"c97fa376d2becdc8863fcd3ca2dd9a83a9f3468ee7ccf7a6d076ec66a645c77a\"\n                 ]\n               },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"22.21.1\",\n+              \"node_version\": \"22.22.0\",\n               \"include_headers\": false,\n               \"platform\": \"linux_arm64\"\n             }\n@@ -1195,46 +1195,46 @@\n             \"attributes\": {\n               \"node_download_auth\": {},\n               \"node_repositories\": {\n-                \"22.21.1-darwin_arm64\": [\n-                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n-                  \"node-v22.21.1-darwin-arm64\",\n-                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                \"22.22.0-darwin_arm64\": [\n+                  \"node-v22.22.0-darwin-arm64.tar.gz\",\n+                  \"node-v22.22.0-darwin-arm64\",\n+                  \"5ed4db0fcf1eaf84d91ad12462631d73bf4576c1377e192d222e48026a902640\"\n                 ],\n-                \"22.21.1-darwin_amd64\": [\n-                  \"node-v22.21.1-darwin-x64.tar.gz\",\n-                  \"node-v22.21.1-darwin-x64\",\n-                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                \"22.22.0-darwin_amd64\": [\n+                  \"node-v22.22.0-darwin-x64.tar.gz\",\n+                  \"node-v22.22.0-darwin-x64\",\n+                  \"5ea50c9d6dea3dfa3abb66b2656f7a4e1c8cef23432b558d45fb538c7b5dedce\"\n                 ],\n-                \"22.21.1-linux_arm64\": [\n-                  \"node-v22.21.1-linux-arm64.tar.xz\",\n-                  \"node-v22.21.1-linux-arm64\",\n-                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                \"22.22.0-linux_arm64\": [\n+                  \"node-v22.22.0-linux-arm64.tar.xz\",\n+                  \"node-v22.22.0-linux-arm64\",\n+                  \"1bf1eb9ee63ffc4e5d324c0b9b62cf4a289f44332dfef9607cea1a0d9596ba6f\"\n                 ],\n-                \"22.21.1-linux_ppc64le\": [\n-                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n-                  \"node-v22.21.1-linux-ppc64le\",\n-                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                \"22.22.0-linux_ppc64le\": [\n+                  \"node-v22.22.0-linux-ppc64le.tar.xz\",\n+                  \"node-v22.22.0-linux-ppc64le\",\n+                  \"d83b9957431cc18e1fc143a4b99f89cde7b8a18f53ef392231b4336afd058865\"\n                 ],\n-                \"22.21.1-linux_s390x\": [\n-                  \"node-v22.21.1-linux-s390x.tar.xz\",\n-                  \"node-v22.21.1-linux-s390x\",\n-                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                \"22.22.0-linux_s390x\": [\n+                  \"node-v22.22.0-linux-s390x.tar.xz\",\n+                  \"node-v22.22.0-linux-s390x\",\n+                  \"5aa0e520689448c4233e8d73f284e8e0634fdcd32b479735698494be5641f3e4\"\n                 ],\n-                \"22.21.1-linux_amd64\": [\n-                  \"node-v22.21.1-linux-x64.tar.xz\",\n-                  \"node-v22.21.1-linux-x64\",\n-                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                \"22.22.0-linux_amd64\": [\n+                  \"node-v22.22.0-linux-x64.tar.xz\",\n+                  \"node-v22.22.0-linux-x64\",\n+                  \"9aa8e9d2298ab68c600bd6fb86a6c13bce11a4eca1ba9b39d79fa021755d7c37\"\n                 ],\n-                \"22.21.1-windows_amd64\": [\n-                  \"node-v22.21.1-win-x64.zip\",\n-                  \"node-v22.21.1-win-x64\",\n-                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                \"22.22.0-windows_amd64\": [\n+                  \"node-v22.22.0-win-x64.zip\",\n+                  \"node-v22.22.0-win-x64\",\n+                  \"c97fa376d2becdc8863fcd3ca2dd9a83a9f3468ee7ccf7a6d076ec66a645c77a\"\n                 ]\n               },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"22.21.1\",\n+              \"node_version\": \"22.22.0\",\n               \"include_headers\": false,\n               \"platform\": \"linux_s390x\"\n             }\n@@ -1244,46 +1244,46 @@\n             \"attributes\": {\n               \"node_download_auth\": {},\n               \"node_repositories\": {\n-                \"22.21.1-darwin_arm64\": [\n-                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n-                  \"node-v22.21.1-darwin-arm64\",\n-                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                \"22.22.0-darwin_arm64\": [\n+                  \"node-v22.22.0-darwin-arm64.tar.gz\",\n+                  \"node-v22.22.0-darwin-arm64\",\n+                  \"5ed4db0fcf1eaf84d91ad12462631d73bf4576c1377e192d222e48026a902640\"\n                 ],\n-                \"22.21.1-darwin_amd64\": [\n-                  \"node-v22.21.1-darwin-x64.tar.gz\",\n-                  \"node-v22.21.1-darwin-x64\",\n-                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                \"22.22.0-darwin_amd64\": [\n+                  \"node-v22.22.0-darwin-x64.tar.gz\",\n+                  \"node-v22.22.0-darwin-x64\",\n+                  \"5ea50c9d6dea3dfa3abb66b2656f7a4e1c8cef23432b558d45fb538c7b5dedce\"\n                 ],\n-                \"22.21.1-linux_arm64\": [\n-                  \"node-v22.21.1-linux-arm64.tar.xz\",\n-                  \"node-v22.21.1-linux-arm64\",\n-                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                \"22.22.0-linux_arm64\": [\n+                  \"node-v22.22.0-linux-arm64.tar.xz\",\n+                  \"node-v22.22.0-linux-arm64\",\n+                  \"1bf1eb9ee63ffc4e5d324c0b9b62cf4a289f44332dfef9607cea1a0d9596ba6f\"\n                 ],\n-                \"22.21.1-linux_ppc64le\": [\n-                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n-                  \"node-v22.21.1-linux-ppc64le\",\n-                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                \"22.22.0-linux_ppc64le\": [\n+                  \"node-v22.22.0-linux-ppc64le.tar.xz\",\n+                  \"node-v22.22.0-linux-ppc64le\",\n+                  \"d83b9957431cc18e1fc143a4b99f89cde7b8a18f53ef392231b4336afd058865\"\n                 ],\n-                \"22.21.1-linux_s390x\": [\n-                  \"node-v22.21.1-linux-s390x.tar.xz\",\n-                  \"node-v22.21.1-linux-s390x\",\n-                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                \"22.22.0-linux_s390x\": [\n+                  \"node-v22.22.0-linux-s390x.tar.xz\",\n+                  \"node-v22.22.0-linux-s390x\",\n+                  \"5aa0e520689448c4233e8d73f284e8e0634fdcd32b479735698494be5641f3e4\"\n                 ],\n-                \"22.21.1-linux_amd64\": [\n-                  \"node-v22.21.1-linux-x64.tar.xz\",\n-                  \"node-v22.21.1-linux-x64\",\n-                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                \"22.22.0-linux_amd64\": [\n+                  \"node-v22.22.0-linux-x64.tar.xz\",\n+                  \"node-v22.22.0-linux-x64\",\n+                  \"9aa8e9d2298ab68c600bd6fb86a6c13bce11a4eca1ba9b39d79fa021755d7c37\"\n                 ],\n-                \"22.21.1-windows_amd64\": [\n-                  \"node-v22.21.1-win-x64.zip\",\n-                  \"node-v22.21.1-win-x64\",\n-                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                \"22.22.0-windows_amd64\": [\n+                  \"node-v22.22.0-win-x64.zip\",\n+                  \"node-v22.22.0-win-x64\",\n+                  \"c97fa376d2becdc8863fcd3ca2dd9a83a9f3468ee7ccf7a6d076ec66a645c77a\"\n                 ]\n               },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"22.21.1\",\n+              \"node_version\": \"22.22.0\",\n               \"include_headers\": false,\n               \"platform\": \"linux_ppc64le\"\n             }\n@@ -1293,46 +1293,46 @@\n             \"attributes\": {\n               \"node_download_auth\": {},\n               \"node_repositories\": {\n-                \"22.21.1-darwin_arm64\": [\n-                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n-                  \"node-v22.21.1-darwin-arm64\",\n-                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                \"22.22.0-darwin_arm64\": [\n+                  \"node-v22.22.0-darwin-arm64.tar.gz\",\n+                  \"node-v22.22.0-darwin-arm64\",\n+                  \"5ed4db0fcf1eaf84d91ad12462631d73bf4576c1377e192d222e48026a902640\"\n                 ],\n-                \"22.21.1-darwin_amd64\": [\n-                  \"node-v22.21.1-darwin-x64.tar.gz\",\n-                  \"node-v22.21.1-darwin-x64\",\n-                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                \"22.22.0-darwin_amd64\": [\n+                  \"node-v22.22.0-darwin-x64.tar.gz\",\n+                  \"node-v22.22.0-darwin-x64\",\n+                  \"5ea50c9d6dea3dfa3abb66b2656f7a4e1c8cef23432b558d45fb538c7b5dedce\"\n                 ],\n-                \"22.21.1-linux_arm64\": [\n-                  \"node-v22.21.1-linux-arm64.tar.xz\",\n-                  \"node-v22.21.1-linux-arm64\",\n-                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                \"22.22.0-linux_arm64\": [\n+                  \"node-v22.22.0-linux-arm64.tar.xz\",\n+                  \"node-v22.22.0-linux-arm64\",\n+                  \"1bf1eb9ee63ffc4e5d324c0b9b62cf4a289f44332dfef9607cea1a0d9596ba6f\"\n                 ],\n-                \"22.21.1-linux_ppc64le\": [\n-                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n-                  \"node-v22.21.1-linux-ppc64le\",\n-                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                \"22.22.0-linux_ppc64le\": [\n+                  \"node-v22.22.0-linux-ppc64le.tar.xz\",\n+                  \"node-v22.22.0-linux-ppc64le\",\n+                  \"d83b9957431cc18e1fc143a4b99f89cde7b8a18f53ef392231b4336afd058865\"\n                 ],\n-                \"22.21.1-linux_s390x\": [\n-                  \"node-v22.21.1-linux-s390x.tar.xz\",\n-                  \"node-v22.21.1-linux-s390x\",\n-                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                \"22.22.0-linux_s390x\": [\n+                  \"node-v22.22.0-linux-s390x.tar.xz\",\n+                  \"node-v22.22.0-linux-s390x\",\n+                  \"5aa0e520689448c4233e8d73f284e8e0634fdcd32b479735698494be5641f3e4\"\n                 ],\n-                \"22.21.1-linux_amd64\": [\n-                  \"node-v22.21.1-linux-x64.tar.xz\",\n-                  \"node-v22.21.1-linux-x64\",\n-                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                \"22.22.0-linux_amd64\": [\n+                  \"node-v22.22.0-linux-x64.tar.xz\",\n+                  \"node-v22.22.0-linux-x64\",\n+                  \"9aa8e9d2298ab68c600bd6fb86a6c13bce11a4eca1ba9b39d79fa021755d7c37\"\n                 ],\n-                \"22.21.1-windows_amd64\": [\n-                  \"node-v22.21.1-win-x64.zip\",\n-                  \"node-v22.21.1-win-x64\",\n-                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                \"22.22.0-windows_amd64\": [\n+                  \"node-v22.22.0-win-x64.zip\",\n+                  \"node-v22.22.0-win-x64\",\n+                  \"c97fa376d2becdc8863fcd3ca2dd9a83a9f3468ee7ccf7a6d076ec66a645c77a\"\n                 ]\n               },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"22.21.1\",\n+              \"node_version\": \"22.22.0\",\n               \"include_headers\": false,\n               \"platform\": \"darwin_amd64\"\n             }\n@@ -1342,46 +1342,46 @@\n             \"attributes\": {\n               \"node_download_auth\": {},\n               \"node_repositories\": {\n-                \"22.21.1-darwin_arm64\": [\n-                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n-                  \"node-v22.21.1-darwin-arm64\",\n-                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                \"22.22.0-darwin_arm64\": [\n+                  \"node-v22.22.0-darwin-arm64.tar.gz\",\n+                  \"node-v22.22.0-darwin-arm64\",\n+                  \"5ed4db0fcf1eaf84d91ad12462631d73bf4576c1377e192d222e48026a902640\"\n                 ],\n-                \"22.21.1-darwin_amd64\": [\n-                  \"node-v22.21.1-darwin-x64.tar.gz\",\n-                  \"node-v22.21.1-darwin-x64\",\n-                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                \"22.22.0-darwin_amd64\": [\n+                  \"node-v22.22.0-darwin-x64.tar.gz\",\n+                  \"node-v22.22.0-darwin-x64\",\n+                  \"5ea50c9d6dea3dfa3abb66b2656f7a4e1c8cef23432b558d45fb538c7b5dedce\"\n                 ],\n-                \"22.21.1-linux_arm64\": [\n-                  \"node-v22.21.1-linux-arm64.tar.xz\",\n-                  \"node-v22.21.1-linux-arm64\",\n-                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                \"22.22.0-linux_arm64\": [\n+                  \"node-v22.22.0-linux-arm64.tar.xz\",\n+                  \"node-v22.22.0-linux-arm64\",\n+                  \"1bf1eb9ee63ffc4e5d324c0b9b62cf4a289f44332dfef9607cea1a0d9596ba6f\"\n                 ],\n-                \"22.21.1-linux_ppc64le\": [\n-                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n-                  \"node-v22.21.1-linux-ppc64le\",\n-                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                \"22.22.0-linux_ppc64le\": [\n+                  \"node-v22.22.0-linux-ppc64le.tar.xz\",\n+                  \"node-v22.22.0-linux-ppc64le\",\n+                  \"d83b9957431cc18e1fc143a4b99f89cde7b8a18f53ef392231b4336afd058865\"\n                 ],\n-                \"22.21.1-linux_s390x\": [\n-                  \"node-v22.21.1-linux-s390x.tar.xz\",\n-                  \"node-v22.21.1-linux-s390x\",\n-                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                \"22.22.0-linux_s390x\": [\n+                  \"node-v22.22.0-linux-s390x.tar.xz\",\n+                  \"node-v22.22.0-linux-s390x\",\n+                  \"5aa0e520689448c4233e8d73f284e8e0634fdcd32b479735698494be5641f3e4\"\n                 ],\n-                \"22.21.1-linux_amd64\": [\n-                  \"node-v22.21.1-linux-x64.tar.xz\",\n-                  \"node-v22.21.1-linux-x64\",\n-                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                \"22.22.0-linux_amd64\": [\n+                  \"node-v22.22.0-linux-x64.tar.xz\",\n+                  \"node-v22.22.0-linux-x64\",\n+                  \"9aa8e9d2298ab68c600bd6fb86a6c13bce11a4eca1ba9b39d79fa021755d7c37\"\n                 ],\n-                \"22.21.1-windows_amd64\": [\n-                  \"node-v22.21.1-win-x64.zip\",\n-                  \"node-v22.21.1-win-x64\",\n-                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                \"22.22.0-windows_amd64\": [\n+                  \"node-v22.22.0-win-x64.zip\",\n+                  \"node-v22.22.0-win-x64\",\n+                  \"c97fa376d2becdc8863fcd3ca2dd9a83a9f3468ee7ccf7a6d076ec66a645c77a\"\n                 ]\n               },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"22.21.1\",\n+              \"node_version\": \"22.22.0\",\n               \"include_headers\": false,\n               \"platform\": \"darwin_arm64\"\n             }\n@@ -1391,46 +1391,46 @@\n             \"attributes\": {\n               \"node_download_auth\": {},\n               \"node_repositories\": {\n-                \"22.21.1-darwin_arm64\": [\n-                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n-                  \"node-v22.21.1-darwin-arm64\",\n-                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                \"22.22.0-darwin_arm64\": [\n+                  \"node-v22.22.0-darwin-arm64.tar.gz\",\n+                  \"node-v22.22.0-darwin-arm64\",\n+                  \"5ed4db0fcf1eaf84d91ad12462631d73bf4576c1377e192d222e48026a902640\"\n                 ],\n-                \"22.21.1-darwin_amd64\": [\n-                  \"node-v22.21.1-darwin-x64.tar.gz\",\n-                  \"node-v22.21.1-darwin-x64\",\n-                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                \"22.22.0-darwin_amd64\": [\n+                  \"node-v22.22.0-darwin-x64.tar.gz\",\n+                  \"node-v22.22.0-darwin-x64\",\n+                  \"5ea50c9d6dea3dfa3abb66b2656f7a4e1c8cef23432b558d45fb538c7b5dedce\"\n                 ],\n-                \"22.21.1-linux_arm64\": [\n-                  \"node-v22.21.1-linux-arm64.tar.xz\",\n-                  \"node-v22.21.1-linux-arm64\",\n-                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                \"22.22.0-linux_arm64\": [\n+                  \"node-v22.22.0-linux-arm64.tar.xz\",\n+                  \"node-v22.22.0-linux-arm64\",\n+                  \"1bf1eb9ee63ffc4e5d324c0b9b62cf4a289f44332dfef9607cea1a0d9596ba6f\"\n                 ],\n-                \"22.21.1-linux_ppc64le\": [\n-                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n-                  \"node-v22.21.1-linux-ppc64le\",\n-                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                \"22.22.0-linux_ppc64le\": [\n+                  \"node-v22.22.0-linux-ppc64le.tar.xz\",\n+                  \"node-v22.22.0-linux-ppc64le\",\n+                  \"d83b9957431cc18e1fc143a4b99f89cde7b8a18f53ef392231b4336afd058865\"\n                 ],\n-                \"22.21.1-linux_s390x\": [\n-                  \"node-v22.21.1-linux-s390x.tar.xz\",\n-                  \"node-v22.21.1-linux-s390x\",\n-                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                \"22.22.0-linux_s390x\": [\n+                  \"node-v22.22.0-linux-s390x.tar.xz\",\n+                  \"node-v22.22.0-linux-s390x\",\n+                  \"5aa0e520689448c4233e8d73f284e8e0634fdcd32b479735698494be5641f3e4\"\n                 ],\n-                \"22.21.1-linux_amd64\": [\n-                  \"node-v22.21.1-linux-x64.tar.xz\",\n-                  \"node-v22.21.1-linux-x64\",\n-                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                \"22.22.0-linux_amd64\": [\n+                  \"node-v22.22.0-linux-x64.tar.xz\",\n+                  \"node-v22.22.0-linux-x64\",\n+                  \"9aa8e9d2298ab68c600bd6fb86a6c13bce11a4eca1ba9b39d79fa021755d7c37\"\n                 ],\n-                \"22.21.1-windows_amd64\": [\n-                  \"node-v22.21.1-win-x64.zip\",\n-                  \"node-v22.21.1-win-x64\",\n-                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                \"22.22.0-windows_amd64\": [\n+                  \"node-v22.22.0-win-x64.zip\",\n+                  \"node-v22.22.0-win-x64\",\n+                  \"c97fa376d2becdc8863fcd3ca2dd9a83a9f3468ee7ccf7a6d076ec66a645c77a\"\n                 ]\n               },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"22.21.1\",\n+              \"node_version\": \"22.22.0\",\n               \"include_headers\": false,\n               \"platform\": \"windows_amd64\"\n             }\n@@ -1440,46 +1440,46 @@\n             \"attributes\": {\n               \"node_download_auth\": {},\n               \"node_repositories\": {\n-                \"22.21.1-darwin_arm64\": [\n-                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n-                  \"node-v22.21.1-darwin-arm64\",\n-                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                \"22.22.0-darwin_arm64\": [\n+                  \"node-v22.22.0-darwin-arm64.tar.gz\",\n+                  \"node-v22.22.0-darwin-arm64\",\n+                  \"5ed4db0fcf1eaf84d91ad12462631d73bf4576c1377e192d222e48026a902640\"\n                 ],\n-                \"22.21.1-darwin_amd64\": [\n-                  \"node-v22.21.1-darwin-x64.tar.gz\",\n-                  \"node-v22.21.1-darwin-x64\",\n-                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                \"22.22.0-darwin_amd64\": [\n+                  \"node-v22.22.0-darwin-x64.tar.gz\",\n+                  \"node-v22.22.0-darwin-x64\",\n+                  \"5ea50c9d6dea3dfa3abb66b2656f7a4e1c8cef23432b558d45fb538c7b5dedce\"\n                 ],\n-                \"22.21.1-linux_arm64\": [\n-                  \"node-v22.21.1-linux-arm64.tar.xz\",\n-                  \"node-v22.21.1-linux-arm64\",\n-                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                \"22.22.0-linux_arm64\": [\n+                  \"node-v22.22.0-linux-arm64.tar.xz\",\n+                  \"node-v22.22.0-linux-arm64\",\n+                  \"1bf1eb9ee63ffc4e5d324c0b9b62cf4a289f44332dfef9607cea1a0d9596ba6f\"\n                 ],\n-                \"22.21.1-linux_ppc64le\": [\n-                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n-                  \"node-v22.21.1-linux-ppc64le\",\n-                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                \"22.22.0-linux_ppc64le\": [\n+                  \"node-v22.22.0-linux-ppc64le.tar.xz\",\n+                  \"node-v22.22.0-linux-ppc64le\",\n+                  \"d83b9957431cc18e1fc143a4b99f89cde7b8a18f53ef392231b4336afd058865\"\n                 ],\n-                \"22.21.1-linux_s390x\": [\n-                  \"node-v22.21.1-linux-s390x.tar.xz\",\n-                  \"node-v22.21.1-linux-s390x\",\n-                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                \"22.22.0-linux_s390x\": [\n+                  \"node-v22.22.0-linux-s390x.tar.xz\",\n+                  \"node-v22.22.0-linux-s390x\",\n+                  \"5aa0e520689448c4233e8d73f284e8e0634fdcd32b479735698494be5641f3e4\"\n                 ],\n-                \"22.21.1-linux_amd64\": [\n-                  \"node-v22.21.1-linux-x64.tar.xz\",\n-                  \"node-v22.21.1-linux-x64\",\n-                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                \"22.22.0-linux_amd64\": [\n+                  \"node-v22.22.0-linux-x64.tar.xz\",\n+                  \"node-v22.22.0-linux-x64\",\n+                  \"9aa8e9d2298ab68c600bd6fb86a6c13bce11a4eca1ba9b39d79fa021755d7c37\"\n                 ],\n-                \"22.21.1-windows_amd64\": [\n-                  \"node-v22.21.1-win-x64.zip\",\n-                  \"node-v22.21.1-win-x64\",\n-                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                \"22.22.0-windows_amd64\": [\n+                  \"node-v22.22.0-win-x64.zip\",\n+                  \"node-v22.22.0-win-x64\",\n+                  \"c97fa376d2becdc8863fcd3ca2dd9a83a9f3468ee7ccf7a6d076ec66a645c77a\"\n                 ]\n               },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"22.21.1\",\n+              \"node_version\": \"22.22.0\",\n               \"include_headers\": false,\n               \"platform\": \"windows_arm64\"\n             }","expectedMessage":"build: update dependency node to v22.22.0","repository":"angular","commitHash":"4c2d860c5f2be970db6320272bbea1197b2f141c","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-551f1205","diff":" .bazelversion     | 2 +-\n MODULE.bazel.lock | 4 ++--\n 2 files changed, 3 insertions(+), 3 deletions(-)\n\ndiff --git a/.bazelversion b/.bazelversion\nindex 6d289079..f9c71a52 100644\n--- a/.bazelversion\n+++ b/.bazelversion\n@@ -1 +1 @@\n-8.5.0\n+8.5.1\ndiff --git a/MODULE.bazel.lock b/MODULE.bazel.lock\nindex 6dec6aa9..963c800f 100644\n--- a/MODULE.bazel.lock\n+++ b/MODULE.bazel.lock\n@@ -412,7 +412,7 @@\n     },\n     \"@@aspect_rules_js+//npm:extensions.bzl%pnpm\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"zVV86HvMwDBJ8IsFt27k/Sjq0vCMPr8b8X9OAuprQ6w\u003d\",\n+        \"bzlTransitiveDigest\": \"VaGKuK2sKVTWlq9QBZfNc4fhigCeN9Wt4YhnhdGUkv8\u003d\",\n         \"usagesDigest\": \"V3eYj3dhR+UR/L7u17ZGfCuqJZpobNrN/6oEZPkZgDc\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n@@ -1508,7 +1508,7 @@\n     },\n     \"@@rules_python+//python/extensions:pip.bzl%pip\": {\n       \"general\": {\n-        \"bzlTransitiveDigest\": \"39J6fxZx6VyebAMZs6LDsQSGw91SROMECqQx77bSJqE\u003d\",\n+        \"bzlTransitiveDigest\": \"rPZpN8uoLnuu3B+LRiijfMadoMlO1/dxOO8/emPCZV4\u003d\",\n         \"usagesDigest\": \"/9NP3RV6/DWuNdYAsIU/8UCgCX0TdPUJr0X6O+0lrtk\u003d\",\n         \"recordedFileInputs\": {\n           \"@@protobuf+//python/requirements.txt\": \"983be60d3cec4b319dcab6d48aeb3f5b2f7c3350f26b3a9e97486c37967c73c5\",","expectedMessage":"build: update dependency bazel to v8.5.1","repository":"angular","commitHash":"551f120530353d5201667152bbae3cbdd2428759","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-710a4bf0","diff":" .github/actions/deploy-docs-site/lib/sitemap.mts | 58 +++++++++++++++--------\n .github/actions/deploy-docs-site/main.js         | 60 +++++++++++++++---------\n 2 files changed, 76 insertions(+), 42 deletions(-)\n\ndiff --git a/.github/actions/deploy-docs-site/lib/sitemap.mts b/.github/actions/deploy-docs-site/lib/sitemap.mts\nindex 19bec71e..d453afdf 100644\n--- a/.github/actions/deploy-docs-site/lib/sitemap.mts\n+++ b/.github/actions/deploy-docs-site/lib/sitemap.mts\n@@ -1,33 +1,53 @@\n import {Deployment} from \u0027./deployments.mjs\u0027;\n-import {join} from \u0027path\u0027;\n-import {readFileSync, writeFileSync} from \u0027fs\u0027;\n-\n-export async function generateSitemap(deployment: Deployment, distDir: string) {\n-  const servingUrlWithoutEndingSlash \u003d deployment.servingUrl.endsWith(\u0027/\u0027)\n-    ? deployment.servingUrl.slice(0, -1)\n-    : deployment.servingUrl;\n+import {join} from \u0027node:path\u0027;\n+import {readFile, writeFile} from \u0027node:fs/promises\u0027;\n \n+export async function generateSitemap(deployment: Deployment, distDir: string): Promise\u003cvoid\u003e {\n   /** Timestamp string used to of the last file update. */\n   const lastModifiedTimestamp \u003d new Date().toISOString();\n   /** An object containing all of the routes available within the application. */\n-  const routes \u003d JSON.parse(readFileSync(join(distDir, \u0027prerendered-routes.json\u0027), \u0027utf-8\u0027));\n+  const {routes} \u003d JSON.parse(await readFile(join(distDir, \u0027prerendered-routes.json\u0027), \u0027utf-8\u0027));\n+  const routePaths \u003d Object.keys(routes);\n+\n   /** The generated sitemap string. */\n   const sitemap \u003d `\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n   \u003curlset xmlns\u003d\"http://www.sitemaps.org/schemas/sitemap/0.9\"\u003e\n-  ${Object.keys(routes.routes)\n-    .map((route) \u003d\u003e {\n-      const routeWithoutLeadingSlash \u003d route.startsWith(\u0027/\u0027) ? route.slice(1) : route;\n-      return `\n-    \u003curl\u003e\n-      \u003cloc\u003e${servingUrlWithoutEndingSlash}/${routeWithoutLeadingSlash}\u003c/loc\u003e\n+  ${routePaths\n+    .map(\n+      (route) \u003d\u003e `\u003curl\u003e\n+      \u003cloc\u003e${joinUrlParts(deployment.servingUrl, route)}\u003c/loc\u003e\n       \u003clastmod\u003e${lastModifiedTimestamp}\u003c/lastmod\u003e\n       \u003cchangefreq\u003edaily\u003c/changefreq\u003e\n       \u003cpriority\u003e1.0\u003c/priority\u003e\n-    \u003c/url\u003e\n-        `;\n-    })\n+    \u003c/url\u003e`,\n+    )\n     .join(\u0027\u0027)}\n   \u003c/urlset\u003e`;\n-  writeFileSync(join(distDir, \u0027browser\u0027, \u0027sitemap.xml\u0027), sitemap, \u0027utf-8\u0027);\n-  console.log(`Generated sitemap with ${Object.keys(routes.routes).length} entries.`);\n+\n+  await writeFile(join(distDir, \u0027browser\u0027, \u0027sitemap.xml\u0027), sitemap, \u0027utf-8\u0027);\n+\n+  console.log(`Generated sitemap with ${routePaths.length} entries.`);\n+}\n+\n+function joinUrlParts(...parts: string[]): string {\n+  const normalizeParts: string[] \u003d [];\n+  for (const part of parts) {\n+    if (part \u003d\u003d\u003d \u0027\u0027) {\n+      // Skip any empty parts\n+      continue;\n+    }\n+\n+    let normalizedPart \u003d part;\n+    if (part[0] \u003d\u003d\u003d \u0027/\u0027) {\n+      normalizedPart \u003d normalizedPart.slice(1);\n+    }\n+    if (part.at(-1) \u003d\u003d\u003d \u0027/\u0027) {\n+      normalizedPart \u003d normalizedPart.slice(0, -1);\n+    }\n+    if (normalizedPart !\u003d\u003d \u0027\u0027) {\n+      normalizeParts.push(normalizedPart);\n+    }\n+  }\n+\n+  return normalizeParts.join(\u0027/\u0027);\n }\ndiff --git a/.github/actions/deploy-docs-site/main.js b/.github/actions/deploy-docs-site/main.js\nindex 602c8a8b..97e2d6a6 100644\n--- a/.github/actions/deploy-docs-site/main.js\n+++ b/.github/actions/deploy-docs-site/main.js\n@@ -1500,7 +1500,7 @@ var require_summary \u003d __commonJS({\n     exports.summary \u003d exports.markdownSummary \u003d exports.SUMMARY_DOCS_URL \u003d exports.SUMMARY_ENV_VAR \u003d void 0;\n     var os_1 \u003d __require(\"os\");\n     var fs_1 \u003d __require(\"fs\");\n-    var { access, appendFile, writeFile: writeFile3 } \u003d fs_1.promises;\n+    var { access, appendFile, writeFile: writeFile4 } \u003d fs_1.promises;\n     exports.SUMMARY_ENV_VAR \u003d \"GITHUB_STEP_SUMMARY\";\n     exports.SUMMARY_DOCS_URL \u003d \"https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary\";\n     var Summary \u003d class {\n@@ -1558,7 +1558,7 @@ var require_summary \u003d __commonJS({\n         return __awaiter(this, void 0, void 0, function* () {\n           const overwrite \u003d !!(options \u003d\u003d\u003d null || options \u003d\u003d\u003d void 0 ? void 0 : options.overwrite);\n           const filePath \u003d yield this.filePath();\n-          const writeFunc \u003d overwrite ? writeFile3 : appendFile;\n+          const writeFunc \u003d overwrite ? writeFile4 : appendFile;\n           yield writeFunc(filePath, this._buffer, { encoding: \"utf8\" });\n           return this.emptyBuffer();\n         });\n@@ -8549,7 +8549,7 @@ var require_lockfile \u003d __commonJS({\n               }\n               const file \u003d _ref22;\n               if (yield exists(file)) {\n-                return readFile2(file);\n+                return readFile3(file);\n               }\n             }\n             return null;\n@@ -8568,7 +8568,7 @@ var require_lockfile \u003d __commonJS({\n         })();\n         let readJsonAndFile \u003d exports2.readJsonAndFile \u003d (() \u003d\u003e {\n           var _ref24 \u003d (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* (loc) {\n-            const file \u003d yield readFile2(loc);\n+            const file \u003d yield readFile3(loc);\n             try {\n               return {\n                 object: (0, (_map || _load_map()).default)(JSON.parse(stripBOM(file))),\n@@ -8712,7 +8712,7 @@ var require_lockfile \u003d __commonJS({\n             if (eol !\u003d\u003d \"\\n\") {\n               data \u003d data.replace(/\\n/g, eol);\n             }\n-            yield writeFile3(path, data);\n+            yield writeFile4(path, data);\n           });\n           return function writeFilePreservingEol2(_x30, _x31) {\n             return _ref31.apply(this, arguments);\n@@ -8724,7 +8724,7 @@ var require_lockfile \u003d __commonJS({\n             const file \u003d (_path || _load_path()).default.join(dir, filename);\n             const fileLink \u003d (_path || _load_path()).default.join(dir, filename + \"-link\");\n             try {\n-              yield writeFile3(file, \"test\");\n+              yield writeFile4(file, \"test\");\n               yield link(file, fileLink);\n             } catch (err) {\n               return false;\n@@ -8814,7 +8814,7 @@ var require_lockfile \u003d __commonJS({\n           };\n         })();\n         exports2.copy \u003d copy;\n-        exports2.readFile \u003d readFile2;\n+        exports2.readFile \u003d readFile3;\n         exports2.readFileRaw \u003d readFileRaw;\n         exports2.normalizeOS \u003d normalizeOS;\n         var _fs;\n@@ -8879,7 +8879,7 @@ var require_lockfile \u003d __commonJS({\n         const lockQueue \u003d exports2.lockQueue \u003d new (_blockingQueue || _load_blockingQueue()).default(\"fs lock\");\n         const readFileBuffer \u003d exports2.readFileBuffer \u003d (0, (_promise2 || _load_promise2()).promisify)((_fs || _load_fs()).default.readFile);\n         const open \u003d exports2.open \u003d (0, (_promise2 || _load_promise2()).promisify)((_fs || _load_fs()).default.open);\n-        const writeFile3 \u003d exports2.writeFile \u003d (0, (_promise2 || _load_promise2()).promisify)((_fs || _load_fs()).default.writeFile);\n+        const writeFile4 \u003d exports2.writeFile \u003d (0, (_promise2 || _load_promise2()).promisify)((_fs || _load_fs()).default.writeFile);\n         const readlink \u003d exports2.readlink \u003d (0, (_promise2 || _load_promise2()).promisify)((_fs || _load_fs()).default.readlink);\n         const realpath \u003d exports2.realpath \u003d (0, (_promise2 || _load_promise2()).promisify)((_fs || _load_fs()).default.realpath);\n         const readdir \u003d exports2.readdir \u003d (0, (_promise2 || _load_promise2()).promisify)((_fs || _load_fs()).default.readdir);\n@@ -8913,7 +8913,7 @@ var require_lockfile \u003d __commonJS({\n             });\n           });\n         }\n-        function readFile2(loc) {\n+        function readFile3(loc) {\n           return _readFile(loc, \"utf8\").then(normalizeOS);\n         }\n         function readFileRaw(loc) {\n@@ -35356,28 +35356,42 @@ async function getDeployments() {\n }\n \n // .github/actions/deploy-docs-site/lib/sitemap.mjs\n-import { join as join4 } from \"path\";\n-import { readFileSync as readFileSync4, writeFileSync } from \"fs\";\n+import { join as join4 } from \"node:path\";\n+import { readFile as readFile2, writeFile as writeFile3 } from \"node:fs/promises\";\n async function generateSitemap(deployment, distDir) {\n-  const servingUrlWithoutEndingSlash \u003d deployment.servingUrl.endsWith(\"/\") ? deployment.servingUrl.slice(0, -1) : deployment.servingUrl;\n   const lastModifiedTimestamp \u003d (/* @__PURE__ */ new Date()).toISOString();\n-  const routes \u003d JSON.parse(readFileSync4(join4(distDir, \"prerendered-routes.json\"), \"utf-8\"));\n+  const { routes } \u003d JSON.parse(await readFile2(join4(distDir, \"prerendered-routes.json\"), \"utf-8\"));\n+  const routePaths \u003d Object.keys(routes);\n   const sitemap \u003d `\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n   \u003curlset xmlns\u003d\"http://www.sitemaps.org/schemas/sitemap/0.9\"\u003e\n-  ${Object.keys(routes.routes).map((route) \u003d\u003e {\n-    const routeWithoutLeadingSlash \u003d route.startsWith(\"/\") ? route.slice(1) : route;\n-    return `\n-    \u003curl\u003e\n-      \u003cloc\u003e${servingUrlWithoutEndingSlash}/${routeWithoutLeadingSlash}\u003c/loc\u003e\n+  ${routePaths.map((route) \u003d\u003e `\u003curl\u003e\n+      \u003cloc\u003e${joinUrlParts(deployment.servingUrl, route)}\u003c/loc\u003e\n       \u003clastmod\u003e${lastModifiedTimestamp}\u003c/lastmod\u003e\n       \u003cchangefreq\u003edaily\u003c/changefreq\u003e\n       \u003cpriority\u003e1.0\u003c/priority\u003e\n-    \u003c/url\u003e\n-        `;\n-  }).join(\"\")}\n+    \u003c/url\u003e`).join(\"\")}\n   \u003c/urlset\u003e`;\n-  writeFileSync(join4(distDir, \"browser\", \"sitemap.xml\"), sitemap, \"utf-8\");\n-  console.log(`Generated sitemap with ${Object.keys(routes.routes).length} entries.`);\n+  await writeFile3(join4(distDir, \"browser\", \"sitemap.xml\"), sitemap, \"utf-8\");\n+  console.log(`Generated sitemap with ${routePaths.length} entries.`);\n+}\n+function joinUrlParts(...parts) {\n+  const normalizeParts \u003d [];\n+  for (const part of parts) {\n+    if (part \u003d\u003d\u003d \"\") {\n+      continue;\n+    }\n+    let normalizedPart \u003d part;\n+    if (part[0] \u003d\u003d\u003d \"/\") {\n+      normalizedPart \u003d normalizedPart.slice(1);\n+    }\n+    if (part.at(-1) \u003d\u003d\u003d \"/\") {\n+      normalizedPart \u003d normalizedPart.slice(0, -1);\n+    }\n+    if (normalizedPart !\u003d\u003d \"\") {\n+      normalizeParts.push(normalizedPart);\n+    }\n+  }\n+  return normalizeParts.join(\"/\");\n }\n \n // .github/actions/deploy-docs-site/lib/main.mts","expectedMessage":"fix(docs-infra): remove trailing slash from sitemap URLs","repository":"angular","commitHash":"710a4bf02ba1a50d440bc55b6734956010873105","metadata":{"author":"Alan Agius \u003c17563226+alan-agius4@users.noreply.github.com\u003e"}}
{"id":"angular-95e8c2fd","diff":" package.json                                 | 1 -\n pnpm-lock.yaml                               | 3 ---\n vscode-ng-language-service/package.json      | 2 +-\n vscode-ng-language-service/tools/release.mts | 2 +-\n 4 files changed, 2 insertions(+), 6 deletions(-)\n\ndiff --git a/package.json b/package.json\nindex cea79494..125e98aa 100644\n--- a/package.json\n+++ b/package.json\n@@ -150,7 +150,6 @@\n     \"todomvc-common\": \"^1.0.5\",\n     \"tslib\": \"^2.3.0\",\n     \"tslint\": \"6.1.3\",\n-    \"tsx\": \"^4.7.2\",\n     \"typescript\": \"5.9.3\",\n     \"webtreemap\": \"^2.0.1\",\n     \"ws\": \"^8.15.0\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 3f21ba35..dc2963f0 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -310,9 +310,6 @@ importers:\n       tslint:\n         specifier: 6.1.3\n         version: 6.1.3(typescript@5.9.3)\n-      tsx:\n-        specifier: ^4.7.2\n-        version: 4.21.0\n       typescript:\n         specifier: 5.9.3\n         version: 5.9.3\ndiff --git a/vscode-ng-language-service/package.json b/vscode-ng-language-service/package.json\nindex 2597f8f6..a920c794 100644\n--- a/vscode-ng-language-service/package.json\n+++ b/vscode-ng-language-service/package.json\n@@ -257,7 +257,7 @@\n     \"test:inspect-common\": \"bazel run --config\u003ddebug //vscode-ng-language-service/common/tests:test\",\n     \"test:inspect-server\": \"bazel run --config\u003ddebug //vscode-ng-language-service/server/src/tests:test\",\n     \"test:inspect-syntaxes\": \"bazel run --config\u003ddebug //vscode-ng-language-service/syntaxes/test:test\",\n-    \"release\": \"tsx tools/release.mts\"\n+    \"release\": \"node tools/release.mts\"\n   },\n   \"dependencies\": {\n     \"@angular/language-service\": \"workspace:*\",\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex ef52502c..ced123d3 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -17,7 +17,7 @@ import {input, select} from \u0027@inquirer/prompts\u0027;\n import chalk from \u0027chalk\u0027;\n import semver from \u0027semver\u0027;\n import {writeFile, readFile} from \u0027node:fs/promises\u0027;\n-import {exec as nodeExec, spawn, SpawnOptions} from \u0027node:child_process\u0027;\n+import {exec as nodeExec, spawn, type SpawnOptions} from \u0027node:child_process\u0027;\n import {promisify} from \u0027node:util\u0027;\n import {join} from \u0027node:path\u0027;\n ","expectedMessage":"build: remove `tsx` dependency and update release script to use `node` directly","repository":"angular","commitHash":"95e8c2fdeec5b3484ed77297e21f53395b5d1be9","metadata":{"author":"Alan Agius \u003c17563226+alan-agius4@users.noreply.github.com\u003e"}}
{"id":"angular-227acddd","diff":" vscode-ng-language-service/tools/release.mts | 95 ++++++++++++++++++++++++----\n 1 file changed, 82 insertions(+), 13 deletions(-)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex 37049db9..ef52502c 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -13,7 +13,7 @@\n  */\n \n // tslint:disable:no-console\n-import {input} from \u0027@inquirer/prompts\u0027;\n+import {input, select} from \u0027@inquirer/prompts\u0027;\n import chalk from \u0027chalk\u0027;\n import semver from \u0027semver\u0027;\n import {writeFile, readFile} from \u0027node:fs/promises\u0027;\n@@ -68,6 +68,8 @@ async function main(): Promise\u003cvoid\u003e {\n \n   // Ensure the user has a clean working directory before starting the release process.\n   await checkCleanWorkingDirectory();\n+  // Ensure there is a github token before starting the release process.\n+  ensureGithubToken();\n \n   let branchToReleaseFrom: string | undefined \u003d process.env[\u0027BRANCH_TO_RELEASE\u0027];\n   if (!branchToReleaseFrom) {\n@@ -91,10 +93,13 @@ async function main(): Promise\u003cvoid\u003e {\n   await installDependencies();\n   await buildExtension();\n \n-  await prepareReleasePullRequest(releaseBranch, `${releaseCommitPrefix}${newVersion}`, [\n-    packageJsonPath,\n-    changelogPath,\n-  ]);\n+  const forkRemote \u003d await getForkRemoteName();\n+  await prepareReleasePullRequest(\n+    releaseBranch,\n+    `${releaseCommitPrefix}${newVersion}`,\n+    [packageJsonPath, changelogPath],\n+    forkRemote,\n+  );\n   await waitForPRToBeMergedAndTag(newVersion, branchToReleaseFrom);\n \n   await publishExtension();\n@@ -102,7 +107,7 @@ async function main(): Promise\u003cvoid\u003e {\n   await createGithubRelease(newVersion, changelog);\n \n   if (branchToReleaseFrom !\u003d\u003d \u0027main\u0027) {\n-    await cherryPickChangelog(changelog, newVersion);\n+    await cherryPickChangelog(changelog, newVersion, forkRemote);\n   }\n \n   console.log(chalk.green(\u0027VSCode extension release process complete!\u0027));\n@@ -216,10 +221,11 @@ async function prepareReleasePullRequest(\n   branch: string,\n   commitMessage: string,\n   files: string[],\n+  forkRemote: string,\n ): Promise\u003cvoid\u003e {\n   await exec(`git commit -m \"${commitMessage}\" \"${files.join(\u0027\" \"\u0027)}\"`);\n-  await exec(`git push origin ${branch} --force-with-lease`);\n-  const {stdout: remoteUrl} \u003d await exec(\u0027git remote get-url origin\u0027);\n+  await exec(`git push ${forkRemote} ${branch} --force-with-lease`);\n+  const {stdout: remoteUrl} \u003d await exec(`git remote get-url ${forkRemote}`);\n   const {owner, repo} \u003d getRepoDetails(remoteUrl);\n \n   console.log(\n@@ -382,6 +388,17 @@ async function buildExtension(): Promise\u003cvoid\u003e {\n   console.log(chalk.green(`VSCode extension packaged at ${extensionPath}`));\n }\n \n+function ensureGithubToken(): string {\n+  // https://github.com/angular/dev-infra/blob/8ce8257f740613a7291256173e2706fb2ed8aefa/ng-dev/utils/git/github-yargs.ts#L45\n+  const token \u003d process.env[\u0027GITHUB_TOKEN\u0027] ?? process.env[\u0027TOKEN\u0027];\n+  if (!token) {\n+    throw new Error(\n+      \u0027GITHUB_TOKEN nor TOKEN environment variable is not set. Cannot create GitHub release.\u0027,\n+    );\n+  }\n+  return token;\n+}\n+\n /**\n  * Creates a GitHub release and uploads the extension asset.\n  *\n@@ -389,10 +406,7 @@ async function buildExtension(): Promise\u003cvoid\u003e {\n  * @param changelog The changelog content for the release.\n  */\n async function createGithubRelease(version: string, changelog: string): Promise\u003cvoid\u003e {\n-  const token \u003d process.env[\u0027GITHUB_TOKEN\u0027];\n-  if (!token) {\n-    throw new Error(\u0027GITHUB_TOKEN environment variable is not set. Cannot create GitHub release.\u0027);\n-  }\n+  const token \u003d ensureGithubToken();\n \n   console.log(chalk.blue(\u0027Creating GitHub release...\u0027));\n \n@@ -478,7 +492,11 @@ async function publishExtension(): Promise\u003cvoid\u003e {\n  * @param changelog The changelog content to add.\n  * @param newVersion The new version number.\n  */\n-async function cherryPickChangelog(changelog: string, newVersion: string): Promise\u003cvoid\u003e {\n+async function cherryPickChangelog(\n+  changelog: string,\n+  newVersion: string,\n+  forkRemote: string,\n+): Promise\u003cvoid\u003e {\n   console.log(chalk.blue(\u0027Cherry-picking changelog to main...\u0027));\n \n   await exec(`git stash`);\n@@ -497,6 +515,7 @@ async function cherryPickChangelog(changelog: string, newVersion: string): Promi\n     cherryPickBranch,\n     `docs: release notes for the vscode extension ${newVersion} release`,\n     [changelogPath],\n+    forkRemote,\n   );\n }\n \n@@ -591,6 +610,56 @@ function getTagName(version: string): string {\n   return `${tagPrefix}${version}`;\n }\n \n+/**\n+ * Gets the name of the remote to use as the user\u0027s fork.\n+ *\n+ * This function lists all configured remotes and attempts to identify the user\u0027s fork.\n+ * - If \u0027origin\u0027 exists and is not the upstream angular repo, it is used.\n+ * - If there are other candidates (remotes that are not the upstream angular repo),\n+ *   it asks the user to select one if there are multiple.\n+ *\n+ * @returns The name of the remote to use.\n+ */\n+async function getForkRemoteName(): Promise\u003cstring\u003e {\n+  const {stdout} \u003d await exec(\u0027git remote -v\u0027);\n+  const remotes \u003d new Map\u003cstring, string\u003e();\n+  for (const line of stdout.split(\u0027\\n\u0027)) {\n+    const parts \u003d line.split(/\\s+/);\n+    if (parts.length \u003e\u003d 2) {\n+      const [name, url] \u003d parts;\n+      remotes.set(name, url);\n+    }\n+  }\n+\n+  const candidates: string[] \u003d [];\n+  for (const [name, url] of remotes) {\n+    if (getRepoDetails(url).owner !\u003d\u003d \u0027angular\u0027) {\n+      candidates.push(name);\n+    }\n+  }\n+\n+  // If origin is a candidate, we prefer it appropriately IF it\u0027s likely the user\u0027s fork.\n+  // The check `getRepoDetails(url).owner !\u003d\u003d \u0027angular\u0027` already filters out upstream.\n+  // So if `origin` is in candidates, it\u0027s safe to use?\n+  // User wanted: \"If origin exists and is a candidate ... return \u0027origin\u0027\".\n+  if (candidates.includes(\u0027origin\u0027)) {\n+    return \u0027origin\u0027;\n+  }\n+\n+  if (candidates.length \u003d\u003d\u003d 0) {\n+    throw new Error(\u0027No suitable fork remote found. Please add a remote for your fork.\u0027);\n+  }\n+\n+  if (candidates.length \u003d\u003d\u003d 1) {\n+    return candidates[0];\n+  }\n+\n+  return await select({\n+    message: \u0027Which remote should be used as your fork (to push the release commit to for the PR)?\u0027,\n+    choices: candidates.map((c) \u003d\u003e ({value: c})),\n+  });\n+}\n+\n // Start the release process.\n main().catch((err) \u003d\u003e {\n   console.error(chalk.red(err));","expectedMessage":"build: Update vscode release script","repository":"angular","commitHash":"227acddd3a075a59a7e3c66c967aef06846187fa","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-cb5879f5","diff":" packages/core/src/util/is_dev_mode.ts | 3 +++\n 1 file changed, 3 insertions(+)\n\ndiff --git a/packages/core/src/util/is_dev_mode.ts b/packages/core/src/util/is_dev_mode.ts\nindex 67e1df24..f868b46c 100644\n--- a/packages/core/src/util/is_dev_mode.ts\n+++ b/packages/core/src/util/is_dev_mode.ts\n@@ -40,5 +40,8 @@ export function enableProdMode(): void {\n   // `global[\u0027ngDevMode\u0027] \u003d false;` is also dropped.\n   if (typeof ngDevMode \u003d\u003d\u003d \u0027undefined\u0027 || ngDevMode) {\n     global[\u0027ngDevMode\u0027] \u003d false;\n+    // The ngGlobal might already be init, for because initNgDevMode() is invoked from the top level,\n+    // an this function might executed later. So we need to clean up the global.ng as well.\n+    global[\u0027ng\u0027] \u003d undefined;\n   }\n }","expectedMessage":"refactor(core): remove ng when invoking `enableProdMode`","repository":"angular","commitHash":"cb5879f566b799ab104bb3e5ceaa13e74c7263d0","metadata":{"author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e"}}
{"id":"angular-029685bd","diff":" vscode-ng-language-service/tools/release.mts | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex d01e5482..37049db9 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -481,6 +481,7 @@ async function publishExtension(): Promise\u003cvoid\u003e {\n async function cherryPickChangelog(changelog: string, newVersion: string): Promise\u003cvoid\u003e {\n   console.log(chalk.blue(\u0027Cherry-picking changelog to main...\u0027));\n \n+  await exec(`git stash`);\n   await exec(`git fetch ${angularRepoRemote} main`);\n   const cherryPickBranch \u003d `vscode-changelog-cherry-pick${newVersion}`;\n   await exec(`git branch -D ${cherryPickBranch}`).catch(() \u003d\u003e {});","expectedMessage":"build: update cherrypick changelog to stash","repository":"angular","commitHash":"029685bd934c6ecf44c1187778085da986ddd320","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-b95753eb","diff":" .../syntaxes/expression.json                       |  41 ++++\n .../syntaxes/src/expression.ts                     |  45 ++++\n .../syntaxes/test/data/expression.html             |  13 ++\n .../syntaxes/test/data/expression.html.snap        | 249 +++++++++++++++++++++\n 4 files changed, 348 insertions(+)\n\ndiff --git a/vscode-ng-language-service/syntaxes/expression.json b/vscode-ng-language-service/syntaxes/expression.json\nindex a2411b8a..9e3fe99a 100644\n--- a/vscode-ng-language-service/syntaxes/expression.json\n+++ b/vscode-ng-language-service/syntaxes/expression.json\n@@ -16,6 +16,9 @@\n         {\n           \"include\": \"#literal\"\n         },\n+        {\n+          \"include\": \"#arrowFunction\"\n+        },\n         {\n           \"include\": \"#ternaryExpression\"\n         },\n@@ -971,6 +974,44 @@\n           \"include\": \"#ngExpression\"\n         }\n       ]\n+    },\n+    \"arrowFunction\": {\n+      \"patterns\": [\n+        {\n+          \"name\": \"meta.arrow.ts\",\n+          \"match\": \"(?:(?\u003c![_$[:alnum:]])(?:(?\u003c\u003d\\\\.\\\\.\\\\.)|(?\u003c!\\\\.))\\\\basync\\\\s+)?([_$[:alpha:]][_$[:alnum:]]*)\\\\s*(?\u003d\u003d\u003e)\",\n+          \"captures\": {\n+            \"1\": {\n+              \"name\": \"variable.parameter.ts\"\n+            }\n+          }\n+        },\n+        {\n+          \"name\": \"meta.arrow.ts\",\n+          \"begin\": \"(?x) (?:\\n  (?\u003c![_$[:alnum:]])(?:(?\u003c\u003d\\\\.\\\\.\\\\.)|(?\u003c!\\\\.))(\\\\basync)\\n)? ((?\u003c![})!\\\\]])\\\\s*\\n  (?\u003d\\n    # sure shot arrow functions even if \u003d\u003e is on new line\\n(\\n  (\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c]|\\\\\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c]|\\\\\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c])*\\\\\u003e)*\\\\\u003e)*\u003e\\\\s*)?\\n  [(]\\\\s*(\\\\/\\\\*([^\\\\*]|(\\\\*[^\\\\/]))*\\\\*\\\\/\\\\s*)*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n\\n# arrow function possible to detect only with \u003d\u003e on same line\\n(\\n  (\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c]|\\\\\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c]|\\\\\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c])*\\\\\u003e)*\\\\\u003e)*\u003e\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(\\\\/\\\\*([^\\\\*]|(\\\\*[^\\\\/]))*\\\\*\\\\/\\\\s*)*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()\\\\\u0027\\\\\\\"\\\\`]|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\\u0027([^\\\\\u0027\\\\\\\\]|\\\\\\\\.)*\\\\\u0027)|(\\\\\\\"([^\\\\\\\"\\\\\\\\]|\\\\\\\\.)*\\\\\\\")|(\\\\`([^\\\\`\\\\\\\\]|\\\\\\\\.)*\\\\`))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^\u003c\u003e\\\\(\\\\)\\\\{\\\\}]|\\\\\u003c([^\u003c\u003e]|\\\\\u003c([^\u003c\u003e]|\\\\\u003c[^\u003c\u003e]+\\\\\u003e)+\\\\\u003e)+\\\\\u003e|\\\\([^\\\\(\\\\)]+\\\\)|\\\\{[^\\\\{\\\\}]+\\\\})+)?                                                                        # return type\\n  \\\\s*\u003d\u003e                                                                                               # arrow operator\\n)\\n  )\\n)\",\n+          \"end\": \"(?\u003d\u003d\u003e|\\\\{|(^\\\\s*(export|function|class|interface|let|var|(?:\\\\busing(?\u003d\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|\u003d)))[_$[:alpha:]])\\\\b)|(?:\\\\bawait\\\\s+(?:\\\\busing(?\u003d\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|\u003d)))[_$[:alpha:]])\\\\b)\\\\b)|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))\",\n+          \"patterns\": [\n+            {\n+              \"include\": \"#functionParameters\"\n+            }\n+          ]\n+        },\n+        {\n+          \"name\": \"meta.arrow.ts\",\n+          \"begin\": \"\u003d\u003e\",\n+          \"beginCaptures\": {\n+            \"0\": {\n+              \"name\": \"storage.type.function.arrow.ts\"\n+            }\n+          },\n+          \"end\": \"((?\u003c\u003d\\\\}|\\\\S)(?\u003c!\u003d\u003e)|((?!\\\\{)(?\u003d\\\\S)))(?!\\\\/[\\\\/\\\\*])\",\n+          \"patterns\": [\n+            {\n+              \"include\": \"#ngExpression\"\n+            }\n+          ]\n+        }\n+      ]\n     }\n   }\n }\ndiff --git a/vscode-ng-language-service/syntaxes/src/expression.ts b/vscode-ng-language-service/syntaxes/src/expression.ts\nindex f95d199d..9a36ae11 100644\n--- a/vscode-ng-language-service/syntaxes/src/expression.ts\n+++ b/vscode-ng-language-service/syntaxes/src/expression.ts\n@@ -22,6 +22,9 @@ export const Expression: GrammarDefinition \u003d {\n         {\n           include: \u0027#literal\u0027,\n         },\n+        {\n+          include: \u0027#arrowFunction\u0027,\n+        },\n         {\n           include: \u0027#ternaryExpression\u0027,\n         },\n@@ -982,5 +985,47 @@ export const Expression: GrammarDefinition \u003d {\n         },\n       ],\n     },\n+\n+    // Via https://github.com/microsoft/vscode-typescript-next/blob/2db036c6a8c4000dbe8cfc591512b1a6f4e666d0/syntaxes/TypeScript.tmLanguage.json#L1509\n+    arrowFunction: {\n+      patterns: [\n+        {\n+          name: \u0027meta.arrow.ts\u0027,\n+          match:\n+            /(?:(?\u003c![_$[:alnum:]])(?:(?\u003c\u003d\\.\\.\\.)|(?\u003c!\\.))\\basync\\s+)?([_$[:alpha:]][_$[:alnum:]]*)\\s*(?\u003d\u003d\u003e)/,\n+          captures: {\n+            1: {\n+              name: \u0027variable.parameter.ts\u0027,\n+            },\n+          },\n+        },\n+        {\n+          name: \u0027meta.arrow.ts\u0027,\n+          begin:\n+            \u0027(?x) (?:\\n  (?\u003c![_$[:alnum:]])(?:(?\u003c\u003d\\\\.\\\\.\\\\.)|(?\u003c!\\\\.))(\\\\basync)\\n)? ((?\u003c![})!\\\\]])\\\\s*\\n  (?\u003d\\n    # sure shot arrow functions even if \u003d\u003e is on new line\\n(\\n  (\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c]|\\\\\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c]|\\\\\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c])*\\\\\u003e)*\\\\\u003e)*\u003e\\\\s*)?\\n  [(]\\\\s*(\\\\/\\\\*([^\\\\*]|(\\\\*[^\\\\/]))*\\\\*\\\\/\\\\s*)*\\n  (\\n    ([)]\\\\s*:) |                                                                                       # ():\\n    ((\\\\.\\\\.\\\\.\\\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\\\s*:)                                                                  # [(]param: | [(]...param:\\n  )\\n) |\\n\\n# arrow function possible to detect only with \u003d\u003e on same line\\n(\\n  (\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c]|\\\\\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c]|\\\\\u003c\\\\s*(((const\\\\s+)?[_$[:alpha:]])|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\]))([^\u003d\u003c\u003e]|\u003d[^\u003c])*\\\\\u003e)*\\\\\u003e)*\u003e\\\\s*)?                                                                                 # typeparameters\\n  \\\\(\\\\s*(\\\\/\\\\*([^\\\\*]|(\\\\*[^\\\\/]))*\\\\*\\\\/\\\\s*)*(([_$[:alpha:]]|(\\\\{([^\\\\{\\\\}]|(\\\\{([^\\\\{\\\\}]|\\\\{[^\\\\{\\\\}]*\\\\})*\\\\}))*\\\\})|(\\\\[([^\\\\[\\\\]]|(\\\\[([^\\\\[\\\\]]|\\\\[[^\\\\[\\\\]]*\\\\])*\\\\]))*\\\\])|(\\\\.\\\\.\\\\.\\\\s*[_$[:alpha:]]))([^()\\\\\\\u0027\\\\\"\\\\`]|(\\\\(([^\\\\(\\\\)]|(\\\\(([^\\\\(\\\\)]|\\\\([^\\\\(\\\\)]*\\\\))*\\\\)))*\\\\))|(\\\\\\\u0027([^\\\\\\\u0027\\\\\\\\]|\\\\\\\\.)*\\\\\\\u0027)|(\\\\\"([^\\\\\"\\\\\\\\]|\\\\\\\\.)*\\\\\")|(\\\\`([^\\\\`\\\\\\\\]|\\\\\\\\.)*\\\\`))*)?\\\\)   # parameters\\n  (\\\\s*:\\\\s*([^\u003c\u003e\\\\(\\\\)\\\\{\\\\}]|\\\\\u003c([^\u003c\u003e]|\\\\\u003c([^\u003c\u003e]|\\\\\u003c[^\u003c\u003e]+\\\\\u003e)+\\\\\u003e)+\\\\\u003e|\\\\([^\\\\(\\\\)]+\\\\)|\\\\{[^\\\\{\\\\}]+\\\\})+)?                                                                        # return type\\n  \\\\s*\u003d\u003e                                                                                               # arrow operator\\n)\\n  )\\n)\u0027,\n+          end: \u0027(?\u003d\u003d\u003e|\\\\{|(^\\\\s*(export|function|class|interface|let|var|(?:\\\\busing(?\u003d\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|\u003d)))[_$[:alpha:]])\\\\b)|(?:\\\\bawait\\\\s+(?:\\\\busing(?\u003d\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|\u003d)))[_$[:alpha:]])\\\\b)\\\\b)|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))\u0027,\n+          patterns: [\n+            {\n+              include: \u0027#functionParameters\u0027,\n+            },\n+          ],\n+        },\n+        {\n+          name: \u0027meta.arrow.ts\u0027,\n+          begin: \u0027\u003d\u003e\u0027,\n+          beginCaptures: {\n+            \u00270\u0027: {\n+              name: \u0027storage.type.function.arrow.ts\u0027,\n+            },\n+          },\n+          end: \u0027((?\u003c\u003d\\\\}|\\\\S)(?\u003c!\u003d\u003e)|((?!\\\\{)(?\u003d\\\\S)))(?!\\\\/[\\\\/\\\\*])\u0027,\n+          patterns: [\n+            {\n+              include: \u0027#ngExpression\u0027,\n+            },\n+          ],\n+        },\n+      ],\n+    },\n   },\n };\ndiff --git a/vscode-ng-language-service/syntaxes/test/data/expression.html b/vscode-ng-language-service/syntaxes/test/data/expression.html\nindex 7cc3b4f1..fcf0b005 100644\n--- a/vscode-ng-language-service/syntaxes/test/data/expression.html\n+++ b/vscode-ng-language-service/syntaxes/test/data/expression.html\n@@ -104,3 +104,16 @@ as i }}\n \n \u003c!-- Rest --\u003e\n {{ someFn(1, ...foo, 2, ...bar, 3, ...baz) }}\n+\n+\u003c!-- Arrow functions --\u003e\n+{{ foo \u003d\u003e foo + 1 }}\n+{{ (foo, bar, baz) \u003d\u003e foo + bar + baz }}\n+{{ (foo, bar) \u003d\u003e [foo, bar, 1, 2] }}\n+{{ (foo, bar) \u003d\u003e ({foo: 1, bar: 2}) }}\n+{{ a \u003d\u003e (b, c) \u003d\u003e (d, e) \u003d\u003e f \u003d\u003e a + b + c + d + e + f }}\n+{{ ((a, b) \u003d\u003e a * b)(2, 3) }}\n+{{ [a \u003d\u003e a + 1, (b, c) \u003d\u003e b + c] }}\n+{{ (a, b) \u003d\u003e\n+    a / b + 123\n+}}\n+{{ someSignal.update(prev \u003d\u003e prev + 1) }}\ndiff --git a/vscode-ng-language-service/syntaxes/test/data/expression.html.snap b/vscode-ng-language-service/syntaxes/test/data/expression.html.snap\nindex aad5365d..600c42b0 100644\n--- a/vscode-ng-language-service/syntaxes/test/data/expression.html.snap\n+++ b/vscode-ng-language-service/syntaxes/test/data/expression.html.snap\n@@ -1283,4 +1283,253 @@\n #                                         ^ template.ng expression.ng meta.brace.round.ts\n #                                          ^ template.ng expression.ng\n #                                           ^^ template.ng punctuation.definition.block.ts\n+\u003e\n+\u003e\u003c!-- Arrow functions --\u003e\n+#^^^^^^^^^^^^^^^^^^^^^^^^^ template.ng\n+\u003e{{ foo \u003d\u003e foo + 1 }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng\n+#   ^^^ template.ng expression.ng meta.arrow.ts variable.parameter.ts\n+#      ^ template.ng expression.ng meta.arrow.ts\n+#       ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+#         ^ template.ng expression.ng meta.arrow.ts\n+#          ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#             ^ template.ng expression.ng\n+#              ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#               ^ template.ng expression.ng\n+#                ^ template.ng expression.ng constant.numeric.decimal.ts\n+#                 ^ template.ng expression.ng\n+#                  ^^ template.ng punctuation.definition.block.ts\n+\u003e{{ (foo, bar, baz) \u003d\u003e foo + bar + baz }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng meta.arrow.ts\n+#   ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.begin.ts\n+#    ^^^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#       ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.separator.parameter.ts\n+#        ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts\n+#         ^^^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#            ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.separator.parameter.ts\n+#             ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts\n+#              ^^^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#                 ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.end.ts\n+#                  ^ template.ng expression.ng meta.arrow.ts\n+#                   ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+#                     ^ template.ng expression.ng meta.arrow.ts\n+#                      ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                         ^ template.ng expression.ng\n+#                          ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#                           ^ template.ng expression.ng\n+#                            ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                               ^ template.ng expression.ng\n+#                                ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#                                 ^ template.ng expression.ng\n+#                                  ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                                     ^ template.ng expression.ng\n+#                                      ^^ template.ng punctuation.definition.block.ts\n+\u003e{{ (foo, bar) \u003d\u003e [foo, bar, 1, 2] }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng meta.arrow.ts\n+#   ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.begin.ts\n+#    ^^^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#       ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.separator.parameter.ts\n+#        ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts\n+#         ^^^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#            ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.end.ts\n+#             ^ template.ng expression.ng meta.arrow.ts\n+#              ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+#                ^ template.ng expression.ng meta.arrow.ts\n+#                 ^ template.ng expression.ng meta.array.literal.ts meta.brace.square.ts\n+#                  ^^^ template.ng expression.ng meta.array.literal.ts variable.other.readwrite.ts\n+#                     ^ template.ng expression.ng meta.array.literal.ts punctuation.separator.comma.ts\n+#                      ^ template.ng expression.ng meta.array.literal.ts\n+#                       ^^^ template.ng expression.ng meta.array.literal.ts variable.other.readwrite.ts\n+#                          ^ template.ng expression.ng meta.array.literal.ts punctuation.separator.comma.ts\n+#                           ^ template.ng expression.ng meta.array.literal.ts\n+#                            ^ template.ng expression.ng meta.array.literal.ts constant.numeric.decimal.ts\n+#                             ^ template.ng expression.ng meta.array.literal.ts punctuation.separator.comma.ts\n+#                              ^ template.ng expression.ng meta.array.literal.ts\n+#                               ^ template.ng expression.ng meta.array.literal.ts constant.numeric.decimal.ts\n+#                                ^ template.ng expression.ng meta.array.literal.ts meta.brace.square.ts\n+#                                 ^ template.ng expression.ng\n+#                                  ^^ template.ng punctuation.definition.block.ts\n+\u003e{{ (foo, bar) \u003d\u003e ({foo: 1, bar: 2}) }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng meta.arrow.ts\n+#   ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.begin.ts\n+#    ^^^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#       ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.separator.parameter.ts\n+#        ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts\n+#         ^^^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#            ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.end.ts\n+#             ^ template.ng expression.ng meta.arrow.ts\n+#              ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+#                ^ template.ng expression.ng meta.arrow.ts\n+#                 ^ template.ng expression.ng meta.brace.round.ts\n+#                  ^ template.ng expression.ng\n+#                   ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                      ^^ template.ng expression.ng\n+#                        ^ template.ng expression.ng constant.numeric.decimal.ts\n+#                         ^ template.ng expression.ng punctuation.separator.comma.ts\n+#                          ^ template.ng expression.ng\n+#                           ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                              ^^ template.ng expression.ng\n+#                                ^ template.ng expression.ng constant.numeric.decimal.ts\n+#                                 ^ template.ng expression.ng\n+#                                  ^ template.ng expression.ng meta.brace.round.ts\n+#                                   ^ template.ng expression.ng\n+#                                    ^^ template.ng punctuation.definition.block.ts\n+\u003e{{ a \u003d\u003e (b, c) \u003d\u003e (d, e) \u003d\u003e f \u003d\u003e a + b + c + d + e + f }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng\n+#   ^ template.ng expression.ng meta.arrow.ts variable.parameter.ts\n+#    ^ template.ng expression.ng meta.arrow.ts\n+#     ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+#       ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts\n+#        ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.begin.ts\n+#         ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#          ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts punctuation.separator.parameter.ts\n+#           ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts\n+#            ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#             ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.end.ts\n+#              ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts\n+#               ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+#                 ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts\n+#                  ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.begin.ts\n+#                   ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#                    ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts punctuation.separator.parameter.ts\n+#                     ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts\n+#                      ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#                       ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.end.ts\n+#                        ^ template.ng expression.ng meta.arrow.ts meta.arrow.ts\n+#                         ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+#                           ^ template.ng expression.ng meta.arrow.ts\n+#                            ^ template.ng expression.ng meta.arrow.ts variable.parameter.ts\n+#                             ^ template.ng expression.ng meta.arrow.ts\n+#                              ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+#                                ^ template.ng expression.ng meta.arrow.ts\n+#                                 ^ template.ng expression.ng variable.other.readwrite.ts\n+#                                  ^ template.ng expression.ng\n+#                                   ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#                                    ^ template.ng expression.ng\n+#                                     ^ template.ng expression.ng variable.other.readwrite.ts\n+#                                      ^ template.ng expression.ng\n+#                                       ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#                                        ^ template.ng expression.ng\n+#                                         ^ template.ng expression.ng variable.other.readwrite.ts\n+#                                          ^ template.ng expression.ng\n+#                                           ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#                                            ^ template.ng expression.ng\n+#                                             ^ template.ng expression.ng variable.other.readwrite.ts\n+#                                              ^ template.ng expression.ng\n+#                                               ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#                                                ^ template.ng expression.ng\n+#                                                 ^ template.ng expression.ng variable.other.readwrite.ts\n+#                                                  ^ template.ng expression.ng\n+#                                                   ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#                                                    ^ template.ng expression.ng\n+#                                                     ^ template.ng expression.ng variable.other.readwrite.ts\n+#                                                      ^ template.ng expression.ng\n+#                                                       ^^ template.ng punctuation.definition.block.ts\n+\u003e{{ ((a, b) \u003d\u003e a * b)(2, 3) }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng\n+#   ^ template.ng expression.ng meta.brace.round.ts\n+#    ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.begin.ts\n+#     ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#      ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.separator.parameter.ts\n+#       ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts\n+#        ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#         ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.end.ts\n+#          ^ template.ng expression.ng meta.arrow.ts\n+#           ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+#             ^ template.ng expression.ng meta.arrow.ts\n+#              ^ template.ng expression.ng variable.other.readwrite.ts\n+#               ^ template.ng expression.ng\n+#                ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#                 ^ template.ng expression.ng\n+#                  ^ template.ng expression.ng variable.other.readwrite.ts\n+#                   ^ template.ng expression.ng meta.brace.round.ts\n+#                    ^ template.ng expression.ng meta.brace.round.ts\n+#                     ^ template.ng expression.ng constant.numeric.decimal.ts\n+#                      ^ template.ng expression.ng punctuation.separator.comma.ts\n+#                       ^ template.ng expression.ng\n+#                        ^ template.ng expression.ng constant.numeric.decimal.ts\n+#                         ^ template.ng expression.ng meta.brace.round.ts\n+#                          ^ template.ng expression.ng\n+#                           ^^ template.ng punctuation.definition.block.ts\n+\u003e{{ [a \u003d\u003e a + 1, (b, c) \u003d\u003e b + c] }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng\n+#   ^ template.ng expression.ng meta.array.literal.ts meta.brace.square.ts\n+#    ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts variable.parameter.ts\n+#     ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts\n+#      ^^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts storage.type.function.arrow.ts\n+#        ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts\n+#         ^ template.ng expression.ng meta.array.literal.ts variable.other.readwrite.ts\n+#          ^ template.ng expression.ng meta.array.literal.ts\n+#           ^ template.ng expression.ng meta.array.literal.ts keyword.operator.arithmetic.ts\n+#            ^ template.ng expression.ng meta.array.literal.ts\n+#             ^ template.ng expression.ng meta.array.literal.ts constant.numeric.decimal.ts\n+#              ^ template.ng expression.ng meta.array.literal.ts punctuation.separator.comma.ts\n+#               ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts\n+#                ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.begin.ts\n+#                 ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#                  ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts meta.parameters.ts punctuation.separator.parameter.ts\n+#                   ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts meta.parameters.ts\n+#                    ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#                     ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.end.ts\n+#                      ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts\n+#                       ^^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts storage.type.function.arrow.ts\n+#                         ^ template.ng expression.ng meta.array.literal.ts meta.arrow.ts\n+#                          ^ template.ng expression.ng meta.array.literal.ts variable.other.readwrite.ts\n+#                           ^ template.ng expression.ng meta.array.literal.ts\n+#                            ^ template.ng expression.ng meta.array.literal.ts keyword.operator.arithmetic.ts\n+#                             ^ template.ng expression.ng meta.array.literal.ts\n+#                              ^ template.ng expression.ng meta.array.literal.ts variable.other.readwrite.ts\n+#                               ^ template.ng expression.ng meta.array.literal.ts meta.brace.square.ts\n+#                                ^ template.ng expression.ng\n+#                                 ^^ template.ng punctuation.definition.block.ts\n+\u003e{{ (a, b) \u003d\u003e\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng meta.arrow.ts\n+#   ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.begin.ts\n+#    ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#     ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.separator.parameter.ts\n+#      ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts\n+#       ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts variable.parameter.ts\n+#        ^ template.ng expression.ng meta.arrow.ts meta.parameters.ts punctuation.definition.parameters.end.ts\n+#         ^ template.ng expression.ng meta.arrow.ts\n+#          ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+\u003e    a / b + 123\n+#^^^^ template.ng expression.ng meta.arrow.ts\n+#    ^ template.ng expression.ng variable.other.readwrite.ts\n+#     ^ template.ng expression.ng\n+#      ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#       ^ template.ng expression.ng\n+#        ^ template.ng expression.ng variable.other.readwrite.ts\n+#         ^ template.ng expression.ng\n+#          ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#           ^ template.ng expression.ng\n+#            ^^^ template.ng expression.ng constant.numeric.decimal.ts\n+\u003e}}\n+#^^ template.ng punctuation.definition.block.ts\n+\u003e{{ someSignal.update(prev \u003d\u003e prev + 1) }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng\n+#   ^^^^^^^^^^ template.ng expression.ng variable.other.object.ts\n+#             ^ template.ng expression.ng punctuation.accessor.ts\n+#              ^^^^^^ template.ng expression.ng entity.name.function.ts\n+#                    ^ template.ng expression.ng meta.brace.round.ts\n+#                     ^^^^ template.ng expression.ng meta.arrow.ts variable.parameter.ts\n+#                         ^ template.ng expression.ng meta.arrow.ts\n+#                          ^^ template.ng expression.ng meta.arrow.ts storage.type.function.arrow.ts\n+#                            ^ template.ng expression.ng meta.arrow.ts\n+#                             ^^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                                 ^ template.ng expression.ng\n+#                                  ^ template.ng expression.ng keyword.operator.arithmetic.ts\n+#                                   ^ template.ng expression.ng\n+#                                    ^ template.ng expression.ng constant.numeric.decimal.ts\n+#                                     ^ template.ng expression.ng meta.brace.round.ts\n+#                                      ^ template.ng expression.ng\n+#                                       ^^ template.ng punctuation.definition.block.ts\n \u003e\n\\ No newline at end of file","expectedMessage":"fix(vscode-extension): add syntax highlighting for arrow functions","repository":"angular","commitHash":"b95753eb7d9efa247ff5ef1955969f1becf28032","metadata":{"author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e"}}
{"id":"angular-c70a6a6e","diff":" .../syntaxes/expression.json                       |  4 ++\n .../syntaxes/src/expression.ts                     |  4 ++\n .../syntaxes/test/data/expression.html             |  6 ++\n .../syntaxes/test/data/expression.html.snap        | 80 ++++++++++++++++++++++\n 4 files changed, 94 insertions(+)\n\ndiff --git a/vscode-ng-language-service/syntaxes/expression.json b/vscode-ng-language-service/syntaxes/expression.json\nindex 043de5ac..a2411b8a 100644\n--- a/vscode-ng-language-service/syntaxes/expression.json\n+++ b/vscode-ng-language-service/syntaxes/expression.json\n@@ -160,6 +160,10 @@\n           \"name\": \"keyword.operator.bitwise.shift.ts\",\n           \"match\": \"\u003c\u003c|\u003e\u003e\u003e|\u003e\u003e\"\n         },\n+        {\n+          \"name\": \"keyword.operator.spread.ts\",\n+          \"match\": \"\\\\.\\\\.\\\\.\"\n+        },\n         {\n           \"name\": \"keyword.operator.comparison.ts\",\n           \"match\": \"\u003d\u003d\u003d|!\u003d\u003d|\u003d\u003d|!\u003d\"\ndiff --git a/vscode-ng-language-service/syntaxes/src/expression.ts b/vscode-ng-language-service/syntaxes/src/expression.ts\nindex 9f59c58f..f95d199d 100644\n--- a/vscode-ng-language-service/syntaxes/src/expression.ts\n+++ b/vscode-ng-language-service/syntaxes/src/expression.ts\n@@ -169,6 +169,10 @@ export const Expression: GrammarDefinition \u003d {\n           name: \u0027keyword.operator.bitwise.shift.ts\u0027,\n           match: /\u003c\u003c|\u003e\u003e\u003e|\u003e\u003e/,\n         },\n+        {\n+          name: \u0027keyword.operator.spread.ts\u0027,\n+          match: /\\.\\.\\./,\n+        },\n         {\n           name: \u0027keyword.operator.comparison.ts\u0027,\n           match: /\u003d\u003d\u003d|!\u003d\u003d|\u003d\u003d|!\u003d/,\ndiff --git a/vscode-ng-language-service/syntaxes/test/data/expression.html b/vscode-ng-language-service/syntaxes/test/data/expression.html\nindex 4f262fc4..7cc3b4f1 100644\n--- a/vscode-ng-language-service/syntaxes/test/data/expression.html\n+++ b/vscode-ng-language-service/syntaxes/test/data/expression.html\n@@ -98,3 +98,9 @@ as i }}\n {{ (let param of params?.get(\u0027value\u0027)!.property | async).anotherProperty | translate: [\u0027language1\u0027, \u0027language2\u0027]; let i\n \u003d index; }}\n \n+\u003c!-- Spread --\u003e\n+{{ [1, ...foo, 2, ...bar, 3] }}\n+{{ {{a: 1, ...foo, b: 2, ...bar, c: 3}} }}\n+\n+\u003c!-- Rest --\u003e\n+{{ someFn(1, ...foo, 2, ...bar, 3, ...baz) }}\ndiff --git a/vscode-ng-language-service/syntaxes/test/data/expression.html.snap b/vscode-ng-language-service/syntaxes/test/data/expression.html.snap\nindex 24d25e46..aad5365d 100644\n--- a/vscode-ng-language-service/syntaxes/test/data/expression.html.snap\n+++ b/vscode-ng-language-service/syntaxes/test/data/expression.html.snap\n@@ -1203,4 +1203,84 @@\n #        ^ template.ng expression.ng\n #         ^^ template.ng punctuation.definition.block.ts\n \u003e\n+\u003e\u003c!-- Spread --\u003e\n+#^^^^^^^^^^^^^^^^ template.ng\n+\u003e{{ [1, ...foo, 2, ...bar, 3] }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng\n+#   ^ template.ng expression.ng meta.array.literal.ts meta.brace.square.ts\n+#    ^ template.ng expression.ng meta.array.literal.ts constant.numeric.decimal.ts\n+#     ^ template.ng expression.ng meta.array.literal.ts punctuation.separator.comma.ts\n+#      ^ template.ng expression.ng meta.array.literal.ts\n+#       ^^^ template.ng expression.ng meta.array.literal.ts keyword.operator.spread.ts\n+#          ^^^ template.ng expression.ng meta.array.literal.ts variable.other.readwrite.ts\n+#             ^ template.ng expression.ng meta.array.literal.ts punctuation.separator.comma.ts\n+#              ^ template.ng expression.ng meta.array.literal.ts\n+#               ^ template.ng expression.ng meta.array.literal.ts constant.numeric.decimal.ts\n+#                ^ template.ng expression.ng meta.array.literal.ts punctuation.separator.comma.ts\n+#                 ^ template.ng expression.ng meta.array.literal.ts\n+#                  ^^^ template.ng expression.ng meta.array.literal.ts keyword.operator.spread.ts\n+#                     ^^^ template.ng expression.ng meta.array.literal.ts variable.other.readwrite.ts\n+#                        ^ template.ng expression.ng meta.array.literal.ts punctuation.separator.comma.ts\n+#                         ^ template.ng expression.ng meta.array.literal.ts\n+#                          ^ template.ng expression.ng meta.array.literal.ts constant.numeric.decimal.ts\n+#                           ^ template.ng expression.ng meta.array.literal.ts meta.brace.square.ts\n+#                            ^ template.ng expression.ng\n+#                             ^^ template.ng punctuation.definition.block.ts\n+\u003e{{ {{a: 1, ...foo, b: 2, ...bar, c: 3}} }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^^^ template.ng expression.ng\n+#     ^ template.ng expression.ng variable.other.readwrite.ts\n+#      ^^ template.ng expression.ng\n+#        ^ template.ng expression.ng constant.numeric.decimal.ts\n+#         ^ template.ng expression.ng punctuation.separator.comma.ts\n+#          ^ template.ng expression.ng\n+#           ^^^ template.ng expression.ng keyword.operator.spread.ts\n+#              ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                 ^ template.ng expression.ng punctuation.separator.comma.ts\n+#                  ^ template.ng expression.ng\n+#                   ^ template.ng expression.ng variable.other.readwrite.ts\n+#                    ^^ template.ng expression.ng\n+#                      ^ template.ng expression.ng constant.numeric.decimal.ts\n+#                       ^ template.ng expression.ng punctuation.separator.comma.ts\n+#                        ^ template.ng expression.ng\n+#                         ^^^ template.ng expression.ng keyword.operator.spread.ts\n+#                            ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                               ^ template.ng expression.ng punctuation.separator.comma.ts\n+#                                ^ template.ng expression.ng\n+#                                 ^ template.ng expression.ng variable.other.readwrite.ts\n+#                                  ^^ template.ng expression.ng\n+#                                    ^ template.ng expression.ng constant.numeric.decimal.ts\n+#                                     ^^ template.ng punctuation.definition.block.ts\n+#                                       ^^^^ template.ng\n+\u003e\n+\u003e\u003c!-- Rest --\u003e\n+#^^^^^^^^^^^^^^ template.ng\n+\u003e{{ someFn(1, ...foo, 2, ...bar, 3, ...baz) }}\n+#^^ template.ng punctuation.definition.block.ts\n+#  ^ template.ng expression.ng\n+#   ^^^^^^ template.ng expression.ng entity.name.function.ts\n+#         ^ template.ng expression.ng meta.brace.round.ts\n+#          ^ template.ng expression.ng constant.numeric.decimal.ts\n+#           ^ template.ng expression.ng punctuation.separator.comma.ts\n+#            ^ template.ng expression.ng\n+#             ^^^ template.ng expression.ng keyword.operator.spread.ts\n+#                ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                   ^ template.ng expression.ng punctuation.separator.comma.ts\n+#                    ^ template.ng expression.ng\n+#                     ^ template.ng expression.ng constant.numeric.decimal.ts\n+#                      ^ template.ng expression.ng punctuation.separator.comma.ts\n+#                       ^ template.ng expression.ng\n+#                        ^^^ template.ng expression.ng keyword.operator.spread.ts\n+#                           ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                              ^ template.ng expression.ng punctuation.separator.comma.ts\n+#                               ^ template.ng expression.ng\n+#                                ^ template.ng expression.ng constant.numeric.decimal.ts\n+#                                 ^ template.ng expression.ng punctuation.separator.comma.ts\n+#                                  ^ template.ng expression.ng\n+#                                   ^^^ template.ng expression.ng keyword.operator.spread.ts\n+#                                      ^^^ template.ng expression.ng variable.other.readwrite.ts\n+#                                         ^ template.ng expression.ng meta.brace.round.ts\n+#                                          ^ template.ng expression.ng\n+#                                           ^^ template.ng punctuation.definition.block.ts\n \u003e\n\\ No newline at end of file","expectedMessage":"fix(vscode-extension): add syntax highlighting for spread/rest expressions","repository":"angular","commitHash":"c70a6a6ecc50e842bcd16db63650fc3501e462fb","metadata":{"author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e"}}
{"id":"angular-e45f8afd","diff":" vscode-ng-language-service/CHANGELOG.md | 6 ++++++\n 1 file changed, 6 insertions(+)\n\ndiff --git a/vscode-ng-language-service/CHANGELOG.md b/vscode-ng-language-service/CHANGELOG.md\nindex c4e83534..9de2d943 100644\n--- a/vscode-ng-language-service/CHANGELOG.md\n+++ b/vscode-ng-language-service/CHANGELOG.md\n@@ -1,3 +1,9 @@\n+## 21.1.0 (2026-01-12)\n+\n+- fix(vscode-extension): convert enum member kind in completions correctly ([50674f8c28](https://github.com/angular/angular/commit/50674f8c28c970e6a9cfe222f9f55bace4e16321))\n+\n+\u003c!-- CHANGELOG SPLIT MARKER --\u003e\n+\n ## 21.0.1 (2025-12-17)\n \n - fix(language-service): Prevent language service from crashing on suggestion diagnostic errors ([5047be4bc1](https://github.com/angular/angular/commit/5047be4bc1c6f6016263703c743f8033f669f0ee))","expectedMessage":"docs: release notes for the vscode extension 21.1.0 release","repository":"angular","commitHash":"e45f8afdab1ad26128a2f3865eafd52db7cd4265","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-871fa1b2","diff":" packages/core/src/change_detection/lifecycle_hooks.ts | 19 +++++++++++++++----\n 1 file changed, 15 insertions(+), 4 deletions(-)\n\ndiff --git a/packages/core/src/change_detection/lifecycle_hooks.ts b/packages/core/src/change_detection/lifecycle_hooks.ts\nindex 94ac41ed..4a61dc26 100644\n--- a/packages/core/src/change_detection/lifecycle_hooks.ts\n+++ b/packages/core/src/change_detection/lifecycle_hooks.ts\n@@ -9,7 +9,8 @@ import {SimpleChanges} from \u0027./simple_change\u0027;\n \n /**\n  * @description\n- * A lifecycle hook that is called when any data-bound property of a directive changes.\n+ * A lifecycle hook that is called when the value of one or more component or directive inputs\n+ * change. This includes both signal-based and decorator-based inputs.\n  * Define an `ngOnChanges()` method to handle the changes.\n  *\n  * @see {@link DoCheck}\n@@ -18,9 +19,19 @@ import {SimpleChanges} from \u0027./simple_change\u0027;\n  *\n  * @usageNotes\n  * The following snippet shows how a component can implement this interface to\n- * define an on-changes handler for an input property.\n- *\n- * {@example core/ts/metadata/lifecycle_hooks_spec.ts region\u003d\u0027OnChanges\u0027}\n+ * define an on-changes handler for an input property. While you should prefer\n+ * `computed` and `effect` when working with signal-based inputs, the `ngOnChanges`\n+ * method does include value changes for signal-based inputs.\n+ *\n+ * ```ts\n+ * @Component({ ... })\n+ * export class UserProfile implements OnChanges {\n+ *   userId \u003d input\u003cnumber\u003e(0);\n+ *   ngOnChanges(changes: SimpleChanges\u003cUserProfile\u003e) {\n+ *     // changes.userId contains the old and new value.\n+ *   }\n+ * }\n+ * ```\n  *\n  * @publicApi\n  */","expectedMessage":"docs: update OnChanges API reference w/ signal input","repository":"angular","commitHash":"871fa1b2ddf124c5e0ffe2cbea0c38f39ec6dc1c","metadata":{"author":"Jeremy Elbourn \u003cjelbourn@google.com\u003e"}}
{"id":"angular-951671ab","diff":" adev/src/content/aria/_build-info.json    |  2 +-\n adev/src/content/aria/aria-accordion.json |  6 ++++++\n adev/src/content/aria/aria-combobox.json  |  9 +++++++++\n adev/src/content/aria/aria-grid.json      | 12 ++++++++++++\n adev/src/content/aria/aria-listbox.json   |  3 +++\n adev/src/content/aria/aria-menu.json      |  9 +++++++++\n adev/src/content/aria/aria-tabs.json      |  9 +++++++++\n adev/src/content/aria/aria-toolbar.json   |  9 +++++++++\n adev/src/content/aria/aria-tree.json      |  3 +++\n adev/src/content/cdk/_build-info.json     |  2 +-\n adev/src/content/cdk/cdk_drag_drop.json   |  3 +++\n 11 files changed, 65 insertions(+), 2 deletions(-)\n\ndiff --git a/adev/src/content/aria/_build-info.json b/adev/src/content/aria/_build-info.json\nindex b85ea990..de56a64f 100644\n--- a/adev/src/content/aria/_build-info.json\n+++ b/adev/src/content/aria/_build-info.json\n@@ -1,4 +1,4 @@\n {\n   \"branchName\": \"refs/heads/main\",\n-  \"sha\": \"2d371116b73210f2ce2977e2ad390dcc47aa24ca\"\n+  \"sha\": \"aac13b645a512e83843abe81b27541b11cc4278c\"\n }\n\\ No newline at end of file\ndiff --git a/adev/src/content/aria/aria-accordion.json b/adev/src/content/aria/aria-accordion.json\nindex a020eb71..1196c526 100755\n--- a/adev/src/content/aria/aria-accordion.json\n+++ b/adev/src/content/aria/aria-accordion.json\n@@ -382,6 +382,9 @@\n       \"exportAs\": [\n         \"ngAccordionTrigger\"\n       ],\n+      \"aliases\": [\n+        \"ngAccordionTrigger\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/accordion/accordion-trigger.ts\",\n         \"startLine\": 42,\n@@ -551,6 +554,9 @@\n       \"exportAs\": [\n         \"ngAccordionGroup\"\n       ],\n+      \"aliases\": [\n+        \"ngAccordionGroup\"\n+      ],\n       \"source\": {\n         \"filePath\": \"src/aria/accordion/accordion-group.ts\",\n         \"startLine\": 62,\ndiff --git a/adev/src/content/aria/aria-combobox.json b/adev/src/content/aria/aria-combobox.json\nindex 8669dc0c..8f720d3d 100755\n--- a/adev/src/content/aria/aria-combobox.json\n+++ b/adev/src/content/aria/aria-combobox.json\n@@ -131,6 +131,9 @@\n       \"exportAs\": [\n         \"ngComboboxDialog\"\n       ],\n+      \"aliases\": [\n+        \"ngComboboxDialog\"\n+      ],\n       \"source\": {\n         \"filePath\": \"src/aria/combobox/combobox-dialog.ts\",\n         \"startLine\": 34,\n@@ -208,6 +211,9 @@\n       \"exportAs\": [\n         \"ngComboboxInput\"\n       ],\n+      \"aliases\": [\n+        \"ngComboboxInput\"\n+      ],\n       \"source\": {\n         \"filePath\": \"src/aria/combobox/combobox-input.ts\",\n         \"startLine\": 44,\n@@ -265,6 +271,9 @@\n       \"exportAs\": [\n         \"ngComboboxPopup\"\n       ],\n+      \"aliases\": [\n+        \"ngComboboxPopup\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/combobox/combobox-popup.ts\",\n         \"startLine\": 29,\ndiff --git a/adev/src/content/aria/aria-grid.json b/adev/src/content/aria/aria-grid.json\nindex 0ff0bc17..33dc6b5a 100755\n--- a/adev/src/content/aria/aria-grid.json\n+++ b/adev/src/content/aria/aria-grid.json\n@@ -52,6 +52,9 @@\n       \"exportAs\": [\n         \"ngGridRow\"\n       ],\n+      \"aliases\": [\n+        \"ngGridRow\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/grid/grid-row.ts\",\n         \"startLine\": 35,\n@@ -266,6 +269,9 @@\n       \"exportAs\": [\n         \"ngGridCellWidget\"\n       ],\n+      \"aliases\": [\n+        \"ngGridCellWidget\"\n+      ],\n       \"source\": {\n         \"filePath\": \"src/aria/grid/grid-cell-widget.ts\",\n         \"startLine\": 42,\n@@ -434,6 +440,9 @@\n       \"exportAs\": [\n         \"ngGrid\"\n       ],\n+      \"aliases\": [\n+        \"ngGrid\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/grid/grid.ts\",\n         \"startLine\": 47,\n@@ -653,6 +662,9 @@\n       \"exportAs\": [\n         \"ngGridCell\"\n       ],\n+      \"aliases\": [\n+        \"ngGridCell\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/grid/grid-cell.ts\",\n         \"startLine\": 41,\ndiff --git a/adev/src/content/aria/aria-listbox.json b/adev/src/content/aria/aria-listbox.json\nindex 4f0042ed..124b4de3 100755\n--- a/adev/src/content/aria/aria-listbox.json\n+++ b/adev/src/content/aria/aria-listbox.json\n@@ -132,6 +132,9 @@\n       \"exportAs\": [\n         \"ngOption\"\n       ],\n+      \"aliases\": [\n+        \"ngOption\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/listbox/option.ts\",\n         \"startLine\": 34,\ndiff --git a/adev/src/content/aria/aria-menu.json b/adev/src/content/aria/aria-menu.json\nindex c8cf6101..bf3d3426 100755\n--- a/adev/src/content/aria/aria-menu.json\n+++ b/adev/src/content/aria/aria-menu.json\n@@ -210,6 +210,9 @@\n       \"exportAs\": [\n         \"ngMenuTrigger\"\n       ],\n+      \"aliases\": [\n+        \"ngMenuTrigger\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/menu/menu-trigger.ts\",\n         \"startLine\": 43,\n@@ -432,6 +435,9 @@\n       \"exportAs\": [\n         \"ngMenuItem\"\n       ],\n+      \"aliases\": [\n+        \"ngMenuItem\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/menu/menu-item.ts\",\n         \"startLine\": 33,\n@@ -602,6 +608,9 @@\n       \"exportAs\": [\n         \"ngMenuBar\"\n       ],\n+      \"aliases\": [\n+        \"ngMenuBar\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/menu/menu-bar.ts\",\n         \"startLine\": 56,\ndiff --git a/adev/src/content/aria/aria-tabs.json b/adev/src/content/aria/aria-tabs.json\nindex 496c0638..09aac1e3 100755\n--- a/adev/src/content/aria/aria-tabs.json\n+++ b/adev/src/content/aria/aria-tabs.json\n@@ -64,6 +64,9 @@\n       \"exportAs\": [\n         \"ngTabs\"\n       ],\n+      \"aliases\": [\n+        \"ngTabs\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/tabs/tabs.ts\",\n         \"startLine\": 45,\n@@ -402,6 +405,9 @@\n       \"exportAs\": [\n         \"ngTab\"\n       ],\n+      \"aliases\": [\n+        \"ngTab\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/tabs/tab.ts\",\n         \"startLine\": 41,\n@@ -664,6 +670,9 @@\n       \"exportAs\": [\n         \"ngTabList\"\n       ],\n+      \"aliases\": [\n+        \"ngTabList\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/tabs/tab-list.ts\",\n         \"startLine\": 45,\ndiff --git a/adev/src/content/aria/aria-toolbar.json b/adev/src/content/aria/aria-toolbar.json\nindex f54e5719..a8b42922 100755\n--- a/adev/src/content/aria/aria-toolbar.json\n+++ b/adev/src/content/aria/aria-toolbar.json\n@@ -69,6 +69,9 @@\n       \"exportAs\": [\n         \"ngToolbarWidgetGroup\"\n       ],\n+      \"aliases\": [\n+        \"ngToolbarWidgetGroup\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/toolbar/toolbar-widget-group.ts\",\n         \"startLine\": 31,\n@@ -190,6 +193,9 @@\n       \"exportAs\": [\n         \"ngToolbar\"\n       ],\n+      \"aliases\": [\n+        \"ngToolbar\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/toolbar/toolbar.ts\",\n         \"startLine\": 47,\n@@ -373,6 +379,9 @@\n       \"exportAs\": [\n         \"ngToolbarWidget\"\n       ],\n+      \"aliases\": [\n+        \"ngToolbarWidget\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/toolbar/toolbar-widget.ts\",\n         \"startLine\": 42,\ndiff --git a/adev/src/content/aria/aria-tree.json b/adev/src/content/aria/aria-tree.json\nindex 0809a1c4..da3c7fd7 100755\n--- a/adev/src/content/aria/aria-tree.json\n+++ b/adev/src/content/aria/aria-tree.json\n@@ -382,6 +382,9 @@\n       \"exportAs\": [\n         \"ngTreeItem\"\n       ],\n+      \"aliases\": [\n+        \"ngTreeItem\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/aria/tree/tree-item.ts\",\n         \"startLine\": 45,\ndiff --git a/adev/src/content/cdk/_build-info.json b/adev/src/content/cdk/_build-info.json\nindex 5ef951d5..50993cb2 100644\n--- a/adev/src/content/cdk/_build-info.json\n+++ b/adev/src/content/cdk/_build-info.json\n@@ -1,4 +1,4 @@\n {\n   \"branchName\": \"refs/heads/main\",\n-  \"sha\": \"0b2cabc2994899bae15e40a1575abf85d3540abc\"\n+  \"sha\": \"fc8b94d631a5d105a87abc2a008a6e8f76d7f3f5\"\n }\n\\ No newline at end of file\ndiff --git a/adev/src/content/cdk/cdk_drag_drop.json b/adev/src/content/cdk/cdk_drag_drop.json\nindex 5da91e47..46049465 100755\n--- a/adev/src/content/cdk/cdk_drag_drop.json\n+++ b/adev/src/content/cdk/cdk_drag_drop.json\n@@ -697,6 +697,9 @@\n       \"isStandalone\": true,\n       \"selector\": \"ng-template[cdkDragPlaceholder]\",\n       \"exportAs\": [],\n+      \"aliases\": [\n+        \"cdkDragPlaceholder\"\n+      ],\n       \"source\": {\n         \"filePath\": \"/src/cdk/drag-drop/directives/drag-placeholder.ts\",\n         \"startLine\": 23,","expectedMessage":"docs: update cross-repo adev docs","repository":"angular","commitHash":"951671ab09160d582ca4cbb81f82fd02fc719092","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-e8f8ac20","diff":" package.json   |  1 -\n pnpm-lock.yaml | 14 --------------\n 2 files changed, 15 deletions(-)\n\ndiff --git a/package.json b/package.json\nindex 394bba95..cea79494 100644\n--- a/package.json\n+++ b/package.json\n@@ -162,7 +162,6 @@\n   \"devDependencies\": {\n     \"@actions/core\": \"^2.0.0\",\n     \"@actions/github\": \"^7.0.0\",\n-    \"@angular-devkit/architect-cli\": \"0.2101.0-rc.0\",\n     \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#486b075a283ef0c169475b981de1bd229114a000\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\n     \"@babel/plugin-transform-async-generator-functions\": \"^7.27.1\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex a4c5a79e..e774da61 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -338,9 +338,6 @@ importers:\n       \u0027@actions/github\u0027:\n         specifier: ^7.0.0\n         version: 7.0.0\n-      \u0027@angular-devkit/architect-cli\u0027:\n-        specifier: 0.2101.0-rc.0\n-        version: 0.2101.0-rc.0(chokidar@5.0.0)\n       \u0027@angular/ng-dev\u0027:\n         specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#486b075a283ef0c169475b981de1bd229114a000\n         version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/486b075a283ef0c169475b981de1bd229114a000(@modelcontextprotocol/sdk@1.25.2)\n@@ -1533,11 +1530,6 @@ packages:\n     resolution: {integrity: sha512-30iZtAPgz+LTIYoeivqYo853f02jBYSd5uGnGpkFV0M3xOt9aN73erkgYAmZU43x4VfqcnLxW9Kpg3R5LC4YYw\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d6.0.0\u0027}\n \n-  \u0027@angular-devkit/architect-cli@0.2101.0-rc.0\u0027:\n-    resolution: {integrity: sha512-hNCHyH1FjrTtZFHAmTH5tLPNo26+3xWwv64H0fQiiLsmdnKkONqJDJMw9YqjxOpjxzLnhyIuaAg4RJnYMLvRSA\u003d\u003d}\n-    engines: {node: ^20.19.0 || ^22.12.0 || \u003e\u003d24.0.0, npm: ^6.11.0 || ^7.5.6 || \u003e\u003d8.0.0, yarn: \u0027\u003e\u003d 1.13.0\u0027}\n-    hasBin: true\n-\n   \u0027@angular-devkit/architect@0.2101.0-rc.0\u0027:\n     resolution: {integrity: sha512-QohNOLzTorQejqb4Kr5GFB9gCiaTuarmTza53g8oYjSMzB/zLDDN6O5e7SW6lp+wdfIla2mnUWyVBJSTNOa+Hg\u003d\u003d}\n     engines: {node: ^20.19.0 || ^22.12.0 || \u003e\u003d24.0.0, npm: ^6.11.0 || ^7.5.6 || \u003e\u003d8.0.0, yarn: \u0027\u003e\u003d 1.13.0\u0027}\n@@ -13540,12 +13532,6 @@ snapshots:\n       \u0027@jridgewell/gen-mapping\u0027: 0.3.13\n       \u0027@jridgewell/trace-mapping\u0027: 0.3.31\n \n-  \u0027@angular-devkit/architect-cli@0.2101.0-rc.0(chokidar@5.0.0)\u0027:\n-    dependencies:\n-      \u0027@angular-devkit/architect\u0027: 0.2101.0-rc.0(chokidar@5.0.0)\n-    transitivePeerDependencies:\n-      - chokidar\n-\n   \u0027@angular-devkit/architect@0.2101.0-rc.0(chokidar@5.0.0)\u0027:\n     dependencies:\n       \u0027@angular-devkit/core\u0027: 21.1.0-rc.0(chokidar@5.0.0)","expectedMessage":"build: remove `@angular-devkit/architect-cli` from dev dependencies","repository":"angular","commitHash":"e8f8ac20d6934f48619d0f4ede8cd131dd3b3aa5","metadata":{"author":"Alan Agius \u003c17563226+alan-agius4@users.noreply.github.com\u003e"}}
{"id":"angular-72534e2a","diff":" .../content/guide/templates/expression-syntax.md   |  2 +-\n .../src/ngtsc/translator/src/api/ast_factory.ts    |  5 +++--\n .../src/ngtsc/translator/src/translator.ts         |  1 +\n .../ngtsc/translator/src/typescript_ast_factory.ts |  3 ++-\n .../src/ngtsc/typecheck/src/expression.ts          |  3 ++-\n .../ngtsc/typecheck/test/type_check_block_spec.ts  |  9 ++++++++\n .../test_cases/r3_view_compiler/GOLDEN_PARTIAL.js  | 10 +++++++++\n .../test_cases/r3_view_compiler/operators.ts       |  7 +++++-\n .../r3_view_compiler/operators_template.js         | 10 ++++-----\n .../test/ngtsc/template_typecheck_spec.ts          | 20 +++++++++++++++++\n packages/compiler/src/expression_parser/ast.ts     |  1 +\n packages/compiler/src/expression_parser/lexer.ts   |  5 +++++\n packages/compiler/src/expression_parser/parser.ts  |  9 ++++++--\n packages/compiler/src/output/abstract_emitter.ts   |  1 +\n packages/compiler/src/output/output_ast.ts         |  1 +\n .../src/template/pipeline/src/conversion.ts        |  1 +\n .../compiler/test/expression_parser/lexer_spec.ts  |  6 +++++\n .../compiler/test/expression_parser/parser_spec.ts | 21 +++++++++++------\n .../test/expression_parser/serializer_spec.ts      |  4 ++++\n .../core/test/acceptance/control_flow_if_spec.ts   | 26 ++++++++++++++++++++++\n packages/core/test/acceptance/integration_spec.ts  | 24 ++++++++++++++++++--\n 21 files changed, 147 insertions(+), 22 deletions(-)\n\ndiff --git a/adev/src/content/guide/templates/expression-syntax.md b/adev/src/content/guide/templates/expression-syntax.md\nindex b0d32c28..298f5e40 100644\n--- a/adev/src/content/guide/templates/expression-syntax.md\n+++ b/adev/src/content/guide/templates/expression-syntax.md\n@@ -68,6 +68,7 @@ Angular supports the following operators from standard JavaScript.\n | typeof                        | `typeof 42`                                    |\n | void                          | `void 1`                                       |\n | in                            | `\u0027model\u0027 in car`                               |\n+| instanceof                    | `car instanceof Automobile`                    |\n | Assignment                    | `a \u003d b`                                        |\n | Addition Assignment           | `a +\u003d b`                                       |\n | Subtraction Assignment        | `a -\u003d b`                                       |\n@@ -100,7 +101,6 @@ NOTE: Optional chaining behaves differently from the standard JavaScript version\n | Object destructuring  | `const { name } \u003d person`         |\n | Array destructuring   | `const [firstItem] \u003d items`       |\n | Comma operator        | `x \u003d (x++, x)`                    |\n-| instanceof            | `car instanceof Automobile`       |\n | new                   | `new Car()`                       |\n \n ## Lexical context for expressions\ndiff --git a/packages/compiler-cli/src/ngtsc/translator/src/api/ast_factory.ts b/packages/compiler-cli/src/ngtsc/translator/src/api/ast_factory.ts\nindex 5461ddf9..cb9dc984 100644\n--- a/packages/compiler-cli/src/ngtsc/translator/src/api/ast_factory.ts\n+++ b/packages/compiler-cli/src/ngtsc/translator/src/api/ast_factory.ts\n@@ -333,7 +333,6 @@ export type BinaryOperator \u003d\n   | \u0027||\u0027\n   | \u0027+\u0027\n   | \u0027??\u0027\n-  | \u0027in\u0027\n   | \u0027\u003d\u0027\n   | \u0027+\u003d\u0027\n   | \u0027-\u003d\u0027\n@@ -343,7 +342,9 @@ export type BinaryOperator \u003d\n   | \u0027**\u003d\u0027\n   | \u0027\u0026\u0026\u003d\u0027\n   | \u0027||\u003d\u0027\n-  | \u0027??\u003d\u0027;\n+  | \u0027??\u003d\u0027\n+  | \u0027in\u0027\n+  | \u0027instanceof\u0027;\n \n /**\n  * The original location of the start or end of a node created by the `AstFactory`.\ndiff --git a/packages/compiler-cli/src/ngtsc/translator/src/translator.ts b/packages/compiler-cli/src/ngtsc/translator/src/translator.ts\nindex d4bb430c..517fd267 100644\n--- a/packages/compiler-cli/src/ngtsc/translator/src/translator.ts\n+++ b/packages/compiler-cli/src/ngtsc/translator/src/translator.ts\n@@ -47,6 +47,7 @@ const BINARY_OPERATORS \u003d /* @__PURE__ */ new Map\u003co.BinaryOperator, BinaryOperato\n   [o.BinaryOperator.NullishCoalesce, \u0027??\u0027],\n   [o.BinaryOperator.Exponentiation, \u0027**\u0027],\n   [o.BinaryOperator.In, \u0027in\u0027],\n+  [o.BinaryOperator.InstanceOf, \u0027instanceof\u0027],\n   [o.BinaryOperator.Assign, \u0027\u003d\u0027],\n   [o.BinaryOperator.AdditionAssignment, \u0027+\u003d\u0027],\n   [o.BinaryOperator.SubtractionAssignment, \u0027-\u003d\u0027],\ndiff --git a/packages/compiler-cli/src/ngtsc/translator/src/typescript_ast_factory.ts b/packages/compiler-cli/src/ngtsc/translator/src/typescript_ast_factory.ts\nindex ce4e8014..50b69c0c 100644\n--- a/packages/compiler-cli/src/ngtsc/translator/src/typescript_ast_factory.ts\n+++ b/packages/compiler-cli/src/ngtsc/translator/src/typescript_ast_factory.ts\n@@ -68,7 +68,6 @@ export class TypeScriptAstFactory implements AstFactory\u003cts.Statement, ts.Express\n       \u0027||\u0027: ts.SyntaxKind.BarBarToken,\n       \u0027+\u0027: ts.SyntaxKind.PlusToken,\n       \u0027??\u0027: ts.SyntaxKind.QuestionQuestionToken,\n-      \u0027in\u0027: ts.SyntaxKind.InKeyword,\n       \u0027\u003d\u0027: ts.SyntaxKind.EqualsToken,\n       \u0027+\u003d\u0027: ts.SyntaxKind.PlusEqualsToken,\n       \u0027-\u003d\u0027: ts.SyntaxKind.MinusEqualsToken,\n@@ -79,6 +78,8 @@ export class TypeScriptAstFactory implements AstFactory\u003cts.Statement, ts.Express\n       \u0027\u0026\u0026\u003d\u0027: ts.SyntaxKind.AmpersandAmpersandEqualsToken,\n       \u0027||\u003d\u0027: ts.SyntaxKind.BarBarEqualsToken,\n       \u0027??\u003d\u0027: ts.SyntaxKind.QuestionQuestionEqualsToken,\n+      \u0027in\u0027: ts.SyntaxKind.InKeyword,\n+      \u0027instanceof\u0027: ts.SyntaxKind.InstanceOfKeyword,\n     }))();\n \n   private readonly VAR_TYPES: Record\u003cVariableDeclarationType, ts.NodeFlags\u003e \u003d\ndiff --git a/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts b/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\nindex 96158374..e360bfce 100644\n--- a/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\n+++ b/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\n@@ -106,7 +106,6 @@ class AstTranslator implements AstVisitor {\n     [\u0027\u0026\u0027, ts.SyntaxKind.AmpersandToken],\n     [\u0027|\u0027, ts.SyntaxKind.BarToken],\n     [\u0027??\u0027, ts.SyntaxKind.QuestionQuestionToken],\n-    [\u0027in\u0027, ts.SyntaxKind.InKeyword],\n     [\u0027\u003d\u0027, ts.SyntaxKind.EqualsToken],\n     [\u0027+\u003d\u0027, ts.SyntaxKind.PlusEqualsToken],\n     [\u0027-\u003d\u0027, ts.SyntaxKind.MinusEqualsToken],\n@@ -117,6 +116,8 @@ class AstTranslator implements AstVisitor {\n     [\u0027\u0026\u0026\u003d\u0027, ts.SyntaxKind.AmpersandAmpersandEqualsToken],\n     [\u0027||\u003d\u0027, ts.SyntaxKind.BarBarEqualsToken],\n     [\u0027??\u003d\u0027, ts.SyntaxKind.QuestionQuestionEqualsToken],\n+    [\u0027in\u0027, ts.SyntaxKind.InKeyword],\n+    [\u0027instanceof\u0027, ts.SyntaxKind.InstanceOfKeyword],\n   ]);\n \n   constructor(\ndiff --git a/packages/compiler-cli/src/ngtsc/typecheck/test/type_check_block_spec.ts b/packages/compiler-cli/src/ngtsc/typecheck/test/type_check_block_spec.ts\nindex 41043cbc..9a65f05c 100644\n--- a/packages/compiler-cli/src/ngtsc/typecheck/test/type_check_block_spec.ts\n+++ b/packages/compiler-cli/src/ngtsc/typecheck/test/type_check_block_spec.ts\n@@ -114,6 +114,15 @@ describe(\u0027type check blocks\u0027, () \u003d\u003e {\n     expect(tcb(`{{!(\u0027bar\u0027 in {bar: \u0027bar\u0027}) }}`)).toContain(`!(((\"bar\") in ({ \"bar\": \"bar\" })))`);\n   });\n \n+  it(\u0027should handle \"instanceof\" expressions\u0027, () \u003d\u003e {\n+    expect(tcb(`{{obj instanceof MyClass}}`)).toContain(\n+      `((((this).obj)) instanceof (((this).MyClass)))`,\n+    );\n+    expect(tcb(`{{!(obj instanceof MyClass)}}`)).toContain(\n+      `!(((((this).obj)) instanceof (((this).MyClass)))))`,\n+    );\n+  });\n+\n   it(\u0027should handle attribute values for directive inputs\u0027, () \u003d\u003e {\n     const TEMPLATE \u003d `\u003cdiv dir inputA\u003d\"value\"\u003e\u003c/div\u003e`;\n     const DIRECTIVES: TestDeclaration[] \u003d [\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/GOLDEN_PARTIAL.js b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/GOLDEN_PARTIAL.js\nindex 70c0ecda..f40ecd9b 100644\n--- a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/GOLDEN_PARTIAL.js\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/GOLDEN_PARTIAL.js\n@@ -80,9 +80,13 @@ i0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDE\n             type: Pipe,\n             args: [{ name: \u0027identity\u0027 }]\n         }] });\n+export class Bar {\n+}\n export class MyApp {\n     foo \u003d { bar: \u0027baz\u0027 };\n     number \u003d 1;\n+    bar \u003d new Bar();\n+    Bar \u003d Bar;\n     static ɵfac \u003d i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDER\", ngImport: i0, type: MyApp, deps: [], target: i0.ɵɵFactoryTarget.Component });\n     static ɵcmp \u003d i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"0.0.0-PLACEHOLDER\", type: MyApp, isStandalone: true, selector: \"ng-component\", ngImport: i0, template: `\n     {{ 1 + 2 }}\n@@ -95,6 +99,7 @@ export class MyApp {\n     {{ void \u0027test\u0027 }}\n     {{ (-1) ** 3 }}\n     {{ \u0027bar\u0027 in foo }}\n+    {{ bar instanceof Bar }}\n     \u003cbutton (click)\u003d\"number +\u003d 1\"\u003e\u003c/button\u003e\n     \u003cbutton (click)\u003d\"number -\u003d 1\"\u003e\u003c/button\u003e\n     \u003cbutton (click)\u003d\"number *\u003d 1\"\u003e\u003c/button\u003e\n@@ -120,6 +125,7 @@ i0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDE\n     {{ void \u0027test\u0027 }}\n     {{ (-1) ** 3 }}\n     {{ \u0027bar\u0027 in foo }}\n+    {{ bar instanceof Bar }}\n     \u003cbutton (click)\u003d\"number +\u003d 1\"\u003e\u003c/button\u003e\n     \u003cbutton (click)\u003d\"number -\u003d 1\"\u003e\u003c/button\u003e\n     \u003cbutton (click)\u003d\"number *\u003d 1\"\u003e\u003c/button\u003e\n@@ -143,11 +149,15 @@ export declare class IdentityPipe {\n     static ɵfac: i0.ɵɵFactoryDeclaration\u003cIdentityPipe, never\u003e;\n     static ɵpipe: i0.ɵɵPipeDeclaration\u003cIdentityPipe, \"identity\", true\u003e;\n }\n+export declare class Bar {\n+}\n export declare class MyApp {\n     foo: {\n         bar?: string;\n     };\n     number: number;\n+    bar: Bar;\n+    Bar: typeof Bar;\n     static ɵfac: i0.ɵɵFactoryDeclaration\u003cMyApp, never\u003e;\n     static ɵcmp: i0.ɵɵComponentDeclaration\u003cMyApp, \"ng-component\", never, {}, {}, never, never, true, never\u003e;\n }\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/operators.ts b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/operators.ts\nindex 73568857..a4d03d7e 100644\n--- a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/operators.ts\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/operators.ts\n@@ -1,4 +1,4 @@\n-import {Component, Pipe} from \u0027@angular/core\u0027;\n+import { Component, Pipe } from \u0027@angular/core\u0027;\n \n @Pipe({name: \u0027identity\u0027})\n export class IdentityPipe {\n@@ -7,6 +7,8 @@ export class IdentityPipe {\n   }\n }\n \n+export class Bar {}\n+\n @Component({\n   template: `\n     {{ 1 + 2 }}\n@@ -19,6 +21,7 @@ export class IdentityPipe {\n     {{ void \u0027test\u0027 }}\n     {{ (-1) ** 3 }}\n     {{ \u0027bar\u0027 in foo }}\n+    {{ bar instanceof Bar }}\n     \u003cbutton (click)\u003d\"number +\u003d 1\"\u003e\u003c/button\u003e\n     \u003cbutton (click)\u003d\"number -\u003d 1\"\u003e\u003c/button\u003e\n     \u003cbutton (click)\u003d\"number *\u003d 1\"\u003e\u003c/button\u003e\n@@ -34,4 +37,6 @@ export class IdentityPipe {\n export class MyApp {\n   foo: {bar?: string} \u003d {bar: \u0027baz\u0027};\n   number \u003d 1;\n+  bar \u003d new Bar();\n+  Bar \u003d Bar;\n }\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/operators_template.js b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/operators_template.js\nindex d2e83ba7..c272e02e 100644\n--- a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/operators_template.js\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler/operators_template.js\n@@ -25,14 +25,14 @@ template: function MyApp_Template(rf, $ctx$) {\n \t\t1 + 2, \" \", \n \t\t1 % 2 + 3 / 4 * 5 ** 6, \" \", \n \t\t+1, \" \", \n-\t\ttypeof $r3$.ɵɵpureFunction0(12, _c0) \u003d\u003d\u003d \"object\", \" \", \n-\t\t!(typeof $r3$.ɵɵpureFunction0(13, _c0) \u003d\u003d\u003d \"object\"), \" \", \n+\t\ttypeof $r3$.ɵɵpureFunction0(13, _c0) \u003d\u003d\u003d \"object\", \" \", \n+\t\t!(typeof $r3$.ɵɵpureFunction0(14, _c0) \u003d\u003d\u003d \"object\"), \" \", \n \t\ttypeof ($ctx$.foo \u003d\u003d null ? null : $ctx$.foo.bar) \u003d\u003d\u003d \"string\", \" \", \n-\t\t$r3$.ɵɵpipeBind1(1, 10, typeof ($ctx$.foo \u003d\u003d null ? null : $ctx$.foo.bar)), \" \",\n+\t\t$r3$.ɵɵpipeBind1(1, 11, typeof ($ctx$.foo \u003d\u003d null ? null : $ctx$.foo.bar)), \" \",\n \t\tvoid \"test\", \" \",\n \t\t(-1) ** 3, \" \",\n-\t\t\"bar\" in $ctx$.foo, \" \"\n+\t\t\"bar\" in $ctx$.foo, \" \",\n+\t\t$ctx$.bar instanceof $ctx$.Bar, \" \"\n \t  ]);\t\n \t}\n }\n-  \n\\ No newline at end of file\ndiff --git a/packages/compiler-cli/test/ngtsc/template_typecheck_spec.ts b/packages/compiler-cli/test/ngtsc/template_typecheck_spec.ts\nindex 8d2e0641..c73ea218 100644\n--- a/packages/compiler-cli/test/ngtsc/template_typecheck_spec.ts\n+++ b/packages/compiler-cli/test/ngtsc/template_typecheck_spec.ts\n@@ -816,6 +816,26 @@ runInEachFileSystem(() \u003d\u003e {\n       expect(diags[0].messageText).toContain(`Type \u0027string\u0027 is not assignable to type \u0027object\u0027`);\n     });\n \n+    it(\u0027should error on invalid instanceof binary expressions\u0027, () \u003d\u003e {\n+      env.write(\n+        \u0027test.ts\u0027,\n+        `\n+        import {Component} from \u0027@angular/core\u0027;\n+        @Component({\n+          template: \\` {{\u0027foo\u0027 instanceof String}} \\`,\n+        })\n+        class TestCmp {\n+        }\n+        `,\n+      );\n+\n+      const diags \u003d env.driveDiagnostics();\n+      expect(diags.length).toBe(2);\n+      expect(diags[0].messageText).toContain(\n+        `The left-hand side of an \u0027instanceof\u0027 expression must be of type \u0027any\u0027, an object type or a type parameter.`,\n+      );\n+    });\n+\n     describe(\u0027strictInputTypes\u0027, () \u003d\u003e {\n       beforeEach(() \u003d\u003e {\n         env.write(\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex abefe44e..3ab242cf 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -296,6 +296,7 @@ type BinaryOperation \u003d\n   | \u0027\u003c\u003d\u0027\n   | \u0027\u003e\u003d\u0027\n   | \u0027in\u0027\n+  | \u0027instanceof\u0027\n   // Additive\n   | \u0027+\u0027\n   | \u0027-\u0027\ndiff --git a/packages/compiler/src/expression_parser/lexer.ts b/packages/compiler/src/expression_parser/lexer.ts\nindex c91bf800..4d0568c5 100644\n--- a/packages/compiler/src/expression_parser/lexer.ts\n+++ b/packages/compiler/src/expression_parser/lexer.ts\n@@ -41,6 +41,7 @@ const KEYWORDS \u003d [\n   \u0027typeof\u0027,\n   \u0027void\u0027,\n   \u0027in\u0027,\n+  \u0027instanceof\u0027,\n ];\n \n export class Lexer {\n@@ -126,6 +127,10 @@ export class Token {\n     return this.type \u003d\u003d\u003d TokenType.Keyword \u0026\u0026 this.strValue \u003d\u003d\u003d \u0027in\u0027;\n   }\n \n+  isKeywordInstanceOf(): boolean {\n+    return this.type \u003d\u003d\u003d TokenType.Keyword \u0026\u0026 this.strValue \u003d\u003d\u003d \u0027instanceof\u0027;\n+  }\n+\n   isError(): boolean {\n     return this.type \u003d\u003d\u003d TokenType.Error;\n   }\ndiff --git a/packages/compiler/src/expression_parser/parser.ts b/packages/compiler/src/expression_parser/parser.ts\nindex 73988ad7..c0de70d4 100644\n--- a/packages/compiler/src/expression_parser/parser.ts\n+++ b/packages/compiler/src/expression_parser/parser.ts\n@@ -964,10 +964,14 @@ class _ParseAST {\n   }\n \n   private parseRelational(): AST {\n-    // \u0027\u003c\u0027, \u0027\u003e\u0027, \u0027\u003c\u003d\u0027, \u0027\u003e\u003d\u0027, \u0027in\u0027\n+    // \u0027\u003c\u0027, \u0027\u003e\u0027, \u0027\u003c\u003d\u0027, \u0027\u003e\u003d\u0027, \u0027in\u0027, \u0027instanceof\u0027\n     const start \u003d this.inputIndex;\n     let result \u003d this.parseAdditive();\n-    while (this.next.type \u003d\u003d TokenType.Operator || this.next.isKeywordIn) {\n+    while (\n+      this.next.type \u003d\u003d TokenType.Operator ||\n+      this.next.isKeywordIn() || // Should be invoked. This is bug here that will be fixed by #65249 when the breaking change window opens.\n+      this.next.isKeywordInstanceOf()\n+    ) {\n       const operator \u003d this.next.strValue;\n       switch (operator) {\n         case \u0027\u003c\u0027:\n@@ -975,6 +979,7 @@ class _ParseAST {\n         case \u0027\u003c\u003d\u0027:\n         case \u0027\u003e\u003d\u0027:\n         case \u0027in\u0027:\n+        case \u0027instanceof\u0027:\n           this.advance();\n           const right \u003d this.parseAdditive();\n           result \u003d new Binary(this.span(start), this.sourceSpan(start), operator, result, right);\ndiff --git a/packages/compiler/src/output/abstract_emitter.ts b/packages/compiler/src/output/abstract_emitter.ts\nindex 2ec7b776..adcff820 100644\n--- a/packages/compiler/src/output/abstract_emitter.ts\n+++ b/packages/compiler/src/output/abstract_emitter.ts\n@@ -44,6 +44,7 @@ const BINARY_OPERATORS \u003d new Map([\n   [o.BinaryOperator.Or, \u0027||\u0027],\n   [o.BinaryOperator.Plus, \u0027+\u0027],\n   [o.BinaryOperator.In, \u0027in\u0027],\n+  [o.BinaryOperator.InstanceOf, \u0027instanceof\u0027],\n   [o.BinaryOperator.AdditionAssignment, \u0027+\u003d\u0027],\n   [o.BinaryOperator.SubtractionAssignment, \u0027-\u003d\u0027],\n   [o.BinaryOperator.MultiplicationAssignment, \u0027*\u003d\u0027],\ndiff --git a/packages/compiler/src/output/output_ast.ts b/packages/compiler/src/output/output_ast.ts\nindex 2680e8fb..cf12cc81 100644\n--- a/packages/compiler/src/output/output_ast.ts\n+++ b/packages/compiler/src/output/output_ast.ts\n@@ -143,6 +143,7 @@ export enum BinaryOperator {\n   NullishCoalesce,\n   Exponentiation,\n   In,\n+  InstanceOf,\n   AdditionAssignment,\n   SubtractionAssignment,\n   MultiplicationAssignment,\ndiff --git a/packages/compiler/src/template/pipeline/src/conversion.ts b/packages/compiler/src/template/pipeline/src/conversion.ts\nindex e29a2e1b..de4657af 100644\n--- a/packages/compiler/src/template/pipeline/src/conversion.ts\n+++ b/packages/compiler/src/template/pipeline/src/conversion.ts\n@@ -31,6 +31,7 @@ export const BINARY_OPERATORS \u003d new Map([\n   [\u0027||\u0027, o.BinaryOperator.Or],\n   [\u0027+\u0027, o.BinaryOperator.Plus],\n   [\u0027in\u0027, o.BinaryOperator.In],\n+  [\u0027instanceof\u0027, o.BinaryOperator.InstanceOf],\n   [\u0027+\u003d\u0027, o.BinaryOperator.AdditionAssignment],\n   [\u0027-\u003d\u0027, o.BinaryOperator.SubtractionAssignment],\n   [\u0027*\u003d\u0027, o.BinaryOperator.MultiplicationAssignment],\ndiff --git a/packages/compiler/test/expression_parser/lexer_spec.ts b/packages/compiler/test/expression_parser/lexer_spec.ts\nindex 00ebb071..62e3f6be 100644\n--- a/packages/compiler/test/expression_parser/lexer_spec.ts\n+++ b/packages/compiler/test/expression_parser/lexer_spec.ts\n@@ -222,6 +222,12 @@ describe(\u0027lexer\u0027, () \u003d\u003e {\n       expect(tokens[0].isKeywordIn()).toBe(true);\n     });\n \n+    it(\u0027should tokenize instanceof keyword\u0027, () \u003d\u003e {\n+      const tokens: Token[] \u003d lex(\u0027instanceof\u0027);\n+      expectKeywordToken(tokens[0], 0, 10, \u0027instanceof\u0027);\n+      expect(tokens[0].isKeywordInstanceOf()).toBe(true);\n+    });\n+\n     it(\u0027should ignore whitespace\u0027, () \u003d\u003e {\n       const tokens: Token[] \u003d lex(\u0027a \\t \\n \\r b\u0027);\n       expectIdentifierToken(tokens[0], 0, 1, \u0027a\u0027);\ndiff --git a/packages/compiler/test/expression_parser/parser_spec.ts b/packages/compiler/test/expression_parser/parser_spec.ts\nindex c62c630a..86ac58fd 100644\n--- a/packages/compiler/test/expression_parser/parser_spec.ts\n+++ b/packages/compiler/test/expression_parser/parser_spec.ts\n@@ -6,30 +6,30 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n+import {expect} from \u0027@angular/private/testing/matchers\u0027;\n import {\n   AbsoluteSourceSpan,\n+  ArrowFunction,\n   ASTWithSource,\n   BindingPipe,\n+  BindingPipeType,\n   Call,\n   EmptyExpr,\n   Interpolation,\n   LiteralMap,\n+  LiteralMapPropertyKey,\n+  ParseSpan,\n   PropertyRead,\n   TemplateBinding,\n   VariableBinding,\n-  BindingPipeType,\n-  ParseSpan,\n-  LiteralMapPropertyKey,\n-  ArrowFunction,\n } from \u0027../../src/expression_parser/ast\u0027;\n-import {ParseError} from \u0027../../src/parse_util\u0027;\n import {Lexer} from \u0027../../src/expression_parser/lexer\u0027;\n import {Parser, SplitInterpolation} from \u0027../../src/expression_parser/parser\u0027;\n-import {expect} from \u0027@angular/private/testing/matchers\u0027;\n+import {ParseError} from \u0027../../src/parse_util\u0027;\n \n+import {getFakeSpan} from \u0027./utils/span\u0027;\n import {unparse, unparseWithSpan} from \u0027./utils/unparser\u0027;\n import {validate} from \u0027./utils/validator\u0027;\n-import {getFakeSpan} from \u0027./utils/span\u0027;\n \n describe(\u0027parser\u0027, () \u003d\u003e {\n   describe(\u0027parseAction\u0027, () \u003d\u003e {\n@@ -88,6 +88,8 @@ describe(\u0027parser\u0027, () \u003d\u003e {\n       checkAction(\u00272 \u003e 3\u0027);\n       checkAction(\u00272 \u003c\u003d 2\u0027);\n       checkAction(\u00272 \u003e\u003d 2\u0027);\n+      checkAction(`\"key\" in obj`);\n+      checkAction(`foo instanceof Foo`);\n     });\n \n     it(\u0027should parse equality expressions\u0027, () \u003d\u003e {\n@@ -130,6 +132,11 @@ describe(\u0027parser\u0027, () \u003d\u003e {\n       checkAction(\u0027a //comment\u0027, \u0027a\u0027);\n     });\n \n+    it(\u0027should parse instanceof expressions\u0027, () \u003d\u003e {\n+      checkAction(`obj instanceof MyClass`, `obj instanceof MyClass`);\n+      checkAction(`(obj instanceof MyClass) || false`, `(obj instanceof MyClass) || false`);\n+    });\n+\n     it(\u0027should retain // in string literals\u0027, () \u003d\u003e {\n       checkAction(`\"http://www.google.com\"`, `\"http://www.google.com\"`);\n     });\ndiff --git a/packages/compiler/test/expression_parser/serializer_spec.ts b/packages/compiler/test/expression_parser/serializer_spec.ts\nindex 75a22317..a4d58636 100644\n--- a/packages/compiler/test/expression_parser/serializer_spec.ts\n+++ b/packages/compiler/test/expression_parser/serializer_spec.ts\n@@ -132,5 +132,9 @@ describe(\u0027serializer\u0027, () \u003d\u003e {\n     it(\u0027serializes in expressions\u0027, () \u003d\u003e {\n       expect(serialize(parse(\u0027 foo   in   bar \u0027))).toBe(\u0027foo in bar\u0027);\n     });\n+\n+    it(\u0027serializes instanceof expressions\u0027, () \u003d\u003e {\n+      expect(serialize(parse(\u0027 foo   instanceof   Bar \u0027))).toBe(\u0027foo instanceof Bar\u0027);\n+    });\n   });\n });\ndiff --git a/packages/core/test/acceptance/control_flow_if_spec.ts b/packages/core/test/acceptance/control_flow_if_spec.ts\nindex 01082650..56898277 100644\n--- a/packages/core/test/acceptance/control_flow_if_spec.ts\n+++ b/packages/core/test/acceptance/control_flow_if_spec.ts\n@@ -321,6 +321,32 @@ describe(\u0027control flow - if\u0027, () \u003d\u003e {\n     expect(fixture.nativeElement.textContent.trim()).toBe(\u0027no 42\u0027);\n   });\n \n+  it(\u0027should support a condition with the instanceof keyword\u0027, () \u003d\u003e {\n+    class Foo {}\n+\n+    // prettier-ignore\n+    @Component({\n+      template: `\n+        @if (value instanceof Foo) {\n+          is Foo\n+        } @else {\n+          is not Foo\n+        }\n+      `,\n+    })\n+    class TestComponent {\n+      Foo \u003d Foo;\n+      value: string | Foo \u003d new Foo();\n+    }\n+\n+    const fixture \u003d TestBed.createComponent(TestComponent);\n+    fixture.detectChanges();\n+    expect(fixture.nativeElement.textContent.trim()).toBe(\u0027is Foo\u0027);\n+    fixture.componentInstance.value \u003d \u0027not a Foo\u0027;\n+    fixture.detectChanges();\n+    expect(fixture.nativeElement.textContent.trim()).toBe(\u0027is not Foo\u0027);\n+  });\n+\n   it(\u0027should expose expression value through alias on @else if\u0027, () \u003d\u003e {\n     @Component({\n       template: `\ndiff --git a/packages/core/test/acceptance/integration_spec.ts b/packages/core/test/acceptance/integration_spec.ts\nindex 00bda0ee..80c34326 100644\n--- a/packages/core/test/acceptance/integration_spec.ts\n+++ b/packages/core/test/acceptance/integration_spec.ts\n@@ -9,6 +9,8 @@ import {animate, AnimationEvent, state, style, transition, trigger} from \u0027@angul\n import {AnimationDriver} from \u0027@angular/animations/browser\u0027;\n import {MockAnimationDriver, MockAnimationPlayer} from \u0027@angular/animations/browser/testing\u0027;\n import {CommonModule} from \u0027@angular/common\u0027;\n+import {By} from \u0027@angular/platform-browser\u0027;\n+import {NoopAnimationsModule} from \u0027@angular/platform-browser/animations\u0027;\n import {\n   Component,\n   ContentChild,\n@@ -38,8 +40,6 @@ import {isLView} from \u0027../../src/render3/interfaces/type_checks\u0027;\n import {ID, LView, PARENT, TVIEW} from \u0027../../src/render3/interfaces/view\u0027;\n import {getLView} from \u0027../../src/render3/state\u0027;\n import {fakeAsync, flushMicrotasks, TestBed} from \u0027../../testing\u0027;\n-import {By} from \u0027@angular/platform-browser\u0027;\n-import {NoopAnimationsModule} from \u0027@angular/platform-browser/animations\u0027;\n \n describe(\u0027acceptance integration tests\u0027, () \u003d\u003e {\n   beforeEach(() \u003d\u003e {\n@@ -3098,6 +3098,26 @@ describe(\u0027acceptance integration tests\u0027, () \u003d\u003e {\n     expect(fixture.nativeElement.textContent).toContain(\u0027KO\u0027);\n   });\n \n+  it(\u0027should support \"instanceof\" expressions\u0027, () \u003d\u003e {\n+    class MyClass {}\n+\n+    @Component({\n+      template: `{{ obj instanceof MyClass ? \u0027OK\u0027 : \u0027KO\u0027 }}`,\n+    })\n+    class TestComponent {\n+      MyClass \u003d MyClass;\n+      obj: any \u003d new MyClass();\n+    }\n+\n+    const fixture \u003d TestBed.createComponent(TestComponent);\n+    fixture.detectChanges();\n+    expect(fixture.nativeElement.textContent).toContain(\u0027OK\u0027);\n+\n+    fixture.componentInstance.obj \u003d {};\n+    fixture.detectChanges();\n+    expect(fixture.nativeElement.textContent).toContain(\u0027KO\u0027);\n+  });\n+\n   describe(\u0027tView.firstUpdatePass\u0027, () \u003d\u003e {\n     function isFirstUpdatePass() {\n       const lView \u003d getLView();","expectedMessage":"feat(compiler): Add support for the `instanceof` binary operator","repository":"angular","commitHash":"72534e2a3458df4e1bb097973872f00bbb92be42","metadata":{"author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e"}}
{"id":"angular-910768f5","diff":" adev/src/content/guide/di/hierarchical-dependency-injection.md | 4 ++--\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/adev/src/content/guide/di/hierarchical-dependency-injection.md b/adev/src/content/guide/di/hierarchical-dependency-injection.md\nindex 13a09681..72df6158 100644\n--- a/adev/src/content/guide/di/hierarchical-dependency-injection.md\n+++ b/adev/src/content/guide/di/hierarchical-dependency-injection.md\n@@ -959,8 +959,8 @@ export class VillainsList {}\n \n By providing `VillainsService` in the `VillainsList` metadata and nowhere else, the service becomes available only in the `VillainsList` and its subcomponent tree.\n \n-`VillainService` is a singleton with respect to `VillainsList` because that is where it is declared.\n-As long as `VillainsList` does not get destroyed it will be the same instance of `VillainService` but if there are multiple instances of `VillainsList`, then each instance of `VillainsList` will have its own instance of `VillainService`.\n+`VillainsService` is a singleton with respect to `VillainsList` because that is where it is declared.\n+As long as `VillainsList` does not get destroyed it will be the same instance of `VillainsService` but if there are multiple instances of `VillainsList`, then each instance of `VillainsList` will have its own instance of `VillainsService`.\n \n ### Scenario: multiple edit sessions\n ","expectedMessage":"docs: update hierarchical-dependency-injection.md","repository":"angular","commitHash":"910768f5cc20a59e6a0f80a208d6cf67852cbbcb","metadata":{"author":"lyutails \u003c101958335+lyutails@users.noreply.github.com\u003e"}}
{"id":"angular-6e821674","diff":" renovate.json | 3 ++-\n 1 file changed, 2 insertions(+), 1 deletion(-)\n\ndiff --git a/renovate.json b/renovate.json\nindex 6bed7478..3082af81 100644\n--- a/renovate.json\n+++ b/renovate.json\n@@ -27,12 +27,12 @@\n     },\n     {\n       \"matchManagers\": [\"bazel\", \"bazel-module\", \"bazelisk\", \"npm\"],\n-      \"matchDepNames\": [\"!pnpm\", \"!typescript\", \"*\"],\n       \"postUpgradeTasks\": {\n         \"commands\": [\n           \"git restore .npmrc\",\n           \"pnpm install --frozen-lockfile\",\n           \"pnpm bazel mod deps --lockfile_mode\u003dupdate\",\n+          \"pnpm ng-dev misc sync-module-bazel\",\n           \"pnpm bazel run //.github/actions/deploy-docs-site:main\",\n           \"pnpm bazel run //packages/common:base_currencies_file\",\n           \"pnpm bazel run //packages/common/locales:closure_locale_file\",\n@@ -41,6 +41,7 @@\n         \"fileFilters\": [\n           \".github/actions/deploy-docs-site/**/*\",\n           \"packages/**/*\",\n+          \"MODULE.bazel\",\n           \"MODULE.bazel.lock\"\n         ],\n         \"executionMode\": \"branch\"","expectedMessage":"ci: update Renovate configuration to replace Bazel module dependency command","repository":"angular","commitHash":"6e821674814a6f9fc8b3004abab5d7c5101801a4","metadata":{"author":"Alan Agius \u003c17563226+alan-agius4@users.noreply.github.com\u003e"}}
{"id":"angular-69da6390","diff":" vscode-ng-language-service/tools/release.mts | 32 +++++++++++++++++++++++++---\n 1 file changed, 29 insertions(+), 3 deletions(-)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex 63541d8a..d01e5482 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -241,13 +241,39 @@ async function prepareReleasePullRequest(\n  */\n async function generateChangelog(fromVersion: string, toVersion: string): Promise\u003cstring\u003e {\n   const previousTag \u003d await getPreviousTag(fromVersion);\n-  let {stdout: commits} \u003d await exec(\n+\n+  // Get all subjects from the previous release to filter out duplicates (cherry-picks).\n+  const {stdout: existingSubjectsOutput} \u003d await exec(\n+    `git log ${previousTag} -E ` +\n+      \u0027--grep\u003d\"^(feat|fix|perf)\\\\((vscode-extension|language-server|language-service)\\\\):\" \u0027 +\n+      \u0027--format\u003d\"%s\"\u0027,\n+  );\n+  const existingSubjects \u003d new Set(\n+    existingSubjectsOutput\n+      .trim()\n+      .split(\u0027\\n\u0027)\n+      .map((s) \u003d\u003e s.trim()),\n+  );\n+\n+  const {stdout: newCommitsRaw} \u003d await exec(\n     `git log --left-only FETCH_HEAD...${previousTag} -E ` +\n       \u0027--grep\u003d\"^(feat|fix|perf)\\\\((vscode-extension|language-server|language-service)\\\\):\" \u0027 +\n-      \u0027--format\u003d\"format:- %s ([%h](https://github.com/angular/angular/commit/%H))\"\u0027,\n+      \u0027--format\u003d\"%s|%h|%H\"\u0027,\n   );\n \n-  commits \u003d commits.trim();\n+  const commits \u003d newCommitsRaw\n+    .trim()\n+    .split(\u0027\\n\u0027)\n+    .filter((line) \u003d\u003e {\n+      if (!line) return false;\n+      const [subject, shortHash, hash] \u003d line.split(\u0027|\u0027);\n+      return !existingSubjects.has(subject.trim());\n+    })\n+    .map((line) \u003d\u003e {\n+      const [subject, shortHash, hash] \u003d line.split(\u0027|\u0027);\n+      return `- ${subject} ([${shortHash}](https://github.com/angular/angular/commit/${hash}))`;\n+    })\n+    .join(\u0027\\n\u0027);\n \n   const now \u003d new Date();\n   const date \u003d `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, \u00270\u0027)}-${String(now.getDate()).padStart(2, \u00270\u0027)}`;","expectedMessage":"build: improve changelog generation and tag fetching in release script","repository":"angular","commitHash":"69da6390b1832f67ce0026da140ac7a50b082f5e","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-78755771","diff":" vscode-ng-language-service/tools/release.mts | 39 ++++++++++++++++++++++++++--\n 1 file changed, 37 insertions(+), 2 deletions(-)\n\ndiff --git a/vscode-ng-language-service/tools/release.mts b/vscode-ng-language-service/tools/release.mts\nindex ebc675ce..63541d8a 100644\n--- a/vscode-ng-language-service/tools/release.mts\n+++ b/vscode-ng-language-service/tools/release.mts\n@@ -80,7 +80,7 @@ async function main(): Promise\u003cvoid\u003e {\n   }\n \n   console.log(chalk.blue(`Releasing from ${branchToReleaseFrom}.`));\n-  await exec(`git fetch ${angularRepoRemote} ${branchToReleaseFrom}`);\n+  await exec(`git fetch ${angularRepoRemote} ${branchToReleaseFrom} --tags`);\n \n   const currentVersion \u003d await getCurrentVersion();\n   const newVersion \u003d await getNewVersion(currentVersion);\n@@ -240,8 +240,9 @@ async function prepareReleasePullRequest(\n  * @param toVersion The version to generate the changelog for.\n  */\n async function generateChangelog(fromVersion: string, toVersion: string): Promise\u003cstring\u003e {\n+  const previousTag \u003d await getPreviousTag(fromVersion);\n   let {stdout: commits} \u003d await exec(\n-    `git log --left-only FETCH_HEAD...${getTagName(fromVersion)} -E ` +\n+    `git log --left-only FETCH_HEAD...${previousTag} -E ` +\n       \u0027--grep\u003d\"^(feat|fix|perf)\\\\((vscode-extension|language-server|language-service)\\\\):\" \u0027 +\n       \u0027--format\u003d\"format:- %s ([%h](https://github.com/angular/angular/commit/%H))\"\u0027,\n   );\n@@ -519,6 +520,40 @@ function getRepoDetails(remoteUrl: string): {owner: string; repo: string} {\n   };\n }\n \n+/**\n+ * Gets the previous tag to version from.\n+ *\n+ * It checks if the tag for the `currentVersion` exists. If it does, returning it.\n+ * If not, it finds the latest tag that adheres to the semver versioning of the extension.\n+ */\n+async function getPreviousTag(currentVersion: string): Promise\u003cstring\u003e {\n+  const currentTag \u003d getTagName(currentVersion);\n+  try {\n+    await exec(`git rev-parse \"${currentTag}\"`);\n+    return currentTag;\n+  } catch {\n+    // Tag does not exist.\n+  }\n+\n+  const {stdout: tags} \u003d await exec(`git tag --list \"${tagPrefix}*\"`);\n+  const versions \u003d tags\n+    .trim()\n+    .split(\u0027\\n\u0027)\n+    .map((t) \u003d\u003e t.trim())\n+    .filter((t) \u003d\u003e t.startsWith(tagPrefix))\n+    .map((t) \u003d\u003e t.slice(tagPrefix.length))\n+    .filter((v) \u003d\u003e semver.valid(v));\n+\n+  if (versions.length \u003d\u003d\u003d 0) {\n+    throw new Error(\u0027No previous release tags found.\u0027);\n+  }\n+\n+  // Sort versions in descending order\n+  versions.sort((a, b) \u003d\u003e semver.rcompare(a, b));\n+\n+  return getTagName(versions[0]);\n+}\n+\n /**\n  * Gets the tag name for the given version.\n  *","expectedMessage":"build: fix changelog generation for last rev","repository":"angular","commitHash":"78755771e1b998f9ee192d82c0f44fd6806f3629","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-36c2f4b6","diff":" adev/src/app/routing/router_providers.ts | 17 +++++++++--------\n 1 file changed, 9 insertions(+), 8 deletions(-)\n\ndiff --git a/adev/src/app/routing/router_providers.ts b/adev/src/app/routing/router_providers.ts\nindex 95340109..4d02a6be 100644\n--- a/adev/src/app/routing/router_providers.ts\n+++ b/adev/src/app/routing/router_providers.ts\n@@ -22,6 +22,7 @@ import {\n   RedirectCommand,\n   withNavigationErrorHandler,\n   withRouterConfig,\n+  isActive,\n } from \u0027@angular/router\u0027;\n import {routes} from \u0027./routes\u0027;\n import {ADevTitleStrategy} from \u0027../core/services/a-dev-title-strategy\u0027;\n@@ -51,14 +52,14 @@ export const routerProviders \u003d [\n         const router \u003d inject(Router);\n         const toTree \u003d createUrlTreeFromSnapshot(to, []);\n         // Skip the transition if the only thing changing is the fragment and queryParams\n-        if (\n-          router.isActive(toTree, {\n-            paths: \u0027exact\u0027,\n-            matrixParams: \u0027exact\u0027,\n-            fragment: \u0027ignored\u0027,\n-            queryParams: \u0027ignored\u0027,\n-          })\n-        ) {\n+        const isTargetRouteCurrent \u003d isActive(toTree, router, {\n+          paths: \u0027exact\u0027,\n+          matrixParams: \u0027exact\u0027,\n+          fragment: \u0027ignored\u0027,\n+          queryParams: \u0027ignored\u0027,\n+        });\n+\n+        if (isTargetRouteCurrent()) {\n           transition.skipTransition();\n         }\n       },","expectedMessage":"docs(docs-infra): replace deprecated Router.isActive with isActive (#66430)","repository":"angular","commitHash":"36c2f4b6f931fa7e0c7e835577abef80c9c98ec3","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-a39e3fda","diff":" adev/src/content/guide/routing/read-route-state.md | 27 ++++++++++++++++++++++\n .../guide/routing/route-transition-animations.md   |  6 +++--\n .../router/src/directives/router_link_active.ts    |  4 ++--\n packages/router/src/router.ts                      |  4 ++--\n packages/router/src/url_tree.ts                    |  4 +++-\n 5 files changed, 38 insertions(+), 7 deletions(-)\n\ndiff --git a/adev/src/content/guide/routing/read-route-state.md b/adev/src/content/guide/routing/read-route-state.md\nindex b2514675..88b6cdf8 100644\n--- a/adev/src/content/guide/routing/read-route-state.md\n+++ b/adev/src/content/guide/routing/read-route-state.md\n@@ -323,3 +323,30 @@ The RouterLinkActive directive can also be applied to an ancestor element in ord\n ```\n \n For more information, check out the [API docs for RouterLinkActive](/api/router/RouterLinkActive).\n+\n+## Check if a URL is active\n+\n+The `isActive` function returns a computed signal that tracks whether a given URL is currently active in the router. The signal automatically updates as the router state changes.\n+\n+```angular-ts\n+import {Component, inject} from \u0027@angular/core\u0027;\n+import {isActive, Router} from \u0027@angular/router\u0027;\n+\n+@Component({\n+  template: `\n+    \u003cdiv [class.active]\u003d\"isSettingsActive()\"\u003e\n+      \u003ch2\u003eSettings\u003c/h2\u003e\n+    \u003c/div\u003e\n+  `\n+})\n+export class Panel {\n+  private router \u003d inject(Router);\n+\n+  isSettingsActive \u003d isActive(\u0027/settings\u0027, this.router, {\n+    paths: \u0027subset\u0027,\n+    queryParams: \u0027ignored\u0027,\n+    fragment: \u0027ignored\u0027,\n+    matrixParams: \u0027ignored\u0027\n+  });\n+}\n+```\ndiff --git a/adev/src/content/guide/routing/route-transition-animations.md b/adev/src/content/guide/routing/route-transition-animations.md\nindex dd995f27..4f7cafac 100644\n--- a/adev/src/content/guide/routing/route-transition-animations.md\n+++ b/adev/src/content/guide/routing/route-transition-animations.md\n@@ -122,7 +122,7 @@ Use this callback to customize transition behavior based on navigation context.\n \n ```ts\n import {inject} from \u0027@angular/core\u0027;\n-import {Router, withViewTransitions} from \u0027@angular/router\u0027;\n+import {Router, withViewTransitions, isActive} from \u0027@angular/router\u0027;\n \n withViewTransitions({\n   onViewTransitionCreated: ({transition}) \u003d\u003e {\n@@ -137,7 +137,9 @@ withViewTransitions({\n       queryParams: \u0027ignored\u0027,\n     };\n \n-    if (router.isActive(targetUrl, config)) {\n+    const isTargetRouteCurrent \u003d isActive(targetUrl, router, config);\n+\n+    if (isTargetRouteCurrent()) {\n       transition.skipTransition();\n     }\n   },\ndiff --git a/packages/router/src/directives/router_link_active.ts b/packages/router/src/directives/router_link_active.ts\nindex 18e1b12e..e3482e40 100644\n--- a/packages/router/src/directives/router_link_active.ts\n+++ b/packages/router/src/directives/router_link_active.ts\n@@ -125,9 +125,9 @@ export class RouterLinkActive implements OnChanges, OnDestroy, AfterContentInit\n   /**\n    * Options to configure how to determine if the router link is active.\n    *\n-   * These options are passed to the `Router.isActive()` function.\n+   * These options are passed to the `isActive()` function.\n    *\n-   * @see {@link Router#isActive}\n+   * @see {@link isActive}\n    */\n   @Input() routerLinkActiveOptions: {exact: boolean} | IsActiveMatchOptions \u003d {exact: false};\n \ndiff --git a/packages/router/src/router.ts b/packages/router/src/router.ts\nindex 5b796458..26c47b23 100644\n--- a/packages/router/src/router.ts\n+++ b/packages/router/src/router.ts\n@@ -70,7 +70,7 @@ import {afterNextNavigation} from \u0027./utils/navigations\u0027;\n import {RouterState} from \u0027./router_state\u0027;\n \n /**\n- * The equivalent `IsActiveMatchOptions` options for `Router.isActive` is called with `true`\n+ * The equivalent `IsActiveMatchOptions` options for `isActive` is called with `true`\n  * (exact \u003d true).\n  */\n export const exactMatchOptions: IsActiveMatchOptions \u003d {\n@@ -81,7 +81,7 @@ export const exactMatchOptions: IsActiveMatchOptions \u003d {\n };\n \n /**\n- * The equivalent `IsActiveMatchOptions` options for `Router.isActive` is called with `false`\n+ * The equivalent `IsActiveMatchOptions` options for `isActive` is called with `false`\n  * (exact \u003d false).\n  */\n export const subsetMatchOptions: IsActiveMatchOptions \u003d {\ndiff --git a/packages/router/src/url_tree.ts b/packages/router/src/url_tree.ts\nindex 01980334..255ed74d 100644\n--- a/packages/router/src/url_tree.ts\n+++ b/packages/router/src/url_tree.ts\n@@ -18,7 +18,7 @@ import type {Router} from \u0027./router\u0027;\n  * for the current router state.\n  *\n  * @publicApi\n- * @see {@link Router#isActive}\n+ * @see {@link isActive}\n  */\n export interface IsActiveMatchOptions {\n   /**\n@@ -84,6 +84,8 @@ const paramCompareMap: Record\u003cParamMatchOptions, ParamCompareFn\u003e \u003d {\n  * Returns a computed signal of whether the given url is activated in the Router.\n  *\n  * As the router state changes, the signal will update to reflect whether the url is active.\n+ *\n+ * @see [Check if a URL is active](guide/routing/read-route-state#check-if-a-url-is-active)\n  * @publicApi 21.1\n  */\n export function isActive(","expectedMessage":"docs: update examples to use `isActive` instead of deprecated `Router.isActive` (#66430)","repository":"angular","commitHash":"a39e3fdabed1ab34f737c7bc3d78de150e3c8fc8","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-e8c44a00","diff":" .../src/statemanager/navigation_state_manager.ts   | 13 ++++++++++--\n .../router/test/with_platform_navigation.spec.ts   | 24 +++++++++++++++++++++-\n 2 files changed, 34 insertions(+), 3 deletions(-)\n\ndiff --git a/packages/router/src/statemanager/navigation_state_manager.ts b/packages/router/src/statemanager/navigation_state_manager.ts\nindex 8bfac6fa..260b3639 100644\n--- a/packages/router/src/statemanager/navigation_state_manager.ts\n+++ b/packages/router/src/statemanager/navigation_state_manager.ts\n@@ -199,8 +199,17 @@ export class NavigationStateManager extends StateManager {\n         resolve();\n       });\n     } else if (e instanceof NavigationCancel || e instanceof NavigationError) {\n-      // TODO(atscott): We want to keep the navigation event on redirects if\n-      // the URL wasn\u0027t committed yet rather than cancelling it.\n+      // If redirecting and the URL hasn\u0027t been committed yet (via precommmitHandler),\n+      // the redirect will be handled by `commitUrl` using `controller.redirect` and\n+      // we should retain the current NavigateEvent.\n+      // Otherwise, a full cancellation and rollback is needed.\n+      const redirectingBeforeUrlCommit \u003d\n+        e instanceof NavigationCancel \u0026\u0026\n+        e.code \u003d\u003d\u003d NavigationCancellationCode.Redirect \u0026\u0026\n+        !!this.currentNavigation.commitUrl;\n+      if (redirectingBeforeUrlCommit) {\n+        return;\n+      }\n       void this.cancel(transition, e);\n     } else if (e instanceof NavigationEnd) {\n       const {resolveHandler, removeAbortListener} \u003d this.currentNavigation;\ndiff --git a/packages/router/test/with_platform_navigation.spec.ts b/packages/router/test/with_platform_navigation.spec.ts\nindex 47b05cc6..7e32e9de 100644\n--- a/packages/router/test/with_platform_navigation.spec.ts\n+++ b/packages/router/test/with_platform_navigation.spec.ts\n@@ -7,7 +7,7 @@\n  */\n \n import {TestBed} from \u0027@angular/core/testing\u0027;\n-import {provideRouter, Router} from \u0027../src\u0027;\n+import {NavigationStart, provideRouter, Router} from \u0027../src\u0027;\n import {withExperimentalPlatformNavigation, withRouterConfig} from \u0027../src/provide_router\u0027;\n import {withBody} from \u0027@angular/private/testing\u0027;\n import {\n@@ -15,6 +15,7 @@ import {\n   Location,\n   PlatformNavigation,\n   BrowserPlatformLocation,\n+  ɵPRECOMMIT_HANDLER_SUPPORTED as PRECOMMIT_HANDLER_SUPPORTED,\n } from \u0027@angular/common\u0027;\n import {\n   ɵFakeNavigation as FakeNavigation,\n@@ -22,6 +23,7 @@ import {\n   provideLocationMocks,\n } from \u0027@angular/common/testing\u0027;\n import {timeout, useAutoTick} from \u0027./helpers\u0027;\n+import {inject} from \u0027@angular/core\u0027;\n \n /// \u003creference types\u003d\"dom-navigation\" /\u003e\n \n@@ -159,6 +161,26 @@ describe(\u0027withPlatformNavigation feature\u0027, () \u003d\u003e {\n       expect(navigateEvents.length).toBe(1);\n       expect(navigateEvents[0].navigationType).toBe(\u0027traverse\u0027);\n     });\n+\n+    it(\u0027retains a single NavigateEvent across redirects\u0027, async () \u003d\u003e {\n+      const navigateEvents: NavigateEvent[] \u003d [];\n+      navigation.addEventListener(\u0027navigate\u0027, (e: NavigateEvent) \u003d\u003e navigateEvents.push(e));\n+\n+      router.resetConfig([\n+        {path: \u0027first\u0027, canActivate: [() \u003d\u003e inject(Router).parseUrl(\u0027/redirected\u0027)], children: []},\n+        {path: \u0027**\u0027, children: []},\n+      ]);\n+      const navPromise \u003d router.navigateByUrl(\u0027/first\u0027);\n+      if (TestBed.inject(PRECOMMIT_HANDLER_SUPPORTED)) {\n+        router.events.subscribe((e) \u003d\u003e {\n+          if (e instanceof NavigationStart) {\n+            expect(navigateEvents.length).toBe(1);\n+          }\n+        });\n+      }\n+      await navPromise;\n+      expect(navigateEvents.length).toBe(1);\n+    });\n   });\n \n   describe(\u0027eager url update\u0027, () \u003d\u003e {","expectedMessage":"refactor(router): Retain original navigateEvent across redirects","repository":"angular","commitHash":"e8c44a00f9a416979b2cc749f2eab0955aa51dd6","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-e34365cf","diff":" vscode-ng-language-service/package.json | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/vscode-ng-language-service/package.json b/vscode-ng-language-service/package.json\nindex a920c794..2597f8f6 100644\n--- a/vscode-ng-language-service/package.json\n+++ b/vscode-ng-language-service/package.json\n@@ -257,7 +257,7 @@\n     \"test:inspect-common\": \"bazel run --config\u003ddebug //vscode-ng-language-service/common/tests:test\",\n     \"test:inspect-server\": \"bazel run --config\u003ddebug //vscode-ng-language-service/server/src/tests:test\",\n     \"test:inspect-syntaxes\": \"bazel run --config\u003ddebug //vscode-ng-language-service/syntaxes/test:test\",\n-    \"release\": \"node tools/release.mts\"\n+    \"release\": \"tsx tools/release.mts\"\n   },\n   \"dependencies\": {\n     \"@angular/language-service\": \"workspace:*\",","expectedMessage":"build: use tsx for release script","repository":"angular","commitHash":"e34365cfd5ed13cc1ad2f23fc912cb9d50467eb1","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-1ba9b7ac","diff":" goldens/public-api/core/index.api.md               |  19 +++\n packages/core/src/resource/api.ts                  |  16 +++\n packages/core/src/resource/from_snapshots.ts       |  51 ++++++++\n packages/core/src/resource/index.ts                |   1 +\n packages/core/src/resource/resource.ts             |  15 ++-\n .../core/test/resource/resource_snapshot_spec.ts   | 131 +++++++++++++++++++++\n 6 files changed, 232 insertions(+), 1 deletion(-)\n\ndiff --git a/goldens/public-api/core/index.api.md b/goldens/public-api/core/index.api.md\nindex ce9a39c9..58793060 100644\n--- a/goldens/public-api/core/index.api.md\n+++ b/goldens/public-api/core/index.api.md\n@@ -1627,6 +1627,7 @@ export interface Resource\u003cT\u003e {\n     // (undocumented)\n     hasValue(): boolean;\n     readonly isLoading: Signal\u003cboolean\u003e;\n+    readonly snapshot: Signal\u003cResourceSnapshot\u003cT\u003e\u003e;\n     readonly status: Signal\u003cResourceStatus\u003e;\n     readonly value: Signal\u003cT\u003e;\n }\n@@ -1639,6 +1640,9 @@ export function resource\u003cT, R\u003e(options: ResourceOptions\u003cT, R\u003e \u0026 {\n // @public\n export function resource\u003cT, R\u003e(options: ResourceOptions\u003cT, R\u003e): ResourceRef\u003cT | undefined\u003e;\n \n+// @public\n+export function resourceFromSnapshots\u003cT\u003e(source: () \u003d\u003e ResourceSnapshot\u003cT\u003e): Resource\u003cT\u003e;\n+\n // @public\n export type ResourceLoader\u003cT, R\u003e \u003d (param: ResourceLoaderParams\u003cR\u003e) \u003d\u003e PromiseLike\u003cT\u003e;\n \n@@ -1668,6 +1672,21 @@ export interface ResourceRef\u003cT\u003e extends WritableResource\u003cT\u003e {\n     hasValue(): boolean;\n }\n \n+// @public\n+export type ResourceSnapshot\u003cT\u003e \u003d {\n+    readonly status: \u0027idle\u0027;\n+    readonly value: T;\n+} | {\n+    readonly status: \u0027loading\u0027 | \u0027reloading\u0027;\n+    readonly value: T;\n+} | {\n+    readonly status: \u0027resolved\u0027 | \u0027local\u0027;\n+    readonly value: T;\n+} | {\n+    readonly status: \u0027error\u0027;\n+    readonly error: Error;\n+};\n+\n // @public\n export type ResourceStatus \u003d \u0027idle\u0027 | \u0027error\u0027 | \u0027loading\u0027 | \u0027reloading\u0027 | \u0027resolved\u0027 | \u0027local\u0027;\n \ndiff --git a/packages/core/src/resource/api.ts b/packages/core/src/resource/api.ts\nindex ed9c216f..955c17fb 100644\n--- a/packages/core/src/resource/api.ts\n+++ b/packages/core/src/resource/api.ts\n@@ -66,6 +66,11 @@ export interface Resource\u003cT\u003e {\n    */\n   readonly isLoading: Signal\u003cboolean\u003e;\n \n+  /**\n+   * The current state of this resource, represented as a `ResourceSnapshot`.\n+   */\n+  readonly snapshot: Signal\u003cResourceSnapshot\u003cT\u003e\u003e;\n+\n   /**\n    * Whether this resource has a valid current value.\n    *\n@@ -241,3 +246,14 @@ export type ResourceOptions\u003cT, R\u003e \u003d (\n  * @experimental\n  */\n export type ResourceStreamItem\u003cT\u003e \u003d {value: T} | {error: Error};\n+\n+/**\n+ * An explicit representation of a resource\u0027s state.\n+ *\n+ * @experimental\n+ */\n+export type ResourceSnapshot\u003cT\u003e \u003d\n+  | {readonly status: \u0027idle\u0027; readonly value: T}\n+  | {readonly status: \u0027loading\u0027 | \u0027reloading\u0027; readonly value: T}\n+  | {readonly status: \u0027resolved\u0027 | \u0027local\u0027; readonly value: T}\n+  | {readonly status: \u0027error\u0027; readonly error: Error};\ndiff --git a/packages/core/src/resource/from_snapshots.ts b/packages/core/src/resource/from_snapshots.ts\nnew file mode 100644\nindex 00000000..705a9320\n--- /dev/null\n+++ b/packages/core/src/resource/from_snapshots.ts\n@@ -0,0 +1,51 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.dev/license\n+ */\n+\n+import {Resource, ResourceSnapshot} from \u0027./api\u0027;\n+import {isSignal, Signal} from \u0027../render3/reactivity/api\u0027;\n+import {computed} from \u0027../render3/reactivity/computed\u0027;\n+import {ResourceValueError} from \u0027./resource\u0027;\n+\n+/**\n+ * Creates a `Resource` driven by a source of `ResourceSnapshot`s.\n+ *\n+ * @experimental\n+ */\n+export function resourceFromSnapshots\u003cT\u003e(source: () \u003d\u003e ResourceSnapshot\u003cT\u003e): Resource\u003cT\u003e {\n+  return new SnapshotResource(isSignal(source) ? source : computed(source));\n+}\n+\n+class SnapshotResource\u003cT\u003e implements Resource\u003cT\u003e {\n+  constructor(readonly snapshot: Signal\u003cResourceSnapshot\u003cT\u003e\u003e) {}\n+\n+  private get state(): ResourceSnapshot\u003cT\u003e {\n+    return this.snapshot();\n+  }\n+\n+  readonly value \u003d computed(() \u003d\u003e {\n+    if (this.state.status \u003d\u003d\u003d \u0027error\u0027) {\n+      throw new ResourceValueError(this.state.error);\n+    }\n+    return this.state.value;\n+  });\n+  readonly status \u003d computed(() \u003d\u003e this.state.status);\n+  readonly error \u003d computed(() \u003d\u003e (this.state.status \u003d\u003d\u003d \u0027error\u0027 ? this.state.error : undefined));\n+  readonly isLoading \u003d computed(\n+    () \u003d\u003e this.state.status \u003d\u003d\u003d \u0027loading\u0027 || this.state.status \u003d\u003d\u003d \u0027reloading\u0027,\n+  );\n+\n+  private isValueDefined \u003d computed(\n+    () \u003d\u003e this.state.status !\u003d\u003d \u0027error\u0027 \u0026\u0026 this.state.value !\u003d\u003d undefined,\n+  );\n+\n+  hasValue(this: T extends undefined ? this : never): this is Resource\u003cExclude\u003cT, undefined\u003e\u003e;\n+  hasValue(): boolean;\n+  hasValue(): boolean {\n+    return this.isValueDefined();\n+  }\n+}\ndiff --git a/packages/core/src/resource/index.ts b/packages/core/src/resource/index.ts\nindex d6b52667..751d70a4 100644\n--- a/packages/core/src/resource/index.ts\n+++ b/packages/core/src/resource/index.ts\n@@ -7,4 +7,5 @@\n  */\n \n export * from \u0027./api\u0027;\n+export {resourceFromSnapshots} from \u0027./from_snapshots\u0027;\n export {resource} from \u0027./resource\u0027;\ndiff --git a/packages/core/src/resource/resource.ts b/packages/core/src/resource/resource.ts\nindex 80974086..bbe66d12 100644\n--- a/packages/core/src/resource/resource.ts\n+++ b/packages/core/src/resource/resource.ts\n@@ -21,6 +21,7 @@ import {\n   StreamingResourceOptions,\n   ResourceStreamItem,\n   ResourceLoaderParams,\n+  ResourceSnapshot,\n } from \u0027./api\u0027;\n \n import {Injector} from \u0027../di/injector\u0027;\n@@ -141,6 +142,18 @@ abstract class BaseWritableResource\u003cT\u003e implements WritableResource\u003cT\u003e {\n     return this.value() !\u003d\u003d undefined;\n   });\n \n+  private _snapshot: Signal\u003cResourceSnapshot\u003cT\u003e\u003e | undefined;\n+  get snapshot(): Signal\u003cResourceSnapshot\u003cT\u003e\u003e {\n+    return (this._snapshot ??\u003d computed(() \u003d\u003e {\n+      const status \u003d this.status();\n+      if (status \u003d\u003d\u003d \u0027error\u0027) {\n+        return {status: \u0027error\u0027, error: this.error()!};\n+      } else {\n+        return {status, value: this.value()};\n+      }\n+    }));\n+  }\n+\n   hasValue(): this is ResourceRef\u003cExclude\u003cT, undefined\u003e\u003e {\n     return this.isValueDefined();\n   }\n@@ -509,7 +522,7 @@ export function isErrorLike(error: unknown): error is Error {\n   );\n }\n \n-class ResourceValueError extends Error {\n+export class ResourceValueError extends Error {\n   constructor(error: Error) {\n     super(\n       ngDevMode\ndiff --git a/packages/core/test/resource/resource_snapshot_spec.ts b/packages/core/test/resource/resource_snapshot_spec.ts\nnew file mode 100644\nindex 00000000..0dfd14f1\n--- /dev/null\n+++ b/packages/core/test/resource/resource_snapshot_spec.ts\n@@ -0,0 +1,131 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.dev/license\n+ */\n+\n+import {ResourceSnapshot} from \u0027../../src/resource/api\u0027;\n+import {resourceFromSnapshots} from \u0027../../src/resource/from_snapshots\u0027;\n+import {resource} from \u0027../../src/resource/resource\u0027;\n+import {signal} from \u0027../../src/render3/reactivity/signal\u0027;\n+import {Injector} from \u0027../../src/di/injector\u0027;\n+import {ApplicationRef} from \u0027../../src/application/application_ref\u0027;\n+import {TestBed} from \u0027../../testing/src/test_bed\u0027;\n+\n+describe(\u0027resource snapshots\u0027, () \u003d\u003e {\n+  describe(\u0027resourceFromSnapshots\u0027, () \u003d\u003e {\n+    it(\u0027should represent all stages of a resource\u0027, () \u003d\u003e {\n+      const source \u003d signal\u003cResourceSnapshot\u003cstring\u003e\u003e({status: \u0027idle\u0027, value: \u0027\u0027});\n+      const res \u003d resourceFromSnapshots(source);\n+\n+      expect(res.status()).toEqual(\u0027idle\u0027);\n+      expect(res.value()).toEqual(\u0027\u0027);\n+      expect(res.isLoading()).toBeFalse();\n+      expect(res.hasValue()).toBeTrue();\n+\n+      source.set({status: \u0027loading\u0027, value: \u0027alpha\u0027});\n+      expect(res.status()).toEqual(\u0027loading\u0027);\n+      expect(res.value()).toEqual(\u0027alpha\u0027);\n+      expect(res.isLoading()).toBeTrue();\n+      expect(res.hasValue()).toBeTrue();\n+\n+      source.set({status: \u0027resolved\u0027, value: \u0027beta\u0027});\n+      expect(res.status()).toEqual(\u0027resolved\u0027);\n+      expect(res.value()).toEqual(\u0027beta\u0027);\n+      expect(res.isLoading()).toBeFalse();\n+      expect(res.hasValue()).toBeTrue();\n+\n+      source.set({status: \u0027reloading\u0027, value: \u0027gamma\u0027});\n+      expect(res.status()).toEqual(\u0027reloading\u0027);\n+      expect(res.value()).toEqual(\u0027gamma\u0027);\n+      expect(res.isLoading()).toBeTrue();\n+      expect(res.hasValue()).toBeTrue();\n+\n+      source.set({status: \u0027local\u0027, value: \u0027delta\u0027});\n+      expect(res.status()).toEqual(\u0027local\u0027);\n+      expect(res.value()).toEqual(\u0027delta\u0027);\n+      expect(res.isLoading()).toBeFalse();\n+      expect(res.hasValue()).toBeTrue();\n+\n+      const error \u003d new Error();\n+      source.set({status: \u0027error\u0027, error});\n+      expect(res.status()).toEqual(\u0027error\u0027);\n+      expect(res.error()).toBe(error);\n+      expect(res.isLoading()).toBeFalse();\n+      expect(res.hasValue()).toBeFalse();\n+      expect(res.value).toThrowMatching((err: Error) \u003d\u003e err.cause \u003d\u003d\u003d error);\n+    });\n+\n+    it(\u0027should return `false` for hasValue() when the value is undefined\u0027, () \u003d\u003e {\n+      const source \u003d signal\u003cResourceSnapshot\u003cstring | undefined\u003e\u003e({\n+        status: \u0027loading\u0027,\n+        value: undefined,\n+      });\n+      const res \u003d resourceFromSnapshots(source);\n+\n+      expect(res.hasValue()).toBeFalse();\n+    });\n+\n+    it(\u0027should memoize the snapshot function\u0027, () \u003d\u003e {\n+      let readCount \u003d 0;\n+      function source(): ResourceSnapshot\u003cstring\u003e {\n+        readCount++;\n+        return {\n+          status: \u0027resolved\u0027,\n+          value: \u0027test\u0027,\n+        };\n+      }\n+\n+      const res \u003d resourceFromSnapshots(source);\n+\n+      // Access multiple computeds that depend on the snapshot.\n+      res.status();\n+      res.value();\n+      res.error();\n+\n+      // The `source` function should only have been called once.\n+      expect(readCount).toBe(1);\n+    });\n+  });\n+\n+  describe(\u0027Resource.snapshot\u0027, () \u003d\u003e {\n+    it(\u0027should represent idle, loading and resolved states\u0027, async () \u003d\u003e {\n+      const injector \u003d TestBed.inject(Injector);\n+      const params \u003d signal\u003cnumber | undefined\u003e(undefined);\n+      const res \u003d resource({\n+        params,\n+        loader: () \u003d\u003e Promise.resolve(\u0027test\u0027),\n+        injector,\n+      });\n+\n+      expect(res.snapshot()).toEqual({status: \u0027idle\u0027, value: undefined});\n+\n+      params.set(3);\n+      expect(res.snapshot()).toEqual({status: \u0027loading\u0027, value: undefined});\n+\n+      await injector.get(ApplicationRef).whenStable();\n+      expect(res.snapshot()).toEqual({status: \u0027resolved\u0027, value: \u0027test\u0027});\n+    });\n+\n+    it(\u0027should represent the error state\u0027, async () \u003d\u003e {\n+      const injector \u003d TestBed.inject(Injector);\n+      const res \u003d resource({\n+        loader: () \u003d\u003e {\n+          throw new Error(\u0027test\u0027);\n+        },\n+        injector,\n+      });\n+\n+      expect(res.snapshot()).toEqual({status: \u0027loading\u0027, value: undefined});\n+\n+      await injector.get(ApplicationRef).whenStable();\n+      const snap \u003d res.snapshot();\n+      if (snap.status !\u003d\u003d \u0027error\u0027) {\n+        return fail(`Expected resource to be in error state`);\n+      }\n+      expect(res.error).toBeDefined();\n+    });\n+  });\n+});","expectedMessage":"feat(core): resource composition via snapshots","repository":"angular","commitHash":"1ba9b7ac5001b315cc9df78c518964dbf479d647","metadata":{"author":"Alex Rickabaugh \u003calx+alxhub@alxandria.net\u003e"}}
{"id":"angular-65fa5b54","diff":" .../control_bindings/GOLDEN_PARTIAL.js             | 71 ++++++++++++++++++++++\n .../control_bindings/TEST_CASES.json               |  9 +++\n .../control_bindings/radio_bindings.js             | 27 ++++++++\n .../control_bindings/radio_bindings.ts             | 30 +++++++++\n .../src/template/pipeline/src/phases/ordering.ts   |  2 +\n .../signals/test/web/form_field_directive.spec.ts  | 57 +++++++++++++++++\n 6 files changed, 196 insertions(+)\n\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/GOLDEN_PARTIAL.js b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/GOLDEN_PARTIAL.js\nindex 16a0b402..b05eb685 100644\n--- a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/GOLDEN_PARTIAL.js\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/GOLDEN_PARTIAL.js\n@@ -48,3 +48,74 @@ export declare class MyComponent {\n     static ɵcmp: i0.ɵɵComponentDeclaration\u003cMyComponent, \"ng-component\", never, {}, {}, never, never, true, never\u003e;\n }\n \n+/****************************************************************************************************\n+ * PARTIAL FILE: radio_bindings.js\n+ ****************************************************************************************************/\n+import { Component, Directive, input } from \u0027@angular/core\u0027;\n+import * as i0 from \"@angular/core\";\n+export class FormField {\n+    formField \u003d input(...(ngDevMode ? [undefined, { debugName: \"formField\" }] : []));\n+    static ɵfac \u003d i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDER\", ngImport: i0, type: FormField, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n+    static ɵdir \u003d i0.ɵɵngDeclareDirective({ minVersion: \"17.1.0\", version: \"0.0.0-PLACEHOLDER\", type: FormField, isStandalone: true, selector: \"[formField]\", inputs: { formField: { classPropertyName: \"formField\", publicName: \"formField\", isSignal: true, isRequired: false, transformFunction: null } }, ngImport: i0 });\n+}\n+i0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDER\", ngImport: i0, type: FormField, decorators: [{\n+            type: Directive,\n+            args: [{ selector: \u0027[formField]\u0027 }]\n+        }], propDecorators: { formField: [{ type: i0.Input, args: [{ isSignal: true, alias: \"formField\", required: false }] }] } });\n+// Notice that we check that the binding order doesn\u0027t matter\n+export class MyComponent {\n+    value \u003d \u0027foo\u0027;\n+    static ɵfac \u003d i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDER\", ngImport: i0, type: MyComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n+    static ɵcmp \u003d i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"0.0.0-PLACEHOLDER\", type: MyComponent, isStandalone: true, selector: \"ng-component\", ngImport: i0, template: `\n+    \u003cinput\n+        type\u003d\"radio\"\n+        [formField]\u003d\"value\"\n+        [value]\u003d\"\u0027foo\u0027\"\n+        id\u003d\"radio\"\n+      /\u003e\n+\n+      \u003cinput\n+        type\u003d\"radio\"\n+        [value]\u003d\"\u0027foo\u0027\"\n+        [formField]\u003d\"value\"\n+        id\u003d\"radio\"\n+      /\u003e\n+  `, isInline: true, dependencies: [{ kind: \"directive\", type: FormField, selector: \"[formField]\", inputs: [\"formField\"] }] });\n+}\n+i0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"0.0.0-PLACEHOLDER\", ngImport: i0, type: MyComponent, decorators: [{\n+            type: Component,\n+            args: [{\n+                    template: `\n+    \u003cinput\n+        type\u003d\"radio\"\n+        [formField]\u003d\"value\"\n+        [value]\u003d\"\u0027foo\u0027\"\n+        id\u003d\"radio\"\n+      /\u003e\n+\n+      \u003cinput\n+        type\u003d\"radio\"\n+        [value]\u003d\"\u0027foo\u0027\"\n+        [formField]\u003d\"value\"\n+        id\u003d\"radio\"\n+      /\u003e\n+  `,\n+                    imports: [FormField],\n+                }]\n+        }] });\n+\n+/****************************************************************************************************\n+ * PARTIAL FILE: radio_bindings.d.ts\n+ ****************************************************************************************************/\n+import * as i0 from \"@angular/core\";\n+export declare class FormField {\n+    readonly formField: import(\"@angular/core\").InputSignal\u003cstring | undefined\u003e;\n+    static ɵfac: i0.ɵɵFactoryDeclaration\u003cFormField, never\u003e;\n+    static ɵdir: i0.ɵɵDirectiveDeclaration\u003cFormField, \"[formField]\", never, { \"formField\": { \"alias\": \"formField\"; \"required\": false; \"isSignal\": true; }; }, {}, never, never, true, never\u003e;\n+}\n+export declare class MyComponent {\n+    value: string;\n+    static ɵfac: i0.ɵɵFactoryDeclaration\u003cMyComponent, never\u003e;\n+    static ɵcmp: i0.ɵɵComponentDeclaration\u003cMyComponent, \"ng-component\", never, {}, {}, never, never, true, never\u003e;\n+}\n+\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/TEST_CASES.json b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/TEST_CASES.json\nindex 00ecec89..7110cca5 100644\n--- a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/TEST_CASES.json\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/TEST_CASES.json\n@@ -9,6 +9,15 @@\n           \"files\": [\"control_bindings.js\"]\n         }\n       ]\n+    },\n+    {\n+      \"description\": \"should generate control instruction for `field` property bindings on radio inputs and execute it after the value\",\n+      \"inputFiles\": [\"radio_bindings.ts\"],\n+      \"expectations\": [\n+        {\n+          \"files\": [\"radio_bindings.js\"]\n+        }\n+      ]\n     }\n   ]\n }\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/radio_bindings.js b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/radio_bindings.js\nnew file mode 100644\nindex 00000000..6d610d17\n--- /dev/null\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/radio_bindings.js\n@@ -0,0 +1,27 @@\n+export class MyComponent {\n+  // ...\n+  static ɵcmp \u003d /* @__PURE__ */i0.ɵɵdefineComponent({\n+    type: MyComponent,\n+    selectors: [[\"ng-component\"]],\n+    decls: 2,\n+    vars: 6,\n+    consts: [[\"type\", \"radio\", \"id\", \"radio\", 3, \"formField\", \"value\"], [\"type\", \"radio\", \"id\", \"radio\", 3, \"value\", \"formField\"]],\n+    template: function MyComponent_Template(rf, ctx) {\n+      if (rf \u0026 1) {\n+        i0.ɵɵelement(0, \"input\", 0);\n+        i0.ɵɵcontrolCreate();\n+        i0.ɵɵelement(1, \"input\", 1);\n+        i0.ɵɵcontrolCreate();\n+      }\n+      if (rf \u0026 2) {\n+        i0.ɵɵproperty(\"value\", \"foo\");\n+        i0.ɵɵcontrol(ctx.value, \"formField\");\n+        i0.ɵɵadvance();\n+        i0.ɵɵproperty(\"value\", \"foo\");\n+        i0.ɵɵcontrol(ctx.value, \"formField\");\n+      }\n+    },\n+    dependencies: [FormField],\n+    encapsulation: 2\n+  });\n+}\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/radio_bindings.ts b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/radio_bindings.ts\nnew file mode 100644\nindex 00000000..31e75696\n--- /dev/null\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_bindings/control_bindings/radio_bindings.ts\n@@ -0,0 +1,30 @@\n+import { Component, Directive, input } from \u0027@angular/core\u0027;\n+\n+@Directive({selector: \u0027[formField]\u0027})\n+export class FormField {\n+  readonly formField \u003d input\u003cstring\u003e();\n+}\n+\n+// Notice that we check that the binding order doesn\u0027t matter\n+@Component({\n+  template: `\n+    \u003cinput\n+        type\u003d\"radio\"\n+        [formField]\u003d\"value\"\n+        [value]\u003d\"\u0027foo\u0027\"\n+        id\u003d\"radio\"\n+      /\u003e\n+\n+      \u003cinput\n+        type\u003d\"radio\"\n+        [value]\u003d\"\u0027foo\u0027\"\n+        [formField]\u003d\"value\"\n+        id\u003d\"radio\"\n+      /\u003e\n+  `,\n+  imports: [FormField],\n+})\n+export class MyComponent {\n+  value \u003d \u0027foo\u0027;\n+  \n+}\ndiff --git a/packages/compiler/src/template/pipeline/src/phases/ordering.ts b/packages/compiler/src/template/pipeline/src/phases/ordering.ts\nindex 5a16d20c..ec034235 100644\n--- a/packages/compiler/src/template/pipeline/src/phases/ordering.ts\n+++ b/packages/compiler/src/template/pipeline/src/phases/ordering.ts\n@@ -66,6 +66,7 @@ const UPDATE_ORDERING: Array\u003cRule\u003cir.UpdateOp\u003e\u003e \u003d [\n   {test: kindWithInterpolationTest(ir.OpKind.Property, true)},\n   {test: nonInterpolationPropertyKindTest},\n   {test: kindWithInterpolationTest(ir.OpKind.Attribute, false)},\n+  {test: kindTest(ir.OpKind.Control)},\n ];\n \n /**\n@@ -97,6 +98,7 @@ const handledOpKinds \u003d new Set([\n   ir.OpKind.DomProperty,\n   ir.OpKind.Attribute,\n   ir.OpKind.Animation,\n+  ir.OpKind.Control,\n ]);\n \n /**\ndiff --git a/packages/forms/signals/test/web/form_field_directive.spec.ts b/packages/forms/signals/test/web/form_field_directive.spec.ts\nindex 8ba8fe29..e245dca2 100644\n--- a/packages/forms/signals/test/web/form_field_directive.spec.ts\n+++ b/packages/forms/signals/test/web/form_field_directive.spec.ts\n@@ -2667,6 +2667,30 @@ describe(\u0027field directive\u0027, () \u003d\u003e {\n     expect(cmp.f().value()).toBe(\u0027b\u0027);\n   });\n \n+  it(\u0027synchronizes with a radio group with bindings\u0027, () \u003d\u003e {\n+    const {cmp, inputA, inputB, inputC, ABC} \u003d setupRadioWithBindingsGroup();\n+\n+    // All the inputs should have the same name.\n+    expect(inputA.name).toBe(\u0027test\u0027);\n+    expect(inputB.name).toBe(\u0027test\u0027);\n+    expect(inputC.name).toBe(\u0027test\u0027);\n+\n+    // Model -\u003e View\n+    act(() \u003d\u003e cmp.f().value.set(ABC.C));\n+    expect(inputA.checked).toBe(false);\n+    expect(inputB.checked).toBe(false);\n+    expect(inputC.checked).toBe(true);\n+\n+    // View -\u003e Model\n+    act(() \u003d\u003e {\n+      inputB.click();\n+    });\n+    expect(inputA.checked).toBe(false);\n+    expect(inputB.checked).toBe(true);\n+    expect(inputC.checked).toBe(false);\n+    expect(cmp.f().value()).toBe(ABC.B);\n+  });\n+\n   it(\u0027synchronizes with a textarea\u0027, () \u003d\u003e {\n     @Component({\n       imports: [FormField],\n@@ -4321,6 +4345,39 @@ function setupRadioGroup() {\n   return {cmp, inputA, inputB, inputC};\n }\n \n+function setupRadioWithBindingsGroup() {\n+  enum ABC {\n+    A \u003d \u0027a\u0027,\n+    B \u003d \u0027b\u0027,\n+    C \u003d \u0027c\u0027,\n+  }\n+  @Component({\n+    imports: [FormField],\n+    template: `\n+      \u003cform\u003e\n+        \u003cinput type\u003d\"radio\" [formField]\u003d\"f\" [value]\u003d\"ABC.A\" /\u003e\n+        \u003cinput type\u003d\"radio\" [formField]\u003d\"f\" [value]\u003d\"ABC.B\" /\u003e\n+        \u003cinput type\u003d\"radio\" [formField]\u003d\"f\" [value]\u003d\"ABC.C\" /\u003e\n+      \u003c/form\u003e\n+    `,\n+  })\n+  class TestCmp {\n+    f \u003d form(signal(ABC.A), {\n+      name: \u0027test\u0027,\n+    });\n+    ABC \u003d ABC;\n+  }\n+\n+  const fix \u003d act(() \u003d\u003e TestBed.createComponent(TestCmp));\n+  const formEl \u003d (fix.nativeElement as HTMLElement).firstChild as HTMLFormElement;\n+  const inputs \u003d Array.from(formEl.children) as HTMLInputElement[];\n+\n+  const [inputA, inputB, inputC] \u003d inputs;\n+  const cmp \u003d fix.componentInstance as TestCmp;\n+\n+  return {cmp, inputA, inputB, inputC, ABC};\n+}\n+\n function act\u003cT\u003e(fn: () \u003d\u003e T): T {\n   try {\n     return fn();","expectedMessage":"fix(forms): Ensure the control instruction comes after the other bindings","repository":"angular","commitHash":"65fa5b5439b9489dfa5f8fdfa24567cd9a32fac4","metadata":{"author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e"}}
{"id":"angular-7fd076bd","diff":" .../test/node/api/validators/pattern.spec.ts       | 51 ++++++++++++++++++++++\n 1 file changed, 51 insertions(+)\n\ndiff --git a/packages/forms/signals/test/node/api/validators/pattern.spec.ts b/packages/forms/signals/test/node/api/validators/pattern.spec.ts\nindex 13f884fa..b043eaf3 100644\n--- a/packages/forms/signals/test/node/api/validators/pattern.spec.ts\n+++ b/packages/forms/signals/test/node/api/validators/pattern.spec.ts\n@@ -95,6 +95,57 @@ describe(\u0027pattern validator\u0027, () \u003d\u003e {\n       expect(f.name().pattern()).toEqual([/pir.*jok/, /pelmeni/]);\n     });\n \n+    it(\u0027validates multiple patterns independently (AND logic)\u0027, () \u003d\u003e {\n+      const model \u003d signal(\u0027abc123\u0027);\n+      const f \u003d form(\n+        model,\n+        (p) \u003d\u003e {\n+          pattern(p, /abc/); // matches\n+          pattern(p, /\\d+/); // matches\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // Both patterns match, so no errors\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([]);\n+    });\n+\n+    it(\u0027validates multiple patterns independently - partial match produces errors\u0027, () \u003d\u003e {\n+      const model \u003d signal(\u0027abc\u0027);\n+      const f \u003d form(\n+        model,\n+        (p) \u003d\u003e {\n+          pattern(p, /abc/); // matches\n+          pattern(p, /\\d+/); // does not match\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // Only one pattern matches, so we get an error from the non-matching one\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([patternError(/\\d+/, {fieldTree: f})]);\n+    });\n+\n+    it(\u0027validates multiple patterns - no match produces multiple errors\u0027, () \u003d\u003e {\n+      const model \u003d signal(\u0027xyz\u0027);\n+      const f \u003d form(\n+        model,\n+        (p) \u003d\u003e {\n+          pattern(p, /abc/); // does not match\n+          pattern(p, /\\d+/); // does not match\n+        },\n+        {injector: TestBed.inject(Injector)},\n+      );\n+\n+      // No patterns match, so we get errors from both\n+      expect(f().pattern()).toEqual([/abc/, /\\d+/]);\n+      expect(f().errors()).toEqual([\n+        patternError(/abc/, {fieldTree: f}),\n+        patternError(/\\d+/, {fieldTree: f}),\n+      ]);\n+    });\n+\n     it(\u0027PATTERN property defaults to empty list\u0027, () \u003d\u003e {\n       const cat \u003d signal({name: \u0027pelmeni-the-cat\u0027});\n       const f \u003d form(","expectedMessage":"test(forms): improve test coverage for multiple pattern validators","repository":"angular","commitHash":"7fd076bdd329071d8705acc5de9a852cbc68ab60","metadata":{"author":"cexbrayat \u003ccedric@ninja-squad.com\u003e"}}
{"id":"angular-1b4dcc01","diff":" devtools/tools/angular-optimization/ensure-no-linker-decl.mjs           | 2 +-\n devtools/tools/angular-optimization/esbuild-plugin.d.ts                 | 2 +-\n devtools/tools/angular-optimization/esbuild-plugin.mjs                  | 2 +-\n modules/utilities/e2e_util.ts                                           | 2 +-\n modules/utilities/index.ts                                              | 2 +-\n modules/utilities/perf_util.ts                                          | 2 +-\n packages/compiler-cli/test/ngtsc/debug_transform_spec.ts                | 2 +-\n packages/core/primitives/signals/src/formatter.ts                       | 2 +-\n .../forms/src/directives/reactive_directives/abstract_form.directive.ts | 2 +-\n .../forms/src/directives/reactive_directives/form_array_directive.ts    | 2 +-\n tools/tslint/noImplicitOverrideAbstractRule.ts                          | 2 +-\n tools/tslint/validateImportForEsmCjsInteropRule.ts                      | 2 +-\n 12 files changed, 12 insertions(+), 12 deletions(-)\n\ndiff --git a/devtools/tools/angular-optimization/ensure-no-linker-decl.mjs b/devtools/tools/angular-optimization/ensure-no-linker-decl.mjs\nindex 55c4c4db..7f3969f0 100644\n--- a/devtools/tools/angular-optimization/ensure-no-linker-decl.mjs\n+++ b/devtools/tools/angular-optimization/ensure-no-linker-decl.mjs\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n /** Naively checks whether this node path resolves to an Angular declare invocation. */\ndiff --git a/devtools/tools/angular-optimization/esbuild-plugin.d.ts b/devtools/tools/angular-optimization/esbuild-plugin.d.ts\nindex ed44963b..46c9b354 100644\n--- a/devtools/tools/angular-optimization/esbuild-plugin.d.ts\n+++ b/devtools/tools/angular-optimization/esbuild-plugin.d.ts\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {PluginItem} from \u0027@babel/core\u0027;\ndiff --git a/devtools/tools/angular-optimization/esbuild-plugin.mjs b/devtools/tools/angular-optimization/esbuild-plugin.mjs\nindex 6825ba75..17cf3a00 100644\n--- a/devtools/tools/angular-optimization/esbuild-plugin.mjs\n+++ b/devtools/tools/angular-optimization/esbuild-plugin.mjs\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import fs from \u0027fs\u0027;\ndiff --git a/modules/utilities/e2e_util.ts b/modules/utilities/e2e_util.ts\nindex d134a990..72e7a2d9 100644\n--- a/modules/utilities/e2e_util.ts\n+++ b/modules/utilities/e2e_util.ts\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n /* tslint:disable:no-console  */\ndiff --git a/modules/utilities/index.ts b/modules/utilities/index.ts\nindex 82e47254..a4cd97cf 100644\n--- a/modules/utilities/index.ts\n+++ b/modules/utilities/index.ts\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n export {openBrowser, verifyNoBrowserErrors} from \u0027./e2e_util\u0027;\n export {runBenchmark} from \u0027./perf_util\u0027;\ndiff --git a/modules/utilities/perf_util.ts b/modules/utilities/perf_util.ts\nindex 74707f8f..287fc676 100644\n--- a/modules/utilities/perf_util.ts\n+++ b/modules/utilities/perf_util.ts\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {randomUUID} from \u0027node:crypto\u0027;\ndiff --git a/packages/compiler-cli/test/ngtsc/debug_transform_spec.ts b/packages/compiler-cli/test/ngtsc/debug_transform_spec.ts\nindex ce77e222..a7ded6f4 100644\n--- a/packages/compiler-cli/test/ngtsc/debug_transform_spec.ts\n+++ b/packages/compiler-cli/test/ngtsc/debug_transform_spec.ts\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {runInEachFileSystem} from \u0027../../src/ngtsc/file_system/testing\u0027;\ndiff --git a/packages/core/primitives/signals/src/formatter.ts b/packages/core/primitives/signals/src/formatter.ts\nindex d67f722d..10153295 100644\n--- a/packages/core/primitives/signals/src/formatter.ts\n+++ b/packages/core/primitives/signals/src/formatter.ts\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {SIGNAL} from \u0027./graph\u0027;\ndiff --git a/packages/forms/src/directives/reactive_directives/abstract_form.directive.ts b/packages/forms/src/directives/reactive_directives/abstract_form.directive.ts\nindex fce0fc24..b90e7d20 100644\n--- a/packages/forms/src/directives/reactive_directives/abstract_form.directive.ts\n+++ b/packages/forms/src/directives/reactive_directives/abstract_form.directive.ts\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {\ndiff --git a/packages/forms/src/directives/reactive_directives/form_array_directive.ts b/packages/forms/src/directives/reactive_directives/form_array_directive.ts\nindex c67854ea..68be7fe7 100644\n--- a/packages/forms/src/directives/reactive_directives/form_array_directive.ts\n+++ b/packages/forms/src/directives/reactive_directives/form_array_directive.ts\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {Directive, EventEmitter, forwardRef, Input, Output, Provider} from \u0027@angular/core\u0027;\ndiff --git a/tools/tslint/noImplicitOverrideAbstractRule.ts b/tools/tslint/noImplicitOverrideAbstractRule.ts\nindex 96a24218..d5ba727e 100644\n--- a/tools/tslint/noImplicitOverrideAbstractRule.ts\n+++ b/tools/tslint/noImplicitOverrideAbstractRule.ts\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {Replacement, RuleFailure, WalkContext} from \u0027tslint/lib\u0027;\ndiff --git a/tools/tslint/validateImportForEsmCjsInteropRule.ts b/tools/tslint/validateImportForEsmCjsInteropRule.ts\nindex 35833f03..590826ee 100644\n--- a/tools/tslint/validateImportForEsmCjsInteropRule.ts\n+++ b/tools/tslint/validateImportForEsmCjsInteropRule.ts\n@@ -3,7 +3,7 @@\n  * Copyright Google LLC\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {RuleFailure, WalkContext} from \u0027tslint/lib\u0027;","expectedMessage":"docs: replace old https://angular.io/license with https://angular.dev/license","repository":"angular","commitHash":"1b4dcc01ff385b5eb33eb35e4f299c6a4be7fe95","metadata":{"author":"Shuaib Hasan Akib \u003cakibh805@gmail.com\u003e"}}
{"id":"angular-ebc90c26","diff":" vscode-ng-language-service/server/src/session.ts | 19 ++++++++++++++++++-\n 1 file changed, 18 insertions(+), 1 deletion(-)\n\ndiff --git a/vscode-ng-language-service/server/src/session.ts b/vscode-ng-language-service/server/src/session.ts\nindex 780aca77..20282200 100644\n--- a/vscode-ng-language-service/server/src/session.ts\n+++ b/vscode-ng-language-service/server/src/session.ts\n@@ -1403,7 +1403,24 @@ export class Session {\n       options,\n     );\n     if (!completions) {\n-      return null;\n+      const sf \u003d this.getDefaultProjectForScriptInfo(scriptInfo)?.getSourceFile(scriptInfo.path);\n+      if (!sf) {\n+        return null;\n+      }\n+      const node \u003d getTokenAtPosition(sf, offset);\n+      if (!isInlineStyleNode(node)) {\n+        return null;\n+      }\n+      const virtualScssDocContents \u003d getSCSSVirtualContent(sf);\n+      const virtualScssDoc \u003d TextDocument.create(\n+        params.textDocument.uri.toString(),\n+        \u0027scss\u0027,\n+        0,\n+        virtualScssDocContents,\n+      );\n+      const stylesheet \u003d scssLS.parseStylesheet(virtualScssDoc);\n+      const scssCompletions \u003d scssLS.doComplete(virtualScssDoc, params.position, stylesheet);\n+      return scssCompletions.items;\n     }\n     return completions.entries.map((e) \u003d\u003e\n       tsCompletionEntryToLspCompletionItem(e, params.position, scriptInfo),","expectedMessage":"feat(language-server): Add completions and hover info for inline styles","repository":"angular","commitHash":"ebc90c26f5ff1ba1e0ca9b775a44e301ebfb9473","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-573aadef","diff":" .../server/src/embedded_support.ts                 |  2 +-\n vscode-ng-language-service/server/src/session.ts   | 33 ++++++++++++++++++++--\n 2 files changed, 32 insertions(+), 3 deletions(-)\n\ndiff --git a/vscode-ng-language-service/server/src/embedded_support.ts b/vscode-ng-language-service/server/src/embedded_support.ts\nindex 8f9b1891..1e14bec8 100644\n--- a/vscode-ng-language-service/server/src/embedded_support.ts\n+++ b/vscode-ng-language-service/server/src/embedded_support.ts\n@@ -69,7 +69,7 @@ export function getSCSSVirtualContent(sf: ts.SourceFile): string {\n   return content;\n }\n \n-function isInlineStyleNode(node: ts.Node) {\n+export function isInlineStyleNode(node: ts.Node) {\n   if (!ts.isStringLiteralLike(node)) {\n     return false;\n   }\ndiff --git a/vscode-ng-language-service/server/src/session.ts b/vscode-ng-language-service/server/src/session.ts\nindex cf1591a7..780aca77 100644\n--- a/vscode-ng-language-service/server/src/session.ts\n+++ b/vscode-ng-language-service/server/src/session.ts\n@@ -39,7 +39,7 @@ import {\n \n import {readNgCompletionData, tsCompletionEntryToLspCompletionItem} from \u0027./completion\u0027;\n import {tsDiagnosticToLspDiagnostic} from \u0027./diagnostic\u0027;\n-import {getHTMLVirtualContent, getSCSSVirtualContent} from \u0027./embedded_support\u0027;\n+import {getHTMLVirtualContent, getSCSSVirtualContent, isInlineStyleNode} from \u0027./embedded_support\u0027;\n import {ServerHost} from \u0027./server_host\u0027;\n import {documentationToMarkdown} from \u0027./text_render\u0027;\n import {\n@@ -1327,7 +1327,23 @@ export class Session {\n     const offset \u003d lspPositionToTsPosition(scriptInfo, params.position);\n     const info \u003d languageService.getQuickInfoAtPosition(scriptInfo.fileName, offset);\n     if (!info) {\n-      return null;\n+      const sf \u003d this.getDefaultProjectForScriptInfo(scriptInfo)?.getSourceFile(scriptInfo.path);\n+      if (!sf) {\n+        return null;\n+      }\n+      const node \u003d getTokenAtPosition(sf, offset);\n+      if (!isInlineStyleNode(node)) {\n+        return null;\n+      }\n+      const virtualScssDocContents \u003d getSCSSVirtualContent(sf);\n+      const virtualScssDoc \u003d TextDocument.create(\n+        params.textDocument.uri.toString(),\n+        \u0027scss\u0027,\n+        0,\n+        virtualScssDocContents,\n+      );\n+      const stylesheet \u003d scssLS.parseStylesheet(virtualScssDoc);\n+      return scssLS.doHover(virtualScssDoc, params.position, stylesheet);\n     }\n     const {kind, kindModifiers, textSpan, displayParts, documentation, tags} \u003d info;\n     let desc \u003d kindModifiers ? kindModifiers + \u0027 \u0027 : \u0027\u0027;\n@@ -1668,3 +1684,16 @@ function generateCommandAndTextEditsFromCodeActions(\n     additionalTextEdits: additionalTextEdits.length ? additionalTextEdits : undefined,\n   };\n }\n+\n+function getTokenAtPosition(sourceFile: ts.SourceFile, position: number): ts.Node {\n+  let current: ts.Node \u003d sourceFile;\n+  while (true) {\n+    const child \u003d current\n+      .getChildren(sourceFile)\n+      .find((c) \u003d\u003e c.getStart(sourceFile) \u003c\u003d position \u0026\u0026 c.getEnd() \u003e position);\n+    if (!child || child.kind \u003d\u003d\u003d ts.SyntaxKind.EndOfFileToken) {\n+      return current;\n+    }\n+    current \u003d child;\n+  }\n+}","expectedMessage":"feat(language-server): Add quick info for inline styles","repository":"angular","commitHash":"573aadef7eb8b6b5e83b82a16f95d2a556f27c01","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-26fd0839","diff":" pnpm-lock.yaml                                     | 13 +++++\n vscode-ng-language-service/server/package.json     |  1 +\n vscode-ng-language-service/server/src/BUILD.bazel  |  1 +\n .../server/src/embedded_support.ts                 | 59 +++++++++++++++++++---\n vscode-ng-language-service/server/src/session.ts   | 17 ++++++-\n .../server/src/tests/embedded_support_spec.ts      | 29 ++++++++++-\n 6 files changed, 111 insertions(+), 9 deletions(-)\n\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 17bf3a1a..a4c5a79e 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -1418,6 +1418,9 @@ importers:\n       \u0027@types/node\u0027:\n         specifier: ^24.5.2\n         version: 24.10.1\n+      vscode-css-languageservice:\n+        specifier: 6.3.9\n+        version: 6.3.9\n       vscode-html-languageservice:\n         specifier: 5.6.1\n         version: 5.6.1\n@@ -12891,6 +12894,9 @@ packages:\n       tslint: \u0027*\u0027\n       typescript: \u0027*\u0027\n \n+  vscode-css-languageservice@6.3.9:\n+    resolution: {integrity: sha512-1tLWfp+TDM5ZuVWht3jmaY5y7O6aZmpeXLoHl5bv1QtRsRKt4xYGRMmdJa5Pqx/FTkgRbsna9R+Gn2xE+evVuA\u003d\u003d}\n+\n   vscode-html-languageservice@5.6.1:\n     resolution: {integrity: sha512-5Mrqy5CLfFZUgkyhNZLA1Ye5g12Cb/v6VM7SxUzZUaRKWMDz4md+y26PrfRTSU0/eQAl3XpO9m2og+GGtDMuaA\u003d\u003d}\n \n@@ -27750,6 +27756,13 @@ snapshots:\n       tslint: 6.1.3(typescript@5.9.3)\n       typescript: 5.9.3\n \n+  vscode-css-languageservice@6.3.9:\n+    dependencies:\n+      \u0027@vscode/l10n\u0027: 0.0.18\n+      vscode-languageserver-textdocument: 1.0.12\n+      vscode-languageserver-types: 3.17.5\n+      vscode-uri: 3.1.0\n+\n   vscode-html-languageservice@5.6.1:\n     dependencies:\n       \u0027@vscode/l10n\u0027: 0.0.18\ndiff --git a/vscode-ng-language-service/server/package.json b/vscode-ng-language-service/server/package.json\nindex 2d2e890a..0d6e9a25 100644\n--- a/vscode-ng-language-service/server/package.json\n+++ b/vscode-ng-language-service/server/package.json\n@@ -23,6 +23,7 @@\n   \"devDependencies\": {\n     \"@types/node\": \"^24.5.2\",\n     \"vscode-html-languageservice\": \"5.6.1\",\n+    \"vscode-css-languageservice\": \"6.3.9\",\n     \"vscode-languageserver\": \"7.0.0\",\n     \"vscode-languageserver-textdocument\": \"^1.0.12\",\n     \"vscode-uri\": \"3.1.0\"\ndiff --git a/vscode-ng-language-service/server/src/BUILD.bazel b/vscode-ng-language-service/server/src/BUILD.bazel\nindex 29f459aa..ffac79a5 100644\n--- a/vscode-ng-language-service/server/src/BUILD.bazel\n+++ b/vscode-ng-language-service/server/src/BUILD.bazel\n@@ -11,6 +11,7 @@ ts_project(\n         \"//:node_modules/typescript\",\n         \"//vscode-ng-language-service/common\",\n         \"//vscode-ng-language-service/server:node_modules/@types/node\",\n+        \"//vscode-ng-language-service/server:node_modules/vscode-css-languageservice\",\n         \"//vscode-ng-language-service/server:node_modules/vscode-html-languageservice\",\n         \"//vscode-ng-language-service/server:node_modules/vscode-languageserver\",\n         \"//vscode-ng-language-service/server:node_modules/vscode-languageserver-textdocument\",\ndiff --git a/vscode-ng-language-service/server/src/embedded_support.ts b/vscode-ng-language-service/server/src/embedded_support.ts\nindex db6a1054..8f9b1891 100644\n--- a/vscode-ng-language-service/server/src/embedded_support.ts\n+++ b/vscode-ng-language-service/server/src/embedded_support.ts\n@@ -42,13 +42,60 @@ export function getHTMLVirtualContent(sf: ts.SourceFile): string {\n   return content;\n }\n \n+/**\n+ * Takes a TS file and strips out all non-inline style content.\n+ *\n+ * @see {@link getHTMLVirtualContent}\n+ */\n+export function getSCSSVirtualContent(sf: ts.SourceFile): string {\n+  const inlineStyleNodes: ts.Node[] \u003d findAllMatchingNodes(sf, isInlineStyleNode);\n+  const documentText \u003d sf.text;\n+\n+  // Create a blank document with same text length\n+  let content \u003d documentText\n+    .split(\u0027\\n\u0027)\n+    .map((line) \u003d\u003e {\n+      return \u0027 \u0027.repeat(line.length);\n+    })\n+    .join(\u0027\\n\u0027);\n+\n+  // add back all the inline style regions in-place\n+  for (const region of inlineStyleNodes) {\n+    content \u003d\n+      content.slice(0, region.getStart(sf) + 1) +\n+      documentText.slice(region.getStart(sf) + 1, region.getEnd() - 1) +\n+      content.slice(region.getEnd() - 1);\n+  }\n+  return content;\n+}\n+\n+function isInlineStyleNode(node: ts.Node) {\n+  if (!ts.isStringLiteralLike(node)) {\n+    return false;\n+  }\n+\n+  if (isAssignmentToPropertyWithName(node, \u0027styles\u0027)) {\n+    return true;\n+  }\n+\n+  if (\n+    node.parent \u0026\u0026\n+    ts.isArrayLiteralExpression(node.parent) \u0026\u0026\n+    isAssignmentToPropertyWithName(node.parent, \u0027styles\u0027)\n+  ) {\n+    return true;\n+  }\n+\n+  return false;\n+}\n+\n+function isAssignmentToPropertyWithName(node: ts.Node, propertyName: \u0027styles\u0027 | \u0027template\u0027) {\n+  const assignment \u003d getPropertyAssignmentFromValue(node, propertyName);\n+  return assignment !\u003d\u003d null \u0026\u0026 getClassDeclFromDecoratorProp(assignment) !\u003d\u003d null;\n+}\n+\n function isInlineTemplateNode(node: ts.Node) {\n-  const assignment \u003d getPropertyAssignmentFromValue(node, \u0027template\u0027);\n-  return (\n-    ts.isStringLiteralLike(node) \u0026\u0026\n-    assignment !\u003d\u003d null \u0026\u0026\n-    getClassDeclFromDecoratorProp(assignment) !\u003d\u003d null\n-  );\n+  return ts.isStringLiteralLike(node) ? isAssignmentToPropertyWithName(node, \u0027template\u0027) : false;\n }\n \n /**\ndiff --git a/vscode-ng-language-service/server/src/session.ts b/vscode-ng-language-service/server/src/session.ts\nindex 1dbf8ee0..cf1591a7 100644\n--- a/vscode-ng-language-service/server/src/session.ts\n+++ b/vscode-ng-language-service/server/src/session.ts\n@@ -15,6 +15,7 @@ import {\n import * as ts from \u0027typescript/lib/tsserverlibrary\u0027;\n import {promisify} from \u0027util\u0027;\n import {getLanguageService as getHTMLLanguageService} from \u0027vscode-html-languageservice\u0027;\n+import {getSCSSLanguageService} from \u0027vscode-css-languageservice\u0027;\n import {TextDocument} from \u0027vscode-languageserver-textdocument\u0027;\n import * as lsp from \u0027vscode-languageserver/node\u0027;\n \n@@ -38,7 +39,7 @@ import {\n \n import {readNgCompletionData, tsCompletionEntryToLspCompletionItem} from \u0027./completion\u0027;\n import {tsDiagnosticToLspDiagnostic} from \u0027./diagnostic\u0027;\n-import {getHTMLVirtualContent} from \u0027./embedded_support\u0027;\n+import {getHTMLVirtualContent, getSCSSVirtualContent} from \u0027./embedded_support\u0027;\n import {ServerHost} from \u0027./server_host\u0027;\n import {documentationToMarkdown} from \u0027./text_render\u0027;\n import {\n@@ -84,6 +85,7 @@ const defaultFormatOptions: ts.FormatCodeSettings \u003d {};\n let defaultPreferences: ts.UserPreferences \u003d {};\n \n const htmlLS \u003d getHTMLLanguageService();\n+const scssLS \u003d getSCSSLanguageService();\n \n const alwaysSuppressDiagnostics: number[] \u003d [\n   // Diagnostics codes whose errors should always be suppressed, regardless of the options\n@@ -1059,7 +1061,18 @@ export class Session {\n       0,\n       virtualHtmlDocContents,\n     );\n-    return [...htmlLS.getFoldingRanges(virtualHtmlDoc), ...angularFoldingRanges];\n+    const virtualScssDocContents \u003d getSCSSVirtualContent(sf);\n+    const virtualScssDoc \u003d TextDocument.create(\n+      params.textDocument.uri.toString(),\n+      \u0027scss\u0027,\n+      0,\n+      virtualScssDocContents,\n+    );\n+    return [\n+      ...htmlLS.getFoldingRanges(virtualHtmlDoc),\n+      ...scssLS.getFoldingRanges(virtualScssDoc),\n+      ...angularFoldingRanges,\n+    ];\n   }\n \n   private onDefinition(\ndiff --git a/vscode-ng-language-service/server/src/tests/embedded_support_spec.ts b/vscode-ng-language-service/server/src/tests/embedded_support_spec.ts\nindex 2af0083e..58882514 100644\n--- a/vscode-ng-language-service/server/src/tests/embedded_support_spec.ts\n+++ b/vscode-ng-language-service/server/src/tests/embedded_support_spec.ts\n@@ -8,7 +8,7 @@\n \n import * as ts from \u0027typescript\u0027;\n \n-import {getHTMLVirtualContent} from \u0027../embedded_support\u0027;\n+import {getHTMLVirtualContent, getSCSSVirtualContent} from \u0027../embedded_support\u0027;\n \n function assertEmbeddedHTMLContent(value: string, expectedContent: string): void {\n   const sf \u003d ts.createSourceFile(\u0027temp\u0027, value, ts.ScriptTarget.ESNext, true /* setParentNodes */);\n@@ -17,6 +17,13 @@ function assertEmbeddedHTMLContent(value: string, expectedContent: string): void\n   expect(virtualContent).toEqual(expectedContent);\n }\n \n+function assertEmbeddedSCSSContent(value: string, expectedContent: string): void {\n+  const sf \u003d ts.createSourceFile(\u0027temp\u0027, value, ts.ScriptTarget.ESNext, true /* setParentNodes */);\n+  const virtualContent \u003d getSCSSVirtualContent(sf);\n+\n+  expect(virtualContent).toEqual(expectedContent);\n+}\n+\n describe(\u0027server embedded support\u0027, () \u003d\u003e {\n   it(\u0027strips everything but the template string literal\u0027, () \u003d\u003e {\n     assertEmbeddedHTMLContent(\n@@ -41,4 +48,24 @@ describe(\u0027server embedded support\u0027, () \u003d\u003e {\n     // length and line break locations, our results will be just fine. It doesn\u0027t matter that we\n     // have an extra whitespace character at the end of the line for folding ranges.\n   });\n+\n+  describe(\u0027SCSS support\u0027, () \u003d\u003e {\n+    it(\u0027strips everything but the styles string literal\u0027, () \u003d\u003e {\n+      assertEmbeddedSCSSContent(\n+        `@Component({styles: [\u0027abc123\u0027]}) export class MyCmp`,\n+        `                      abc123                       `,\n+      );\n+    });\n+\n+    it(\u0027can locate multiple style literals\u0027, () \u003d\u003e {\n+      assertEmbeddedSCSSContent(\n+        `@Component({styles: [\u0027abc123\u0027, \u0027xyz789\u0027]})`,\n+        `                      abc123    xyz789    `,\n+      );\n+    });\n+\n+    it(\u0027can locate direct assignment to styles\u0027, () \u003d\u003e {\n+      assertEmbeddedSCSSContent(`@Component({styles: \u0027abc123\u0027})`, `                     abc123   `);\n+    });\n+  });\n });","expectedMessage":"feat(language-server): Add folding range support for inline styles","repository":"angular","commitHash":"26fd0839c32d2ebeaa5e3ecc10ed70ab9ca17749","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-27276374","diff":" .devcontainer/recommended-Dockerfile              | 17 +++++------------\n .devcontainer/recommended-devcontainer.json       | 11 ++++++-----\n .gitignore                                        |  3 +++\n contributing-docs/building-and-testing-angular.md | 16 ++++++++++++++++\n 4 files changed, 30 insertions(+), 17 deletions(-)\n\ndiff --git a/.devcontainer/recommended-Dockerfile b/.devcontainer/recommended-Dockerfile\nindex d1288512..0992ceb9 100644\n--- a/.devcontainer/recommended-Dockerfile\n+++ b/.devcontainer/recommended-Dockerfile\n@@ -1,23 +1,16 @@\n # Image metadata and config.\n # Ideally, the Node.js version should match what we use on CI.\n-FROM cimg/node:18.13.0@sha256:45d0ee279f522c4562a464df71108104cc9b2187205333ffd0707d4f05589731\n-\n+FROM cimg/node:22.21.1-browsers@sha256:eee8ed828d5a54196456a86ac6872c43325acad54e59632261e23b486c458992\n \n LABEL name\u003d\"Angular dev environment\" \\\n-      description\u003d\"This image can be used to create a dev environment for building Angular.\" \\\n-      vendor\u003d\"angular\" \\\n-      version\u003d\"1.0\"\n-\n-EXPOSE 4000 4200 4433 5000 8080 9876\n+  description\u003d\"This image can be used to create a dev environment for building Angular.\" \\\n+  vendor\u003d\"angular\" \\\n+  version\u003d\"1.0\"\n \n+EXPOSE 4200 4201 4205 4206 9876\n \n # Switch to `root`.\n USER root\n \n-\n-# Configure `Node.js`/`npm`.\n-RUN npm config --global set user root\n-\n-\n # Go! (And keep going.)\n CMD [\"tail\", \"--follow\", \"/dev/null\"]\ndiff --git a/.devcontainer/recommended-devcontainer.json b/.devcontainer/recommended-devcontainer.json\nindex 03a2e3b5..61316086 100644\n--- a/.devcontainer/recommended-devcontainer.json\n+++ b/.devcontainer/recommended-devcontainer.json\n@@ -2,10 +2,11 @@\n {\n   \"name\": \"Angular dev container\",\n   \"dockerFile\": \"Dockerfile\",\n-  \"appPort\": [4000, 4200, 4433, 5000, 8080, 9876],\n+  \"forwardPorts\": [4200, 4201, 4205, 4206, 9876],\n   \"postCreateCommand\": \"pnpm install\",\n-  \"extensions\": [\n-    \"devondcarew.bazel-code\",\n-    \"ms-vscode.vscode-typescript-tslint-plugin\"\n-  ],\n+  \"customizations\": {\n+    \"vscode\": {\n+      \"extensions\": [\"BazelBuild.vscode-bazel\", \"ms-vscode.vscode-typescript-tslint-plugin\"]\n+    }\n+  }\n }\ndiff --git a/.gitignore b/.gitignore\nindex 3a7c650d..a7b08fdc 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -54,3 +54,6 @@ baseline.json\n \n # Ignore cache created with the Angular CLI.\n .angular/\n+\n+# pnpm store\n+.pnpm-store\ndiff --git a/contributing-docs/building-and-testing-angular.md b/contributing-docs/building-and-testing-angular.md\nindex fe304b44..2d3264e6 100644\n--- a/contributing-docs/building-and-testing-angular.md\n+++ b/contributing-docs/building-and-testing-angular.md\n@@ -5,6 +5,7 @@ It also explains the basic mechanics of using `git`, `node`, and `pnpm`.\n \n - [Building and Testing Angular](#building-and-testing-angular)\n   - [Prerequisite Software](#prerequisite-software)\n+  - [Development in a Container](#development-in-a-container)\n   - [Getting the Sources](#getting-the-sources)\n   - [Installing NPM Modules](#installing-npm-modules)\n   - [Building](#building)\n@@ -52,6 +53,21 @@ following on your development machine:\n - On Windows: [MSYS2](https://www.msys2.org/) which is used by Bazel. Follow\n   the [instructions](https://bazel.build/install/windows#installing-compilers-and-language-runtimes)\n \n+## Development in a Container\n+\n+You can also use the provided [Dev Container](https://containers.dev/) configuration to set up a development environment. This approach uses Docker to create a container with all the necessary tools (Node.js, pnpm, etc.) pre-installed.\n+\n+**Prerequisites:**\n+\n+- [Docker Desktop](https://www.docker.com/products/docker-desktop)\n+- [VS Code](https://code.visualstudio.com/)\n+- [Dev Containers extension](https://marketplace.visualstudio.com/items?itemName\u003dms-vscode-remote.remote-containers)\n+\n+**Usage:**\n+\n+1. Open the Angular repository in VS Code.\n+2. Run the **Dev Containers: Reopen in Container** command from the Command Palette (`Ctrl+Shift+P` or `Cmd+Shift+P`).\n+\n ## Getting the Sources\n \n Fork and clone the Angular repository:","expectedMessage":"build: update dev container configuration","repository":"angular","commitHash":"27276374ab4f8af00fe5b6c8b18aca9e9f2af3da","metadata":{"author":"Mikhail Efanov \u003ccataha319@gmail.com\u003e"}}
{"id":"angular-f53f878e","diff":" adev/shared-docs/styles/_reference.scss | 4 ++--\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/adev/shared-docs/styles/_reference.scss b/adev/shared-docs/styles/_reference.scss\nindex 1538df84..89f7eec4 100644\n--- a/adev/shared-docs/styles/_reference.scss\n+++ b/adev/shared-docs/styles/_reference.scss\n@@ -64,10 +64,10 @@\n   }\n \n   .docs-reference-section-heading {\n-    padding-block-start: 3rem;\n+    margin-block-start: 3rem;\n \n     \u0026--sub {\n-      padding-block-start: 1rem;\n+      margin-block-start: 1rem;\n     }\n \n     \u0026 \u003e a {","expectedMessage":"fix(docs-infra): use margin instead of padding to prevent heading hover overflow","repository":"angular","commitHash":"f53f878e0fdf658bd6bcdd8c349229324f8fd437","metadata":{"author":"Shuaib Hasan Akib \u003cakibh805@gmail.com\u003e"}}
{"id":"angular-8bdd98ef","diff":" .../pipeline/api-gen/rendering/entities.mts        |  3 ++\n .../api-gen/rendering/entities/categorization.mts  |  9 ++++++\n .../api-gen/rendering/entities/renderables.mts     |  4 +++\n .../pipeline/api-gen/rendering/processing.mts      |  5 +++\n .../pipeline/api-gen/rendering/rendering.mts       |  5 +++\n .../rendering/templates/block-reference.tsx        | 23 ++++++++++++++\n .../api-gen/rendering/templates/header-api.tsx     | 15 +++++----\n .../rendering/transforms/block-transforms.mts      | 36 ++++++++++++++++++++++\n 8 files changed, 94 insertions(+), 6 deletions(-)\n\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/entities.mts b/adev/shared-docs/pipeline/api-gen/rendering/entities.mts\nindex ce784693..7b2ab7ed 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/entities.mts\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/entities.mts\n@@ -161,6 +161,9 @@ export type FunctionEntry \u003d FunctionDefinitionEntry \u0026\n     implementation: FunctionSignatureMetadata;\n   };\n \n+/** Documentation entity for a block. */\n+export interface BlockEntry extends DocEntry {}\n+\n /** Interface describing a function with overload signatures. */\n export interface FunctionDefinitionEntry {\n   name: string;\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/entities/categorization.mts b/adev/shared-docs/pipeline/api-gen/rendering/entities/categorization.mts\nindex 9c82e58e..02f51035 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/entities/categorization.mts\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/entities/categorization.mts\n@@ -7,6 +7,7 @@\n  */\n \n import {\n+  BlockEntry,\n   ClassEntry,\n   ConstantEntry,\n   DecoratorEntry,\n@@ -27,6 +28,7 @@ import {\n import {CliCommand} from \u0027../cli-entities.mjs\u0027;\n \n import {\n+  BlockEntryRenderable,\n   ClassEntryRenderable,\n   ConstantEntryRenderable,\n   DecoratorEntryRenderable,\n@@ -107,6 +109,13 @@ export function isFunctionEntry(entry: DocEntry): entry is FunctionEntry {\n   return entry.entryType \u003d\u003d\u003d EntryType.Function;\n }\n \n+/** Gets whether the given entry represents a block */\n+export function isBlockEntry(entry: DocEntryRenderable): entry is BlockEntryRenderable;\n+export function isBlockEntry(entry: DocEntry): entry is BlockEntry;\n+export function isBlockEntry(entry: DocEntry): entry is BlockEntry {\n+  return entry.entryType \u003d\u003d\u003d EntryType.Block;\n+}\n+\n export function isInitializerApiFunctionEntry(\n   entry: DocEntryRenderable,\n ): entry is InitializerApiFunctionRenderable;\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/entities/renderables.mts b/adev/shared-docs/pipeline/api-gen/rendering/entities/renderables.mts\nindex 322f7e87..bbfeb216 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/entities/renderables.mts\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/entities/renderables.mts\n@@ -21,6 +21,7 @@ import {\n   ParameterEntry,\n   PipeEntry,\n   TypeAliasEntry,\n+  EntryType,\n } from \u0027../entities.mjs\u0027;\n \n import {CliCommand, CliOption} from \u0027../cli-entities.mjs\u0027;\n@@ -106,6 +107,9 @@ export type FunctionSignatureMetadataRenderable \u003d FunctionSignatureMetadata \u0026\n     params: ParameterEntryRenderable[];\n   };\n \n+/** Documentation entity for a block augmented with transformed content for rendering. */\n+export type BlockEntryRenderable \u003d DocEntry \u0026 DocEntryRenderable;\n+\n /** Sub-entry for a single class or enum member augmented with transformed content for rendering. */\n export interface MemberEntryRenderable extends MemberEntry {\n   htmlDescription: string;\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/processing.mts b/adev/shared-docs/pipeline/api-gen/rendering/processing.mts\nindex 03862f9c..14230c17 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/processing.mts\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/processing.mts\n@@ -19,6 +19,7 @@ import {\n   isInitializerApiFunctionEntry,\n   isInterfaceEntry,\n   isTypeAliasEntry,\n+  isBlockEntry,\n } from \u0027./entities/categorization.mjs\u0027;\n import {CliCommandRenderable, DocEntryRenderable} from \u0027./entities/renderables.mjs\u0027;\n import {getClassRenderable} from \u0027./transforms/class-transforms.mjs\u0027;\n@@ -39,6 +40,7 @@ import {\n import {addModuleName} from \u0027./transforms/module-name.mjs\u0027;\n import {addRepo} from \u0027./transforms/repo.mjs\u0027;\n import {getTypeAliasRenderable} from \u0027./transforms/type-alias-transforms.mjs\u0027;\n+import {getBlockRenderable} from \u0027./transforms/block-transforms.mjs\u0027;\n \n export async function getRenderable(\n   entry: DocEntry | CliCommand,\n@@ -73,6 +75,9 @@ export async function getRenderable(\n   if (isInitializerApiFunctionEntry(entry)) {\n     return getInitializerApiFunctionRenderable(entry, moduleName, repo);\n   }\n+  if (isBlockEntry(entry)) {\n+    return getBlockRenderable(entry, moduleName, repo);\n+  }\n \n   // Fallback to an uncategorized renderable.\n   return setEntryFlags(\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/rendering.mts b/adev/shared-docs/pipeline/api-gen/rendering/rendering.mts\nindex d223ac0c..4f997ef2 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/rendering.mts\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/rendering.mts\n@@ -18,6 +18,7 @@ import {\n   isInitializerApiFunctionEntry,\n   isInterfaceEntry,\n   isTypeAliasEntry,\n+  isBlockEntry,\n } from \u0027./entities/categorization.mjs\u0027;\n import {CliCommandRenderable, DocEntryRenderable} from \u0027./entities/renderables.mjs\u0027;\n import {ClassReference} from \u0027./templates/class-reference\u0027;\n@@ -30,6 +31,7 @@ import {InitializerApiFunction} from \u0027./templates/initializer-api-function\u0027;\n import {TypeAliasReference} from \u0027./templates/type-alias-reference\u0027;\n import {DecoratorReference} from \u0027./templates/decorator-reference\u0027;\n import {setCurrentSymbol} from \u0027./symbol-context.mjs\u0027;\n+import {BlockReference} from \u0027./templates/block-reference\u0027;\n \n /** Given a doc entry, get the transformed version of the entry for rendering. */\n export function renderEntry(renderable: DocEntryRenderable | CliCommandRenderable): string {\n@@ -59,6 +61,9 @@ export function renderEntry(renderable: DocEntryRenderable | CliCommandRenderabl\n   if (isInitializerApiFunctionEntry(renderable)) {\n     return render(InitializerApiFunction(renderable));\n   }\n+  if (isBlockEntry(renderable)) {\n+    return render(BlockReference(renderable));\n+  }\n \n   // Fall back rendering nothing while in development.\n   return render(DocsReference(renderable));\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/templates/block-reference.tsx b/adev/shared-docs/pipeline/api-gen/rendering/templates/block-reference.tsx\nnew file mode 100644\nindex 00000000..79096223\n--- /dev/null\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/templates/block-reference.tsx\n@@ -0,0 +1,23 @@\n+/*!\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.dev/license\n+ */\n+\n+import {h} from \u0027preact\u0027;\n+import {BlockEntryRenderable} from \u0027../entities/renderables.mjs\u0027;\n+import {HeaderApi} from \u0027./header-api\u0027;\n+import {RawHtml} from \u0027./raw-html\u0027;\n+import {API_REFERENCE_CONTAINER} from \u0027../styling/css-classes.mjs\u0027;\n+\n+/** Component to render a block API reference document. */\n+export function BlockReference(entry: BlockEntryRenderable) {\n+  return (\n+    \u003cdiv className\u003d{API_REFERENCE_CONTAINER}\u003e\n+      \u003cHeaderApi entry\u003d{entry} hideDescription\u003d{true} /\u003e\n+      \u003cRawHtml value\u003d{entry.htmlDescription} /\u003e\n+    \u003c/div\u003e\n+  );\n+}\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/templates/header-api.tsx b/adev/shared-docs/pipeline/api-gen/rendering/templates/header-api.tsx\nindex cfdcc84b..5d0d2289 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/templates/header-api.tsx\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/templates/header-api.tsx\n@@ -21,6 +21,7 @@ import {DocsPillRow} from \u0027./docs-pill-row\u0027;\n export function HeaderApi(props: {\n   entry: DocEntryRenderable | PipeEntryRenderable;\n   showFullDescription?: boolean;\n+  hideDescription?: boolean;\n }) {\n   const entry \u003d props.entry;\n \n@@ -60,12 +61,14 @@ export function HeaderApi(props: {\n         )}\n       \u003c/div\u003e\n \n-      \u003csection\n-        className\u003d{\u0027docs-reference-description\u0027}\n-        dangerouslySetInnerHTML\u003d{{\n-          __html: props.showFullDescription ? entry.htmlDescription : entry.shortHtmlDescription,\n-        }}\n-      \u003e\u003c/section\u003e\n+      {!props.hideDescription \u0026\u0026 (\n+        \u003csection\n+          className\u003d{\u0027docs-reference-description\u0027}\n+          dangerouslySetInnerHTML\u003d{{\n+            __html: props.showFullDescription ? entry.htmlDescription : entry.shortHtmlDescription,\n+          }}\n+        \u003e\u003c/section\u003e\n+      )}\n \n       \u003cDocsPillRow links\u003d{entry.additionalLinks} /\u003e\n     \u003c/header\u003e\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/transforms/block-transforms.mts b/adev/shared-docs/pipeline/api-gen/rendering/transforms/block-transforms.mts\nnew file mode 100644\nindex 00000000..a77386d5\n--- /dev/null\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/transforms/block-transforms.mts\n@@ -0,0 +1,36 @@\n+/*!\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.dev/license\n+ */\n+\n+import {DocEntry} from \u0027../entities.mjs\u0027;\n+import {BlockEntryRenderable} from \u0027../entities/renderables.mjs\u0027;\n+import {\n+  addHtmlAdditionalLinks,\n+  addHtmlDescription,\n+  addHtmlJsDocTagComments,\n+  addHtmlUsageNotes,\n+  setEntryFlags,\n+} from \u0027./jsdoc-transforms.mjs\u0027;\n+import {addModuleName} from \u0027./module-name.mjs\u0027;\n+import {addRepo} from \u0027./repo.mjs\u0027;\n+\n+/** Given an unprocessed block entry, get the fully renderable block entry. */\n+export function getBlockRenderable(\n+  blockEntry: DocEntry,\n+  moduleName: string,\n+  repo: string,\n+): BlockEntryRenderable {\n+  return setEntryFlags(\n+    addHtmlAdditionalLinks(\n+      addHtmlDescription(\n+        addHtmlUsageNotes(\n+          addHtmlJsDocTagComments(addRepo(addModuleName(blockEntry, moduleName), repo)),\n+        ),\n+      ),\n+    ),\n+  );\n+}","expectedMessage":"fix(docs-infra): prevent duplicate description rendering for block API entries","repository":"angular","commitHash":"8bdd98ef41141d7b21643fcb3d9b2a745a8a85c1","metadata":{"author":"Shuaib Hasan Akib \u003cakibh805@gmail.com\u003e"}}
{"id":"angular-933ca9e5","diff":" adev/src/content/guide/signals/overview.md | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/guide/signals/overview.md b/adev/src/content/guide/signals/overview.md\nindex cffc0924..7180209b 100644\n--- a/adev/src/content/guide/signals/overview.md\n+++ b/adev/src/content/guide/signals/overview.md\n@@ -188,7 +188,7 @@ effect(() \u003d\u003e {\n \n ## Advanced derivations\n \n-While `computed` handles simple readonly derivations, you might find youself needing a writable state that is dependant on other signals.\n+While `computed` handles simple readonly derivations, you might find yourself needing a writable state that is dependant on other signals.\n For more information see the [Dependent state with linkedSignal](/guide/signals/linked-signal) guide.\n \n All signal APIs are synchronous— `signal`, `computed`, `input`, etc. However, applications often need to deal with data that is available asynchronously. A `Resource` gives you a way to incorporate async data into your application\u0027s signal-based code and still allow you to access its data synchronously. For more information see the [Async reactivity with resources](/guide/signals/resource) guide.","expectedMessage":"docs: fix spelling mistake in documentation","repository":"angular","commitHash":"933ca9e5dce1b0439a8c923459f2f16d7b5a27c8","metadata":{"author":"Roshith \u003c107235573+roshith844@users.noreply.github.com\u003e"}}
{"id":"angular-4d6a6aaf","diff":" .ng-dev/github.mjs | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/.ng-dev/github.mjs b/.ng-dev/github.mjs\nindex 57b58572..8df9dcd8 100644\n--- a/.ng-dev/github.mjs\n+++ b/.ng-dev/github.mjs\n@@ -9,4 +9,5 @@ export const github \u003d {\n   name: \u0027angular\u0027,\n   mainBranchName: \u0027main\u0027,\n   mergeMode: \u0027caretaker-only\u0027,\n+  requireReleaseModeForRelease: true,\n };","expectedMessage":"build: begin requring usage of release mode for releases","repository":"angular","commitHash":"4d6a6aafeecc0449025b3ad94c08223770af1b97","metadata":{"author":"Joey Perrott \u003cjosephperrott@gmail.com\u003e"}}
{"id":"angular-4a76058b","diff":" .github/actions/saucelabs-legacy/action.yml        |  4 +-\n .github/workflows/adev-preview-build.yml           |  8 ++--\n .github/workflows/adev-preview-deploy.yml          |  2 +-\n .../workflows/assistant-to-the-branch-manager.yml  |  2 +-\n .github/workflows/benchmark-compare.yml            |  2 +-\n .github/workflows/ci.yml                           | 50 +++++++++++-----------\n .github/workflows/dev-infra.yml                    |  4 +-\n .github/workflows/google-internal-tests.yml        |  2 +-\n .github/workflows/manual.yml                       |  8 ++--\n .github/workflows/merge-ready-status.yml           |  2 +-\n .github/workflows/perf.yml                         |  6 +--\n .github/workflows/pr.yml                           | 40 ++++++++---------\n MODULE.bazel                                       |  2 +-\n package.json                                       |  2 +-\n pnpm-lock.yaml                                     | 12 +++---\n 15 files changed, 73 insertions(+), 73 deletions(-)\n\ndiff --git a/.github/actions/saucelabs-legacy/action.yml b/.github/actions/saucelabs-legacy/action.yml\nindex f4d2e324..b6046347 100644\n--- a/.github/actions/saucelabs-legacy/action.yml\n+++ b/.github/actions/saucelabs-legacy/action.yml\n@@ -5,9 +5,9 @@ runs:\n   using: \u0027composite\u0027\n   steps:\n     - name: Setup Bazel\n-      uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+      uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n     - name: Setup Saucelabs Variables\n-      uses: angular/dev-infra/github-actions/saucelabs@74db0cd6da7fe89807133854c645ed02c9980566\n+      uses: angular/dev-infra/github-actions/saucelabs@8ce8257f740613a7291256173e2706fb2ed8aefa\n     - name: Starting Saucelabs tunnel service\n       shell: bash\n       run: ./tools/saucelabs/sauce-service.sh run \u0026\ndiff --git a/.github/workflows/adev-preview-build.yml b/.github/workflows/adev-preview-build.yml\nindex 85507172..44ece322 100644\n--- a/.github/workflows/adev-preview-build.yml\n+++ b/.github/workflows/adev-preview-build.yml\n@@ -21,17 +21,17 @@ jobs:\n       (github.event.action \u003d\u003d \u0027synchronize\u0027 \u0026\u0026 contains(github.event.pull_request.labels.*.name, \u0027adev: preview\u0027))\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\n         # `snapshot-build` config is used to stamp the exact version with sha in the footer.\n         run: pnpm bazel build //adev:build.production --config\u003dsnapshot-build\n-      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@74db0cd6da7fe89807133854c645ed02c9980566\n+      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           workflow-artifact-name: \u0027adev-preview\u0027\n           pull-number: \u0027${{github.event.pull_request.number}}\u0027\ndiff --git a/.github/workflows/adev-preview-deploy.yml b/.github/workflows/adev-preview-deploy.yml\nindex 72203765..1b7ee8e3 100644\n--- a/.github/workflows/adev-preview-deploy.yml\n+++ b/.github/workflows/adev-preview-deploy.yml\n@@ -40,7 +40,7 @@ jobs:\n           npx -y firebase-tools@latest target:clear --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs\n           npx -y firebase-tools@latest target:apply --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs ${{env.PREVIEW_SITE}}\n \n-      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@74db0cd6da7fe89807133854c645ed02c9980566\n+      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           github-token: \u0027${{secrets.GITHUB_TOKEN}}\u0027\n           workflow-artifact-name: \u0027adev-preview\u0027\ndiff --git a/.github/workflows/assistant-to-the-branch-manager.yml b/.github/workflows/assistant-to-the-branch-manager.yml\nindex b310fb73..60208dd0 100644\n--- a/.github/workflows/assistant-to-the-branch-manager.yml\n+++ b/.github/workflows/assistant-to-the-branch-manager.yml\n@@ -17,6 +17,6 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n         with:\n           persist-credentials: false\n-      - uses: angular/dev-infra/github-actions/branch-manager@74db0cd6da7fe89807133854c645ed02c9980566\n+      - uses: angular/dev-infra/github-actions/branch-manager@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/benchmark-compare.yml b/.github/workflows/benchmark-compare.yml\nindex ed4d6966..d1dda15a 100644\n--- a/.github/workflows/benchmark-compare.yml\n+++ b/.github/workflows/benchmark-compare.yml\n@@ -38,7 +38,7 @@ jobs:\n \n       - run: pnpm install --frozen-lockfile\n \n-      - uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+      - uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           bazelrc: ./.bazelrc.user\n \ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 168335f8..f5dc4b85 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -21,7 +21,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -39,13 +39,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -67,11 +67,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -83,11 +83,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -100,11 +100,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -119,11 +119,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -136,11 +136,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: echo \"https://${{secrets.SNAPSHOT_BUILDS_GITHUB_TOKEN}}:@github.com\" \u003e ${HOME}/.git_credentials\n@@ -152,11 +152,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -206,11 +206,11 @@ jobs:\n     runs-on: ubuntu-latest-8core\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\ndiff --git a/.github/workflows/dev-infra.yml b/.github/workflows/dev-infra.yml\nindex b8bc229c..1e7e5cdb 100644\n--- a/.github/workflows/dev-infra.yml\n+++ b/.github/workflows/dev-infra.yml\n@@ -13,13 +13,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/pull-request-labeling@74db0cd6da7fe89807133854c645ed02c9980566\n+      - uses: angular/dev-infra/github-actions/pull-request-labeling@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\n   post_approval_changes:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/post-approval-changes@74db0cd6da7fe89807133854c645ed02c9980566\n+      - uses: angular/dev-infra/github-actions/post-approval-changes@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/google-internal-tests.yml b/.github/workflows/google-internal-tests.yml\nindex 6e26a891..f780dfb0 100644\n--- a/.github/workflows/google-internal-tests.yml\n+++ b/.github/workflows/google-internal-tests.yml\n@@ -14,7 +14,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/google-internal-tests@74db0cd6da7fe89807133854c645ed02c9980566\n+      - uses: angular/dev-infra/github-actions/google-internal-tests@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           run-tests-guide-url: http://go/angular-g3sync-start\n           github-token: ${{ secrets.GITHUB_TOKEN }}\ndiff --git a/.github/workflows/manual.yml b/.github/workflows/manual.yml\nindex 2f41b97b..d1034060 100644\n--- a/.github/workflows/manual.yml\n+++ b/.github/workflows/manual.yml\n@@ -13,15 +13,15 @@ jobs:\n       JOBS: 2\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Saucelabs Variables\n-        uses: angular/dev-infra/github-actions/saucelabs@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/saucelabs@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Set up Sauce Tunnel Daemon\n         run: pnpm bazel run //tools/saucelabs-daemon/background-service -- $JOBS \u0026\n         env:\ndiff --git a/.github/workflows/merge-ready-status.yml b/.github/workflows/merge-ready-status.yml\nindex ed33b15a..f781cf4d 100644\n--- a/.github/workflows/merge-ready-status.yml\n+++ b/.github/workflows/merge-ready-status.yml\n@@ -9,6 +9,6 @@ jobs:\n   status:\n     runs-on: ubuntu-latest\n     steps:\n-      - uses: angular/dev-infra/github-actions/unified-status-check@74db0cd6da7fe89807133854c645ed02c9980566\n+      - uses: angular/dev-infra/github-actions/unified-status-check@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/perf.yml b/.github/workflows/perf.yml\nindex bebccf85..45751a84 100644\n--- a/.github/workflows/perf.yml\n+++ b/.github/workflows/perf.yml\n@@ -21,7 +21,7 @@ jobs:\n       workflows: ${{ steps.workflows.outputs.workflows }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - id: workflows\n@@ -36,9 +36,9 @@ jobs:\n         workflow: ${{ fromJSON(needs.list.outputs.workflows) }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       # We utilize the google-github-actions/auth action to allow us to get an active credential using workflow\ndiff --git a/.github/workflows/pr.yml b/.github/workflows/pr.yml\nindex ceb4af17..f433f813 100644\n--- a/.github/workflows/pr.yml\n+++ b/.github/workflows/pr.yml\n@@ -19,7 +19,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -37,7 +37,7 @@ jobs:\n       - name: Check code format\n         run: pnpm ng-dev format changed --check ${{ github.event.pull_request.base.sha }}\n       - name: Check Package Licenses\n-        uses: angular/dev-infra/github-actions/linting/licenses@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/linting/licenses@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           allow-dependencies-licenses: \u0027pkg:npm/google-protobuf@\u0027\n \n@@ -45,13 +45,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run unit tests\n@@ -71,11 +71,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run CI tests for framework\n@@ -95,11 +95,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run integration CI tests for framework\n@@ -110,11 +110,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -127,11 +127,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -142,11 +142,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/setup@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@8ce8257f740613a7291256173e2706fb2ed8aefa\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: |\ndiff --git a/MODULE.bazel b/MODULE.bazel\nindex 46fad448..c28f53c7 100644\n--- a/MODULE.bazel\n+++ b/MODULE.bazel\n@@ -25,7 +25,7 @@ git_override(\n bazel_dep(name \u003d \"devinfra\")\n git_override(\n     module_name \u003d \"devinfra\",\n-    commit \u003d \"74db0cd6da7fe89807133854c645ed02c9980566\",\n+    commit \u003d \"8ce8257f740613a7291256173e2706fb2ed8aefa\",\n     remote \u003d \"https://github.com/angular/dev-infra.git\",\n )\n \ndiff --git a/package.json b/package.json\nindex 50e3015d..394bba95 100644\n--- a/package.json\n+++ b/package.json\n@@ -163,7 +163,7 @@\n     \"@actions/core\": \"^2.0.0\",\n     \"@actions/github\": \"^7.0.0\",\n     \"@angular-devkit/architect-cli\": \"0.2101.0-rc.0\",\n-    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#8538b565cd4eb980c7143590335216ebb64dd54f\",\n+    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#486b075a283ef0c169475b981de1bd229114a000\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\n     \"@babel/plugin-transform-async-generator-functions\": \"^7.27.1\",\n     \"@bazel/bazelisk\": \"^1.7.5\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex b092da8a..17bf3a1a 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -342,8 +342,8 @@ importers:\n         specifier: 0.2101.0-rc.0\n         version: 0.2101.0-rc.0(chokidar@5.0.0)\n       \u0027@angular/ng-dev\u0027:\n-        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#8538b565cd4eb980c7143590335216ebb64dd54f\n-        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/8538b565cd4eb980c7143590335216ebb64dd54f(@modelcontextprotocol/sdk@1.25.2)\n+        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#486b075a283ef0c169475b981de1bd229114a000\n+        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/486b075a283ef0c169475b981de1bd229114a000(@modelcontextprotocol/sdk@1.25.2)\n       \u0027@babel/plugin-proposal-async-generator-functions\u0027:\n         specifier: 7.20.7\n         version: 7.20.7(@babel/core@7.28.5)\n@@ -1698,9 +1698,9 @@ packages:\n       \u0027@angular/platform-browser\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n       rxjs: ^6.5.3 || ^7.4.0\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/8538b565cd4eb980c7143590335216ebb64dd54f\u0027:\n-    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/8538b565cd4eb980c7143590335216ebb64dd54f}\n-    version: 0.0.0-74db0cd6da7fe89807133854c645ed02c9980566\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/486b075a283ef0c169475b981de1bd229114a000\u0027:\n+    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/486b075a283ef0c169475b981de1bd229114a000}\n+    version: 0.0.0-8ce8257f740613a7291256173e2706fb2ed8aefa\n     hasBin: true\n \n   \u0027@angular/ssr@21.1.0-rc.0\u0027:\n@@ -13943,7 +13943,7 @@ snapshots:\n       rxjs: 7.8.2\n       tslib: 2.8.1\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/8538b565cd4eb980c7143590335216ebb64dd54f(@modelcontextprotocol/sdk@1.25.2)\u0027:\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/486b075a283ef0c169475b981de1bd229114a000(@modelcontextprotocol/sdk@1.25.2)\u0027:\n     dependencies:\n       \u0027@actions/core\u0027: 2.0.1\n       \u0027@google-cloud/spanner\u0027: 8.0.0(supports-color@10.2.2)","expectedMessage":"build: update cross-repo angular dependencies","repository":"angular","commitHash":"4a76058bafb4df7376e074073fe5ad05f48e5033","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-4d983e99","diff":" adev/package.json                                   |  2 +-\n .../src/app/editor/terminal/interactive-terminal.ts | 15 +++++++++++++--\n .../app/editor/terminal/terminal-handler.service.ts | 21 ++++++++++++++++-----\n pnpm-lock.yaml                                      | 10 +++++-----\n 4 files changed, 35 insertions(+), 13 deletions(-)\n\ndiff --git a/adev/package.json b/adev/package.json\nindex 6d977a33..39788126 100644\n--- a/adev/package.json\n+++ b/adev/package.json\n@@ -48,7 +48,7 @@\n     \"@typescript/vfs\": \"1.6.2\",\n     \"@webcontainer/api\": \"1.6.1\",\n     \"@xterm/addon-fit\": \"0.11.0\",\n-    \"@xterm/xterm\": \"5.5.0\",\n+    \"@xterm/xterm\": \"6.0.0\",\n     \"algoliasearch\": \"5.46.2\",\n     \"angular-split\": \"20.0.0\",\n     \"crelt\": \"1.0.6\",\ndiff --git a/adev/src/app/editor/terminal/interactive-terminal.ts b/adev/src/app/editor/terminal/interactive-terminal.ts\nindex 33ed288c..cc95de50 100644\n--- a/adev/src/app/editor/terminal/interactive-terminal.ts\n+++ b/adev/src/app/editor/terminal/interactive-terminal.ts\n@@ -7,7 +7,7 @@\n  */\n \n import {Subject} from \u0027rxjs\u0027;\n-import {Terminal} from \u0027@xterm/xterm\u0027;\n+import {Terminal, ITerminalOptions, ITerminalInitOnlyOptions} from \u0027@xterm/xterm\u0027;\n \n import {CommandValidator} from \u0027./command-validator.service\u0027;\n \n@@ -21,6 +21,16 @@ export const ALLOWED_KEYS: Array\u003cKeyboardEvent[\u0027key\u0027]\u003e \u003d [\n   \u0027ArrowDown\u0027,\n ];\n \n+/** Set of defaults to use for all terminal instances in adev. */\n+export const adevTerminalDefaultOptions: ITerminalOptions \u003d {\n+  convertEol: true,\n+  theme: {\n+    background: \u0027#00000000\u0027,\n+  },\n+  fontFamily: \u0027courier-new, courier, monospace\u0027,\n+  fontSize: 15,\n+};\n+\n export class InteractiveTerminal extends Terminal {\n   private readonly breakProcess \u003d new Subject\u003cvoid\u003e();\n \n@@ -28,10 +38,11 @@ export class InteractiveTerminal extends Terminal {\n   breakProcess$ \u003d this.breakProcess.asObservable();\n \n   constructor(\n+    options: ITerminalOptions \u0026 ITerminalInitOnlyOptions,\n     readonly window: Window,\n     readonly commandValidator: CommandValidator,\n   ) {\n-    super({convertEol: true, disableStdin: false});\n+    super(options);\n \n     // bypass command validation if sudo\u003dtrue is present in the query string\n     if (!this.window.location.search.includes(\u0027sudo\u003dtrue\u0027)) {\ndiff --git a/adev/src/app/editor/terminal/terminal-handler.service.ts b/adev/src/app/editor/terminal/terminal-handler.service.ts\nindex 2ae13380..9bdb8dac 100644\n--- a/adev/src/app/editor/terminal/terminal-handler.service.ts\n+++ b/adev/src/app/editor/terminal/terminal-handler.service.ts\n@@ -9,7 +9,7 @@\n import {computed, inject, Injectable, signal, Signal, untracked} from \u0027@angular/core\u0027;\n import {Terminal} from \u0027@xterm/xterm\u0027;\n import {FitAddon} from \u0027@xterm/addon-fit\u0027;\n-import {InteractiveTerminal} from \u0027./interactive-terminal\u0027;\n+import {InteractiveTerminal, adevTerminalDefaultOptions} from \u0027./interactive-terminal\u0027;\n import {WINDOW} from \u0027@angular/docs\u0027;\n import {CommandValidator} from \u0027./command-validator.service\u0027;\n \n@@ -28,11 +28,18 @@ export class TerminalHandler {\n     // Because colors are parsed\n     // See https://github.com/xtermjs/xterm.js/blob/854e2736f66ca3e5d3ab5a7b65bf3fd6fba8b707/src/browser/services/ThemeService.ts#L125\n     [TerminalType.READONLY]: signal({\n-      instance: new Terminal({convertEol: true, disableStdin: true}),\n+      instance: new Terminal({\n+        ...adevTerminalDefaultOptions,\n+        disableStdin: true,\n+      }),\n       fitAddon: new FitAddon(),\n     }),\n     [TerminalType.INTERACTIVE]: signal({\n-      instance: new InteractiveTerminal(this.window, this.commandValidator),\n+      instance: new InteractiveTerminal(\n+        adevTerminalDefaultOptions,\n+        this.window,\n+        this.commandValidator,\n+      ),\n       fitAddon: new FitAddon(),\n     }),\n   };\n@@ -59,10 +66,14 @@ export class TerminalHandler {\n       instance.dispose();\n       fitAddon \u003d new FitAddon();\n       if (type \u003d\u003d\u003d TerminalType.READONLY) {\n-        instance \u003d new Terminal({convertEol: true, disableStdin: true});\n+        instance \u003d new Terminal({...adevTerminalDefaultOptions, disableStdin: true});\n         this.terminals[type].set({instance, fitAddon});\n       } else {\n-        const newInstance \u003d new InteractiveTerminal(this.window, this.commandValidator);\n+        const newInstance \u003d new InteractiveTerminal(\n+          adevTerminalDefaultOptions,\n+          this.window,\n+          this.commandValidator,\n+        );\n         instance \u003d newInstance;\n         this.terminals[type].set({instance: newInstance, fitAddon});\n       }\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 9aa0bc63..b092da8a 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -609,8 +609,8 @@ importers:\n         specifier: 0.11.0\n         version: 0.11.0\n       \u0027@xterm/xterm\u0027:\n-        specifier: 5.5.0\n-        version: 5.5.0\n+        specifier: 6.0.0\n+        version: 6.0.0\n       algoliasearch:\n         specifier: 5.46.2\n         version: 5.46.2\n@@ -5770,8 +5770,8 @@ packages:\n   \u0027@xterm/addon-fit@0.11.0\u0027:\n     resolution: {integrity: sha512-jYcgT6xtVYhnhgxh3QgYDnnNMYTcf8ElbxxFzX0IZo+vabQqSPAjC3c1wJrKB5E19VwQei89QCiZZP86DCPF7g\u003d\u003d}\n \n-  \u0027@xterm/xterm@5.5.0\u0027:\n-    resolution: {integrity: sha512-hqJHYaQb5OptNunnyAnkHyM8aCjZ1MEIDTQu1iIbbTD/xops91NB5yq1ZK/dC2JDbVWtF23zUtl9JE2NqwT87A\u003d\u003d}\n+  \u0027@xterm/xterm@6.0.0\u0027:\n+    resolution: {integrity: sha512-TQwDdQGtwwDt+2cgKDLn0IRaSxYu1tSUjgKarSDkUM0ZNiSRXFpjxEsvc/Zgc5kq5omJ+V0a8/kIM2WD3sMOYg\u003d\u003d}\n \n   \u0027@xtuc/ieee754@1.2.0\u0027:\n     resolution: {integrity: sha512-DX8nKgqcGwsc0eJSqYt5lwP4DH5FlHnmuWWBRy7X0NcaGR0ZtuyeESgMwTYVEtxmsNGY+qit4QYT/MIYTOTPeA\u003d\u003d}\n@@ -18723,7 +18723,7 @@ snapshots:\n \n   \u0027@xterm/addon-fit@0.11.0\u0027: {}\n \n-  \u0027@xterm/xterm@5.5.0\u0027: {}\n+  \u0027@xterm/xterm@6.0.0\u0027: {}\n \n   \u0027@xtuc/ieee754@1.2.0\u0027: {}\n ","expectedMessage":"build(docs-infra): Update dependency @xterm/xterm to v6","repository":"angular","commitHash":"4d983e9904d16a209ce2c97156636d67752a3b89","metadata":{"author":"Angelo Parziale \u003cangeloparziale94@gmail.com\u003e"}}
{"id":"angular-c63bc58e","diff":" adev/src/content/guide/components/queries.md | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/guide/components/queries.md b/adev/src/content/guide/components/queries.md\nindex eb0ac018..badbc171 100644\n--- a/adev/src/content/guide/components/queries.md\n+++ b/adev/src/content/guide/components/queries.md\n@@ -107,7 +107,7 @@ By default, content queries find only _direct_ children of the component and do\n \n You can also query for multiple results with the `contentChildren` function.\n \n-```angular-ts {highlight: [14, 16, 17, 18, 19, 20]}\n+```angular-ts {highlight: [15, 16]}\n @Component({\n   selector: \u0027custom-menu-item\u0027,\n   /*...*/","expectedMessage":"docs: correct line number highlighting in query examples","repository":"angular","commitHash":"c63bc58e0f1828a0133460cfd05cfdb97252db57","metadata":{"author":"Shuaib Hasan Akib \u003cakibh805@gmail.com\u003e"}}
{"id":"angular-e38c1bf7","diff":" packages/common/http/src/xsrf.ts | 1 -\n 1 file changed, 1 deletion(-)\n\ndiff --git a/packages/common/http/src/xsrf.ts b/packages/common/http/src/xsrf.ts\nindex f6e485e4..c893474d 100644\n--- a/packages/common/http/src/xsrf.ts\n+++ b/packages/common/http/src/xsrf.ts\n@@ -41,7 +41,6 @@ export const XSRF_DEFAULT_HEADER_NAME \u003d \u0027X-XSRF-TOKEN\u0027;\n export const XSRF_HEADER_NAME \u003d new InjectionToken\u003cstring\u003e(\n   typeof ngDevMode !\u003d\u003d \u0027undefined\u0027 \u0026\u0026 ngDevMode ? \u0027XSRF_HEADER_NAME\u0027 : \u0027\u0027,\n   {\n-    providedIn: \u0027root\u0027,\n     factory: () \u003d\u003e XSRF_DEFAULT_HEADER_NAME,\n   },\n );","expectedMessage":"refactor(http): remove redundant providedIn: \u0027root\u0027 in XSRF_HEADER_NAME","repository":"angular","commitHash":"e38c1bf743be5f9dfa3cc4dc8e7dc87437cc821a","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-fa6e82b5","diff":" packages/core/src/change_detection/scheduling/ng_zone_scheduling.ts    | 3 ++-\n .../core/src/change_detection/scheduling/zoneless_scheduling_impl.ts   | 3 ++-\n 2 files changed, 4 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/core/src/change_detection/scheduling/ng_zone_scheduling.ts b/packages/core/src/change_detection/scheduling/ng_zone_scheduling.ts\nindex 8a3c365a..f714e5fb 100644\n--- a/packages/core/src/change_detection/scheduling/ng_zone_scheduling.ts\n+++ b/packages/core/src/change_detection/scheduling/ng_zone_scheduling.ts\n@@ -31,9 +31,10 @@ import {\n } from \u0027./zoneless_scheduling\u0027;\n import {SCHEDULE_IN_ROOT_ZONE_DEFAULT} from \u0027./flags\u0027;\n import {INTERNAL_APPLICATION_ERROR_HANDLER} from \u0027../../error_handler\u0027;\n+import {OnDestroy} from \u0027../lifecycle_hooks\u0027;\n \n @Injectable({providedIn: \u0027root\u0027})\n-export class NgZoneChangeDetectionScheduler {\n+export class NgZoneChangeDetectionScheduler implements OnDestroy {\n   private readonly zone \u003d inject(NgZone);\n   private readonly changeDetectionScheduler \u003d inject(ChangeDetectionScheduler);\n   private readonly applicationRef \u003d inject(ApplicationRef);\ndiff --git a/packages/core/src/change_detection/scheduling/zoneless_scheduling_impl.ts b/packages/core/src/change_detection/scheduling/zoneless_scheduling_impl.ts\nindex dcc0de84..2c44a2cd 100644\n--- a/packages/core/src/change_detection/scheduling/zoneless_scheduling_impl.ts\n+++ b/packages/core/src/change_detection/scheduling/zoneless_scheduling_impl.ts\n@@ -31,6 +31,7 @@ import {\n } from \u0027./zoneless_scheduling\u0027;\n import {TracingService} from \u0027../../application/tracing\u0027;\n import {INTERNAL_APPLICATION_ERROR_HANDLER} from \u0027../../error_handler\u0027;\n+import {OnDestroy} from \u0027../lifecycle_hooks\u0027;\n \n const CONSECUTIVE_MICROTASK_NOTIFICATION_LIMIT \u003d 100;\n let consecutiveMicrotaskNotifications \u003d 0;\n@@ -56,7 +57,7 @@ function trackMicrotaskNotificationForDebugging() {\n }\n \n @Injectable({providedIn: \u0027root\u0027})\n-export class ChangeDetectionSchedulerImpl implements ChangeDetectionScheduler {\n+export class ChangeDetectionSchedulerImpl implements ChangeDetectionScheduler, OnDestroy {\n   private readonly applicationErrorHandler \u003d inject(INTERNAL_APPLICATION_ERROR_HANDLER);\n   private readonly appRef \u003d inject(ApplicationRef);\n   private readonly taskService \u003d inject(PendingTasksInternal);","expectedMessage":"refactor(core): Add missing OnDestroy to zone and zoneless change detection schedulers","repository":"angular","commitHash":"fa6e82b569b99a4d9ecfcea0f008a0333d330f32","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-10e9022a","diff":" goldens/public-api/forms/signals/index.api.md      |   2 +\n packages/core/src/core_render3_private_export.ts   | 211 +++++++++++----------\n packages/core/src/render3/instructions/control.ts  | 132 ++++++++-----\n packages/core/src/render3/interfaces/control.ts    |  22 ++-\n .../forms/signals/src/api/form_field_directive.ts  |  13 +-\n packages/forms/signals/src/api/types.ts            |   6 +\n packages/forms/signals/src/field/node.ts           |  36 ++++\n packages/forms/signals/src/field/structure.ts      |   4 +-\n packages/forms/signals/test/web/focus.spec.ts      | 191 +++++++++++++++++++\n 9 files changed, 452 insertions(+), 165 deletions(-)\n\ndiff --git a/goldens/public-api/forms/signals/index.api.md b/goldens/public-api/forms/signals/index.api.md\nindex 90abf82e..617de19f 100644\n--- a/goldens/public-api/forms/signals/index.api.md\n+++ b/goldens/public-api/forms/signals/index.api.md\n@@ -130,6 +130,7 @@ export interface FieldState\u003cTValue, TKey extends string | number \u003d string | numb\n     // (undocumented)\n     readonly errors: Signal\u003cValidationError.WithField[]\u003e;\n     readonly errorSummary: Signal\u003cValidationError.WithField[]\u003e;\n+    focusBoundControl(): void;\n     readonly formFieldBindings: Signal\u003creadonly FormField\u003cunknown\u003e[]\u003e;\n     readonly hidden: Signal\u003cboolean\u003e;\n     readonly invalid: Signal\u003cboolean\u003e;\n@@ -174,6 +175,7 @@ export class FormField\u003cT\u003e {\n     };\n     // (undocumented)\n     readonly element: HTMLElement;\n+    focus?(): void;\n     // (undocumented)\n     readonly formField: i0.InputSignal\u003cFieldTree\u003cT\u003e\u003e;\n     protected getOrCreateNgControl(): InteropNgControl;\ndiff --git a/packages/core/src/core_render3_private_export.ts b/packages/core/src/core_render3_private_export.ts\nindex d5a77d6f..19cc4dd7 100644\n--- a/packages/core/src/core_render3_private_export.ts\n+++ b/packages/core/src/core_render3_private_export.ts\n@@ -10,26 +10,33 @@\n // performed by rollup while it\u0027s creating fesm files.\n //\n // no code actually imports these symbols from the @angular/core entry point\n-export {isBoundToModule as ɵisBoundToModule} from \u0027./application/application_ref\u0027;\n+export {\n+  Framework as ɵFramework,\n+  Profiler as ɵProfiler,\n+  ProfilerEvent as ɵProfilerEvent,\n+} from \u0027../primitives/devtools\u0027;\n export {compileNgModuleFactory as ɵcompileNgModuleFactory} from \u0027./application/application_ngmodule_factory_compiler\u0027;\n+export {isBoundToModule as ɵisBoundToModule} from \u0027./application/application_ref\u0027;\n export {injectChangeDetectorRef as ɵinjectChangeDetectorRef} from \u0027./change_detection/change_detector_ref\u0027;\n export {getDebugNode as ɵgetDebugNode} from \u0027./debug/debug_node\u0027;\n+export {createInjector as ɵcreateInjector} from \u0027./di/create_injector\u0027;\n export {\n+  isInjectable as ɵisInjectable,\n   NG_INJ_DEF as ɵNG_INJ_DEF,\n   NG_PROV_DEF as ɵNG_PROV_DEF,\n-  isInjectable as ɵisInjectable,\n } from \u0027./di/interface/defs\u0027;\n-export {createInjector as ɵcreateInjector} from \u0027./di/create_injector\u0027;\n export {\n-  registerNgModuleType as ɵɵregisterNgModuleType,\n   setAllowDuplicateNgModuleIdsForTest as ɵsetAllowDuplicateNgModuleIdsForTest,\n+  registerNgModuleType as ɵɵregisterNgModuleType,\n } from \u0027./linker/ng_module_registration\u0027;\n export {\n   NgModuleDef as ɵNgModuleDef,\n   NgModuleTransitiveScopes as ɵNgModuleTransitiveScopes,\n } from \u0027./metadata/ng_module_def\u0027;\n-export {getLContext as ɵgetLContext} from \u0027./render3/context_discovery\u0027;\n+export {AfterRenderManager as ɵAfterRenderManager} from \u0027./render3/after_render/manager\u0027;\n export {inferTagNameFromDefinition as ɵinferTagNameFromDefinition} from \u0027./render3/component_ref\u0027;\n+export {getLContext as ɵgetLContext} from \u0027./render3/context_discovery\u0027;\n+export {depsTracker as ɵdepsTracker} from \u0027./render3/deps_tracker/deps_tracker\u0027;\n export {\n   NG_COMP_DEF as ɵNG_COMP_DEF,\n   NG_DIR_DEF as ɵNG_DIR_DEF,\n@@ -38,64 +45,89 @@ export {\n   NG_PIPE_DEF as ɵNG_PIPE_DEF,\n } from \u0027./render3/fields\u0027;\n export {\n+  AcxChangeDetectionStrategy as ɵAcxChangeDetectionStrategy,\n+  AcxComponentDebugMetadata as ɵAcxComponentDebugMetadata,\n+  AcxDirectiveDebugMetadata as ɵAcxDirectiveDebugMetadata,\n+  AcxViewEncapsulation as ɵAcxViewEncapsulation,\n+  AngularComponentDebugMetadata as ɵAngularComponentDebugMetadata,\n+  AngularDirectiveDebugMetadata as ɵAngularDirectiveDebugMetadata,\n   AttributeMarker as ɵAttributeMarker,\n+  BaseDirectiveDebugMetadata as ɵBaseDirectiveDebugMetadata,\n   ComponentDef as ɵComponentDef,\n-  ComponentFactory as ɵRender3ComponentFactory,\n-  ComponentRef as ɵRender3ComponentRef,\n   ComponentType as ɵComponentType,\n+  ɵcontrolUpdate,\n   CssSelectorList as ɵCssSelectorList,\n+  ɵDEFER_BLOCK_CONFIG,\n+  ɵDEFER_BLOCK_DEPENDENCY_INTERCEPTOR,\n+  ɵDeferBlockDependencyInterceptor,\n+  DirectiveDebugMetadata as ɵDirectiveDebugMetadata,\n   DirectiveDef as ɵDirectiveDef,\n   DirectiveType as ɵDirectiveType,\n   getDirectives as ɵgetDirectives,\n   getHostElement as ɵgetHostElement,\n+  ɵgetUnknownElementStrictMode,\n+  ɵgetUnknownPropertyStrictMode,\n   NgModuleFactory as ɵNgModuleFactory,\n-  NgModuleRef as ɵRender3NgModuleRef,\n   NgModuleType as ɵNgModuleType,\n   NO_CHANGE as ɵNO_CHANGE,\n   PipeDef as ɵPipeDef,\n+  ComponentFactory as ɵRender3ComponentFactory,\n+  ComponentRef as ɵRender3ComponentRef,\n+  NgModuleRef as ɵRender3NgModuleRef,\n   RenderFlags as ɵRenderFlags,\n+  ɵsetClassDebugInfo,\n   setClassMetadata as ɵsetClassMetadata,\n   setClassMetadataAsync as ɵsetClassMetadataAsync,\n-  ɵsetClassDebugInfo,\n   setLocaleId as ɵsetLocaleId,\n+  ɵsetUnknownElementStrictMode,\n+  ɵsetUnknownPropertyStrictMode,\n   store as ɵstore,\n-  ɵDeferBlockDependencyInterceptor,\n-  ɵDEFER_BLOCK_DEPENDENCY_INTERCEPTOR,\n-  ɵDEFER_BLOCK_CONFIG,\n-  BaseDirectiveDebugMetadata as ɵBaseDirectiveDebugMetadata,\n-  AngularDirectiveDebugMetadata as ɵAngularDirectiveDebugMetadata,\n-  AngularComponentDebugMetadata as ɵAngularComponentDebugMetadata,\n-  AcxChangeDetectionStrategy as ɵAcxChangeDetectionStrategy,\n-  AcxViewEncapsulation as ɵAcxViewEncapsulation,\n-  AcxDirectiveDebugMetadata as ɵAcxDirectiveDebugMetadata,\n-  AcxComponentDebugMetadata as ɵAcxComponentDebugMetadata,\n   WizComponentDebugMetadata as ɵWizComponentDebugMetadata,\n-  DirectiveDebugMetadata as ɵDirectiveDebugMetadata,\n   ɵɵadvance,\n+  ɵɵanimateEnter,\n+  ɵɵanimateEnterListener,\n+  ɵɵanimateLeave,\n+  ɵɵanimateLeaveListener,\n   ɵɵariaProperty,\n+  ɵɵarrowFunction,\n+  ɵɵattachSourceLocations,\n   ɵɵattribute,\n-  ɵɵinterpolate,\n-  ɵɵinterpolate1,\n-  ɵɵinterpolate2,\n-  ɵɵinterpolate3,\n-  ɵɵinterpolate4,\n-  ɵɵinterpolate5,\n-  ɵɵinterpolate6,\n-  ɵɵinterpolate7,\n-  ɵɵinterpolate8,\n-  ɵɵinterpolateV,\n   ɵɵclassMap,\n   ɵɵclassProp,\n   ɵɵComponentDeclaration,\n+  ɵɵcomponentInstance,\n   ɵɵconditional,\n-  ɵɵconditionalCreate,\n   ɵɵconditionalBranchCreate,\n+  ɵɵconditionalCreate,\n   ɵɵcontentQuery,\n   ɵɵcontentQuerySignal,\n   ɵɵcontrol,\n   ɵɵcontrolCreate,\n-  ɵcontrolUpdate,\n-  ɵɵcomponentInstance,\n+  ɵɵdeclareLet,\n+  ɵɵdefer,\n+  ɵɵdeferEnableTimerScheduling,\n+  ɵɵdeferHydrateNever,\n+  ɵɵdeferHydrateOnHover,\n+  ɵɵdeferHydrateOnIdle,\n+  ɵɵdeferHydrateOnImmediate,\n+  ɵɵdeferHydrateOnInteraction,\n+  ɵɵdeferHydrateOnTimer,\n+  ɵɵdeferHydrateOnViewport,\n+  ɵɵdeferHydrateWhen,\n+  ɵɵdeferOnHover,\n+  ɵɵdeferOnIdle,\n+  ɵɵdeferOnImmediate,\n+  ɵɵdeferOnInteraction,\n+  ɵɵdeferOnTimer,\n+  ɵɵdeferOnViewport,\n+  ɵɵdeferPrefetchOnHover,\n+  ɵɵdeferPrefetchOnIdle,\n+  ɵɵdeferPrefetchOnImmediate,\n+  ɵɵdeferPrefetchOnInteraction,\n+  ɵɵdeferPrefetchOnTimer,\n+  ɵɵdeferPrefetchOnViewport,\n+  ɵɵdeferPrefetchWhen,\n+  ɵɵdeferWhen,\n   ɵɵdefineComponent,\n   ɵɵdefineDirective,\n   ɵɵdefineNgModule,\n@@ -103,25 +135,29 @@ export {\n   ɵɵDirectiveDeclaration,\n   ɵɵdirectiveInject,\n   ɵɵdisableBindings,\n+  ɵɵdomElement,\n+  ɵɵdomElementContainer,\n+  ɵɵdomElementContainerEnd,\n+  ɵɵdomElementContainerStart,\n+  ɵɵdomElementEnd,\n+  ɵɵdomElementStart,\n+  ɵɵdomListener,\n+  ɵɵdomProperty,\n+  ɵɵdomTemplate,\n   ɵɵelement,\n   ɵɵelementContainer,\n   ɵɵelementContainerEnd,\n   ɵɵelementContainerStart,\n   ɵɵelementEnd,\n   ɵɵelementStart,\n-  ɵɵdomElement,\n-  ɵɵdomElementStart,\n-  ɵɵdomElementEnd,\n-  ɵɵdomElementContainer,\n-  ɵɵdomElementContainerStart,\n-  ɵɵdomElementContainerEnd,\n-  ɵɵdomTemplate,\n-  ɵɵdomListener,\n   ɵɵenableBindings,\n+  ɵɵExternalStylesFeature,\n   ɵɵFactoryDeclaration,\n+  ɵɵgetComponentDepsFactory,\n   ɵɵgetCurrentView,\n   ɵɵgetInheritedFactory,\n-  ɵɵdomProperty,\n+  ɵɵgetReplaceMetadataURL,\n+  ɵɵHostDirectivesFeature,\n   ɵɵi18n,\n   ɵɵi18nApply,\n   ɵɵi18nAttributes,\n@@ -132,6 +168,16 @@ export {\n   ɵɵInheritDefinitionFeature,\n   ɵɵinjectAttribute,\n   ɵɵInjectorDeclaration,\n+  ɵɵinterpolate,\n+  ɵɵinterpolate1,\n+  ɵɵinterpolate2,\n+  ɵɵinterpolate3,\n+  ɵɵinterpolate4,\n+  ɵɵinterpolate5,\n+  ɵɵinterpolate6,\n+  ɵɵinterpolate7,\n+  ɵɵinterpolate8,\n+  ɵɵinterpolateV,\n   ɵɵinvalidFactory,\n   ɵɵlistener,\n   ɵɵloadQuery,\n@@ -152,7 +198,6 @@ export {\n   ɵɵprojectionDef,\n   ɵɵproperty,\n   ɵɵProvidersFeature,\n-  ɵɵHostDirectivesFeature,\n   ɵɵpureFunction0,\n   ɵɵpureFunction1,\n   ɵɵpureFunction2,\n@@ -165,50 +210,27 @@ export {\n   ɵɵpureFunctionV,\n   ɵɵqueryAdvance,\n   ɵɵqueryRefresh,\n+  ɵɵreadContextLet,\n   ɵɵreference,\n+  ɵɵrepeater,\n+  ɵɵrepeaterCreate,\n+  ɵɵrepeaterTrackByIdentity,\n+  ɵɵrepeaterTrackByIndex,\n+  ɵɵreplaceMetadata,\n   ɵɵresetView,\n   ɵɵresolveBody,\n   ɵɵresolveDocument,\n   ɵɵresolveWindow,\n   ɵɵrestoreView,\n-  ɵɵrepeater,\n-  ɵɵrepeaterCreate,\n-  ɵɵrepeaterTrackByIdentity,\n-  ɵɵrepeaterTrackByIndex,\n   ɵɵsetComponentScope,\n   ɵɵsetNgModuleScope,\n-  ɵɵgetComponentDepsFactory,\n-  ɵɵExternalStylesFeature,\n+  ɵɵstoreLet,\n   ɵɵstyleMap,\n   ɵɵstyleProp,\n   ɵɵsyntheticHostListener,\n   ɵɵsyntheticHostProperty,\n   ɵɵtemplate,\n   ɵɵtemplateRefExtractor,\n-  ɵɵdefer,\n-  ɵɵdeferWhen,\n-  ɵɵdeferOnIdle,\n-  ɵɵdeferOnImmediate,\n-  ɵɵdeferOnTimer,\n-  ɵɵdeferOnHover,\n-  ɵɵdeferOnInteraction,\n-  ɵɵdeferOnViewport,\n-  ɵɵdeferPrefetchWhen,\n-  ɵɵdeferPrefetchOnIdle,\n-  ɵɵdeferPrefetchOnImmediate,\n-  ɵɵdeferPrefetchOnTimer,\n-  ɵɵdeferPrefetchOnHover,\n-  ɵɵdeferPrefetchOnInteraction,\n-  ɵɵdeferPrefetchOnViewport,\n-  ɵɵdeferEnableTimerScheduling,\n-  ɵɵdeferHydrateWhen,\n-  ɵɵdeferHydrateNever,\n-  ɵɵdeferHydrateOnIdle,\n-  ɵɵdeferHydrateOnImmediate,\n-  ɵɵdeferHydrateOnTimer,\n-  ɵɵdeferHydrateOnHover,\n-  ɵɵdeferHydrateOnInteraction,\n-  ɵɵdeferHydrateOnViewport,\n   ɵɵtext,\n   ɵɵtextInterpolate,\n   ɵɵtextInterpolate1,\n@@ -220,30 +242,20 @@ export {\n   ɵɵtextInterpolate7,\n   ɵɵtextInterpolate8,\n   ɵɵtextInterpolateV,\n-  ɵɵviewQuery,\n-  ɵɵviewQuerySignal,\n-  ɵɵtwoWayProperty,\n   ɵɵtwoWayBindingSet,\n   ɵɵtwoWayListener,\n-  ɵgetUnknownElementStrictMode,\n-  ɵsetUnknownElementStrictMode,\n-  ɵgetUnknownPropertyStrictMode,\n-  ɵsetUnknownPropertyStrictMode,\n-  ɵɵdeclareLet,\n-  ɵɵstoreLet,\n-  ɵɵreadContextLet,\n-  ɵɵreplaceMetadata,\n-  ɵɵgetReplaceMetadataURL,\n-  ɵɵattachSourceLocations,\n-  ɵɵanimateEnter,\n-  ɵɵanimateEnterListener,\n-  ɵɵanimateLeave,\n-  ɵɵanimateLeaveListener,\n-  ɵɵarrowFunction,\n+  ɵɵtwoWayProperty,\n+  ɵɵviewQuery,\n+  ɵɵviewQuerySignal,\n } from \u0027./render3/index\u0027;\n export {CONTAINER_HEADER_OFFSET as ɵCONTAINER_HEADER_OFFSET} from \u0027./render3/interfaces/container\u0027;\n export {LContext as ɵLContext} from \u0027./render3/interfaces/context\u0027;\n-export {ɵCONTROL, ɵControl, ɵFieldState, ɵInteropControl} from \u0027./render3/interfaces/control\u0027;\n+export {\n+  ɵCONTROL,\n+  ɵFieldState,\n+  ɵFormFieldDirective,\n+  ɵInteropControl,\n+} from \u0027./render3/interfaces/control\u0027;\n export {setDocument as ɵsetDocument} from \u0027./render3/interfaces/document\u0027;\n export {\n   compileComponent as ɵcompileComponent,\n@@ -254,6 +266,7 @@ export {\n   compileNgModule as ɵcompileNgModule,\n   compileNgModuleDefs as ɵcompileNgModuleDefs,\n   flushModuleScopingQueueAsMuchAsPossible as ɵflushModuleScopingQueueAsMuchAsPossible,\n+  generateStandaloneInDeclarationsError as ɵgenerateStandaloneInDeclarationsError,\n   patchComponentDefWithScope as ɵpatchComponentDefWithScope,\n   resetCompiledComponents as ɵresetCompiledComponents,\n   transitiveScopesFor as ɵtransitiveScopesFor,\n@@ -272,20 +285,17 @@ export {\n } from \u0027./render3/jit/partial\u0027;\n export {compilePipe as ɵcompilePipe} from \u0027./render3/jit/pipe\u0027;\n export {isNgModule as ɵisNgModule} from \u0027./render3/jit/util\u0027;\n-export {\n-  Profiler as ɵProfiler,\n-  ProfilerEvent as ɵProfilerEvent,\n-  Framework as ɵFramework,\n-} from \u0027../primitives/devtools\u0027;\n+export {getAsyncClassMetadataFn as ɵgetAsyncClassMetadataFn} from \u0027./render3/metadata\u0027;\n+export {DeferBlockData as ɵDeferBlockData} from \u0027./render3/util/defer\u0027;\n export {\n   FrameworkAgnosticGlobalUtils as ɵFrameworkAgnosticGlobalUtils,\n   GlobalDevModeUtils as ɵGlobalDevModeUtils,\n } from \u0027./render3/util/global_utils\u0027;\n export {getTransferState as ɵgetTransferState} from \u0027./render3/util/transfer_state_utils\u0027;\n export {\n-  ViewRef as ɵViewRef,\n   isViewDirty as ɵisViewDirty,\n   markForRefresh as ɵmarkForRefresh,\n+  ViewRef as ɵViewRef,\n } from \u0027./render3/view_ref\u0027;\n export {\n   bypassSanitizationTrustHtml as ɵbypassSanitizationTrustHtml,\n@@ -306,8 +316,3 @@ export {\n   ɵɵvalidateAttribute,\n } from \u0027./sanitization/sanitization\u0027;\n export {noSideEffects as ɵnoSideEffects} from \u0027./util/closure\u0027;\n-export {AfterRenderManager as ɵAfterRenderManager} from \u0027./render3/after_render/manager\u0027;\n-export {depsTracker as ɵdepsTracker} from \u0027./render3/deps_tracker/deps_tracker\u0027;\n-export {generateStandaloneInDeclarationsError as ɵgenerateStandaloneInDeclarationsError} from \u0027./render3/jit/module\u0027;\n-export {getAsyncClassMetadataFn as ɵgetAsyncClassMetadataFn} from \u0027./render3/metadata\u0027;\n-export {DeferBlockData as ɵDeferBlockData} from \u0027./render3/util/defer\u0027;\ndiff --git a/packages/core/src/render3/instructions/control.ts b/packages/core/src/render3/instructions/control.ts\nindex 9bdbc808..e73e3ce3 100644\n--- a/packages/core/src/render3/instructions/control.ts\n+++ b/packages/core/src/render3/instructions/control.ts\n@@ -10,7 +10,12 @@ import {performanceMarkFeature} from \u0027../../util/performance\u0027;\n import {getClosureSafeProperty} from \u0027../../util/property\u0027;\n import {assertFirstCreatePass} from \u0027../assert\u0027;\n import {bindingUpdated} from \u0027../bindings\u0027;\n-import {ɵCONTROL, ɵControl, ɵFieldState} from \u0027../interfaces/control\u0027;\n+import {\n+  ɵCONTROL,\n+  ɵFieldState,\n+  ɵFormFieldDirective,\n+  type ɵCustomControl,\n+} from \u0027../interfaces/control\u0027;\n import {DirectiveDef} from \u0027../interfaces/definition\u0027;\n import {TElementNode, TNode, TNodeFlags, TNodeType} from \u0027../interfaces/node\u0027;\n import {Renderer} from \u0027../interfaces/renderer\u0027;\n@@ -37,11 +42,11 @@ import {setPropertyAndInputs, storePropertyBindingMetadata} from \u0027./shared\u0027;\n import {writeToDirectiveInput} from \u0027./write_to_directive_input\u0027;\n \n /**\n- * Possibly sets up a {@link ɵControl} to manage a native or custom form control.\n+ * Possibly sets up a {@link ɵFormFieldDirective} to manage a native or custom form control.\n  *\n- * Setup occurs if a `field` input is bound to a {@link ɵControl} directive on the current node,\n+ * Setup occurs if a `field` input is bound to a {@link ɵFormFieldDirective} on the current node,\n  * but not to a component. If a `field` input is bound to a component, we assume the component\n- * will manage the control in its own template.\n+ * will manage the field in its own template.\n  *\n  * @codeGenApi\n  */\n@@ -54,24 +59,24 @@ export function ɵɵcontrolCreate(): void {\n     initializeControlFirstCreatePass(tView, tNode, lView);\n   }\n \n-  const control \u003d getControlDirective(tNode, lView);\n-  if (!control) {\n+  const fieldDirective \u003d getFieldDirective(tNode, lView);\n+  if (!fieldDirective) {\n     return;\n   }\n \n   performanceMarkFeature(\u0027NgSignalForms\u0027);\n \n   if (tNode.flags \u0026 TNodeFlags.isFormValueControl) {\n-    listenToCustomControl(lView, tNode, control, \u0027value\u0027);\n+    initializeCustomControl(lView, tNode, fieldDirective, \u0027value\u0027);\n   } else if (tNode.flags \u0026 TNodeFlags.isFormCheckboxControl) {\n-    listenToCustomControl(lView, tNode, control, \u0027checked\u0027);\n+    initializeCustomControl(lView, tNode, fieldDirective, \u0027checked\u0027);\n   } else if (tNode.flags \u0026 TNodeFlags.isInteropControl) {\n-    listenToInteropControl(control);\n-  } else {\n-    listenToNativeControl(lView, tNode, control);\n+    initializeInteropControl(fieldDirective);\n+  } else if (tNode.flags \u0026 TNodeFlags.isNativeControl) {\n+    initializeNativeControl(lView, tNode, fieldDirective);\n   }\n \n-  control.ɵregister();\n+  fieldDirective.ɵregister();\n }\n \n /**\n@@ -121,18 +126,18 @@ export function ɵcontrolUpdate(): void {\n  * @param tNode The `TNode` of the control.\n  */\n function updateControl\u003cT\u003e(lView: LView, tNode: TNode): void {\n-  const control \u003d getControlDirective(tNode, lView);\n-  if (control) {\n-    updateControlClasses(lView, tNode, control);\n+  const fieldDirective \u003d getFieldDirective(tNode, lView);\n+  if (fieldDirective) {\n+    updateControlClasses(lView, tNode, fieldDirective);\n \n     if (tNode.flags \u0026 TNodeFlags.isFormValueControl) {\n-      updateCustomControl(tNode, lView, control, \u0027value\u0027);\n+      updateCustomControl(tNode, lView, fieldDirective, \u0027value\u0027);\n     } else if (tNode.flags \u0026 TNodeFlags.isFormCheckboxControl) {\n-      updateCustomControl(tNode, lView, control, \u0027checked\u0027);\n+      updateCustomControl(tNode, lView, fieldDirective, \u0027checked\u0027);\n     } else if (tNode.flags \u0026 TNodeFlags.isInteropControl) {\n-      updateInteropControl(tNode, lView, control);\n+      updateInteropControl(tNode, lView, fieldDirective);\n     } else {\n-      updateNativeControl(tNode, lView, control);\n+      updateNativeControl(tNode, lView, fieldDirective);\n     }\n   }\n \n@@ -217,7 +222,7 @@ function describeElement(tView: TView, tNode: TNode): string {\n  * @returns `true` if an interop control is found, `false` otherwise.\n  */\n function isInteropControlFirstCreatePass(tNode: TNode, lView: LView): boolean {\n-  const control \u003d lView[tNode.fieldIndex] as ɵControl\u003cunknown\u003e;\n+  const control \u003d lView[tNode.fieldIndex] as ɵFormFieldDirective\u003cunknown\u003e;\n   if (control.ɵinteropControl) {\n     tNode.flags |\u003d TNodeFlags.isInteropControl;\n     return true;\n@@ -278,7 +283,7 @@ function isNativeControlFirstCreatePass(tNode: TNode): boolean {\n }\n \n /**\n- * Returns the {@link ɵControl} directive on the specified node, if one is present and a `field`\n+ * Returns the {@link ɵFormFieldDirective} on the specified node, if one is present and a `field`\n  * input is bound to it, but not to a component. If a `field` input is bound to a component, we\n  * assume the component will manage the control in its own template and return nothing to indicate\n  * that the directive should not be set up.\n@@ -286,11 +291,16 @@ function isNativeControlFirstCreatePass(tNode: TNode): boolean {\n  * @param tNode The `TNode` of the element to check.\n  * @param lView The `LView` that contains the element.\n  */\n-function getControlDirective\u003cT\u003e(tNode: TNode, lView: LView): ɵControl\u003cT\u003e | null {\n+function getFieldDirective\u003cT\u003e(tNode: TNode, lView: LView): ɵFormFieldDirective\u003cT\u003e | null {\n   const index \u003d tNode.fieldIndex;\n   return index \u003d\u003d\u003d -1 ? null : lView[index];\n }\n \n+function getCustomControl(tNode: TNode, lView: LView): ɵCustomControl | null {\n+  const index \u003d tNode.customControlIndex;\n+  return index \u003d\u003d\u003d -1 ? null : lView[index];\n+}\n+\n /**\n  * Returns whether the specified `directiveDef` has a model-like input named `name`.\n  *\n@@ -312,18 +322,19 @@ function hasOutput(directiveDef: DirectiveDef\u003cunknown\u003e, name: string): boolean {\n }\n \n /**\n- * Adds event listeners to a custom form control component to notify the `field` of changes.\n+ * Initializes a custom form control component, setting up focus logic and event listeners to notify\n+ * the `field` of changes.\n  *\n  * @param lView The `LView` that contains the custom form control.\n  * @param tNode The `TNode` of the custom form control.\n- * @param control The `ɵControl` directive instance.\n+ * @param fieldDirective The `ɵFormFieldDirective` instance.\n  * @param componentIndex The index of the custom form control component in the `LView`.\n  * @param modelName The name of the model property on the custom form control.\n  */\n-function listenToCustomControl(\n+function initializeCustomControl(\n   lView: LView\u003c{} | null\u003e,\n   tNode: TNode,\n-  control: ɵControl\u003cunknown\u003e,\n+  fieldDirective: ɵFormFieldDirective\u003cunknown\u003e,\n   modelName: string,\n ) {\n   const tView \u003d getTView();\n@@ -335,7 +346,7 @@ function listenToCustomControl(\n     directiveIndex,\n     outputName,\n     outputName,\n-    wrapListener(tNode, lView, (value: unknown) \u003d\u003e control.state().setControlValue(value)),\n+    wrapListener(tNode, lView, (value: unknown) \u003d\u003e fieldDirective.state().setControlValue(value)),\n   );\n \n   const directiveDef \u003d tView.data[directiveIndex] as DirectiveDef\u003cunknown\u003e;\n@@ -347,20 +358,28 @@ function listenToCustomControl(\n       directiveIndex,\n       touchedOutputName,\n       touchedOutputName,\n-      wrapListener(tNode, lView, () \u003d\u003e control.state().markAsTouched()),\n+      wrapListener(tNode, lView, () \u003d\u003e fieldDirective.state().markAsTouched()),\n     );\n   }\n+\n+  const customControl \u003d lView[directiveIndex] as ɵCustomControl;\n+  fieldDirective.focus \u003d () \u003d\u003e\n+    customControl.focus ? customControl.focus() : fieldDirective.element.focus();\n }\n \n /**\n- * Adds event listeners to an interoperable form control to notify the `field` of changes.\n+ * Initializes an interoperable form control, setting up focus logic and event listeners to notify\n+ * the `field` of changes.\n  *\n- * @param control The `ɵControl` directive instance.\n+ * @param fieldDirective The `ɵFormFieldDirective` instance.\n  */\n-function listenToInteropControl(control: ɵControl\u003cunknown\u003e): void {\n-  const interopControl \u003d control.ɵinteropControl!;\n-  interopControl.registerOnChange((value: unknown) \u003d\u003e control.state().setControlValue(value));\n-  interopControl.registerOnTouched(() \u003d\u003e control.state().markAsTouched());\n+function initializeInteropControl(fieldDirective: ɵFormFieldDirective\u003cunknown\u003e): void {\n+  const interopControl \u003d fieldDirective.ɵinteropControl!;\n+  interopControl.registerOnChange((value: unknown) \u003d\u003e\n+    fieldDirective.state().setControlValue(value),\n+  );\n+  interopControl.registerOnTouched(() \u003d\u003e fieldDirective.state().markAsTouched());\n+  fieldDirective.focus \u003d () \u003d\u003e fieldDirective.element.focus();\n }\n \n /**\n@@ -389,19 +408,24 @@ function isNativeControl(tNode: TNode): tNode is TElementNode {\n }\n \n /**\n- * Adds event listeners to a native form control element to notify the `field` of changes.\n+ * Initializes a native form control element, setting up focus logic and event listeners to notify\n+ * the `field` of changes.\n  *\n  * @param lView The `LView` that contains the native form control.\n  * @param tNode The `TNode` of the native form control.\n- * @param control The `ɵControl` directive instance.\n+ * @param fieldDirective The `ɵFormFieldDirective` instance.\n  */\n-function listenToNativeControl(lView: LView\u003c{} | null\u003e, tNode: TNode, control: ɵControl\u003cunknown\u003e) {\n+function initializeNativeControl(\n+  lView: LView\u003c{} | null\u003e,\n+  tNode: TNode,\n+  fieldDirective: ɵFormFieldDirective\u003cunknown\u003e,\n+) {\n   const tView \u003d getTView();\n   const renderer \u003d lView[RENDERER];\n   const element \u003d getNativeByTNode(tNode, lView) as NativeControlElement;\n \n   const inputListener \u003d () \u003d\u003e {\n-    const state \u003d control.state();\n+    const state \u003d fieldDirective.state();\n     state.setControlValue(getNativeControlValue(element, state.value));\n   };\n   listenToDomEvent(\n@@ -416,7 +440,7 @@ function listenToNativeControl(lView: LView\u003c{} | null\u003e, tNode: TNode, control: \n   );\n \n   const blurListener \u003d () \u003d\u003e {\n-    control.state().markAsTouched();\n+    fieldDirective.state().markAsTouched();\n   };\n   listenToDomEvent(\n     tNode,\n@@ -443,11 +467,13 @@ function listenToNativeControl(lView: LView\u003c{} | null\u003e, tNode: TNode, control: \n   ) {\n     const observer \u003d observeSelectMutations(\n       element as HTMLSelectElement,\n-      control as ɵControl\u003cstring\u003e,\n+      fieldDirective as ɵFormFieldDirective\u003cstring\u003e,\n     );\n \n     storeCleanupWithContext(tView, lView, observer, observer.disconnect);\n   }\n+\n+  fieldDirective.focus \u003d () \u003d\u003e element.focus();\n }\n \n /**\n@@ -460,7 +486,7 @@ function listenToNativeControl(lView: LView\u003c{} | null\u003e, tNode: TNode, control: \n  */\n function observeSelectMutations(\n   select: HTMLSelectElement,\n-  controlDirective: ɵControl\u003cstring\u003e,\n+  controlDirective: ɵFormFieldDirective\u003cstring\u003e,\n ): MutationObserver {\n   const observer \u003d new MutationObserver((mutations) \u003d\u003e {\n     if (mutations.some((m) \u003d\u003e isRelevantSelectMutation(m))) {\n@@ -520,9 +546,9 @@ function isRelevantSelectMutation(mutation: MutationRecord) {\n  *\n  * @param lView The `LView` that contains the control.\n  * @param tNode The `TNode` of the control.\n- * @param control The `ɵControl` directive instance.\n+ * @param control The `ɵFormFieldDirective` instance.\n  */\n-function updateControlClasses(lView: LView, tNode: TNode, control: ɵControl\u003cunknown\u003e) {\n+function updateControlClasses(lView: LView, tNode: TNode, control: ɵFormFieldDirective\u003cunknown\u003e) {\n   if (control.classes) {\n     const bindings \u003d getControlBindings(lView);\n     bindings.classes ??\u003d {};\n@@ -549,12 +575,12 @@ function updateControlClasses(lView: LView, tNode: TNode, control: ɵControl\u003cunk\n  * @param lView The `LView` that contains the custom form control.\n  * @param componentIndex The index of the custom form control component in the `LView`.\n  * @param modelName The name of the model property on the custom form control.\n- * @param control The `ɵControl` directive instance.\n+ * @param control The `ɵFormFieldDirective` instance.\n  */\n function updateCustomControl(\n   tNode: TNode,\n   lView: LView,\n-  control: ɵControl\u003cunknown\u003e,\n+  control: ɵFormFieldDirective\u003cunknown\u003e,\n   modelName: string,\n ) {\n   const tView \u003d getTView();\n@@ -595,9 +621,13 @@ function updateCustomControl(\n  *\n  * @param tNode The `TNode` of the form control.\n  * @param lView The `LView` that contains the native form control.\n- * @param control The `ɵControl` directive instance.\n+ * @param control The `ɵFormFieldDirective` instance.\n  */\n-function updateInteropControl(tNode: TNode, lView: LView, control: ɵControl\u003cunknown\u003e): void {\n+function updateInteropControl(\n+  tNode: TNode,\n+  lView: LView,\n+  control: ɵFormFieldDirective\u003cunknown\u003e,\n+): void {\n   const interopControl \u003d control.ɵinteropControl!;\n   const bindings \u003d getControlBindings(lView);\n   const state \u003d control.state();\n@@ -639,9 +669,13 @@ function updateInteropControl(tNode: TNode, lView: LView, control: ɵControl\u003cunk\n  *\n  * @param tNode The `TNode` of the native form control.\n  * @param lView The `LView` that contains the native form control.\n- * @param control The `ɵControl` directive instance.\n+ * @param control The `ɵFormFieldDirective` instance.\n  */\n-function updateNativeControl(tNode: TNode, lView: LView, control: ɵControl\u003cunknown\u003e): void {\n+function updateNativeControl(\n+  tNode: TNode,\n+  lView: LView,\n+  control: ɵFormFieldDirective\u003cunknown\u003e,\n+): void {\n   const element \u003d getNativeByTNode(tNode, lView) as NativeControlElement;\n   const renderer \u003d lView[RENDERER];\n   const state \u003d control.state();\ndiff --git a/packages/core/src/render3/interfaces/control.ts b/packages/core/src/render3/interfaces/control.ts\nindex 3f94682b..393b6031 100644\n--- a/packages/core/src/render3/interfaces/control.ts\n+++ b/packages/core/src/render3/interfaces/control.ts\n@@ -8,11 +8,11 @@\n import {Signal} from \u0027../reactivity/api\u0027;\n import {WritableSignal} from \u0027../reactivity/signal\u0027;\n \n-/** A unique symbol used to identify {@link ɵControl} implementations. */\n+/** A unique symbol used to identify {@link ɵFormFieldDirective} implementations. */\n export const ɵCONTROL: unique symbol \u003d Symbol(\u0027CONTROL\u0027);\n \n /**\n- * Instructions for dynamically binding a {@link ɵControl} to a form control.\n+ * Instructions for dynamically binding a {@link ɵFormFieldDirective} to a form control.\n  */\n export interface ɵControlBinding {\n   create(): void;\n@@ -22,15 +22,17 @@ export interface ɵControlBinding {\n /**\n  * A directive that binds a {@link ɵFieldState} to a form control.\n  */\n-export interface ɵControl\u003cT\u003e {\n+export interface ɵFormFieldDirective\u003cT\u003e {\n   /**\n-   * The presence of this property is used to identify {@link ɵControl} implementations, while the\n-   * value is used to store the instructions for dynamically binding to a form control. The\n-   * instructions are stored on the directive so that they can be tree-shaken when the directive is\n-   * not used.\n+   * The presence of this property is used to identify {@link ɵFormFieldDirective} implementations,\n+   * while the value is used to store the instructions for dynamically binding to a form control.\n+   * The instructions are stored on the directive so that they can be tree-shaken when the directive\n+   * is not used.\n    */\n   readonly [ɵCONTROL]: ɵControlBinding;\n \n+  readonly element: HTMLElement;\n+\n   /** The state of the field bound to this control. */\n   readonly state: Signal\u003cɵFieldState\u003cT\u003e\u003e;\n \n@@ -40,6 +42,8 @@ export interface ɵControl\u003cT\u003e {\n   /** A reference to the interoperable control, if one is present. */\n   readonly ɵinteropControl: ɵInteropControl | undefined;\n \n+  focus?(): void;\n+\n   /**\n    * Registers this directive as a control of its associated form field.\n    *\n@@ -51,6 +55,10 @@ export interface ɵControl\u003cT\u003e {\n   ɵregister(): void;\n }\n \n+export interface ɵCustomControl {\n+  focus?(): void;\n+}\n+\n /** Mirrors the `ControlValueAccessor` interface for interoperability.  */\n export interface ɵInteropControl {\n   /** Registers a callback function that is called when the control\u0027s value changes. */\ndiff --git a/packages/forms/signals/src/api/form_field_directive.ts b/packages/forms/signals/src/api/form_field_directive.ts\nindex 712d3374..91e8f72d 100644\n--- a/packages/forms/signals/src/api/form_field_directive.ts\n+++ b/packages/forms/signals/src/api/form_field_directive.ts\n@@ -19,7 +19,7 @@ import {\n   ɵcontrolUpdate as updateControlBinding,\n   ɵCONTROL,\n   ɵInteropControl,\n-  type ɵControl,\n+  type ɵFormFieldDirective,\n } from \u0027@angular/core\u0027;\n import {NG_VALUE_ACCESSOR, NgControl} from \u0027@angular/forms\u0027;\n import {InteropNgControl} from \u0027../controls/interop_ng_control\u0027;\n@@ -71,7 +71,7 @@ const controlInstructions \u003d {\n     {provide: NgControl, useFactory: () \u003d\u003e inject(FormField).getOrCreateNgControl()},\n   ],\n })\n-// This directive should `implements ɵControl\u003cT\u003e`, but actually adding that breaks people\u0027s\n+// This directive should `implements ɵFormFieldDirective\u003cT\u003e`, but actually adding that breaks people\u0027s\n // builds because part of the public API is marked `@internal` and stripped.\n // Instead we have an type check below that enforces this in a non-breaking way.\n export class FormField\u003cT\u003e {\n@@ -130,9 +130,14 @@ export class FormField\u003cT\u003e {\n       {injector: this.injector},\n     );\n   }\n+\n+  /** Focuses this UI control. */\n+  focus?(): void;\n }\n \n-// We can\u0027t add `implements ɵControl\u003cT\u003e` to `Field` even though it should conform to the interface.\n+// We can\u0027t add `implements ɵFormFieldDirective\u003cT\u003e` to `Field` even though it should conform to the interface.\n // Instead we enforce it here through some utility types.\n type Check\u003cT extends true\u003e \u003d T;\n-type FieldImplementsɵControl \u003d Check\u003cFormField\u003cany\u003e extends ɵControl\u003cany\u003e ? true : false\u003e;\n+type FormFieldImplementsɵFormFieldDirective \u003d Check\u003c\n+  FormField\u003cany\u003e extends ɵFormFieldDirective\u003cany\u003e ? true : false\n+\u003e;\ndiff --git a/packages/forms/signals/src/api/types.ts b/packages/forms/signals/src/api/types.ts\nindex 8b293df4..479c0ee4 100644\n--- a/packages/forms/signals/src/api/types.ts\n+++ b/packages/forms/signals/src/api/types.ts\n@@ -310,6 +310,12 @@ export interface FieldState\u003cTValue, TKey extends string | number \u003d string | numb\n    * @param value Optional value to set to the form. If not passed, the value will not be changed.\n    */\n   reset(value?: TValue): void;\n+\n+  /**\n+   * Focuses the first UI control in the DOM that is bound to this field state.\n+   * If no UI control is bound, does nothing.\n+   */\n+  focusBoundControl(): void;\n }\n \n /**\ndiff --git a/packages/forms/signals/src/field/node.ts b/packages/forms/signals/src/field/node.ts\nindex 6468dc58..770f54fe 100644\n--- a/packages/forms/signals/src/field/node.ts\n+++ b/packages/forms/signals/src/field/node.ts\n@@ -80,6 +80,31 @@ export class FieldNode implements FieldState\u003cunknown\u003e {\n     this.submitState \u003d new FieldSubmitState(this);\n   }\n \n+  focusBoundControl(): void {\n+    this.getBindingForFocus()?.focus();\n+  }\n+\n+  /**\n+   * Gets the Field directive binding that should be focused when the developer calls\n+   * `focusBoundControl` on this node.\n+   *\n+   * This will prioritize focusable bindings to this node, and if multiple exist, it will return\n+   * the first one in the DOM. If no focusable bindings exist on this node, it will return the\n+   * first focusable binding in the DOM for any descendant node of this one.\n+   */\n+  private getBindingForFocus(): (FormField\u003cunknown\u003e \u0026 {focus: VoidFunction}) | undefined {\n+    // First try to focus one of our own bindings.\n+    const own \u003d this.formFieldBindings()\n+      .filter((b): b is FormField\u003cunknown\u003e \u0026 {focus: VoidFunction} \u003d\u003e b.focus !\u003d\u003d undefined)\n+      .reduce(firstInDom\u003cFormField\u003cunknown\u003e \u0026 {focus: VoidFunction}\u003e, undefined);\n+    if (own) return own;\n+    // Fallback to focusing the bound control for one of our children.\n+    return this.structure\n+      .children()\n+      .map((child) \u003d\u003e child.getBindingForFocus())\n+      .reduce(firstInDom, undefined);\n+  }\n+\n   /**\n    * The `AbortController` for the currently debounced sync, or `undefined` if there is none.\n    *\n@@ -353,3 +378,14 @@ export interface ParentFieldNode extends FieldNode {\n   readonly value: WritableSignal\u003cRecord\u003cstring, unknown\u003e\u003e;\n   readonly structure: FieldNodeStructure \u0026 {value: WritableSignal\u003cRecord\u003cstring, unknown\u003e\u003e};\n }\n+\n+/** Given two elements, returns the one that appears earlier in the DOM. */\n+function firstInDom\u003cT extends FormField\u003cunknown\u003e\u003e(\n+  a: T | undefined,\n+  b: T | undefined,\n+): T | undefined {\n+  if (!a) return b;\n+  if (!b) return a;\n+  const position \u003d a.element.compareDocumentPosition(b.element);\n+  return position \u0026 Node.DOCUMENT_POSITION_PRECEDING ? b : a;\n+}\ndiff --git a/packages/forms/signals/src/field/structure.ts b/packages/forms/signals/src/field/structure.ts\nindex c683fcaf..141a2b84 100644\n--- a/packages/forms/signals/src/field/structure.ts\n+++ b/packages/forms/signals/src/field/structure.ts\n@@ -11,10 +11,10 @@ import {\n   DestroyableInjector,\n   Injector,\n   linkedSignal,\n+  ɵRuntimeError as RuntimeError,\n   Signal,\n   untracked,\n   WritableSignal,\n-  ɵRuntimeError as RuntimeError,\n } from \u0027@angular/core\u0027;\n \n import {SignalFormsErrorCode} from \u0027../errors\u0027;\n@@ -100,7 +100,7 @@ export abstract class FieldNodeStructure {\n   }\n \n   /** Gets the child fields of this field. */\n-  children(): Iterable\u003cFieldNode\u003e {\n+  children(): readonly FieldNode[] {\n     const map \u003d this.childrenMap();\n     if (map \u003d\u003d\u003d undefined) {\n       return [];\ndiff --git a/packages/forms/signals/test/web/focus.spec.ts b/packages/forms/signals/test/web/focus.spec.ts\nnew file mode 100644\nindex 00000000..92918391\n--- /dev/null\n+++ b/packages/forms/signals/test/web/focus.spec.ts\n@@ -0,0 +1,191 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.dev/license\n+ */\n+\n+import {ApplicationRef, Component, input, model, signal} from \u0027@angular/core\u0027;\n+import {TestBed} from \u0027@angular/core/testing\u0027;\n+import {FormControl} from \u0027@angular/forms\u0027;\n+import {compatForm} from \u0027../../compat\u0027;\n+import {FormField, form, type FieldTree} from \u0027../../public_api\u0027;\n+\n+describe(\u0027FieldState focus behavior\u0027, () \u003d\u003e {\n+  it(\u0027should focus a native control\u0027, async () \u003d\u003e {\n+    @Component({\n+      imports: [FormField],\n+      template: `\u003cinput [formField]\u003d\"f\" /\u003e`,\n+    })\n+    class TestCmp {\n+      readonly f \u003d form(signal(\u0027\u0027));\n+    }\n+\n+    const fixture \u003d await act(() \u003d\u003e TestBed.createComponent(TestCmp));\n+    const input \u003d fixture.nativeElement.firstChild;\n+\n+    expect(document.activeElement).not.toBe(input);\n+    await act(() \u003d\u003e fixture.componentInstance.f().focusBoundControl());\n+    expect(document.activeElement).toBe(input);\n+  });\n+\n+  it(\u0027should delegate focus behavior to a custom control if focus logic is implemented\u0027, async () \u003d\u003e {\n+    let focusCalled \u003d false;\n+\n+    @Component({\n+      selector: \u0027custom-control\u0027,\n+      host: {\u0027tabindex\u0027: \u0027-1\u0027},\n+      template: \u0027\u0027,\n+    })\n+    class CustomControl {\n+      readonly value \u003d model\u003cstring\u003e();\n+      focus() {\n+        focusCalled \u003d true;\n+      }\n+    }\n+\n+    @Component({\n+      imports: [FormField, CustomControl],\n+      template: `\u003ccustom-control [formField]\u003d\"f\" /\u003e`,\n+    })\n+    class TestCmp {\n+      readonly f \u003d form(signal(\u0027\u0027));\n+    }\n+\n+    const fixture \u003d await act(() \u003d\u003e TestBed.createComponent(TestCmp));\n+    const customControl \u003d fixture.nativeElement.firstChild as HTMLInputElement;\n+\n+    await act(() \u003d\u003e fixture.componentInstance.f().focusBoundControl());\n+    expect(focusCalled).toBeTrue();\n+    expect(document.activeElement).not.toBe(customControl);\n+  });\n+\n+  it(\u0027should directly focus a custom control that has no custom focus logic\u0027, async () \u003d\u003e {\n+    @Component({\n+      selector: \u0027custom-control\u0027,\n+      host: {\u0027tabindex\u0027: \u0027-1\u0027},\n+      template: \u0027\u0027,\n+    })\n+    class CustomControl {\n+      readonly value \u003d model\u003cstring\u003e();\n+    }\n+\n+    @Component({\n+      imports: [FormField, CustomControl],\n+      template: `\u003ccustom-control [formField]\u003d\"f\" /\u003e`,\n+    })\n+    class TestCmp {\n+      readonly f \u003d form(signal(\u0027\u0027));\n+    }\n+\n+    const fixture \u003d await act(() \u003d\u003e TestBed.createComponent(TestCmp));\n+    const customControl \u003d fixture.nativeElement.firstChild as HTMLInputElement;\n+\n+    await act(() \u003d\u003e fixture.componentInstance.f().focusBoundControl());\n+    expect(document.activeElement).toBe(customControl);\n+  });\n+\n+  it(\u0027should focus the first (in the DOM) control bound to the field state\u0027, async () \u003d\u003e {\n+    @Component({\n+      imports: [FormField],\n+      template: `\n+        @if (showFirst()) {\n+          \u003cinput [formField]\u003d\"f\" id\u003d\"input1\" /\u003e\n+        }\n+        \u003cinput [formField]\u003d\"f\" id\u003d\"input2\" /\u003e\n+      `,\n+    })\n+    class TestCmp {\n+      readonly f \u003d form(signal(\u0027\u0027));\n+      showFirst \u003d signal(false);\n+    }\n+\n+    const fixture \u003d await act(() \u003d\u003e TestBed.createComponent(TestCmp));\n+    const input2 \u003d fixture.nativeElement.querySelector(\u0027#input2\u0027);\n+\n+    await act(() \u003d\u003e fixture.componentInstance.f().focusBoundControl());\n+    expect(document.activeElement).toBe(input2);\n+\n+    await act(() \u003d\u003e fixture.componentInstance.showFirst.set(true));\n+    const input1 \u003d fixture.nativeElement.querySelector(\u0027#input1\u0027);\n+\n+    await act(() \u003d\u003e fixture.componentInstance.f().focusBoundControl());\n+    expect(document.activeElement).toBe(input1);\n+  });\n+\n+  it(\u0027should focus the first (in the DOM) bound child of a pass-through control\u0027, async () \u003d\u003e {\n+    @Component({\n+      selector: \u0027custom-control\u0027,\n+      imports: [FormField],\n+      template: `\n+        \u003cinput [formField]\u003d\"formField().child2\" id\u003d\"child2\" /\u003e\n+        \u003cinput [formField]\u003d\"formField().child1\" id\u003d\"child1\" /\u003e\n+      `,\n+    })\n+    class CustomControl {\n+      formField \u003d input.required\u003cFieldTree\u003c{child1: string; child2: string}\u003e\u003e();\n+    }\n+\n+    @Component({\n+      imports: [FormField, CustomControl],\n+      template: `\u003ccustom-control [formField]\u003d\"f\" /\u003e`,\n+    })\n+    class TestCmp {\n+      readonly f \u003d form(signal({child1: \u0027\u0027, child2: \u0027\u0027}));\n+    }\n+\n+    const fixture \u003d await act(() \u003d\u003e TestBed.createComponent(TestCmp));\n+    const child2 \u003d fixture.nativeElement.querySelector(\u0027#child2\u0027);\n+\n+    await act(() \u003d\u003e fixture.componentInstance.f().focusBoundControl());\n+    expect(document.activeElement).toBe(child2);\n+  });\n+\n+  it(\u0027should focus host element for a compat control\u0027, async () \u003d\u003e {\n+    @Component({\n+      imports: [FormField],\n+      template: `\u003cinput [formField]\u003d\"f\" /\u003e`,\n+    })\n+    class TestCmp {\n+      readonly f \u003d compatForm(signal(new FormControl(\u0027\u0027, {nonNullable: true})));\n+    }\n+\n+    const fixture \u003d await act(() \u003d\u003e TestBed.createComponent(TestCmp));\n+    const input \u003d fixture.nativeElement.firstChild;\n+\n+    expect(document.activeElement).not.toBe(input);\n+    await act(() \u003d\u003e fixture.componentInstance.f().focusBoundControl());\n+    expect(document.activeElement).toBe(input);\n+  });\n+\n+  it(\u0027should not change focus if there is nothing to focus\u0027, async () \u003d\u003e {\n+    @Component({\n+      selector: \u0027custom-control\u0027,\n+      template: ``,\n+    })\n+    class CustomControl {\n+      formField \u003d input.required\u003cFieldTree\u003cstring\u003e\u003e();\n+    }\n+\n+    @Component({\n+      imports: [FormField, CustomControl],\n+      template: `\u003ccustom-control [formField]\u003d\"f\" /\u003e`,\n+    })\n+    class TestCmp {\n+      readonly f \u003d form(signal(\u0027\u0027));\n+    }\n+\n+    const fixture \u003d await act(() \u003d\u003e TestBed.createComponent(TestCmp));\n+\n+    const focusedEl \u003d document.activeElement;\n+    await act(() \u003d\u003e fixture.componentInstance.f().focusBoundControl());\n+    expect(document.activeElement).toBe(focusedEl);\n+  });\n+});\n+\n+async function act\u003cT\u003e(fn: () \u003d\u003e T): Promise\u003cT\u003e {\n+  const result \u003d fn();\n+  await TestBed.inject(ApplicationRef).whenStable();\n+  return result;\n+}","expectedMessage":"feat(forms): allow focusing bound control from field state","repository":"angular","commitHash":"10e9022a07af541634ec3e0388c6ed7b990cd140","metadata":{"author":"Miles Malerba \u003cmmalerba@google.com\u003e"}}
{"id":"angular-b2283557","diff":" .../rendering/templates/class-method-info.tsx        |  9 ++++++---\n .../rendering/templates/function-reference.tsx       | 20 ++++++++------------\n .../rendering/templates/initializer-api-function.tsx | 12 ++++--------\n 3 files changed, 18 insertions(+), 23 deletions(-)\n\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/templates/class-method-info.tsx b/adev/shared-docs/pipeline/api-gen/rendering/templates/class-method-info.tsx\nindex b37d5d5e..e64dd38b 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/templates/class-method-info.tsx\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/templates/class-method-info.tsx\n@@ -12,15 +12,18 @@ import {\n   ParameterEntryRenderable,\n } from \u0027../entities/renderables.mjs\u0027;\n import {PARAM_KEYWORD_CLASS_NAME, REFERENCE_MEMBER_CARD_ITEM} from \u0027../styling/css-classes.mjs\u0027;\n+import {CodeSymbol} from \u0027./code-symbols\u0027;\n import {DeprecatedLabel} from \u0027./deprecated-label\u0027;\n import {Parameter} from \u0027./parameter\u0027;\n import {RawHtml} from \u0027./raw-html\u0027;\n-import {CodeSymbol} from \u0027./code-symbols\u0027;\n \n /**\n  * Component to render the method-specific parts of a class\u0027s API reference.\n  */\n-export function ClassMethodInfo(props: {entry: FunctionSignatureMetadataRenderable}) {\n+export function ClassMethodInfo(props: {\n+  entry: FunctionSignatureMetadataRenderable;\n+  hideUsageNotes?: boolean;\n+}) {\n   const entry \u003d props.entry;\n \n   return (\n@@ -43,7 +46,7 @@ export function ClassMethodInfo(props: {entry: FunctionSignatureMetadataRenderab\n         \u003cspan className\u003d{PARAM_KEYWORD_CLASS_NAME}\u003e@returns\u003c/span\u003e\n         \u003cCodeSymbol code\u003d{entry.returnType} /\u003e\n       \u003c/div\u003e\n-      {entry.htmlUsageNotes ? (\n+      {entry.htmlUsageNotes \u0026\u0026 !props.hideUsageNotes ? (\n         \u003cdiv className\u003d{\u0027docs-usage-notes\u0027}\u003e\n           \u003cspan className\u003d{\u0027docs-usage-notes-heading\u0027}\u003eUsage notes\u003c/span\u003e\n           \u003cRawHtml value\u003d{entry.htmlUsageNotes} /\u003e\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/templates/function-reference.tsx b/adev/shared-docs/pipeline/api-gen/rendering/templates/function-reference.tsx\nindex 6741bb3d..e1aa46b8 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/templates/function-reference.tsx\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/templates/function-reference.tsx\n@@ -22,23 +22,22 @@ import {printInitializerFunctionSignatureLine} from \u0027../transforms/code-transfor\n import {getFunctionMetadataRenderable} from \u0027../transforms/function-transforms.mjs\u0027;\n import {ClassMethodInfo} from \u0027./class-method-info\u0027;\n import {CodeSymbol} from \u0027./code-symbols\u0027;\n+import {DeprecationWarning} from \u0027./deprecation-warning\u0027;\n import {HeaderApi} from \u0027./header-api\u0027;\n import {HighlightTypeScript} from \u0027./highlight-ts\u0027;\n import {SectionApi} from \u0027./section-api\u0027;\n import {SectionDescription} from \u0027./section-description\u0027;\n import {SectionUsageNotes} from \u0027./section-usage-notes\u0027;\n-import {DeprecationWarning} from \u0027./deprecation-warning\u0027;\n \n export const signatureCard \u003d (\n   name: string,\n   signature: FunctionSignatureMetadataRenderable,\n-  opts: {id: string},\n-  printSignaturesAsHeader: boolean,\n+  opts: {id: string; printSignaturesAsHeader: boolean; hideUsageNotes?: boolean},\n ) \u003d\u003e {\n   return (\n     \u003cdiv id\u003d{opts.id} class\u003d{REFERENCE_MEMBER_CARD}\u003e\n       \u003cheader class\u003d{REFERENCE_MEMBER_CARD_HEADER}\u003e\n-        {printSignaturesAsHeader ? (\n+        {opts.printSignaturesAsHeader ? (\n           \u003cHighlightTypeScript\n             code\u003d{printInitializerFunctionSignatureLine(\n               name,\n@@ -57,7 +56,7 @@ export const signatureCard \u003d (\n         )}\n       \u003c/header\u003e\n       \u003cdiv class\u003d{REFERENCE_MEMBER_CARD_BODY}\u003e\n-        \u003cClassMethodInfo entry\u003d{signature} /\u003e\n+        \u003cClassMethodInfo entry\u003d{signature} hideUsageNotes\u003d{opts.hideUsageNotes} /\u003e\n       \u003c/div\u003e\n     \u003c/div\u003e\n   );\n@@ -75,14 +74,11 @@ export function FunctionReference(entry: FunctionEntryRenderable) {\n       \u003cSectionApi entry\u003d{entry} /\u003e\n       \u003cdiv className\u003d{REFERENCE_MEMBERS}\u003e\n         {entry.signatures.map((s, i) \u003d\u003e\n-          signatureCard(\n-            s.name,\n-            getFunctionMetadataRenderable(s, entry.moduleName, entry.repo),\n-            {\n-              id: `${s.name}_${i}`,\n-            },\n+          signatureCard(s.name, getFunctionMetadataRenderable(s, entry.moduleName, entry.repo), {\n+            id: `${s.name}_${i}`,\n             printSignaturesAsHeader,\n-          ),\n+            hideUsageNotes: true,\n+          }),\n         )}\n       \u003c/div\u003e\n \ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/templates/initializer-api-function.tsx b/adev/shared-docs/pipeline/api-gen/rendering/templates/initializer-api-function.tsx\nindex dce391ee..0a3fb8e8 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/templates/initializer-api-function.tsx\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/templates/initializer-api-function.tsx\n@@ -40,14 +40,10 @@ export function InitializerApiFunction(entry: InitializerApiFunctionRenderable)\n \n       \u003cdiv class\u003d{REFERENCE_MEMBERS}\u003e\n         {entry.callFunction.signatures.map((s, i) \u003d\u003e\n-          signatureCard(\n-            s.name,\n-            getFunctionMetadataRenderable(s, entry.moduleName, entry.repo),\n-            {\n-              id: `${s.name}_${i}`,\n-            },\n+          signatureCard(s.name, getFunctionMetadataRenderable(s, entry.moduleName, entry.repo), {\n+            id: `${s.name}_${i}`,\n             printSignaturesAsHeader,\n-          ),\n+          }),\n         )}\n \n         {entry.subFunctions.reduce(\n@@ -59,8 +55,8 @@ export function InitializerApiFunction(entry: InitializerApiFunctionRenderable)\n                 getFunctionMetadataRenderable(s, entry.moduleName, entry.repo),\n                 {\n                   id: `${entry.name}_${s.name}_${i}`,\n+                  printSignaturesAsHeader,\n                 },\n-                printSignaturesAsHeader,\n               ),\n             ),\n           ],","expectedMessage":"docs(docs-infra): prevent from showing duplicate usage blocks in functions API docs","repository":"angular","commitHash":"b22835579e54e9fd7039237fa3f83c5b7ebcef9f","metadata":{"author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e"}}
{"id":"angular-a0564135","diff":" .../pipeline/api-gen/rendering/entities.mts        |  2 +-\n .../api-gen/rendering/entities/renderables.mts     | 10 ++++-\n .../pipeline/api-gen/rendering/entities/traits.mts | 11 +++++-\n .../rendering/templates/decorator-reference.tsx    | 46 ++++++++++++++++++++--\n .../rendering/transforms/decorator-transforms.mts  | 19 +++++++--\n .../rendering/transforms/member-transforms.mts     | 20 ++++++++--\n 6 files changed, 95 insertions(+), 13 deletions(-)\n\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/entities.mts b/adev/shared-docs/pipeline/api-gen/rendering/entities.mts\nindex 976e1bea..ce784693 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/entities.mts\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/entities.mts\n@@ -126,11 +126,11 @@ export interface EnumEntry extends DocEntry {\n /** Documentation entity for an Angular decorator. */\n export interface DecoratorEntry extends DocEntry {\n   decoratorType: DecoratorType;\n+  members: PropertyEntry[] | null;\n   signatures?: {\n     parameters: ParameterEntry[];\n     jsdocTags: JsDocTagEntry[];\n   }[];\n-  members: MemberEntry[];\n }\n \n /** Documentation entity for an Angular directives and components. */\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/entities/renderables.mts b/adev/shared-docs/pipeline/api-gen/rendering/entities/renderables.mts\nindex f3831840..322f7e87 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/entities/renderables.mts\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/entities/renderables.mts\n@@ -75,7 +75,11 @@ export type PipeEntryRenderable \u003d PipeEntry \u0026\n     members: MemberEntryRenderable[];\n   };\n \n-export type DecoratorEntryRenderable \u003d DecoratorEntry \u0026 DocEntryRenderable \u0026 HasRenderableToc;\n+export type DecoratorEntryRenderable \u003d Omit\u003cDecoratorEntry, \u0027members\u0027\u003e \u0026\n+  DocEntryRenderable \u0026\n+  HasRenderableToc \u0026 {\n+    members: PropertyEntryRenderable[];\n+  };\n \n /** Documentation entity for a TypeScript enum augmented transformed content for rendering. */\n export type EnumEntryRenderable \u003d EnumEntry \u0026\n@@ -116,6 +120,10 @@ export interface MemberEntryRenderable extends MemberEntry {\n   experimental: {version: string | undefined} | undefined;\n }\n \n+export interface PropertyEntryRenderable extends MemberEntryRenderable {\n+  type: string;\n+}\n+\n /** Sub-entry for a class method augmented transformed content for rendering. */\n export type MethodEntryRenderable \u003d MemberEntryRenderable \u0026\n   FunctionEntryRenderable \u0026 {\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/entities/traits.mts b/adev/shared-docs/pipeline/api-gen/rendering/entities/traits.mts\nindex bdd3fccc..190a5697 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/entities/traits.mts\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/entities/traits.mts\n@@ -6,7 +6,7 @@\n  * found in the LICENSE file at https://angular.dev/license\n  */\n \n-import {JsDocTagEntry, MemberEntry, ParameterEntry} from \u0027../entities.mjs\u0027;\n+import {JsDocTagEntry, MemberEntry, ParameterEntry, PropertyEntry} from \u0027../entities.mjs\u0027;\n \n import {\n   CodeLineRenderable,\n@@ -14,6 +14,7 @@ import {\n   LinkEntryRenderable,\n   MemberEntryRenderable,\n   ParameterEntryRenderable,\n+  PropertyEntryRenderable,\n } from \u0027./renderables.mjs\u0027;\n \n /** A doc entry that has jsdoc tags. */\n@@ -56,6 +57,10 @@ export interface HasMembers {\n   members: MemberEntry[];\n }\n \n+export interface HasPropertyMembers {\n+  members: PropertyEntry[];\n+}\n+\n /** A doc entry that has members groups transformed for rendering. */\n export interface HasRenderableMembersGroups {\n   membersGroups: Map\u003cstring, MemberEntryRenderable[]\u003e;\n@@ -66,6 +71,10 @@ export interface HasRenderableMembers {\n   members: MemberEntryRenderable[];\n }\n \n+export interface HasRenderablePropertyMembers {\n+  members: PropertyEntryRenderable[];\n+}\n+\n /** A doc entry that has an associated JS module name. */\n export interface HasModuleName {\n   moduleName: string;\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/templates/decorator-reference.tsx b/adev/shared-docs/pipeline/api-gen/rendering/templates/decorator-reference.tsx\nindex c6075edf..95f170b7 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/templates/decorator-reference.tsx\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/templates/decorator-reference.tsx\n@@ -7,12 +7,45 @@\n  */\n \n import {h} from \u0027preact\u0027;\n+import {DecoratorEntryRenderable, PropertyEntryRenderable} from \u0027../entities/renderables.mjs\u0027;\n+import {\n+  API_REFERENCE_CONTAINER,\n+  REFERENCE_MEMBER_CARD,\n+  REFERENCE_MEMBER_CARD_BODY,\n+  REFERENCE_MEMBER_CARD_HEADER,\n+  REFERENCE_MEMBER_CARD_ITEM,\n+  REFERENCE_MEMBERS,\n+} from \u0027../styling/css-classes.mjs\u0027;\n+import {CodeSymbol} from \u0027./code-symbols\u0027;\n import {HeaderApi} from \u0027./header-api\u0027;\n+import {RawHtml} from \u0027./raw-html\u0027;\n+import {SectionApi} from \u0027./section-api\u0027;\n import {SectionDescription} from \u0027./section-description\u0027;\n import {SectionUsageNotes} from \u0027./section-usage-notes\u0027;\n-import {SectionApi} from \u0027./section-api\u0027;\n-import {API_REFERENCE_CONTAINER} from \u0027../styling/css-classes.mjs\u0027;\n-import {DecoratorEntryRenderable} from \u0027../entities/renderables.mjs\u0027;\n+\n+export const signatureCard \u003d (\n+  name: string,\n+  member: PropertyEntryRenderable,\n+  opts: {id: string},\n+) \u003d\u003e {\n+  return (\n+    \u003cdiv id\u003d{opts.id} class\u003d{REFERENCE_MEMBER_CARD}\u003e\n+      \u003cheader class\u003d{REFERENCE_MEMBER_CARD_HEADER}\u003e\n+        \u003ch3\u003e{name}\u003c/h3\u003e\n+        \u003cdiv\u003e\n+          \u003cCodeSymbol code\u003d{member.type} /\u003e\n+        \u003c/div\u003e\n+      \u003c/header\u003e\n+      \u003cdiv class\u003d{REFERENCE_MEMBER_CARD_BODY}\u003e\n+        \u003cdiv className\u003d{`${REFERENCE_MEMBER_CARD_ITEM}`}\u003e\n+          \u003cp\u003e\n+            \u003cRawHtml value\u003d{member.htmlDescription} /\u003e\n+          \u003c/p\u003e\n+        \u003c/div\u003e\n+      \u003c/div\u003e\n+    \u003c/div\u003e\n+  );\n+};\n \n /** Component to render a decorator API reference document. */\n export function DecoratorReference(entry: DecoratorEntryRenderable) {\n@@ -20,6 +53,13 @@ export function DecoratorReference(entry: DecoratorEntryRenderable) {\n     \u003cdiv className\u003d{API_REFERENCE_CONTAINER}\u003e\n       \u003cHeaderApi entry\u003d{entry} /\u003e\n       \u003cSectionApi entry\u003d{entry} /\u003e\n+      \u003cdiv className\u003d{REFERENCE_MEMBERS}\u003e\n+        {entry.members.map((member, index) \u003d\u003e\n+          signatureCard(member.name, member, {\n+            id: `${member.name}_${index}`,\n+          }),\n+        )}\n+      \u003c/div\u003e\n       \u003cSectionDescription entry\u003d{entry} /\u003e\n       \u003cSectionUsageNotes entry\u003d{entry} /\u003e\n     \u003c/div\u003e\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/transforms/decorator-transforms.mts b/adev/shared-docs/pipeline/api-gen/rendering/transforms/decorator-transforms.mts\nindex c8553c2f..3f35fdd8 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/transforms/decorator-transforms.mts\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/transforms/decorator-transforms.mts\n@@ -16,6 +16,7 @@ import {\n   addHtmlUsageNotes,\n   setEntryFlags,\n } from \u0027./jsdoc-transforms.mjs\u0027;\n+import {addRenderablePropertyMembers} from \u0027./member-transforms.mjs\u0027;\n import {addModuleName} from \u0027./module-name.mjs\u0027;\n import {addRepo} from \u0027./repo.mjs\u0027;\n \n@@ -25,14 +26,24 @@ export async function getDecoratorRenderable(\n   moduleName: string,\n   repo: string,\n ): Promise\u003cDecoratorEntryRenderable\u003e {\n+  const decoratorEntryWithMembers \u003d {\n+    ...decoratorEntry,\n+    members: decoratorEntry.members ?? [],\n+  };\n+\n   return setEntryFlags(\n     await addRenderableCodeToc(\n-      addHtmlAdditionalLinks(\n-        addHtmlUsageNotes(\n-          addHtmlJsDocTagComments(\n-            addHtmlDescription(addRepo(addModuleName(decoratorEntry, moduleName), repo)),\n+      await addRenderablePropertyMembers(\n+        addHtmlAdditionalLinks(\n+          addHtmlUsageNotes(\n+            addHtmlJsDocTagComments(\n+              addHtmlDescription(\n+                addRepo(addModuleName(decoratorEntryWithMembers, moduleName), repo),\n+              ),\n+            ),\n           ),\n         ),\n+        decoratorEntry.name,\n       ),\n     ),\n   ) as DecoratorEntryRenderable;\ndiff --git a/adev/shared-docs/pipeline/api-gen/rendering/transforms/member-transforms.mts b/adev/shared-docs/pipeline/api-gen/rendering/transforms/member-transforms.mts\nindex 41912ddd..d87045e4 100644\n--- a/adev/shared-docs/pipeline/api-gen/rendering/transforms/member-transforms.mts\n+++ b/adev/shared-docs/pipeline/api-gen/rendering/transforms/member-transforms.mts\n@@ -10,7 +10,14 @@ import {MemberEntry, MemberTags, MemberType, type DocEntry} from \u0027../entities.mj\n import {isHiddenEntry} from \u0027../entities/categorization.mjs\u0027;\n import type {MemberEntryRenderable} from \u0027../entities/renderables.mjs\u0027;\n \n-import {HasMembers, HasModuleName, HasRenderableMembers, HasRepo} from \u0027../entities/traits.mjs\u0027;\n+import {\n+  HasMembers,\n+  HasModuleName,\n+  HasPropertyMembers,\n+  HasRenderableMembers,\n+  HasRenderablePropertyMembers,\n+  HasRepo,\n+} from \u0027../entities/traits.mjs\u0027;\n import {addRenderableCodeToc} from \u0027./code-transforms.mjs\u0027;\n \n import {\n@@ -85,8 +92,7 @@ export async function addRenderableMembers\u003cT extends HasMembers \u0026 HasModuleName\n ): Promise\u003cT \u0026 HasRenderableMembers\u003e {\n   const members \u003d (\n     await Promise.all(\n-      // TODO: remove `?? []` when components repo is updated to include members array on type aliases.\n-      (entry.members ?? [])\n+      entry.members\n         .filter((member) \u003d\u003e !isHiddenEntry(member))\n         .map((member) \u003d\u003e {\n           if (member.memberType \u003d\u003d\u003d MemberType.Interface) {\n@@ -112,3 +118,11 @@ export async function addRenderableMembers\u003cT extends HasMembers \u0026 HasModuleName\n     members,\n   };\n }\n+\n+export async function addRenderablePropertyMembers\u003c\n+  T extends HasPropertyMembers \u0026 HasModuleName \u0026 HasRepo,\n+\u003e(entry: T, parentName: string): Promise\u003cT \u0026 HasRenderablePropertyMembers\u003e {\n+  return {\n+    ...((await addRenderableMembers(entry, parentName)) as T \u0026 HasRenderablePropertyMembers),\n+  };\n+}","expectedMessage":"docs(docs-infra): Show API decorators docs","repository":"angular","commitHash":"a0564135200f0e8ebfef0953ccdb75adabd2b513","metadata":{"author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e"}}
{"id":"angular-33b2d990","diff":" adev/src/app/core/layout/footer/footer.component.html | 3 +++\n 1 file changed, 3 insertions(+)\n\ndiff --git a/adev/src/app/core/layout/footer/footer.component.html b/adev/src/app/core/layout/footer/footer.component.html\nindex d49100e9..7b2627bd 100644\n--- a/adev/src/app/core/layout/footer/footer.component.html\n+++ b/adev/src/app/core/layout/footer/footer.component.html\n@@ -107,6 +107,9 @@\n         \u003cli\u003e\n           \u003ca href\u003d\"https://angular.kr/\" title\u003d\"한국어\"\u003e한국어\u003c/a\u003e\n         \u003c/li\u003e\n+        \u003cli\u003e\n+          \u003ca href\u003d\"https://angular-docs.ru/\" title\u003d\"Русский\"\u003eРусский\u003c/a\u003e\n+        \u003c/li\u003e\n       \u003c/ul\u003e\n     \u003c/div\u003e\n   \u003c/div\u003e","expectedMessage":"docs(docs-infra): Add community russian translation","repository":"angular","commitHash":"33b2d9905d6bb2d532b25df04dd32a83c18a0525","metadata":{"author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e"}}
{"id":"angular-ad699ceb","diff":" adev/src/app/core/layout/footer/footer.component.html | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/adev/src/app/core/layout/footer/footer.component.html b/adev/src/app/core/layout/footer/footer.component.html\nindex 2b053543..d49100e9 100644\n--- a/adev/src/app/core/layout/footer/footer.component.html\n+++ b/adev/src/app/core/layout/footer/footer.component.html\n@@ -93,7 +93,7 @@\n       \u003c/ul\u003e\n     \u003c/div\u003e\n     \u003cdiv\u003e\n-      \u003ch2\u003eLanguages\u003c/h2\u003e\n+      \u003ch2\u003eCommunity translations\u003c/h2\u003e\n       \u003cul\u003e\n         \u003cli\u003e\n           \u003ca href\u003d\"https://angular.cn/\" title\u003d\"简体中文版\"\u003e简体中文版\u003c/a\u003e","expectedMessage":"docs: change language section to \"community translations\"","repository":"angular","commitHash":"ad699cebb5bf55ef42e86081cdb1a02051292fb9","metadata":{"author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e"}}
{"id":"angular-89d47d81","diff":" goldens/public-api/router/index.api.md             |  43 ++-\n .../bundling/router/bundle.golden_symbols.json     |   8 +\n packages/router/src/directives/router_link.ts      | 415 +++++++++++++--------\n 3 files changed, 307 insertions(+), 159 deletions(-)\n\ndiff --git a/goldens/public-api/router/index.api.md b/goldens/public-api/router/index.api.md\nindex a06ec2f0..f01b26b5 100644\n--- a/goldens/public-api/router/index.api.md\n+++ b/goldens/public-api/router/index.api.md\n@@ -809,10 +809,14 @@ export type RouterHashLocationFeature \u003d RouterFeature\u003cRouterFeatureKind.RouterHa\n // @public\n class RouterLink implements OnChanges, OnDestroy {\n     constructor(router: Router, route: ActivatedRoute, tabIndexAttribute: string | null | undefined, renderer: Renderer2, el: ElementRef, locationStrategy?: LocationStrategy | undefined);\n-    fragment?: string;\n+    set fragment(value: string | undefined);\n+    // (undocumented)\n+    get fragment(): string | undefined;\n     get href(): string | null;\n     set href(value: string | null);\n-    info?: unknown;\n+    set info(value: unknown);\n+    // (undocumented)\n+    get info(): unknown;\n     // (undocumented)\n     static ngAcceptInputType_preserveFragment: unknown;\n     // (undocumented)\n@@ -822,19 +826,36 @@ class RouterLink implements OnChanges, OnDestroy {\n     ngOnChanges(changes?: SimpleChanges): void;\n     ngOnDestroy(): any;\n     onClick(button: number, ctrlKey: boolean, shiftKey: boolean, altKey: boolean, metaKey: boolean): boolean;\n-    preserveFragment: boolean;\n-    queryParams?: Params | null;\n-    queryParamsHandling?: QueryParamsHandling | null;\n+    set preserveFragment(value: boolean);\n+    // (undocumented)\n+    get preserveFragment(): boolean;\n+    set queryParams(value: Params | null | undefined);\n     // (undocumented)\n+    get queryParams(): Params | null | undefined;\n+    set queryParamsHandling(value: QueryParamsHandling | null | undefined);\n+    // (undocumented)\n+    get queryParamsHandling(): QueryParamsHandling | null | undefined;\n     protected readonly reactiveHref: i0.WritableSignal\u003cstring | null\u003e;\n-    relativeTo?: ActivatedRoute | null;\n-    replaceUrl: boolean;\n+    set relativeTo(value: ActivatedRoute | null | undefined);\n+    // (undocumented)\n+    get relativeTo(): ActivatedRoute | null | undefined;\n+    set replaceUrl(value: boolean);\n+    // (undocumented)\n+    get replaceUrl(): boolean;\n     set routerLink(commandsOrUrlTree: readonly any[] | string | UrlTree | null | undefined);\n-    skipLocationChange: boolean;\n-    state?: {\n+    set skipLocationChange(value: boolean);\n+    // (undocumented)\n+    get skipLocationChange(): boolean;\n+    set state(value: {\n         [k: string]: any;\n-    };\n-    target?: string;\n+    } | undefined);\n+    // (undocumented)\n+    get state(): {\n+        [k: string]: any;\n+    } | undefined;\n+    set target(value: string | undefined);\n+    // (undocumented)\n+    get target(): string | undefined;\n     // (undocumented)\n     get urlTree(): UrlTree | null;\n     // (undocumented)\ndiff --git a/packages/core/test/bundling/router/bundle.golden_symbols.json b/packages/core/test/bundling/router/bundle.golden_symbols.json\nindex 8f745535..c24887e2 100644\n--- a/packages/core/test/bundling/router/bundle.golden_symbols.json\n+++ b/packages/core/test/bundling/router/bundle.golden_symbols.json\n@@ -140,6 +140,7 @@\n       \"InputFlags\",\n       \"ItemComponent\",\n       \"KeyEventsPlugin\",\n+      \"LINKED_SIGNAL_NODE\",\n       \"LOCALE_ID\",\n       \"LOCALE_ID\",\n       \"LQueries_\",\n@@ -246,6 +247,7 @@\n       \"ROUTES\",\n       \"ROUTES2\",\n       \"ROUTE_INJECTOR_CLEANUP\",\n+      \"ReactiveRouterState\",\n       \"Recognizer\",\n       \"RedirectCommand\",\n       \"RedirectRequest\",\n@@ -505,6 +507,7 @@\n       \"createLQuery\",\n       \"createLView\",\n       \"createLinkElement\",\n+      \"createLinkedSignal\",\n       \"createLocation\",\n       \"createNewSegmentChildren\",\n       \"createNewSegmentGroup\",\n@@ -748,6 +751,7 @@\n       \"hasTagAndTypeMatch\",\n       \"icuContainerIterate\",\n       \"identity\",\n+      \"identityFn\",\n       \"importProvidersFrom\",\n       \"inNotificationPhase\",\n       \"includeViewProviders\",\n@@ -871,6 +875,9 @@\n       \"leaveView\",\n       \"leaveViewLight\",\n       \"linkTNodeInTView\",\n+      \"linkedSignal\",\n+      \"linkedSignalSetFn\",\n+      \"linkedSignalUpdateFn\",\n       \"listenToDomEvent\",\n       \"listenToOutput\",\n       \"listenerInternal\",\n@@ -1143,6 +1150,7 @@\n       \"updateSegmentGroup\",\n       \"updateSegmentGroupChildren\",\n       \"updateTextNode\",\n+      \"upgradeLinkedSignalGetter\",\n       \"validateCommands\",\n       \"viewAttachedToChangeDetector\",\n       \"viewAttachedToContainer\",\ndiff --git a/packages/router/src/directives/router_link.ts b/packages/router/src/directives/router_link.ts\nindex d437de91..99bbdfc7 100644\n--- a/packages/router/src/directives/router_link.ts\n+++ b/packages/router/src/directives/router_link.ts\n@@ -10,38 +10,72 @@ import {LocationStrategy} from \u0027@angular/common\u0027;\n import {\n   Attribute,\n   booleanAttribute,\n+  computed,\n   Directive,\n+  effect,\n   ElementRef,\n   HostAttributeToken,\n-  HostBinding,\n   HostListener,\n   inject,\n+  Injectable,\n   Input,\n+  linkedSignal,\n   OnChanges,\n   OnDestroy,\n   Renderer2,\n-  ɵRuntimeError as RuntimeError,\n   signal,\n   SimpleChanges,\n   untracked,\n   ɵINTERNAL_APPLICATION_ERROR_HANDLER,\n+  ɵRuntimeError as RuntimeError,\n } from \u0027@angular/core\u0027;\n-import {Subject, Subscription} from \u0027rxjs\u0027;\n+import {Subject} from \u0027rxjs\u0027;\n+\n import {RuntimeErrorCode} from \u0027../errors\u0027;\n-import {Event, NavigationEnd} from \u0027../events\u0027;\n+import {NavigationEnd} from \u0027../events\u0027;\n import {QueryParamsHandling} from \u0027../models\u0027;\n import {Router} from \u0027../router\u0027;\n import {ROUTER_CONFIGURATION} from \u0027../router_config\u0027;\n import {ActivatedRoute} from \u0027../router_state\u0027;\n import {Params} from \u0027../shared\u0027;\n-import {isUrlTree, UrlTree} from \u0027../url_tree\u0027;\n+import {StateManager} from \u0027../statemanager/state_manager\u0027;\n+import {isUrlTree, UrlSerializer, UrlTree} from \u0027../url_tree\u0027;\n+\n+// Converts non-reactive router state to reactive state via the NavigationEnd\n+// event. This isn\u0027t the ideal way of doing things, but is necessary to avoid\n+// breaking tests which have mocked the Router.\n+@Injectable({providedIn: \u0027root\u0027})\n+export class ReactiveRouterState {\n+  private readonly router \u003d inject(Router);\n+  private readonly stateManager \u003d inject(StateManager);\n+  readonly fragment \u003d signal\u003cstring | null\u003e(\u0027\u0027);\n+  readonly queryParams \u003d signal\u003cParams\u003e({});\n+  readonly path \u003d signal\u003cstring\u003e(\u0027\u0027);\n+  private readonly serializer \u003d inject(UrlSerializer);\n+\n+  constructor() {\n+    this.updateState();\n+    this.router.events?.subscribe((e) \u003d\u003e {\n+      if (e instanceof NavigationEnd) {\n+        this.updateState();\n+      }\n+    });\n+  }\n+\n+  private updateState() {\n+    const {fragment, root, queryParams} \u003d this.stateManager.getCurrentUrlTree();\n+    this.fragment.set(fragment);\n+    this.queryParams.set(queryParams);\n+    this.path.set(this.serializer.serialize(new UrlTree(root)));\n+  }\n+}\n \n /**\n  * @description\n  *\n  * When applied to an element in a template, makes that element a link\n- * that initiates navigation to a route. Navigation opens one or more routed components\n- * in one or more `\u003crouter-outlet\u003e` locations on the page.\n+ * that initiates navigation to a route. Navigation opens one or more routed\n+ * components in one or more `\u003crouter-outlet\u003e` locations on the page.\n  *\n  * Given a route configuration `[{ path: \u0027user/:name\u0027, component: UserCmp }]`,\n  * the following creates a static link to the route:\n@@ -53,12 +87,12 @@ import {isUrlTree, UrlTree} from \u0027../url_tree\u0027;\n  * For example, `[\u0027/team\u0027, teamId, \u0027user\u0027, userName, {details: true}]`\n  * generates a link to `/team/11/user/bob;details\u003dtrue`.\n  *\n- * Multiple static segments can be merged into one term and combined with dynamic segments.\n- * For example, `[\u0027/team/11/user\u0027, userName, {details: true}]`\n+ * Multiple static segments can be merged into one term and combined with\n+ * dynamic segments. For example, `[\u0027/team/11/user\u0027, userName, {details: true}]`\n  *\n- * The input that you provide to the link is treated as a delta to the current URL.\n- * For instance, suppose the current URL is `/user/(box//aux:team)`.\n- * The link `\u003ca [routerLink]\u003d\"[\u0027/user/jim\u0027]\"\u003eJim\u003c/a\u003e` creates the URL\n+ * The input that you provide to the link is treated as a delta to the current\n+ * URL. For instance, suppose the current URL is `/user/(box//aux:team)`. The\n+ * link `\u003ca [routerLink]\u003d\"[\u0027/user/jim\u0027]\"\u003eJim\u003c/a\u003e` creates the URL\n  * `/user/(jim//aux:team)`.\n  * See {@link Router#createUrlTree} for more information.\n  *\n@@ -70,23 +104,25 @@ import {isUrlTree, UrlTree} from \u0027../url_tree\u0027;\n  * ### Relative link paths\n  *\n  * The first segment name can be prepended with `/`, `./`, or `../`.\n- * * If the first segment begins with `/`, the router looks up the route from the root of the\n- *   app.\n- * * If the first segment begins with `./`, or doesn\u0027t begin with a slash, the router\n- *   looks in the children of the current activated route.\n- * * If the first segment begins with `../`, the router goes up one level in the route tree.\n+ * * If the first segment begins with `/`, the router looks up the route from\n+ * the root of the app.\n+ * * If the first segment begins with `./`, or doesn\u0027t begin with a slash, the\n+ * router looks in the children of the current activated route.\n+ * * If the first segment begins with `../`, the router goes up one level in the\n+ * route tree.\n  *\n  * ### Setting and handling query params and fragments\n  *\n- * The following link adds a query parameter and a fragment to the generated URL:\n+ * The following link adds a query parameter and a fragment to the generated\n+ * URL:\n  *\n  * ```html\n- * \u003ca [routerLink]\u003d\"[\u0027/user/bob\u0027]\" [queryParams]\u003d\"{debug: true}\" fragment\u003d\"education\"\u003e\n- *   link to user component\n+ * \u003ca [routerLink]\u003d\"[\u0027/user/bob\u0027]\" [queryParams]\u003d\"{debug: true}\"\n+ * fragment\u003d\"education\"\u003e link to user component\n  * \u003c/a\u003e\n  * ```\n- * By default, the directive constructs the new URL using the given query parameters.\n- * The example generates the link: `/user/bob?debug\u003dtrue#education`.\n+ * By default, the directive constructs the new URL using the given query\n+ * parameters. The example generates the link: `/user/bob?debug\u003dtrue#education`.\n  *\n  * You can instruct the directive to handle query parameters differently\n  * by specifying the `queryParamsHandling` option in the link.\n@@ -98,20 +134,21 @@ import {isUrlTree, UrlTree} from \u0027../url_tree\u0027;\n  * For example:\n  *\n  * ```html\n- * \u003ca [routerLink]\u003d\"[\u0027/user/bob\u0027]\" [queryParams]\u003d\"{debug: true}\" queryParamsHandling\u003d\"merge\"\u003e\n- *   link to user component\n+ * \u003ca [routerLink]\u003d\"[\u0027/user/bob\u0027]\" [queryParams]\u003d\"{debug: true}\"\n+ * queryParamsHandling\u003d\"merge\"\u003e link to user component\n  * \u003c/a\u003e\n  * ```\n  *\n- * `queryParams`, `fragment`, `queryParamsHandling`, `preserveFragment`, and `relativeTo`\n- * cannot be used when the `routerLink` input is a `UrlTree`.\n+ * `queryParams`, `fragment`, `queryParamsHandling`, `preserveFragment`, and\n+ * `relativeTo` cannot be used when the `routerLink` input is a `UrlTree`.\n  *\n  * See {@link UrlCreationOptions#queryParamsHandling}.\n  *\n  * ### Preserving navigation history\n  *\n  * You can provide a `state` value to be persisted to the browser\u0027s\n- * [`History.state` property](https://developer.mozilla.org/en-US/docs/Web/API/History#Properties).\n+ * [`History.state`\n+ * property](https://developer.mozilla.org/en-US/docs/Web/API/History#Properties).\n  * For example:\n  *\n  * ```html\n@@ -134,9 +171,9 @@ import {isUrlTree, UrlTree} from \u0027../url_tree\u0027;\n  *\n  * ### RouterLink compatible custom elements\n  *\n- * In order to make a custom element work with routerLink, the corresponding custom\n- * element must implement the `href` attribute and must list `href` in the array of\n- * the static property/getter `observedAttributes`.\n+ * In order to make a custom element work with routerLink, the corresponding\n+ * custom element must implement the `href` attribute and must list `href` in\n+ * the array of the static property/getter `observedAttributes`.\n  *\n  * @ngModule RouterModule\n  *\n@@ -146,15 +183,23 @@ import {isUrlTree, UrlTree} from \u0027../url_tree\u0027;\n   selector: \u0027[routerLink]\u0027,\n   host: {\n     \u0027[attr.href]\u0027: \u0027reactiveHref()\u0027,\n+    \u0027[attr.target]\u0027: \u0027_target()\u0027,\n   },\n })\n export class RouterLink implements OnChanges, OnDestroy {\n-  /** @nodoc */\n-  protected readonly reactiveHref \u003d signal\u003cstring | null\u003e(null);\n+  private hrefAttributeValue \u003d inject(new HostAttributeToken(\u0027href\u0027), {optional: true});\n+  /** @docs-private */\n+  protected readonly reactiveHref \u003d linkedSignal(() \u003d\u003e {\n+    // Never change href for non-anchor elements\n+    if (!this.isAnchorElement) {\n+      return this.hrefAttributeValue;\n+    }\n+    return this.computeHref(this._urlTree());\n+  });\n   /**\n    * Represents an `href` attribute value applied to a host element,\n-   * when a host element is an `\u003ca\u003e`/`\u003carea\u003e` tag or a compatible custom element.\n-   * For other tags, the value is `null`.\n+   * when a host element is an `\u003ca\u003e`/`\u003carea\u003e` tag or a compatible custom\n+   * element. For other tags, the value is `null`.\n    */\n   get href() {\n     return untracked(this.reactiveHref);\n@@ -169,7 +214,18 @@ export class RouterLink implements OnChanges, OnDestroy {\n    * This is only used when the host element is\n    * an `\u003ca\u003e`/`\u003carea\u003e` tag or a compatible custom element.\n    */\n-  @HostBinding(\u0027attr.target\u0027) @Input() target?: string;\n+  @Input() set target(value: string | undefined) {\n+    this._target.set(value);\n+  }\n+  get target(): string | undefined {\n+    return untracked(this._target);\n+  }\n+\n+  /**\n+   * @docs-private\n+   * @internal\n+   */\n+  protected _target \u003d signal\u003cstring | undefined\u003e(undefined);\n \n   /**\n    * Passed to {@link Router#createUrlTree} as part of the\n@@ -177,35 +233,67 @@ export class RouterLink implements OnChanges, OnDestroy {\n    * @see {@link UrlCreationOptions#queryParams}\n    * @see {@link Router#createUrlTree}\n    */\n-  @Input() queryParams?: Params | null;\n+  @Input() set queryParams(value: Params | null | undefined) {\n+    this._queryParams.set(value);\n+  }\n+  get queryParams(): Params | null | undefined {\n+    return untracked(this._queryParams);\n+  }\n+  // Rather than trying deep equality checks or serialization, just allow urlTree to recompute\n+  // whenever queryParams change (which will be rare).\n+  private _queryParams \u003d signal\u003cParams | null | undefined\u003e(undefined, {equal: () \u003d\u003e false});\n   /**\n    * Passed to {@link Router#createUrlTree} as part of the\n    * `UrlCreationOptions`.\n    * @see {@link UrlCreationOptions#fragment}\n    * @see {@link Router#createUrlTree}\n    */\n-  @Input() fragment?: string;\n+  @Input() set fragment(value: string | undefined) {\n+    this._fragment.set(value);\n+  }\n+  get fragment(): string | undefined {\n+    return untracked(this._fragment);\n+  }\n+  private _fragment \u003d signal\u003cstring | undefined\u003e(undefined);\n   /**\n    * Passed to {@link Router#createUrlTree} as part of the\n    * `UrlCreationOptions`.\n    * @see {@link UrlCreationOptions#queryParamsHandling}\n    * @see {@link Router#createUrlTree}\n    */\n-  @Input() queryParamsHandling?: QueryParamsHandling | null;\n+  @Input() set queryParamsHandling(value: QueryParamsHandling | null | undefined) {\n+    this._queryParamsHandling.set(value);\n+  }\n+  get queryParamsHandling(): QueryParamsHandling | null | undefined {\n+    return untracked(this._queryParamsHandling);\n+  }\n+  private _queryParamsHandling \u003d signal\u003cQueryParamsHandling | null | undefined\u003e(undefined);\n   /**\n    * Passed to {@link Router#navigateByUrl} as part of the\n    * `NavigationBehaviorOptions`.\n    * @see {@link NavigationBehaviorOptions#state}\n    * @see {@link Router#navigateByUrl}\n    */\n-  @Input() state?: {[k: string]: any};\n+  @Input() set state(value: {[k: string]: any} | undefined) {\n+    this._state.set(value);\n+  }\n+  get state(): {[k: string]: any} | undefined {\n+    return untracked(this._state);\n+  }\n+  private _state \u003d signal\u003c{[k: string]: any} | undefined\u003e(undefined, {equal: () \u003d\u003e false});\n   /**\n    * Passed to {@link Router#navigateByUrl} as part of the\n    * `NavigationBehaviorOptions`.\n    * @see {@link NavigationBehaviorOptions#info}\n    * @see {@link Router#navigateByUrl}\n    */\n-  @Input() info?: unknown;\n+  @Input() set info(value: unknown) {\n+    this._info.set(value);\n+  }\n+  get info(): unknown {\n+    return untracked(this._info);\n+  }\n+  private _info \u003d signal\u003cunknown\u003e(undefined, {equal: () \u003d\u003e false});\n   /**\n    * Passed to {@link Router#createUrlTree} as part of the\n    * `UrlCreationOptions`.\n@@ -215,18 +303,66 @@ export class RouterLink implements OnChanges, OnDestroy {\n    * @see {@link UrlCreationOptions#relativeTo}\n    * @see {@link Router#createUrlTree}\n    */\n-  @Input() relativeTo?: ActivatedRoute | null;\n+  @Input() set relativeTo(value: ActivatedRoute | null | undefined) {\n+    this._relativeTo.set(value);\n+  }\n+  get relativeTo(): ActivatedRoute | null | undefined {\n+    return untracked(this._relativeTo);\n+  }\n+  private _relativeTo \u003d signal\u003cActivatedRoute | null | undefined\u003e(undefined);\n \n-  /** Whether a host element is an `\u003ca\u003e`/`\u003carea\u003e` tag or a compatible custom element. */\n-  private isAnchorElement: boolean;\n+  /**\n+   * Passed to {@link Router#createUrlTree} as part of the\n+   * `UrlCreationOptions`.\n+   * @see {@link UrlCreationOptions#preserveFragment}\n+   * @see {@link Router#createUrlTree}\n+   */\n+  @Input({transform: booleanAttribute}) set preserveFragment(value: boolean) {\n+    this._preserveFragment.set(value);\n+  }\n+  get preserveFragment(): boolean {\n+    return untracked(this._preserveFragment);\n+  }\n+  private _preserveFragment \u003d signal\u003cboolean\u003e(false);\n \n-  private subscription?: Subscription;\n+  /**\n+   * Passed to {@link Router#navigateByUrl} as part of the\n+   * `NavigationBehaviorOptions`.\n+   * @see {@link NavigationBehaviorOptions#skipLocationChange}\n+   * @see {@link Router#navigateByUrl}\n+   */\n+  @Input({transform: booleanAttribute}) set skipLocationChange(value: boolean) {\n+    this._skipLocationChange.set(value);\n+  }\n+  get skipLocationChange(): boolean {\n+    return untracked(this._skipLocationChange);\n+  }\n+  private _skipLocationChange \u003d signal\u003cboolean\u003e(false);\n+\n+  /**\n+   * Passed to {@link Router#navigateByUrl} as part of the\n+   * `NavigationBehaviorOptions`.\n+   * @see {@link NavigationBehaviorOptions#replaceUrl}\n+   * @see {@link Router#navigateByUrl}\n+   */\n+  @Input({transform: booleanAttribute}) set replaceUrl(value: boolean) {\n+    this._replaceUrl.set(value);\n+  }\n+  get replaceUrl(): boolean {\n+    return untracked(this._replaceUrl);\n+  }\n+  private _replaceUrl \u003d signal\u003cboolean\u003e(false);\n \n+  /**\n+   * Whether a host element is an `\u003ca\u003e`/`\u003carea\u003e` tag or a compatible custom\n+   * element.\n+   */\n+  private readonly isAnchorElement: boolean;\n   /** @internal */\n   onChanges \u003d new Subject\u003cRouterLink\u003e();\n-\n   private readonly applicationErrorHandler \u003d inject(ɵINTERNAL_APPLICATION_ERROR_HANDLER);\n   private readonly options \u003d inject(ROUTER_CONFIGURATION, {optional: true});\n+  private readonly reactiveRouterState \u003d inject(ReactiveRouterState);\n \n   constructor(\n     private router: Router,\n@@ -236,69 +372,46 @@ export class RouterLink implements OnChanges, OnDestroy {\n     private readonly el: ElementRef,\n     private locationStrategy?: LocationStrategy,\n   ) {\n-    // Set the initial href value to whatever exists on the host element already\n-    this.reactiveHref.set(inject(new HostAttributeToken(\u0027href\u0027), {optional: true}));\n     const tagName \u003d el.nativeElement.tagName?.toLowerCase();\n     this.isAnchorElement \u003d\n       tagName \u003d\u003d\u003d \u0027a\u0027 ||\n       tagName \u003d\u003d\u003d \u0027area\u0027 ||\n       !!(\n-        // Avoid breaking in an SSR context where customElements might not be defined.\n+        // Avoid breaking in an SSR context where customElements might not\n+        // be defined.\n         (\n           typeof customElements \u003d\u003d\u003d \u0027object\u0027 \u0026\u0026\n-          // observedAttributes is an optional static property/getter on a custom element.\n-          // The spec states that this must be an array of strings.\n+          // observedAttributes is an optional static property/getter on a\n+          // custom element. The spec states that this must be an array of\n+          // strings.\n           (\n             customElements.get(tagName) as {observedAttributes?: string[]} | undefined\n           )?.observedAttributes?.includes?.(\u0027href\u0027)\n         )\n       );\n \n-    if (this.isAnchorElement) {\n-      this.setTabIndexIfNotOnNativeEl(\u00270\u0027);\n-      this.subscribeToNavigationEventsIfNecessary();\n+    if (typeof ngDevMode !\u003d\u003d \u0027undefined\u0027 \u0026\u0026 ngDevMode) {\n+      effect(() \u003d\u003e {\n+        if (\n+          isUrlTree(this.routerLinkInput()) \u0026\u0026\n+          (this._fragment() !\u003d\u003d undefined ||\n+            this._queryParams() ||\n+            this._queryParamsHandling() ||\n+            this._preserveFragment() ||\n+            this._relativeTo())\n+        ) {\n+          throw new RuntimeError(\n+            RuntimeErrorCode.INVALID_ROUTER_LINK_INPUTS,\n+            \u0027Cannot configure queryParams or fragment when using a UrlTree as the routerLink input value.\u0027,\n+          );\n+        }\n+      });\n     }\n   }\n \n-  private subscribeToNavigationEventsIfNecessary() {\n-    if (this.subscription !\u003d\u003d undefined) {\n-      return;\n-    }\n-\n-    this.subscription \u003d this.router.events.subscribe((s: Event) \u003d\u003e {\n-      if (s instanceof NavigationEnd) {\n-        this.updateHref();\n-      }\n-    });\n-  }\n-\n-  /**\n-   * Passed to {@link Router#createUrlTree} as part of the\n-   * `UrlCreationOptions`.\n-   * @see {@link UrlCreationOptions#preserveFragment}\n-   * @see {@link Router#createUrlTree}\n-   */\n-  @Input({transform: booleanAttribute}) preserveFragment: boolean \u003d false;\n-\n-  /**\n-   * Passed to {@link Router#navigateByUrl} as part of the\n-   * `NavigationBehaviorOptions`.\n-   * @see {@link NavigationBehaviorOptions#skipLocationChange}\n-   * @see {@link Router#navigateByUrl}\n-   */\n-  @Input({transform: booleanAttribute}) skipLocationChange: boolean \u003d false;\n-\n-  /**\n-   * Passed to {@link Router#navigateByUrl} as part of the\n-   * `NavigationBehaviorOptions`.\n-   * @see {@link NavigationBehaviorOptions#replaceUrl}\n-   * @see {@link Router#navigateByUrl}\n-   */\n-  @Input({transform: booleanAttribute}) replaceUrl: boolean \u003d false;\n-\n   /**\n-   * Modifies the tab index if there was not a tabindex attribute on the element during\n-   * instantiation.\n+   * Modifies the tab index if there was not a tabindex attribute on the element\n+   * during instantiation.\n    */\n   private setTabIndexIfNotOnNativeEl(newTabIndex: string | null) {\n     if (this.tabIndexAttribute !\u003d null /* both `null` and `undefined` */ || this.isAnchorElement) {\n@@ -308,53 +421,39 @@ export class RouterLink implements OnChanges, OnDestroy {\n   }\n \n   /** @docs-private */\n-  // TODO(atscott): Remove changes parameter in major version as a breaking change.\n+  // TODO(atscott): Remove changes parameter in major version as a breaking\n+  // change.\n   ngOnChanges(changes?: SimpleChanges): void {\n-    if (\n-      ngDevMode \u0026\u0026\n-      isUrlTree(this.routerLinkInput) \u0026\u0026\n-      (this.fragment !\u003d\u003d undefined ||\n-        this.queryParams ||\n-        this.queryParamsHandling ||\n-        this.preserveFragment ||\n-        this.relativeTo)\n-    ) {\n-      throw new RuntimeError(\n-        RuntimeErrorCode.INVALID_ROUTER_LINK_INPUTS,\n-        \u0027Cannot configure queryParams or fragment when using a UrlTree as the routerLink input value.\u0027,\n-      );\n-    }\n-    if (this.isAnchorElement) {\n-      this.updateHref();\n-    }\n-    // This is subscribed to by `RouterLinkActive` so that it knows to update when there are changes\n-    // to the RouterLinks it\u0027s tracking.\n+    // This is subscribed to by `RouterLinkActive` so that it knows to update\n+    // when there are changes to the RouterLinks it\u0027s tracking.\n     this.onChanges.next(this);\n   }\n \n-  private routerLinkInput: readonly any[] | UrlTree | null \u003d null;\n+  private routerLinkInput \u003d signal\u003creadonly any[] | UrlTree | null\u003e(null);\n \n   /**\n    * Commands to pass to {@link Router#createUrlTree} or a `UrlTree`.\n    *   - **array**: commands to pass to {@link Router#createUrlTree}.\n-   *   - **string**: shorthand for array of commands with just the string, i.e. `[\u0027/route\u0027]`\n-   *   - **UrlTree**: a `UrlTree` for this link rather than creating one from the commands\n-   *     and other inputs that correspond to properties of `UrlCreationOptions`.\n+   *   - **string**: shorthand for array of commands with just the string, i.e.\n+   * `[\u0027/route\u0027]`\n+   *   - **UrlTree**: a `UrlTree` for this link rather than creating one from\n+   * the commands and other inputs that correspond to properties of\n+   * `UrlCreationOptions`.\n    *   - **null|undefined**: effectively disables the `routerLink`\n    * @see {@link Router#createUrlTree}\n    */\n   @Input()\n   set routerLink(commandsOrUrlTree: readonly any[] | string | UrlTree | null | undefined) {\n     if (commandsOrUrlTree \u003d\u003d null) {\n-      this.routerLinkInput \u003d null;\n+      this.routerLinkInput.set(null);\n       this.setTabIndexIfNotOnNativeEl(null);\n     } else {\n       if (isUrlTree(commandsOrUrlTree)) {\n-        this.routerLinkInput \u003d commandsOrUrlTree;\n+        this.routerLinkInput.set(commandsOrUrlTree);\n       } else {\n-        this.routerLinkInput \u003d Array.isArray(commandsOrUrlTree)\n-          ? commandsOrUrlTree\n-          : [commandsOrUrlTree];\n+        this.routerLinkInput.set(\n+          Array.isArray(commandsOrUrlTree) ? commandsOrUrlTree : [commandsOrUrlTree],\n+        );\n       }\n       this.setTabIndexIfNotOnNativeEl(\u00270\u0027);\n     }\n@@ -375,7 +474,7 @@ export class RouterLink implements OnChanges, OnDestroy {\n     altKey: boolean,\n     metaKey: boolean,\n   ): boolean {\n-    const urlTree \u003d this.urlTree;\n+    const urlTree \u003d this._urlTree();\n \n     if (urlTree \u003d\u003d\u003d null) {\n       return true;\n@@ -397,7 +496,8 @@ export class RouterLink implements OnChanges, OnDestroy {\n       state: this.state,\n       info: this.info,\n     };\n-    // navigateByUrl is mocked frequently in tests... Reduce breakages when adding `catch`\n+    // navigateByUrl is mocked frequently in tests... Reduce breakages when\n+    // adding `catch`\n     this.router.navigateByUrl(urlTree, extras)?.catch((e) \u003d\u003e {\n       this.applicationErrorHandler(e);\n     });\n@@ -409,18 +509,7 @@ export class RouterLink implements OnChanges, OnDestroy {\n   }\n \n   /** @docs-private */\n-  ngOnDestroy(): any {\n-    this.subscription?.unsubscribe();\n-  }\n-\n-  private updateHref(): void {\n-    const urlTree \u003d this.urlTree;\n-    this.reactiveHref.set(\n-      urlTree !\u003d\u003d null \u0026\u0026 this.locationStrategy\n-        ? (this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(urlTree)) ?? \u0027\u0027)\n-        : null,\n-    );\n-  }\n+  ngOnDestroy(): any {}\n \n   private applyAttributeValue(attrName: string, attrValue: string | null) {\n     const renderer \u003d this.renderer;\n@@ -432,21 +521,51 @@ export class RouterLink implements OnChanges, OnDestroy {\n     }\n   }\n \n+  /** @internal */\n+  _urlTree \u003d computed(\n+    () \u003d\u003e {\n+      // Track path changes. It\u0027s knowing which segments we actually depend on is somewhat difficult\n+      this.reactiveRouterState.path();\n+      if (this._preserveFragment()) {\n+        this.reactiveRouterState.fragment();\n+      }\n+      const shouldTrackParams \u003d (handling: QueryParamsHandling | undefined | null) \u003d\u003e\n+        handling \u003d\u003d\u003d \u0027preserve\u0027 || handling \u003d\u003d\u003d \u0027merge\u0027;\n+      if (\n+        shouldTrackParams(this._queryParamsHandling()) ||\n+        shouldTrackParams(this.options?.defaultQueryParamsHandling)\n+      ) {\n+        this.reactiveRouterState.queryParams();\n+      }\n+\n+      const routerLinkInput \u003d this.routerLinkInput();\n+      if (routerLinkInput \u003d\u003d\u003d null || !this.router.createUrlTree) {\n+        return null;\n+      } else if (isUrlTree(routerLinkInput)) {\n+        return routerLinkInput;\n+      }\n+      return this.router.createUrlTree(routerLinkInput, {\n+        // If the `relativeTo` input is not defined, we want to use `this.route`\n+        // by default.\n+        // Otherwise, we should use the value provided by the user in the input.\n+        relativeTo: this._relativeTo() !\u003d\u003d undefined ? this._relativeTo() : this.route,\n+        queryParams: this._queryParams(),\n+        fragment: this._fragment(),\n+        queryParamsHandling: this._queryParamsHandling(),\n+        preserveFragment: this._preserveFragment(),\n+      });\n+    },\n+    {equal: (a, b) \u003d\u003e this.computeHref(a) \u003d\u003d\u003d this.computeHref(b)},\n+  );\n+\n   get urlTree(): UrlTree | null {\n-    if (this.routerLinkInput \u003d\u003d\u003d null) {\n-      return null;\n-    } else if (isUrlTree(this.routerLinkInput)) {\n-      return this.routerLinkInput;\n-    }\n-    return this.router.createUrlTree(this.routerLinkInput, {\n-      // If the `relativeTo` input is not defined, we want to use `this.route` by default.\n-      // Otherwise, we should use the value provided by the user in the input.\n-      relativeTo: this.relativeTo !\u003d\u003d undefined ? this.relativeTo : this.route,\n-      queryParams: this.queryParams,\n-      fragment: this.fragment,\n-      queryParamsHandling: this.queryParamsHandling,\n-      preserveFragment: this.preserveFragment,\n-    });\n+    return untracked(this._urlTree);\n+  }\n+\n+  private computeHref(urlTree: UrlTree | null): string | null {\n+    return urlTree !\u003d\u003d null \u0026\u0026 this.locationStrategy\n+      ? (this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(urlTree)) ?? \u0027\u0027)\n+      : null;\n   }\n }\n ","expectedMessage":"refactor(router): Change RouterLink internals to use signals","repository":"angular","commitHash":"89d47d814de1e57c0b64ff1167ce9f86c518c670","metadata":{"author":"Andrew Scott \u003catscott01@gmail.com\u003e"}}
{"id":"angular-460c1c7e","diff":" .github/actions/saucelabs-legacy/action.yml        |  4 +-\n .github/workflows/adev-preview-build.yml           |  8 ++--\n .github/workflows/adev-preview-deploy.yml          |  2 +-\n .../workflows/assistant-to-the-branch-manager.yml  |  2 +-\n .github/workflows/benchmark-compare.yml            |  2 +-\n .github/workflows/ci.yml                           | 50 +++++++++++-----------\n .github/workflows/dev-infra.yml                    |  4 +-\n .github/workflows/google-internal-tests.yml        |  2 +-\n .github/workflows/manual.yml                       |  8 ++--\n .github/workflows/merge-ready-status.yml           |  2 +-\n .github/workflows/perf.yml                         |  6 +--\n .github/workflows/pr.yml                           | 40 ++++++++---------\n MODULE.bazel                                       |  2 +-\n MODULE.bazel.lock                                  |  2 +-\n package.json                                       |  2 +-\n pnpm-lock.yaml                                     | 47 ++++++++------------\n 16 files changed, 85 insertions(+), 98 deletions(-)\n\ndiff --git a/.github/actions/saucelabs-legacy/action.yml b/.github/actions/saucelabs-legacy/action.yml\nindex a3ee2914..f4d2e324 100644\n--- a/.github/actions/saucelabs-legacy/action.yml\n+++ b/.github/actions/saucelabs-legacy/action.yml\n@@ -5,9 +5,9 @@ runs:\n   using: \u0027composite\u0027\n   steps:\n     - name: Setup Bazel\n-      uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+      uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n     - name: Setup Saucelabs Variables\n-      uses: angular/dev-infra/github-actions/saucelabs@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+      uses: angular/dev-infra/github-actions/saucelabs@74db0cd6da7fe89807133854c645ed02c9980566\n     - name: Starting Saucelabs tunnel service\n       shell: bash\n       run: ./tools/saucelabs/sauce-service.sh run \u0026\ndiff --git a/.github/workflows/adev-preview-build.yml b/.github/workflows/adev-preview-build.yml\nindex 51aa662c..85507172 100644\n--- a/.github/workflows/adev-preview-build.yml\n+++ b/.github/workflows/adev-preview-build.yml\n@@ -21,17 +21,17 @@ jobs:\n       (github.event.action \u003d\u003d \u0027synchronize\u0027 \u0026\u0026 contains(github.event.pull_request.labels.*.name, \u0027adev: preview\u0027))\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\n         # `snapshot-build` config is used to stamp the exact version with sha in the footer.\n         run: pnpm bazel build //adev:build.production --config\u003dsnapshot-build\n-      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           workflow-artifact-name: \u0027adev-preview\u0027\n           pull-number: \u0027${{github.event.pull_request.number}}\u0027\ndiff --git a/.github/workflows/adev-preview-deploy.yml b/.github/workflows/adev-preview-deploy.yml\nindex b1f66609..72203765 100644\n--- a/.github/workflows/adev-preview-deploy.yml\n+++ b/.github/workflows/adev-preview-deploy.yml\n@@ -40,7 +40,7 @@ jobs:\n           npx -y firebase-tools@latest target:clear --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs\n           npx -y firebase-tools@latest target:apply --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs ${{env.PREVIEW_SITE}}\n \n-      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           github-token: \u0027${{secrets.GITHUB_TOKEN}}\u0027\n           workflow-artifact-name: \u0027adev-preview\u0027\ndiff --git a/.github/workflows/assistant-to-the-branch-manager.yml b/.github/workflows/assistant-to-the-branch-manager.yml\nindex 1e2ae380..b310fb73 100644\n--- a/.github/workflows/assistant-to-the-branch-manager.yml\n+++ b/.github/workflows/assistant-to-the-branch-manager.yml\n@@ -17,6 +17,6 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n         with:\n           persist-credentials: false\n-      - uses: angular/dev-infra/github-actions/branch-manager@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+      - uses: angular/dev-infra/github-actions/branch-manager@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/benchmark-compare.yml b/.github/workflows/benchmark-compare.yml\nindex d03f9f0b..ed4d6966 100644\n--- a/.github/workflows/benchmark-compare.yml\n+++ b/.github/workflows/benchmark-compare.yml\n@@ -38,7 +38,7 @@ jobs:\n \n       - run: pnpm install --frozen-lockfile\n \n-      - uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+      - uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           bazelrc: ./.bazelrc.user\n \ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 9c7e2927..168335f8 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -21,7 +21,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -39,13 +39,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -67,11 +67,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -83,11 +83,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -100,11 +100,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -119,11 +119,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -136,11 +136,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: echo \"https://${{secrets.SNAPSHOT_BUILDS_GITHUB_TOKEN}}:@github.com\" \u003e ${HOME}/.git_credentials\n@@ -152,11 +152,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -206,11 +206,11 @@ jobs:\n     runs-on: ubuntu-latest-8core\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\ndiff --git a/.github/workflows/dev-infra.yml b/.github/workflows/dev-infra.yml\nindex f35ed269..b8bc229c 100644\n--- a/.github/workflows/dev-infra.yml\n+++ b/.github/workflows/dev-infra.yml\n@@ -13,13 +13,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/pull-request-labeling@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+      - uses: angular/dev-infra/github-actions/pull-request-labeling@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\n   post_approval_changes:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/post-approval-changes@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+      - uses: angular/dev-infra/github-actions/post-approval-changes@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/google-internal-tests.yml b/.github/workflows/google-internal-tests.yml\nindex 23a18329..6e26a891 100644\n--- a/.github/workflows/google-internal-tests.yml\n+++ b/.github/workflows/google-internal-tests.yml\n@@ -14,7 +14,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/google-internal-tests@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+      - uses: angular/dev-infra/github-actions/google-internal-tests@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           run-tests-guide-url: http://go/angular-g3sync-start\n           github-token: ${{ secrets.GITHUB_TOKEN }}\ndiff --git a/.github/workflows/manual.yml b/.github/workflows/manual.yml\nindex a19fb8db..2f41b97b 100644\n--- a/.github/workflows/manual.yml\n+++ b/.github/workflows/manual.yml\n@@ -13,15 +13,15 @@ jobs:\n       JOBS: 2\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Saucelabs Variables\n-        uses: angular/dev-infra/github-actions/saucelabs@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/saucelabs@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Set up Sauce Tunnel Daemon\n         run: pnpm bazel run //tools/saucelabs-daemon/background-service -- $JOBS \u0026\n         env:\ndiff --git a/.github/workflows/merge-ready-status.yml b/.github/workflows/merge-ready-status.yml\nindex c776e71c..ed33b15a 100644\n--- a/.github/workflows/merge-ready-status.yml\n+++ b/.github/workflows/merge-ready-status.yml\n@@ -9,6 +9,6 @@ jobs:\n   status:\n     runs-on: ubuntu-latest\n     steps:\n-      - uses: angular/dev-infra/github-actions/unified-status-check@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+      - uses: angular/dev-infra/github-actions/unified-status-check@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/perf.yml b/.github/workflows/perf.yml\nindex 6bec4537..bebccf85 100644\n--- a/.github/workflows/perf.yml\n+++ b/.github/workflows/perf.yml\n@@ -21,7 +21,7 @@ jobs:\n       workflows: ${{ steps.workflows.outputs.workflows }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - id: workflows\n@@ -36,9 +36,9 @@ jobs:\n         workflow: ${{ fromJSON(needs.list.outputs.workflows) }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       # We utilize the google-github-actions/auth action to allow us to get an active credential using workflow\ndiff --git a/.github/workflows/pr.yml b/.github/workflows/pr.yml\nindex 601eb8ea..ceb4af17 100644\n--- a/.github/workflows/pr.yml\n+++ b/.github/workflows/pr.yml\n@@ -19,7 +19,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -37,7 +37,7 @@ jobs:\n       - name: Check code format\n         run: pnpm ng-dev format changed --check ${{ github.event.pull_request.base.sha }}\n       - name: Check Package Licenses\n-        uses: angular/dev-infra/github-actions/linting/licenses@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/linting/licenses@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           allow-dependencies-licenses: \u0027pkg:npm/google-protobuf@\u0027\n \n@@ -45,13 +45,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run unit tests\n@@ -71,11 +71,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run CI tests for framework\n@@ -95,11 +95,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run integration CI tests for framework\n@@ -110,11 +110,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -127,11 +127,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -142,11 +142,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/setup@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@74db0cd6da7fe89807133854c645ed02c9980566\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: |\ndiff --git a/MODULE.bazel b/MODULE.bazel\nindex ce67011a..46fad448 100644\n--- a/MODULE.bazel\n+++ b/MODULE.bazel\n@@ -25,7 +25,7 @@ git_override(\n bazel_dep(name \u003d \"devinfra\")\n git_override(\n     module_name \u003d \"devinfra\",\n-    commit \u003d \"3ec78dc98edefbf3a324b84d093e66577ea30b29\",\n+    commit \u003d \"74db0cd6da7fe89807133854c645ed02c9980566\",\n     remote \u003d \"https://github.com/angular/dev-infra.git\",\n )\n \ndiff --git a/MODULE.bazel.lock b/MODULE.bazel.lock\nindex ee88e1d8..6dec6aa9 100644\n--- a/MODULE.bazel.lock\n+++ b/MODULE.bazel.lock\n@@ -413,7 +413,7 @@\n     \"@@aspect_rules_js+//npm:extensions.bzl%pnpm\": {\n       \"general\": {\n         \"bzlTransitiveDigest\": \"zVV86HvMwDBJ8IsFt27k/Sjq0vCMPr8b8X9OAuprQ6w\u003d\",\n-        \"usagesDigest\": \"tXEpX/zGYEvgeLFU6mL5Log6D0c2lFTsUV0iGbp/QzM\u003d\",\n+        \"usagesDigest\": \"V3eYj3dhR+UR/L7u17ZGfCuqJZpobNrN/6oEZPkZgDc\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},\ndiff --git a/package.json b/package.json\nindex 7f676e9e..50e3015d 100644\n--- a/package.json\n+++ b/package.json\n@@ -163,7 +163,7 @@\n     \"@actions/core\": \"^2.0.0\",\n     \"@actions/github\": \"^7.0.0\",\n     \"@angular-devkit/architect-cli\": \"0.2101.0-rc.0\",\n-    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#50fe5451525482cef45fa98d953f899e92d618ce\",\n+    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#8538b565cd4eb980c7143590335216ebb64dd54f\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\n     \"@babel/plugin-transform-async-generator-functions\": \"^7.27.1\",\n     \"@bazel/bazelisk\": \"^1.7.5\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex e100d7cc..9aa0bc63 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -342,8 +342,8 @@ importers:\n         specifier: 0.2101.0-rc.0\n         version: 0.2101.0-rc.0(chokidar@5.0.0)\n       \u0027@angular/ng-dev\u0027:\n-        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#50fe5451525482cef45fa98d953f899e92d618ce\n-        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/50fe5451525482cef45fa98d953f899e92d618ce(@modelcontextprotocol/sdk@1.25.2)\n+        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#8538b565cd4eb980c7143590335216ebb64dd54f\n+        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/8538b565cd4eb980c7143590335216ebb64dd54f(@modelcontextprotocol/sdk@1.25.2)\n       \u0027@babel/plugin-proposal-async-generator-functions\u0027:\n         specifier: 7.20.7\n         version: 7.20.7(@babel/core@7.28.5)\n@@ -1698,9 +1698,9 @@ packages:\n       \u0027@angular/platform-browser\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n       rxjs: ^6.5.3 || ^7.4.0\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/50fe5451525482cef45fa98d953f899e92d618ce\u0027:\n-    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/50fe5451525482cef45fa98d953f899e92d618ce}\n-    version: 0.0.0-3ec78dc98edefbf3a324b84d093e66577ea30b29\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/8538b565cd4eb980c7143590335216ebb64dd54f\u0027:\n+    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/8538b565cd4eb980c7143590335216ebb64dd54f}\n+    version: 0.0.0-74db0cd6da7fe89807133854c645ed02c9980566\n     hasBin: true\n \n   \u0027@angular/ssr@21.1.0-rc.0\u0027:\n@@ -3610,15 +3610,6 @@ packages:\n       \u0027@types/node\u0027:\n         optional: true\n \n-  \u0027@inquirer/type@4.0.1\u0027:\n-    resolution: {integrity: sha512-odO8YwoQAw/eVu/PSPsDDVPmqO77r/Mq7zcoF5VduVqIu2wSRWUgmYb5K9WH1no0SjLnOe8MDKtDL++z6mfo2g\u003d\u003d}\n-    engines: {node: \u0027\u003e\u003d23.5.0 || ^22.13.0 || ^21.7.0 || ^20.12.0\u0027}\n-    peerDependencies:\n-      \u0027@types/node\u0027: \u0027\u003e\u003d18\u0027\n-    peerDependenciesMeta:\n-      \u0027@types/node\u0027:\n-        optional: true\n-\n   \u0027@inquirer/type@4.0.2\u0027:\n     resolution: {integrity: sha512-cae7mzluplsjSdgFA6ACLygb5jC8alO0UUnFPyu0E7tNRPrL+q/f8VcSXp+cjZQ7l5CMpDpi2G1+IQvkOiL1Lw\u003d\u003d}\n     engines: {node: \u0027\u003e\u003d23.5.0 || ^22.13.0 || ^21.7.0 || ^20.12.0\u0027}\n@@ -13418,7 +13409,7 @@ snapshots:\n   \u0027@actions/core@2.0.1\u0027:\n     dependencies:\n       \u0027@actions/exec\u0027: 2.0.0\n-      \u0027@actions/http-client\u0027: 3.0.0\n+      \u0027@actions/http-client\u0027: 3.0.1\n \n   \u0027@actions/exec@1.1.1\u0027:\n     dependencies:\n@@ -13952,7 +13943,7 @@ snapshots:\n       rxjs: 7.8.2\n       tslib: 2.8.1\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/50fe5451525482cef45fa98d953f899e92d618ce(@modelcontextprotocol/sdk@1.25.2)\u0027:\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/8538b565cd4eb980c7143590335216ebb64dd54f(@modelcontextprotocol/sdk@1.25.2)\u0027:\n     dependencies:\n       \u0027@actions/core\u0027: 2.0.1\n       \u0027@google-cloud/spanner\u0027: 8.0.0(supports-color@10.2.2)\n@@ -15890,7 +15881,7 @@ snapshots:\n       \u0027@inquirer/ansi\u0027: 2.0.1\n       \u0027@inquirer/core\u0027: 11.0.1(@types/node@20.19.25)\n       \u0027@inquirer/figures\u0027: 2.0.1\n-      \u0027@inquirer/type\u0027: 4.0.1(@types/node@20.19.25)\n+      \u0027@inquirer/type\u0027: 4.0.2(@types/node@20.19.25)\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25\n \n@@ -15920,7 +15911,7 @@ snapshots:\n   \u0027@inquirer/confirm@6.0.1(@types/node@20.19.25)\u0027:\n     dependencies:\n       \u0027@inquirer/core\u0027: 11.0.1(@types/node@20.19.25)\n-      \u0027@inquirer/type\u0027: 4.0.1(@types/node@20.19.25)\n+      \u0027@inquirer/type\u0027: 4.0.2(@types/node@20.19.25)\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25\n \n@@ -16001,7 +15992,7 @@ snapshots:\n     dependencies:\n       \u0027@inquirer/core\u0027: 11.0.1(@types/node@20.19.25)\n       \u0027@inquirer/external-editor\u0027: 2.0.1(@types/node@20.19.25)\n-      \u0027@inquirer/type\u0027: 4.0.1(@types/node@20.19.25)\n+      \u0027@inquirer/type\u0027: 4.0.2(@types/node@20.19.25)\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25\n \n@@ -16032,7 +16023,7 @@ snapshots:\n   \u0027@inquirer/expand@5.0.1(@types/node@20.19.25)\u0027:\n     dependencies:\n       \u0027@inquirer/core\u0027: 11.0.1(@types/node@20.19.25)\n-      \u0027@inquirer/type\u0027: 4.0.1(@types/node@20.19.25)\n+      \u0027@inquirer/type\u0027: 4.0.2(@types/node@20.19.25)\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25\n \n@@ -16094,7 +16085,7 @@ snapshots:\n   \u0027@inquirer/input@5.0.1(@types/node@20.19.25)\u0027:\n     dependencies:\n       \u0027@inquirer/core\u0027: 11.0.1(@types/node@20.19.25)\n-      \u0027@inquirer/type\u0027: 4.0.1(@types/node@20.19.25)\n+      \u0027@inquirer/type\u0027: 4.0.2(@types/node@20.19.25)\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25\n \n@@ -16122,7 +16113,7 @@ snapshots:\n   \u0027@inquirer/number@4.0.1(@types/node@20.19.25)\u0027:\n     dependencies:\n       \u0027@inquirer/core\u0027: 11.0.1(@types/node@20.19.25)\n-      \u0027@inquirer/type\u0027: 4.0.1(@types/node@20.19.25)\n+      \u0027@inquirer/type\u0027: 4.0.2(@types/node@20.19.25)\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25\n \n@@ -16153,7 +16144,7 @@ snapshots:\n     dependencies:\n       \u0027@inquirer/ansi\u0027: 2.0.1\n       \u0027@inquirer/core\u0027: 11.0.1(@types/node@20.19.25)\n-      \u0027@inquirer/type\u0027: 4.0.1(@types/node@20.19.25)\n+      \u0027@inquirer/type\u0027: 4.0.2(@types/node@20.19.25)\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25\n \n@@ -16244,7 +16235,7 @@ snapshots:\n   \u0027@inquirer/rawlist@5.0.1(@types/node@20.19.25)\u0027:\n     dependencies:\n       \u0027@inquirer/core\u0027: 11.0.1(@types/node@20.19.25)\n-      \u0027@inquirer/type\u0027: 4.0.1(@types/node@20.19.25)\n+      \u0027@inquirer/type\u0027: 4.0.2(@types/node@20.19.25)\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25\n \n@@ -16277,7 +16268,7 @@ snapshots:\n     dependencies:\n       \u0027@inquirer/core\u0027: 11.0.1(@types/node@20.19.25)\n       \u0027@inquirer/figures\u0027: 2.0.1\n-      \u0027@inquirer/type\u0027: 4.0.1(@types/node@20.19.25)\n+      \u0027@inquirer/type\u0027: 4.0.2(@types/node@20.19.25)\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25\n \n@@ -16314,7 +16305,7 @@ snapshots:\n       \u0027@inquirer/ansi\u0027: 2.0.1\n       \u0027@inquirer/core\u0027: 11.0.1(@types/node@20.19.25)\n       \u0027@inquirer/figures\u0027: 2.0.1\n-      \u0027@inquirer/type\u0027: 4.0.1(@types/node@20.19.25)\n+      \u0027@inquirer/type\u0027: 4.0.2(@types/node@20.19.25)\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25\n \n@@ -16335,10 +16326,6 @@ snapshots:\n     optionalDependencies:\n       \u0027@types/node\u0027: 24.10.4\n \n-  \u0027@inquirer/type@4.0.1(@types/node@20.19.25)\u0027:\n-    optionalDependencies:\n-      \u0027@types/node\u0027: 20.19.25\n-\n   \u0027@inquirer/type@4.0.2(@types/node@20.19.25)\u0027:\n     optionalDependencies:\n       \u0027@types/node\u0027: 20.19.25","expectedMessage":"build: update cross-repo angular dependencies","repository":"angular","commitHash":"460c1c7e71bd02b4481cdabf445bd23d190f2a37","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-405b0560","diff":" adev/shared-docs/styles/_colors.scss | 4 ++--\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/adev/shared-docs/styles/_colors.scss b/adev/shared-docs/styles/_colors.scss\nindex 4b7f4c94..74e603e4 100644\n--- a/adev/shared-docs/styles/_colors.scss\n+++ b/adev/shared-docs/styles/_colors.scss\n@@ -40,7 +40,7 @@\n   --symbolic-pink: oklch(63.67% 0.254 13.47); // #ff025c\n   --symbolic-orange: oklch(64.73% 0.23769984683784018 33.18328352127882); // #fe3700\n   --symbolic-yellow: oklch(78.09% 0.163 65.69); // #fd9f28\n-  --symbolic-green: oklch(67.83% 0.229 142.73); // #00b80a\n+  --symbolic-green: oklch(48% 0.16 145); // #008B38\n   --symbolic-cyan: oklch(67.05% 0.1205924489987394 181.34025902203868); // #00ad9a\n   --symbolic-magenta: oklch(51.74% 0.25453048882711515 315.26261625862725); // #9c00c8\n   --symbolic-teal: oklch(57.59% 0.083 230.58); // #3f82a1\n@@ -288,7 +288,7 @@\n     var(--full-contrast) 65%\n   );\n   --symbolic-yellow: color-mix(in srgb, oklch(78.09% 0.163 65.69), var(--full-contrast) 65%);\n-  --symbolic-green: color-mix(in srgb, oklch(67.83% 0.229 142.73), var(--full-contrast) 65%);\n+  --symbolic-green: color-mix(in srgb, oklch(48% 0.16 145), var(--full-contrast) 65%);\n   --symbolic-cyan: color-mix(\n     in srgb,\n     oklch(67.05% 0.1205924489987394 181.34025902203868),","expectedMessage":"fix(docs-infra): improve symbolic green contrast for WCAG compliance","repository":"angular","commitHash":"405b05607c44abf0f3070157fb55c9619ca5dff5","metadata":{"author":"omar-almasry11 \u003chello@omaralmasry.com\u003e"}}
{"id":"angular-66b40d4f","diff":" adev/src/content/guide/routing/testing.md | 6 +++---\n 1 file changed, 3 insertions(+), 3 deletions(-)\n\ndiff --git a/adev/src/content/guide/routing/testing.md b/adev/src/content/guide/routing/testing.md\nindex 8684a7dd..cfe484db 100644\n--- a/adev/src/content/guide/routing/testing.md\n+++ b/adev/src/content/guide/routing/testing.md\n@@ -63,6 +63,7 @@ The following example tests an `authGuard` that allows navigation for authentica\n \n ```ts\n // auth.guard.spec.ts\n+import {vi, type Mocked} from \u0027vitest\u0027;\n import {RouterTestingHarness} from \u0027@angular/router/testing\u0027;\n import {provideRouter, Router} from \u0027@angular/router\u0027;\n import {authGuard} from \u0027./auth.guard\u0027;\n@@ -77,12 +78,11 @@ class ProtectedComponent {}\n class LoginComponent {}\n \n describe(\u0027authGuard\u0027, () \u003d\u003e {\n-  let authStore: jasmine.SpyObj\u003cAuthStore\u003e;\n+  let authStore: Mocked\u003cAuthStore\u003e;\n   let harness: RouterTestingHarness;\n \n   async function setup(isAuthenticated: boolean) {\n-    authStore \u003d jasmine.createSpyObj(\u0027AuthStore\u0027, [\u0027isAuthenticated\u0027]);\n-    authStore.isAuthenticated.and.returnValue(isAuthenticated);\n+    authStore \u003d {isAuthenticated: vi.fn().mockReturnValue(isAuthenticated)} as Mocked\u003cAuthStore\u003e;\n \n     TestBed.configureTestingModule({\n       providers: [","expectedMessage":"docs: update testing guide to include Vitest and improve authGuard test setup","repository":"angular","commitHash":"66b40d4fb31ae0a2fb5bf557873c4bab3e60db68","metadata":{"author":"Jeevan Mahesha \u003ccsejeevanm@gmail.com\u003e"}}
{"id":"angular-783f20ed","diff":" MODULE.bazel                                       |  16 +-\n MODULE.bazel.lock                                  | 338 +++++++++++++++++++--\n integration/cli-hello-world-ivy-i18n/package.json  |   2 +-\n integration/cli-hello-world-lazy/package.json      |   2 +-\n integration/cli-hello-world/package.json           |   2 +-\n integration/cli-signal-inputs/package.json         |   2 +-\n integration/defer/package.json                     |   2 +-\n integration/legacy-animations-async/package.json   |   2 +-\n integration/legacy-animations/package.json         |   2 +-\n integration/ng-add-localize/package.json           |   2 +-\n integration/ng_elements/package.json               |   2 +-\n integration/ng_update/package.json                 |   2 +-\n integration/no_ts_linker/package.json              |   2 +-\n integration/nodenext_resolution/package.json       |   2 +-\n integration/platform-server-hydration/package.json |   2 +-\n integration/platform-server-zoneless/package.json  |   2 +-\n integration/platform-server/package.json           |   2 +-\n integration/service-worker-schema/package.json     |   2 +-\n integration/side-effects/package.json              |   2 +-\n integration/standalone-bootstrap/package.json      |   2 +-\n integration/terser/package.json                    |   2 +-\n integration/trusted-types/package.json             |   2 +-\n integration/typings_test_rxjs7/package.json        |   2 +-\n integration/typings_test_ts59/package.json         |   2 +-\n package.json                                       |   4 +-\n 25 files changed, 347 insertions(+), 55 deletions(-)\n\ndiff --git a/MODULE.bazel b/MODULE.bazel\nindex ba03f523..ce67011a 100644\n--- a/MODULE.bazel\n+++ b/MODULE.bazel\n@@ -47,7 +47,18 @@ yq \u003d use_extension(\"@yq.bzl//yq:extensions.bzl\", \"yq\")\n use_repo(yq, \"yq_toolchains\")\n \n node \u003d use_extension(\"@rules_nodejs//nodejs:extensions.bzl\", \"node\")\n-node.toolchain(node_version_from_nvmrc \u003d \"//:.nvmrc\")\n+node.toolchain(\n+    node_repositories \u003d {\n+        \"22.21.1-darwin_arm64\": (\"node-v22.21.1-darwin-arm64.tar.gz\", \"node-v22.21.1-darwin-arm64\", \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"),\n+        \"22.21.1-darwin_amd64\": (\"node-v22.21.1-darwin-x64.tar.gz\", \"node-v22.21.1-darwin-x64\", \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"),\n+        \"22.21.1-linux_arm64\": (\"node-v22.21.1-linux-arm64.tar.xz\", \"node-v22.21.1-linux-arm64\", \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"),\n+        \"22.21.1-linux_ppc64le\": (\"node-v22.21.1-linux-ppc64le.tar.xz\", \"node-v22.21.1-linux-ppc64le\", \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"),\n+        \"22.21.1-linux_s390x\": (\"node-v22.21.1-linux-s390x.tar.xz\", \"node-v22.21.1-linux-s390x\", \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"),\n+        \"22.21.1-linux_amd64\": (\"node-v22.21.1-linux-x64.tar.xz\", \"node-v22.21.1-linux-x64\", \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"),\n+        \"22.21.1-windows_amd64\": (\"node-v22.21.1-win-x64.zip\", \"node-v22.21.1-win-x64\", \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"),\n+    },\n+    node_version \u003d \"22.21.1\",\n+)\n use_repo(node, \"nodejs_toolchains\")\n use_repo(node, \"nodejs_darwin_amd64\")\n use_repo(node, \"nodejs_darwin_arm64\")\n@@ -60,7 +71,8 @@ use_repo(node, \"nodejs_windows_amd64\")\n pnpm \u003d use_extension(\"@aspect_rules_js//npm:extensions.bzl\", \"pnpm\")\n pnpm.pnpm(\n     name \u003d \"pnpm\",\n-    pnpm_version \u003d \"10.16.1\",\n+    pnpm_version \u003d \"10.28.0\",\n+    pnpm_version_integrity \u003d \"sha512-Bd9x0UIfITmeBT/eVnzqNNRG+gLHZXFEG/wceVbpjjYwiJgtlARl/TRIDU2QoGaLwSNi+KqIAApk6D0LDke+SA\u003d\u003d\",\n )\n use_repo(pnpm, \"pnpm\")\n \ndiff --git a/MODULE.bazel.lock b/MODULE.bazel.lock\nindex 24135b47..ee88e1d8 100644\n--- a/MODULE.bazel.lock\n+++ b/MODULE.bazel.lock\n@@ -413,7 +413,7 @@\n     \"@@aspect_rules_js+//npm:extensions.bzl%pnpm\": {\n       \"general\": {\n         \"bzlTransitiveDigest\": \"zVV86HvMwDBJ8IsFt27k/Sjq0vCMPr8b8X9OAuprQ6w\u003d\",\n-        \"usagesDigest\": \"8Uzd6dzyXra+HNd8+IjIL4wYFEK1geFrOrTHGnPzbJA\u003d\",\n+        \"usagesDigest\": \"tXEpX/zGYEvgeLFU6mL5Log6D0c2lFTsUV0iGbp/QzM\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},\n@@ -422,11 +422,11 @@\n             \"repoRuleId\": \"@@aspect_rules_js+//npm/private:npm_import.bzl%npm_import_rule\",\n             \"attributes\": {\n               \"package\": \"pnpm\",\n-              \"version\": \"10.16.1\",\n+              \"version\": \"10.28.0\",\n               \"root_package\": \"\",\n               \"link_workspace\": \"\",\n               \"link_packages\": {},\n-              \"integrity\": \"sha512-DhVaomKduGcrSehHXaYiaqS96oX9zf3BU1CHSUbU88kfqvZMvcSl0auAAvRz1cP87c0ZeYnPA5D5ut08BGeHBg\u003d\u003d\",\n+              \"integrity\": \"sha512-Bd9x0UIfITmeBT/eVnzqNNRG+gLHZXFEG/wceVbpjjYwiJgtlARl/TRIDU2QoGaLwSNi+KqIAApk6D0LDke+SA\u003d\u003d\",\n               \"url\": \"\",\n               \"commit\": \"\",\n               \"patch_args\": [\n@@ -449,7 +449,7 @@\n             \"repoRuleId\": \"@@aspect_rules_js+//npm/private:npm_import.bzl%npm_import_links\",\n             \"attributes\": {\n               \"package\": \"pnpm\",\n-              \"version\": \"10.16.1\",\n+              \"version\": \"10.28.0\",\n               \"dev\": false,\n               \"root_package\": \"\",\n               \"link_packages\": {},\n@@ -1087,7 +1087,7 @@\n     \"@@rules_nodejs+//nodejs:extensions.bzl%node\": {\n       \"general\": {\n         \"bzlTransitiveDigest\": \"NwcLXHrbh2hoorA/Ybmcpjxsn/6avQmewDglodkDrgo\u003d\",\n-        \"usagesDigest\": \"WPHsQHkjeoO97qDmTGQqIJu3GPJvcEqJ2wttRnkkDhc\u003d\",\n+        \"usagesDigest\": \"6zqbiJMe63ISwLi85YnsFYWZh7eO1/JBkk3WkjOnqxc\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},\n@@ -1096,12 +1096,47 @@\n             \"repoRuleId\": \"@@rules_nodejs+//nodejs:repositories.bzl%_nodejs_repositories\",\n             \"attributes\": {\n               \"node_download_auth\": {},\n-              \"node_repositories\": {},\n+              \"node_repositories\": {\n+                \"22.21.1-darwin_arm64\": [\n+                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n+                  \"node-v22.21.1-darwin-arm64\",\n+                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                ],\n+                \"22.21.1-darwin_amd64\": [\n+                  \"node-v22.21.1-darwin-x64.tar.gz\",\n+                  \"node-v22.21.1-darwin-x64\",\n+                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                ],\n+                \"22.21.1-linux_arm64\": [\n+                  \"node-v22.21.1-linux-arm64.tar.xz\",\n+                  \"node-v22.21.1-linux-arm64\",\n+                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                ],\n+                \"22.21.1-linux_ppc64le\": [\n+                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n+                  \"node-v22.21.1-linux-ppc64le\",\n+                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                ],\n+                \"22.21.1-linux_s390x\": [\n+                  \"node-v22.21.1-linux-s390x.tar.xz\",\n+                  \"node-v22.21.1-linux-s390x\",\n+                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                ],\n+                \"22.21.1-linux_amd64\": [\n+                  \"node-v22.21.1-linux-x64.tar.xz\",\n+                  \"node-v22.21.1-linux-x64\",\n+                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                ],\n+                \"22.21.1-windows_amd64\": [\n+                  \"node-v22.21.1-win-x64.zip\",\n+                  \"node-v22.21.1-win-x64\",\n+                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                ]\n+              },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"20.19.5\",\n-              \"node_version_from_nvmrc\": \"@@//:.nvmrc\",\n+              \"node_version\": \"22.21.1\",\n               \"include_headers\": false,\n               \"platform\": \"linux_amd64\"\n             }\n@@ -1110,12 +1145,47 @@\n             \"repoRuleId\": \"@@rules_nodejs+//nodejs:repositories.bzl%_nodejs_repositories\",\n             \"attributes\": {\n               \"node_download_auth\": {},\n-              \"node_repositories\": {},\n+              \"node_repositories\": {\n+                \"22.21.1-darwin_arm64\": [\n+                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n+                  \"node-v22.21.1-darwin-arm64\",\n+                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                ],\n+                \"22.21.1-darwin_amd64\": [\n+                  \"node-v22.21.1-darwin-x64.tar.gz\",\n+                  \"node-v22.21.1-darwin-x64\",\n+                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                ],\n+                \"22.21.1-linux_arm64\": [\n+                  \"node-v22.21.1-linux-arm64.tar.xz\",\n+                  \"node-v22.21.1-linux-arm64\",\n+                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                ],\n+                \"22.21.1-linux_ppc64le\": [\n+                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n+                  \"node-v22.21.1-linux-ppc64le\",\n+                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                ],\n+                \"22.21.1-linux_s390x\": [\n+                  \"node-v22.21.1-linux-s390x.tar.xz\",\n+                  \"node-v22.21.1-linux-s390x\",\n+                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                ],\n+                \"22.21.1-linux_amd64\": [\n+                  \"node-v22.21.1-linux-x64.tar.xz\",\n+                  \"node-v22.21.1-linux-x64\",\n+                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                ],\n+                \"22.21.1-windows_amd64\": [\n+                  \"node-v22.21.1-win-x64.zip\",\n+                  \"node-v22.21.1-win-x64\",\n+                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                ]\n+              },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"20.19.5\",\n-              \"node_version_from_nvmrc\": \"@@//:.nvmrc\",\n+              \"node_version\": \"22.21.1\",\n               \"include_headers\": false,\n               \"platform\": \"linux_arm64\"\n             }\n@@ -1124,12 +1194,47 @@\n             \"repoRuleId\": \"@@rules_nodejs+//nodejs:repositories.bzl%_nodejs_repositories\",\n             \"attributes\": {\n               \"node_download_auth\": {},\n-              \"node_repositories\": {},\n+              \"node_repositories\": {\n+                \"22.21.1-darwin_arm64\": [\n+                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n+                  \"node-v22.21.1-darwin-arm64\",\n+                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                ],\n+                \"22.21.1-darwin_amd64\": [\n+                  \"node-v22.21.1-darwin-x64.tar.gz\",\n+                  \"node-v22.21.1-darwin-x64\",\n+                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                ],\n+                \"22.21.1-linux_arm64\": [\n+                  \"node-v22.21.1-linux-arm64.tar.xz\",\n+                  \"node-v22.21.1-linux-arm64\",\n+                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                ],\n+                \"22.21.1-linux_ppc64le\": [\n+                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n+                  \"node-v22.21.1-linux-ppc64le\",\n+                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                ],\n+                \"22.21.1-linux_s390x\": [\n+                  \"node-v22.21.1-linux-s390x.tar.xz\",\n+                  \"node-v22.21.1-linux-s390x\",\n+                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                ],\n+                \"22.21.1-linux_amd64\": [\n+                  \"node-v22.21.1-linux-x64.tar.xz\",\n+                  \"node-v22.21.1-linux-x64\",\n+                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                ],\n+                \"22.21.1-windows_amd64\": [\n+                  \"node-v22.21.1-win-x64.zip\",\n+                  \"node-v22.21.1-win-x64\",\n+                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                ]\n+              },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"20.19.5\",\n-              \"node_version_from_nvmrc\": \"@@//:.nvmrc\",\n+              \"node_version\": \"22.21.1\",\n               \"include_headers\": false,\n               \"platform\": \"linux_s390x\"\n             }\n@@ -1138,12 +1243,47 @@\n             \"repoRuleId\": \"@@rules_nodejs+//nodejs:repositories.bzl%_nodejs_repositories\",\n             \"attributes\": {\n               \"node_download_auth\": {},\n-              \"node_repositories\": {},\n+              \"node_repositories\": {\n+                \"22.21.1-darwin_arm64\": [\n+                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n+                  \"node-v22.21.1-darwin-arm64\",\n+                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                ],\n+                \"22.21.1-darwin_amd64\": [\n+                  \"node-v22.21.1-darwin-x64.tar.gz\",\n+                  \"node-v22.21.1-darwin-x64\",\n+                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                ],\n+                \"22.21.1-linux_arm64\": [\n+                  \"node-v22.21.1-linux-arm64.tar.xz\",\n+                  \"node-v22.21.1-linux-arm64\",\n+                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                ],\n+                \"22.21.1-linux_ppc64le\": [\n+                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n+                  \"node-v22.21.1-linux-ppc64le\",\n+                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                ],\n+                \"22.21.1-linux_s390x\": [\n+                  \"node-v22.21.1-linux-s390x.tar.xz\",\n+                  \"node-v22.21.1-linux-s390x\",\n+                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                ],\n+                \"22.21.1-linux_amd64\": [\n+                  \"node-v22.21.1-linux-x64.tar.xz\",\n+                  \"node-v22.21.1-linux-x64\",\n+                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                ],\n+                \"22.21.1-windows_amd64\": [\n+                  \"node-v22.21.1-win-x64.zip\",\n+                  \"node-v22.21.1-win-x64\",\n+                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                ]\n+              },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"20.19.5\",\n-              \"node_version_from_nvmrc\": \"@@//:.nvmrc\",\n+              \"node_version\": \"22.21.1\",\n               \"include_headers\": false,\n               \"platform\": \"linux_ppc64le\"\n             }\n@@ -1152,12 +1292,47 @@\n             \"repoRuleId\": \"@@rules_nodejs+//nodejs:repositories.bzl%_nodejs_repositories\",\n             \"attributes\": {\n               \"node_download_auth\": {},\n-              \"node_repositories\": {},\n+              \"node_repositories\": {\n+                \"22.21.1-darwin_arm64\": [\n+                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n+                  \"node-v22.21.1-darwin-arm64\",\n+                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                ],\n+                \"22.21.1-darwin_amd64\": [\n+                  \"node-v22.21.1-darwin-x64.tar.gz\",\n+                  \"node-v22.21.1-darwin-x64\",\n+                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                ],\n+                \"22.21.1-linux_arm64\": [\n+                  \"node-v22.21.1-linux-arm64.tar.xz\",\n+                  \"node-v22.21.1-linux-arm64\",\n+                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                ],\n+                \"22.21.1-linux_ppc64le\": [\n+                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n+                  \"node-v22.21.1-linux-ppc64le\",\n+                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                ],\n+                \"22.21.1-linux_s390x\": [\n+                  \"node-v22.21.1-linux-s390x.tar.xz\",\n+                  \"node-v22.21.1-linux-s390x\",\n+                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                ],\n+                \"22.21.1-linux_amd64\": [\n+                  \"node-v22.21.1-linux-x64.tar.xz\",\n+                  \"node-v22.21.1-linux-x64\",\n+                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                ],\n+                \"22.21.1-windows_amd64\": [\n+                  \"node-v22.21.1-win-x64.zip\",\n+                  \"node-v22.21.1-win-x64\",\n+                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                ]\n+              },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"20.19.5\",\n-              \"node_version_from_nvmrc\": \"@@//:.nvmrc\",\n+              \"node_version\": \"22.21.1\",\n               \"include_headers\": false,\n               \"platform\": \"darwin_amd64\"\n             }\n@@ -1166,12 +1341,47 @@\n             \"repoRuleId\": \"@@rules_nodejs+//nodejs:repositories.bzl%_nodejs_repositories\",\n             \"attributes\": {\n               \"node_download_auth\": {},\n-              \"node_repositories\": {},\n+              \"node_repositories\": {\n+                \"22.21.1-darwin_arm64\": [\n+                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n+                  \"node-v22.21.1-darwin-arm64\",\n+                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                ],\n+                \"22.21.1-darwin_amd64\": [\n+                  \"node-v22.21.1-darwin-x64.tar.gz\",\n+                  \"node-v22.21.1-darwin-x64\",\n+                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                ],\n+                \"22.21.1-linux_arm64\": [\n+                  \"node-v22.21.1-linux-arm64.tar.xz\",\n+                  \"node-v22.21.1-linux-arm64\",\n+                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                ],\n+                \"22.21.1-linux_ppc64le\": [\n+                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n+                  \"node-v22.21.1-linux-ppc64le\",\n+                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                ],\n+                \"22.21.1-linux_s390x\": [\n+                  \"node-v22.21.1-linux-s390x.tar.xz\",\n+                  \"node-v22.21.1-linux-s390x\",\n+                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                ],\n+                \"22.21.1-linux_amd64\": [\n+                  \"node-v22.21.1-linux-x64.tar.xz\",\n+                  \"node-v22.21.1-linux-x64\",\n+                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                ],\n+                \"22.21.1-windows_amd64\": [\n+                  \"node-v22.21.1-win-x64.zip\",\n+                  \"node-v22.21.1-win-x64\",\n+                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                ]\n+              },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"20.19.5\",\n-              \"node_version_from_nvmrc\": \"@@//:.nvmrc\",\n+              \"node_version\": \"22.21.1\",\n               \"include_headers\": false,\n               \"platform\": \"darwin_arm64\"\n             }\n@@ -1180,12 +1390,47 @@\n             \"repoRuleId\": \"@@rules_nodejs+//nodejs:repositories.bzl%_nodejs_repositories\",\n             \"attributes\": {\n               \"node_download_auth\": {},\n-              \"node_repositories\": {},\n+              \"node_repositories\": {\n+                \"22.21.1-darwin_arm64\": [\n+                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n+                  \"node-v22.21.1-darwin-arm64\",\n+                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                ],\n+                \"22.21.1-darwin_amd64\": [\n+                  \"node-v22.21.1-darwin-x64.tar.gz\",\n+                  \"node-v22.21.1-darwin-x64\",\n+                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                ],\n+                \"22.21.1-linux_arm64\": [\n+                  \"node-v22.21.1-linux-arm64.tar.xz\",\n+                  \"node-v22.21.1-linux-arm64\",\n+                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                ],\n+                \"22.21.1-linux_ppc64le\": [\n+                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n+                  \"node-v22.21.1-linux-ppc64le\",\n+                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                ],\n+                \"22.21.1-linux_s390x\": [\n+                  \"node-v22.21.1-linux-s390x.tar.xz\",\n+                  \"node-v22.21.1-linux-s390x\",\n+                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                ],\n+                \"22.21.1-linux_amd64\": [\n+                  \"node-v22.21.1-linux-x64.tar.xz\",\n+                  \"node-v22.21.1-linux-x64\",\n+                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                ],\n+                \"22.21.1-windows_amd64\": [\n+                  \"node-v22.21.1-win-x64.zip\",\n+                  \"node-v22.21.1-win-x64\",\n+                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                ]\n+              },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"20.19.5\",\n-              \"node_version_from_nvmrc\": \"@@//:.nvmrc\",\n+              \"node_version\": \"22.21.1\",\n               \"include_headers\": false,\n               \"platform\": \"windows_amd64\"\n             }\n@@ -1194,12 +1439,47 @@\n             \"repoRuleId\": \"@@rules_nodejs+//nodejs:repositories.bzl%_nodejs_repositories\",\n             \"attributes\": {\n               \"node_download_auth\": {},\n-              \"node_repositories\": {},\n+              \"node_repositories\": {\n+                \"22.21.1-darwin_arm64\": [\n+                  \"node-v22.21.1-darwin-arm64.tar.gz\",\n+                  \"node-v22.21.1-darwin-arm64\",\n+                  \"c170d6554fba83d41d25a76cdbad85487c077e51fa73519e41ac885aa429d8af\"\n+                ],\n+                \"22.21.1-darwin_amd64\": [\n+                  \"node-v22.21.1-darwin-x64.tar.gz\",\n+                  \"node-v22.21.1-darwin-x64\",\n+                  \"8e3dc89614debe66c2a6ad2313a1adb06eb37db6cd6c40d7de6f7d987f7d1afd\"\n+                ],\n+                \"22.21.1-linux_arm64\": [\n+                  \"node-v22.21.1-linux-arm64.tar.xz\",\n+                  \"node-v22.21.1-linux-arm64\",\n+                  \"e660365729b434af422bcd2e8e14228637ecf24a1de2cd7c916ad48f2a0521e1\"\n+                ],\n+                \"22.21.1-linux_ppc64le\": [\n+                  \"node-v22.21.1-linux-ppc64le.tar.xz\",\n+                  \"node-v22.21.1-linux-ppc64le\",\n+                  \"6f2b6aa1519a8f50a66b0ae7e94d2feeadfe9aa98095c737c2fc67df25012845\"\n+                ],\n+                \"22.21.1-linux_s390x\": [\n+                  \"node-v22.21.1-linux-s390x.tar.xz\",\n+                  \"node-v22.21.1-linux-s390x\",\n+                  \"c473e8e7eb46aa93e1580736ce240ba4cf3b22dc45a47118359e85508b63e211\"\n+                ],\n+                \"22.21.1-linux_amd64\": [\n+                  \"node-v22.21.1-linux-x64.tar.xz\",\n+                  \"node-v22.21.1-linux-x64\",\n+                  \"680d3f30b24a7ff24b98db5e96f294c0070f8f9078df658da1bce1b9c9873c88\"\n+                ],\n+                \"22.21.1-windows_amd64\": [\n+                  \"node-v22.21.1-win-x64.zip\",\n+                  \"node-v22.21.1-win-x64\",\n+                  \"3c624e9fbe07e3217552ec52a0f84e2bdc2e6ffa7348f3fdfb9fbf8f42e23fcf\"\n+                ]\n+              },\n               \"node_urls\": [\n                 \"https://nodejs.org/dist/v{version}/{filename}\"\n               ],\n-              \"node_version\": \"20.19.5\",\n-              \"node_version_from_nvmrc\": \"@@//:.nvmrc\",\n+              \"node_version\": \"22.21.1\",\n               \"include_headers\": false,\n               \"platform\": \"windows_arm64\"\n             }\ndiff --git a/integration/cli-hello-world-ivy-i18n/package.json b/integration/cli-hello-world-ivy-i18n/package.json\nindex d80316f8..3bf5b46c 100644\n--- a/integration/cli-hello-world-ivy-i18n/package.json\n+++ b/integration/cli-hello-world-ivy-i18n/package.json\n@@ -42,5 +42,5 @@\n     \"ts-node\": \"^10.9.1\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/cli-hello-world-lazy/package.json b/integration/cli-hello-world-lazy/package.json\nindex beff7fb8..47676cdf 100644\n--- a/integration/cli-hello-world-lazy/package.json\n+++ b/integration/cli-hello-world-lazy/package.json\n@@ -27,5 +27,5 @@\n     \"ts-node\": \"^10.9.1\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/cli-hello-world/package.json b/integration/cli-hello-world/package.json\nindex c9b3349c..5f349b2c 100644\n--- a/integration/cli-hello-world/package.json\n+++ b/integration/cli-hello-world/package.json\n@@ -32,5 +32,5 @@\n     \"ts-node\": \"^10.9.1\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/cli-signal-inputs/package.json b/integration/cli-signal-inputs/package.json\nindex 3bdc59c4..b584f719 100644\n--- a/integration/cli-signal-inputs/package.json\n+++ b/integration/cli-signal-inputs/package.json\n@@ -10,7 +10,7 @@\n     \"lint\": \"ng lint\",\n     \"e2e\": \"ng e2e --port 0\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\",\n+  \"packageManager\": \"pnpm@10.28.0\",\n   \"private\": true,\n   \"dependencies\": {\n     \"@angular/animations\": \"link:./in-existing-linked-by-bazel\",\ndiff --git a/integration/defer/package.json b/integration/defer/package.json\nindex f27bdfdf..28395b6f 100644\n--- a/integration/defer/package.json\n+++ b/integration/defer/package.json\n@@ -30,5 +30,5 @@\n     \"ts-node\": \"10.9.2\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/legacy-animations-async/package.json b/integration/legacy-animations-async/package.json\nindex b440a549..67a6282b 100644\n--- a/integration/legacy-animations-async/package.json\n+++ b/integration/legacy-animations-async/package.json\n@@ -30,5 +30,5 @@\n     \"ts-node\": \"^10.9.1\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/legacy-animations/package.json b/integration/legacy-animations/package.json\nindex 723847bb..df175a1f 100644\n--- a/integration/legacy-animations/package.json\n+++ b/integration/legacy-animations/package.json\n@@ -39,5 +39,5 @@\n     \"ts-node\": \"^10.9.1\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/ng-add-localize/package.json b/integration/ng-add-localize/package.json\nindex 1bd0e577..a6f903dc 100644\n--- a/integration/ng-add-localize/package.json\n+++ b/integration/ng-add-localize/package.json\n@@ -27,5 +27,5 @@\n     \"@types/node\": \"^20.14.8\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/ng_elements/package.json b/integration/ng_elements/package.json\nindex 524c19e6..86573276 100644\n--- a/integration/ng_elements/package.json\n+++ b/integration/ng_elements/package.json\n@@ -33,5 +33,5 @@\n     \"protractor\": \"protractor e2e/protractor.config.js\"\n   },\n   \"private\": true,\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/ng_update/package.json b/integration/ng_update/package.json\nindex 636d6c95..83506ceb 100644\n--- a/integration/ng_update/package.json\n+++ b/integration/ng_update/package.json\n@@ -21,5 +21,5 @@\n     \"typescript\": \"5.9.3\",\n     \"zone.js\": \"0.16.0\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/no_ts_linker/package.json b/integration/no_ts_linker/package.json\nindex 0572a852..0ec5c6bd 100644\n--- a/integration/no_ts_linker/package.json\n+++ b/integration/no_ts_linker/package.json\n@@ -13,5 +13,5 @@\n   \"scripts\": {\n     \"test\": \"node ./test.mjs\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/nodenext_resolution/package.json b/integration/nodenext_resolution/package.json\nindex 412bf297..a8c00fc8 100644\n--- a/integration/nodenext_resolution/package.json\n+++ b/integration/nodenext_resolution/package.json\n@@ -27,5 +27,5 @@\n   \"scripts\": {\n     \"test\": \"tsc\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/platform-server-hydration/package.json b/integration/platform-server-hydration/package.json\nindex cc6ddce0..7d3e65ae 100644\n--- a/integration/platform-server-hydration/package.json\n+++ b/integration/platform-server-hydration/package.json\n@@ -39,5 +39,5 @@\n     \"ts-node\": \"^10.9.1\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/platform-server-zoneless/package.json b/integration/platform-server-zoneless/package.json\nindex 29984b05..46747b4a 100644\n--- a/integration/platform-server-zoneless/package.json\n+++ b/integration/platform-server-zoneless/package.json\n@@ -43,5 +43,5 @@\n     \"ts-node\": \"^10.9.1\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/platform-server/package.json b/integration/platform-server/package.json\nindex dcc19aec..da53feb5 100644\n--- a/integration/platform-server/package.json\n+++ b/integration/platform-server/package.json\n@@ -47,5 +47,5 @@\n     \"ts-node\": \"^10.9.1\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/service-worker-schema/package.json b/integration/service-worker-schema/package.json\nindex a1e5ee0d..a976dcc8 100644\n--- a/integration/service-worker-schema/package.json\n+++ b/integration/service-worker-schema/package.json\n@@ -13,5 +13,5 @@\n     \"rxjs\": \"^7.0.0\",\n     \"zone.js\": \"0.16.0\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/side-effects/package.json b/integration/side-effects/package.json\nindex a750e314..14e0939a 100644\n--- a/integration/side-effects/package.json\n+++ b/integration/side-effects/package.json\n@@ -16,5 +16,5 @@\n     \"@angular/router\": \"link:./in-existing-linked-by-bazel\",\n     \"check-side-effects\": \"0.0.23\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/standalone-bootstrap/package.json b/integration/standalone-bootstrap/package.json\nindex b0944b37..72292aed 100644\n--- a/integration/standalone-bootstrap/package.json\n+++ b/integration/standalone-bootstrap/package.json\n@@ -31,5 +31,5 @@\n     \"ts-node\": \"^10.9.1\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/terser/package.json b/integration/terser/package.json\nindex 7c017592..2a8a692f 100644\n--- a/integration/terser/package.json\n+++ b/integration/terser/package.json\n@@ -14,5 +14,5 @@\n     \"typescript\": \"5.9.3\",\n     \"zone.js\": \"0.16.0\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/trusted-types/package.json b/integration/trusted-types/package.json\nindex 337e9c9b..ba2e7215 100644\n--- a/integration/trusted-types/package.json\n+++ b/integration/trusted-types/package.json\n@@ -42,5 +42,5 @@\n     \"ts-node\": \"^10.9.1\",\n     \"typescript\": \"5.9.3\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/typings_test_rxjs7/package.json b/integration/typings_test_rxjs7/package.json\nindex 492c351c..8783ec77 100644\n--- a/integration/typings_test_rxjs7/package.json\n+++ b/integration/typings_test_rxjs7/package.json\n@@ -26,5 +26,5 @@\n   \"scripts\": {\n     \"test\": \"tsc\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/integration/typings_test_ts59/package.json b/integration/typings_test_ts59/package.json\nindex f959288e..ee7c6f4f 100644\n--- a/integration/typings_test_ts59/package.json\n+++ b/integration/typings_test_ts59/package.json\n@@ -26,5 +26,5 @@\n   \"scripts\": {\n     \"test\": \"tsc\"\n   },\n-  \"packageManager\": \"pnpm@10.27.0\"\n+  \"packageManager\": \"pnpm@10.28.0\"\n }\ndiff --git a/package.json b/package.json\nindex fc8c2043..7f676e9e 100644\n--- a/package.json\n+++ b/package.json\n@@ -6,11 +6,11 @@\n   \"homepage\": \"https://github.com/angular/angular\",\n   \"bugs\": \"https://github.com/angular/angular/issues\",\n   \"license\": \"MIT\",\n-  \"packageManager\": \"pnpm@10.27.0\",\n+  \"packageManager\": \"pnpm@10.28.0\",\n   \"engines\": {\n     \"npm\": \"Please use pnpm instead of NPM to install dependencies\",\n     \"yarn\": \"Please use pnpm instead of Yarn to install dependencies\",\n-    \"pnpm\": \"10.27.0\"\n+    \"pnpm\": \"10.28.0\"\n   },\n   \"repository\": {\n     \"type\": \"git\",","expectedMessage":"build: update pnpm to v10.28.0","repository":"angular","commitHash":"783f20edbcd21cc5bf60818224962f017b8bdb05","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-7f1b790f","diff":" adev/src/content/guide/animations/migration.md | 8 ++++----\n 1 file changed, 4 insertions(+), 4 deletions(-)\n\ndiff --git a/adev/src/content/guide/animations/migration.md b/adev/src/content/guide/animations/migration.md\nindex 7872a9b5..69d0b479 100644\n--- a/adev/src/content/guide/animations/migration.md\n+++ b/adev/src/content/guide/animations/migration.md\n@@ -126,20 +126,20 @@ The animations package offered the previously mentioned pattern matching for ent\n     \u003cdocs-code header\u003d\"insert-remove.component.css\" path\u003d\"adev/src/content/examples/animations/src/app/animations-package/insert-remove.component.css\" /\u003e\n \u003c/docs-code-multifile\u003e\n \n-Here\u0027s how the same thing can be accomplished without the animations package using `animate.enter`.\n-\n #### With Native CSS\n \n+Here\u0027s how the same thing can be accomplished without the animations package using `animate.enter`.\n+\n \u003cdocs-code-multifile preview path\u003d\"adev/src/content/examples/animations/src/app/native-css/insert.component.ts\"\u003e\n     \u003cdocs-code header\u003d\"insert.component.ts\" path\u003d\"adev/src/content/examples/animations/src/app/native-css/insert.component.ts\" /\u003e\n     \u003cdocs-code header\u003d\"insert.component.html\" path\u003d\"adev/src/content/examples/animations/src/app/native-css/insert.component.html\" /\u003e\n     \u003cdocs-code header\u003d\"insert.component.css\" path\u003d\"adev/src/content/examples/animations/src/app/native-css/insert.component.css\"  /\u003e\n \u003c/docs-code-multifile\u003e\n \n-Use `animate.leave` to animate elements as they leave the view, which will apply the specified CSS classes to the element as it leaves the view.\n-\n #### With Native CSS\n \n+Use `animate.leave` to animate elements as they leave the view, which will apply the specified CSS classes to the element as it leaves the view.\n+\n \u003cdocs-code-multifile preview path\u003d\"adev/src/content/examples/animations/src/app/native-css/remove.component.ts\"\u003e\n     \u003cdocs-code header\u003d\"remove.component.ts\" path\u003d\"adev/src/content/examples/animations/src/app/native-css/remove.component.ts\" /\u003e\n     \u003cdocs-code header\u003d\"remove.component.html\" path\u003d\"adev/src/content/examples/animations/src/app/native-css/remove.component.html\" /\u003e","expectedMessage":"docs: improve separation between enter and leave example","repository":"angular","commitHash":"7f1b790f843c575acdf6a42648a1c68c43821222","metadata":{"author":"Matthieu Riegler \u003ckyro38@gmail.com\u003e"}}
{"id":"angular-f0dba6de","diff":" vscode-ng-language-service/client/src/commands.ts                 | 6 +++---\n vscode-ng-language-service/client/src/embedded_support.ts         | 6 +++---\n vscode-ng-language-service/client/src/extension.ts                | 6 +++---\n vscode-ng-language-service/client/src/providers.ts                | 6 +++---\n .../client/src/tests/embedded_support_spec.ts                     | 6 +++---\n vscode-ng-language-service/common/initialize.ts                   | 6 +++---\n vscode-ng-language-service/common/notifications.ts                | 6 +++---\n vscode-ng-language-service/common/requests.ts                     | 6 +++---\n vscode-ng-language-service/common/resolver.ts                     | 6 +++---\n vscode-ng-language-service/common/tests/resolver_spec.ts          | 6 +++---\n vscode-ng-language-service/integration/e2e/completion_spec.ts     | 8 ++++++++\n vscode-ng-language-service/integration/lsp/ivy_spec.ts            | 6 +++---\n vscode-ng-language-service/integration/lsp/test_utils.ts          | 6 +++---\n vscode-ng-language-service/integration/test_constants.ts          | 8 ++++++++\n vscode-ng-language-service/server/src/banner.ts                   | 6 +++---\n vscode-ng-language-service/server/src/cmdline_utils.ts            | 6 +++---\n vscode-ng-language-service/server/src/completion.ts               | 6 +++---\n vscode-ng-language-service/server/src/diagnostic.ts               | 6 +++---\n vscode-ng-language-service/server/src/embedded_support.ts         | 6 +++---\n vscode-ng-language-service/server/src/logger.ts                   | 6 +++---\n vscode-ng-language-service/server/src/server.ts                   | 6 +++---\n vscode-ng-language-service/server/src/server_host.ts              | 6 +++---\n vscode-ng-language-service/server/src/session.ts                  | 6 +++---\n vscode-ng-language-service/server/src/tests/cmdline_utils_spec.ts | 6 +++---\n .../server/src/tests/embedded_support_spec.ts                     | 6 +++---\n vscode-ng-language-service/server/src/tests/text_render_spec.ts   | 6 +++---\n vscode-ng-language-service/server/src/tests/utils_spec.ts         | 6 +++---\n .../server/src/tests/version_provider_spec.ts                     | 6 +++---\n vscode-ng-language-service/server/src/text_render.ts              | 6 +++---\n vscode-ng-language-service/server/src/utils.ts                    | 6 +++---\n vscode-ng-language-service/server/src/version_provider.ts         | 6 +++---\n vscode-ng-language-service/syntaxes/src/build.ts                  | 6 +++---\n vscode-ng-language-service/syntaxes/src/expression.ts             | 6 +++---\n vscode-ng-language-service/syntaxes/src/host-object-literal.ts    | 6 +++---\n vscode-ng-language-service/syntaxes/src/inline-styles.ts          | 6 +++---\n vscode-ng-language-service/syntaxes/src/inline-template.ts        | 6 +++---\n vscode-ng-language-service/syntaxes/src/template-blocks.ts        | 6 +++---\n .../syntaxes/src/template-let-declaration.ts                      | 6 +++---\n vscode-ng-language-service/syntaxes/src/template-tag.ts           | 6 +++---\n vscode-ng-language-service/syntaxes/src/template.ts               | 6 +++---\n vscode-ng-language-service/syntaxes/src/types.ts                  | 6 +++---\n 41 files changed, 133 insertions(+), 117 deletions(-)\n\ndiff --git a/vscode-ng-language-service/client/src/commands.ts b/vscode-ng-language-service/client/src/commands.ts\nindex e666ca64..91bc9321 100644\n--- a/vscode-ng-language-service/client/src/commands.ts\n+++ b/vscode-ng-language-service/client/src/commands.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as vscode from \u0027vscode\u0027;\ndiff --git a/vscode-ng-language-service/client/src/embedded_support.ts b/vscode-ng-language-service/client/src/embedded_support.ts\nindex c5ac1514..1d4155f2 100644\n--- a/vscode-ng-language-service/client/src/embedded_support.ts\n+++ b/vscode-ng-language-service/client/src/embedded_support.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n import * as ts from \u0027typescript\u0027;\n import * as vscode from \u0027vscode\u0027;\ndiff --git a/vscode-ng-language-service/client/src/extension.ts b/vscode-ng-language-service/client/src/extension.ts\nindex 0688e94c..78d59e8a 100644\n--- a/vscode-ng-language-service/client/src/extension.ts\n+++ b/vscode-ng-language-service/client/src/extension.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as vscode from \u0027vscode\u0027;\ndiff --git a/vscode-ng-language-service/client/src/providers.ts b/vscode-ng-language-service/client/src/providers.ts\nindex f5953f8e..e8e9ddd2 100644\n--- a/vscode-ng-language-service/client/src/providers.ts\n+++ b/vscode-ng-language-service/client/src/providers.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as vscode from \u0027vscode\u0027;\ndiff --git a/vscode-ng-language-service/client/src/tests/embedded_support_spec.ts b/vscode-ng-language-service/client/src/tests/embedded_support_spec.ts\nindex 0df2894c..3b35e8d9 100644\n--- a/vscode-ng-language-service/client/src/tests/embedded_support_spec.ts\n+++ b/vscode-ng-language-service/client/src/tests/embedded_support_spec.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n import * as vscode from \u0027vscode\u0027;\n import {DocumentUri, TextDocument} from \u0027vscode-languageserver-textdocument\u0027;\ndiff --git a/vscode-ng-language-service/common/initialize.ts b/vscode-ng-language-service/common/initialize.ts\nindex e5b387c9..ff6524c6 100644\n--- a/vscode-ng-language-service/common/initialize.ts\n+++ b/vscode-ng-language-service/common/initialize.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n export interface ServerOptions {\ndiff --git a/vscode-ng-language-service/common/notifications.ts b/vscode-ng-language-service/common/notifications.ts\nindex a6515d12..41daca3b 100644\n--- a/vscode-ng-language-service/common/notifications.ts\n+++ b/vscode-ng-language-service/common/notifications.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {NotificationType, NotificationType0} from \u0027vscode-jsonrpc\u0027;\ndiff --git a/vscode-ng-language-service/common/requests.ts b/vscode-ng-language-service/common/requests.ts\nindex 42bc78c2..d1c03bae 100644\n--- a/vscode-ng-language-service/common/requests.ts\n+++ b/vscode-ng-language-service/common/requests.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as lsp from \u0027vscode-languageserver-protocol\u0027;\ndiff --git a/vscode-ng-language-service/common/resolver.ts b/vscode-ng-language-service/common/resolver.ts\nindex d04d9edb..2b148fa1 100644\n--- a/vscode-ng-language-service/common/resolver.ts\n+++ b/vscode-ng-language-service/common/resolver.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as fs from \u0027fs\u0027;\ndiff --git a/vscode-ng-language-service/common/tests/resolver_spec.ts b/vscode-ng-language-service/common/tests/resolver_spec.ts\nindex 21bfdc24..b5df2865 100644\n--- a/vscode-ng-language-service/common/tests/resolver_spec.ts\n+++ b/vscode-ng-language-service/common/tests/resolver_spec.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {Version} from \u0027../resolver\u0027;\ndiff --git a/vscode-ng-language-service/integration/e2e/completion_spec.ts b/vscode-ng-language-service/integration/e2e/completion_spec.ts\nindex 87472b9d..9ca86f0a 100644\n--- a/vscode-ng-language-service/integration/e2e/completion_spec.ts\n+++ b/vscode-ng-language-service/integration/e2e/completion_spec.ts\n@@ -1,3 +1,11 @@\n+/*!\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.dev/license\n+ */\n+\n import * as vscode from \u0027vscode\u0027;\n \n import {activate, COMPLETION_COMMAND, FOO_TEMPLATE_URI} from \u0027./helper\u0027;\ndiff --git a/vscode-ng-language-service/integration/lsp/ivy_spec.ts b/vscode-ng-language-service/integration/lsp/ivy_spec.ts\nindex 31c8c9ad..e21faed0 100644\n--- a/vscode-ng-language-service/integration/lsp/ivy_spec.ts\n+++ b/vscode-ng-language-service/integration/lsp/ivy_spec.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {fileURLToPath, pathToFileURL} from \u0027node:url\u0027;\ndiff --git a/vscode-ng-language-service/integration/lsp/test_utils.ts b/vscode-ng-language-service/integration/lsp/test_utils.ts\nindex d35e4c55..25d293ab 100644\n--- a/vscode-ng-language-service/integration/lsp/test_utils.ts\n+++ b/vscode-ng-language-service/integration/lsp/test_utils.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {fork} from \u0027child_process\u0027;\ndiff --git a/vscode-ng-language-service/integration/test_constants.ts b/vscode-ng-language-service/integration/test_constants.ts\nindex eb3a4513..38174ff6 100644\n--- a/vscode-ng-language-service/integration/test_constants.ts\n+++ b/vscode-ng-language-service/integration/test_constants.ts\n@@ -1,3 +1,11 @@\n+/*!\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.dev/license\n+ */\n+\n import {mkdtempSync} from \u0027node:fs\u0027;\n import {join, resolve} from \u0027node:path\u0027;\n import {pathToFileURL} from \u0027node:url\u0027;\ndiff --git a/vscode-ng-language-service/server/src/banner.ts b/vscode-ng-language-service/server/src/banner.ts\nindex a631918a..b89ead4a 100644\n--- a/vscode-ng-language-service/server/src/banner.ts\n+++ b/vscode-ng-language-service/server/src/banner.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {parseCommandLine} from \u0027./cmdline_utils\u0027;\ndiff --git a/vscode-ng-language-service/server/src/cmdline_utils.ts b/vscode-ng-language-service/server/src/cmdline_utils.ts\nindex 0e2f0191..beacfe3a 100644\n--- a/vscode-ng-language-service/server/src/cmdline_utils.ts\n+++ b/vscode-ng-language-service/server/src/cmdline_utils.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n function findArgument(argv: string[], argName: string): string | undefined {\ndiff --git a/vscode-ng-language-service/server/src/completion.ts b/vscode-ng-language-service/server/src/completion.ts\nindex eb752389..95ddcc9b 100644\n--- a/vscode-ng-language-service/server/src/completion.ts\n+++ b/vscode-ng-language-service/server/src/completion.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as ts from \u0027typescript/lib/tsserverlibrary\u0027;\ndiff --git a/vscode-ng-language-service/server/src/diagnostic.ts b/vscode-ng-language-service/server/src/diagnostic.ts\nindex b607cb8c..31f0f9d2 100644\n--- a/vscode-ng-language-service/server/src/diagnostic.ts\n+++ b/vscode-ng-language-service/server/src/diagnostic.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as ts from \u0027typescript/lib/tsserverlibrary\u0027;\ndiff --git a/vscode-ng-language-service/server/src/embedded_support.ts b/vscode-ng-language-service/server/src/embedded_support.ts\nindex 9ad60fb8..db6a1054 100644\n--- a/vscode-ng-language-service/server/src/embedded_support.ts\n+++ b/vscode-ng-language-service/server/src/embedded_support.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as ts from \u0027typescript\u0027;\ndiff --git a/vscode-ng-language-service/server/src/logger.ts b/vscode-ng-language-service/server/src/logger.ts\nindex 009683e1..36e3195a 100644\n--- a/vscode-ng-language-service/server/src/logger.ts\n+++ b/vscode-ng-language-service/server/src/logger.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as fs from \u0027fs\u0027;\ndiff --git a/vscode-ng-language-service/server/src/server.ts b/vscode-ng-language-service/server/src/server.ts\nindex 0900fb89..2d38aaaf 100644\n--- a/vscode-ng-language-service/server/src/server.ts\n+++ b/vscode-ng-language-service/server/src/server.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {version as tsServerVersion} from \u0027typescript/lib/tsserverlibrary\u0027;\ndiff --git a/vscode-ng-language-service/server/src/server_host.ts b/vscode-ng-language-service/server/src/server_host.ts\nindex ee854758..58bf1e78 100644\n--- a/vscode-ng-language-service/server/src/server_host.ts\n+++ b/vscode-ng-language-service/server/src/server_host.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as ts from \u0027typescript/lib/tsserverlibrary\u0027;\ndiff --git a/vscode-ng-language-service/server/src/session.ts b/vscode-ng-language-service/server/src/session.ts\nindex 440203bf..1dbf8ee0 100644\n--- a/vscode-ng-language-service/server/src/session.ts\n+++ b/vscode-ng-language-service/server/src/session.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {\ndiff --git a/vscode-ng-language-service/server/src/tests/cmdline_utils_spec.ts b/vscode-ng-language-service/server/src/tests/cmdline_utils_spec.ts\nindex bc732946..10f932e0 100644\n--- a/vscode-ng-language-service/server/src/tests/cmdline_utils_spec.ts\n+++ b/vscode-ng-language-service/server/src/tests/cmdline_utils_spec.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {parseCommandLine} from \u0027../cmdline_utils\u0027;\ndiff --git a/vscode-ng-language-service/server/src/tests/embedded_support_spec.ts b/vscode-ng-language-service/server/src/tests/embedded_support_spec.ts\nindex 157ff808..2af0083e 100644\n--- a/vscode-ng-language-service/server/src/tests/embedded_support_spec.ts\n+++ b/vscode-ng-language-service/server/src/tests/embedded_support_spec.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as ts from \u0027typescript\u0027;\ndiff --git a/vscode-ng-language-service/server/src/tests/text_render_spec.ts b/vscode-ng-language-service/server/src/tests/text_render_spec.ts\nindex 0bc7da1e..b1141302 100644\n--- a/vscode-ng-language-service/server/src/tests/text_render_spec.ts\n+++ b/vscode-ng-language-service/server/src/tests/text_render_spec.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as tss from \u0027typescript/lib/tsserverlibrary\u0027;\ndiff --git a/vscode-ng-language-service/server/src/tests/utils_spec.ts b/vscode-ng-language-service/server/src/tests/utils_spec.ts\nindex ca91abfa..0ac986e1 100644\n--- a/vscode-ng-language-service/server/src/tests/utils_spec.ts\n+++ b/vscode-ng-language-service/server/src/tests/utils_spec.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {filePathToUri, MruTracker, uriToFilePath} from \u0027../utils\u0027;\ndiff --git a/vscode-ng-language-service/server/src/tests/version_provider_spec.ts b/vscode-ng-language-service/server/src/tests/version_provider_spec.ts\nindex 5473186e..36ec6be7 100644\n--- a/vscode-ng-language-service/server/src/tests/version_provider_spec.ts\n+++ b/vscode-ng-language-service/server/src/tests/version_provider_spec.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {isAbsolute, resolve} from \u0027path\u0027;\ndiff --git a/vscode-ng-language-service/server/src/text_render.ts b/vscode-ng-language-service/server/src/text_render.ts\nindex 3f2299df..fb76798a 100644\n--- a/vscode-ng-language-service/server/src/text_render.ts\n+++ b/vscode-ng-language-service/server/src/text_render.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as tss from \u0027typescript/lib/tsserverlibrary\u0027;\ndiff --git a/vscode-ng-language-service/server/src/utils.ts b/vscode-ng-language-service/server/src/utils.ts\nindex 8e57ff59..f9968c87 100644\n--- a/vscode-ng-language-service/server/src/utils.ts\n+++ b/vscode-ng-language-service/server/src/utils.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as ts from \u0027typescript/lib/tsserverlibrary\u0027;\ndiff --git a/vscode-ng-language-service/server/src/version_provider.ts b/vscode-ng-language-service/server/src/version_provider.ts\nindex 12155764..6ca6d117 100644\n--- a/vscode-ng-language-service/server/src/version_provider.ts\n+++ b/vscode-ng-language-service/server/src/version_provider.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as fs from \u0027fs\u0027;\ndiff --git a/vscode-ng-language-service/syntaxes/src/build.ts b/vscode-ng-language-service/syntaxes/src/build.ts\nindex e4266acd..92dd2c3d 100644\n--- a/vscode-ng-language-service/syntaxes/src/build.ts\n+++ b/vscode-ng-language-service/syntaxes/src/build.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import * as fs from \u0027fs\u0027;\ndiff --git a/vscode-ng-language-service/syntaxes/src/expression.ts b/vscode-ng-language-service/syntaxes/src/expression.ts\nindex f5d9452c..9f59c58f 100644\n--- a/vscode-ng-language-service/syntaxes/src/expression.ts\n+++ b/vscode-ng-language-service/syntaxes/src/expression.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {GrammarDefinition} from \u0027./types\u0027;\ndiff --git a/vscode-ng-language-service/syntaxes/src/host-object-literal.ts b/vscode-ng-language-service/syntaxes/src/host-object-literal.ts\nindex de9ffa34..261d35ca 100644\n--- a/vscode-ng-language-service/syntaxes/src/host-object-literal.ts\n+++ b/vscode-ng-language-service/syntaxes/src/host-object-literal.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {GrammarDefinition} from \u0027./types\u0027;\ndiff --git a/vscode-ng-language-service/syntaxes/src/inline-styles.ts b/vscode-ng-language-service/syntaxes/src/inline-styles.ts\nindex 333eb10a..9e0bbd09 100644\n--- a/vscode-ng-language-service/syntaxes/src/inline-styles.ts\n+++ b/vscode-ng-language-service/syntaxes/src/inline-styles.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {GrammarDefinition} from \u0027./types\u0027;\ndiff --git a/vscode-ng-language-service/syntaxes/src/inline-template.ts b/vscode-ng-language-service/syntaxes/src/inline-template.ts\nindex 45c0c780..915d5341 100644\n--- a/vscode-ng-language-service/syntaxes/src/inline-template.ts\n+++ b/vscode-ng-language-service/syntaxes/src/inline-template.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {GrammarDefinition} from \u0027./types\u0027;\ndiff --git a/vscode-ng-language-service/syntaxes/src/template-blocks.ts b/vscode-ng-language-service/syntaxes/src/template-blocks.ts\nindex a543703a..e341c44d 100644\n--- a/vscode-ng-language-service/syntaxes/src/template-blocks.ts\n+++ b/vscode-ng-language-service/syntaxes/src/template-blocks.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {GrammarDefinition} from \u0027./types\u0027;\ndiff --git a/vscode-ng-language-service/syntaxes/src/template-let-declaration.ts b/vscode-ng-language-service/syntaxes/src/template-let-declaration.ts\nindex 2499417c..564ff243 100644\n--- a/vscode-ng-language-service/syntaxes/src/template-let-declaration.ts\n+++ b/vscode-ng-language-service/syntaxes/src/template-let-declaration.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {GrammarDefinition} from \u0027./types\u0027;\ndiff --git a/vscode-ng-language-service/syntaxes/src/template-tag.ts b/vscode-ng-language-service/syntaxes/src/template-tag.ts\nindex 015e334d..96360d31 100644\n--- a/vscode-ng-language-service/syntaxes/src/template-tag.ts\n+++ b/vscode-ng-language-service/syntaxes/src/template-tag.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {GrammarDefinition} from \u0027./types\u0027;\ndiff --git a/vscode-ng-language-service/syntaxes/src/template.ts b/vscode-ng-language-service/syntaxes/src/template.ts\nindex e88d43fd..1bc66266 100644\n--- a/vscode-ng-language-service/syntaxes/src/template.ts\n+++ b/vscode-ng-language-service/syntaxes/src/template.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n import {GrammarDefinition} from \u0027./types\u0027;\ndiff --git a/vscode-ng-language-service/syntaxes/src/types.ts b/vscode-ng-language-service/syntaxes/src/types.ts\nindex 952e88f7..d038928d 100644\n--- a/vscode-ng-language-service/syntaxes/src/types.ts\n+++ b/vscode-ng-language-service/syntaxes/src/types.ts\n@@ -1,9 +1,9 @@\n-/**\n+/*!\n  * @license\n- * Copyright Google Inc. All Rights Reserved.\n+ * Copyright Google LLC All Rights Reserved.\n  *\n  * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n+ * found in the LICENSE file at https://angular.dev/license\n  */\n \n export interface GrammarDefinition {","expectedMessage":"build: update license for vscode extension","repository":"angular","commitHash":"f0dba6deb9d1f1942684b014649868ecd2b1e9bd","metadata":{"author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e"}}
{"id":"angular-e7f24014","diff":" .../examples/aria/listbox/src/modes/app/app.css    |  9 ----\n .../examples/aria/listbox/src/modes/app/app.html   |  1 -\n .../examples/aria/listbox/src/modes/app/app.ts     |  8 ----\n .../aria/listbox/src/modes/app/explicit/app.css    | 48 ++++++++++++++++++++++\n .../aria/listbox/src/modes/app/explicit/app.html   | 13 ++++++\n .../aria/listbox/src/modes/app/explicit/app.ts     | 12 ++++++\n .../aria/listbox/src/modes/app/follow/app.css      | 48 ++++++++++++++++++++++\n .../aria/listbox/src/modes/app/follow/app.html     | 13 ++++++\n .../aria/listbox/src/modes/app/follow/app.ts       | 12 ++++++\n adev/src/content/guide/aria/listbox.md             | 19 +++++++--\n 10 files changed, 161 insertions(+), 22 deletions(-)\n\ndiff --git a/adev/src/content/examples/aria/listbox/src/modes/app/app.css b/adev/src/content/examples/aria/listbox/src/modes/app/app.css\ndeleted file mode 100644\nindex bc6e9c40..00000000\n--- a/adev/src/content/examples/aria/listbox/src/modes/app/app.css\n+++ /dev/null\n@@ -1,9 +0,0 @@\n-h1 {\n-  background: #1e1e1e;\n-  color: #e0e0e0;\n-  padding: 2rem;\n-  margin: 0;\n-  font-family: system-ui, -apple-system, sans-serif;\n-  font-size: 2rem;\n-  text-align: center;\n-}\ndiff --git a/adev/src/content/examples/aria/listbox/src/modes/app/app.html b/adev/src/content/examples/aria/listbox/src/modes/app/app.html\ndeleted file mode 100644\nindex d39d7de6..00000000\n--- a/adev/src/content/examples/aria/listbox/src/modes/app/app.html\n+++ /dev/null\n@@ -1 +0,0 @@\n-\u003ch1\u003ePLACEHOLDER\u003c/h1\u003e\ndiff --git a/adev/src/content/examples/aria/listbox/src/modes/app/app.ts b/adev/src/content/examples/aria/listbox/src/modes/app/app.ts\ndeleted file mode 100644\nindex 183576f2..00000000\n--- a/adev/src/content/examples/aria/listbox/src/modes/app/app.ts\n+++ /dev/null\n@@ -1,8 +0,0 @@\n-import {Component} from \u0027@angular/core\u0027;\n-\n-@Component({\n-  selector: \u0027app-root\u0027,\n-  templateUrl: \u0027./app.html\u0027,\n-  styleUrl: \u0027./app.css\u0027,\n-})\n-export class App {}\ndiff --git a/adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.css b/adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.css\nnew file mode 100644\nindex 00000000..af0d88f5\n--- /dev/null\n+++ b/adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.css\n@@ -0,0 +1,48 @@\n+@import url(\u0027https://fonts.googleapis.com/icon?family\u003dMaterial+Symbols+Outlined\u0027);\n+\n+h1 {\n+  background: #1e1e1e;\n+  color: #e0e0e0;\n+  padding: 2rem;\n+  margin: 0;\n+  font-family:\n+    system-ui,\n+    -apple-system,\n+    sans-serif;\n+  font-size: 2rem;\n+  text-align: center;\n+}\n+\n+:host {\n+  font-size: 0.8rem;\n+  font-family: var(--inter-font);\n+}\n+\n+[ngListbox] {\n+  gap: 0.5rem;\n+  display: flex;\n+  flex-wrap: wrap;\n+}\n+\n+[ngOption] {\n+  cursor: pointer;\n+  border-radius: 1rem;\n+  padding: 0.3rem 1rem;\n+  color: var(--hot-pink);\n+  border: 1px solid var(--hot-pink);\n+  background-color: color-mix(in srgb, var(--hot-pink) 5%, transparent);\n+}\n+\n+[ngOption]:focus {\n+  outline: 2px solid var(--hot-pink);\n+  outline-offset: 2px;\n+}\n+\n+[ngOption]:hover {\n+  background-color: color-mix(in srgb, var(--hot-pink) 15%, transparent);\n+}\n+\n+[ngOption][aria-selected\u003d\u0027true\u0027] {\n+  color: var(--page-background);\n+  background-color: var(--hot-pink);\n+}\ndiff --git a/adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.html b/adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.html\nnew file mode 100644\nindex 00000000..fbae516e\n--- /dev/null\n+++ b/adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.html\n@@ -0,0 +1,13 @@\n+\u003cdiv\n+  ngListbox\n+  aria-label\u003d\"Amenities_explicit\"\n+  orientation\u003d\"horizontal\"\n+  selectionMode\u003d\"explicit\"\n+  multi\n+\u003e\n+  @for (amenity of amenities; track amenity) {\n+    \u003cdiv ngOption [value]\u003d\"amenity\" [label]\u003d\"amenity\"\u003e\n+      \u003cspan class\u003d\"option-label\"\u003e{{ amenity }}\u003c/span\u003e\n+    \u003c/div\u003e\n+  }\n+\u003c/div\u003e\ndiff --git a/adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.ts b/adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.ts\nnew file mode 100644\nindex 00000000..8e315332\n--- /dev/null\n+++ b/adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.ts\n@@ -0,0 +1,12 @@\n+import {Component} from \u0027@angular/core\u0027;\n+import {Listbox, Option} from \u0027@angular/aria/listbox\u0027;\n+\n+@Component({\n+  selector: \u0027app-root\u0027,\n+  templateUrl: \u0027./app.html\u0027,\n+  styleUrl: \u0027./app.css\u0027,\n+  imports: [Listbox, Option],\n+})\n+export class App {\n+  amenities \u003d [\u0027Washer / Dryer\u0027, \u0027Ramp access\u0027, \u0027Garden\u0027, \u0027Cats OK\u0027, \u0027Dogs OK\u0027, \u0027Smoke-free\u0027];\n+}\ndiff --git a/adev/src/content/examples/aria/listbox/src/modes/app/follow/app.css b/adev/src/content/examples/aria/listbox/src/modes/app/follow/app.css\nnew file mode 100644\nindex 00000000..af0d88f5\n--- /dev/null\n+++ b/adev/src/content/examples/aria/listbox/src/modes/app/follow/app.css\n@@ -0,0 +1,48 @@\n+@import url(\u0027https://fonts.googleapis.com/icon?family\u003dMaterial+Symbols+Outlined\u0027);\n+\n+h1 {\n+  background: #1e1e1e;\n+  color: #e0e0e0;\n+  padding: 2rem;\n+  margin: 0;\n+  font-family:\n+    system-ui,\n+    -apple-system,\n+    sans-serif;\n+  font-size: 2rem;\n+  text-align: center;\n+}\n+\n+:host {\n+  font-size: 0.8rem;\n+  font-family: var(--inter-font);\n+}\n+\n+[ngListbox] {\n+  gap: 0.5rem;\n+  display: flex;\n+  flex-wrap: wrap;\n+}\n+\n+[ngOption] {\n+  cursor: pointer;\n+  border-radius: 1rem;\n+  padding: 0.3rem 1rem;\n+  color: var(--hot-pink);\n+  border: 1px solid var(--hot-pink);\n+  background-color: color-mix(in srgb, var(--hot-pink) 5%, transparent);\n+}\n+\n+[ngOption]:focus {\n+  outline: 2px solid var(--hot-pink);\n+  outline-offset: 2px;\n+}\n+\n+[ngOption]:hover {\n+  background-color: color-mix(in srgb, var(--hot-pink) 15%, transparent);\n+}\n+\n+[ngOption][aria-selected\u003d\u0027true\u0027] {\n+  color: var(--page-background);\n+  background-color: var(--hot-pink);\n+}\ndiff --git a/adev/src/content/examples/aria/listbox/src/modes/app/follow/app.html b/adev/src/content/examples/aria/listbox/src/modes/app/follow/app.html\nnew file mode 100644\nindex 00000000..399b1fca\n--- /dev/null\n+++ b/adev/src/content/examples/aria/listbox/src/modes/app/follow/app.html\n@@ -0,0 +1,13 @@\n+\u003cdiv\n+  ngListbox\n+  aria-label\u003d\"Amenities_explicit\"\n+  orientation\u003d\"horizontal\"\n+  selectionMode\u003d\"follow\"\n+  multi\n+\u003e\n+  @for (amenity of amenities; track amenity) {\n+    \u003cdiv ngOption [value]\u003d\"amenity\" [label]\u003d\"amenity\"\u003e\n+      \u003cspan class\u003d\"option-label\"\u003e{{ amenity }}\u003c/span\u003e\n+    \u003c/div\u003e\n+  }\n+\u003c/div\u003e\ndiff --git a/adev/src/content/examples/aria/listbox/src/modes/app/follow/app.ts b/adev/src/content/examples/aria/listbox/src/modes/app/follow/app.ts\nnew file mode 100644\nindex 00000000..8e315332\n--- /dev/null\n+++ b/adev/src/content/examples/aria/listbox/src/modes/app/follow/app.ts\n@@ -0,0 +1,12 @@\n+import {Component} from \u0027@angular/core\u0027;\n+import {Listbox, Option} from \u0027@angular/aria/listbox\u0027;\n+\n+@Component({\n+  selector: \u0027app-root\u0027,\n+  templateUrl: \u0027./app.html\u0027,\n+  styleUrl: \u0027./app.css\u0027,\n+  imports: [Listbox, Option],\n+})\n+export class App {\n+  amenities \u003d [\u0027Washer / Dryer\u0027, \u0027Ramp access\u0027, \u0027Garden\u0027, \u0027Cats OK\u0027, \u0027Dogs OK\u0027, \u0027Smoke-free\u0027];\n+}\ndiff --git a/adev/src/content/guide/aria/listbox.md b/adev/src/content/guide/aria/listbox.md\nindex d7a753a2..38238eb3 100644\n--- a/adev/src/content/guide/aria/listbox.md\n+++ b/adev/src/content/guide/aria/listbox.md\n@@ -110,10 +110,21 @@ With `orientation\u003d\"horizontal\"`, left and right arrow keys navigate between opti\n \n Listbox supports two selection modes that control when items become selected.\n \n-\u003c!-- \u003cdocs-code-multifile preview hideCode path\u003d\"adev/src/content/examples/aria/listbox/src/modes/app/app.ts\"\u003e\n-  \u003cdocs-code header\u003d\"app.ts\" path\u003d\"adev/src/content/examples/aria/listbox/src/modes/app/app.ts\" /\u003e\n-  \u003cdocs-code header\u003d\"app.html\" path\u003d\"adev/src/content/examples/aria/listbox/src/modes/app/app.html\" /\u003e\n-\u003c/docs-code-multifile\u003e --\u003e\n+The `\u0027follow\u0027` mode automatically selects the focused item, providing faster interaction when selection changes frequently. The `\u0027explicit\u0027` mode requires Space or Enter to confirm selection, preventing accidental changes while navigating. Dropdown patterns typically use `\u0027follow\u0027` mode for single selection.\n+\n+#### Explicit\n+\n+\u003cdocs-code-multifile preview hideCode path\u003d\"adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.ts\"\u003e\n+  \u003cdocs-code header\u003d\"app.ts\" path\u003d\"adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.ts\" /\u003e\n+  \u003cdocs-code header\u003d\"app.html\" path\u003d\"adev/src/content/examples/aria/listbox/src/modes/app/explicit/app.html\" /\u003e\n+\u003c/docs-code-multifile\u003e\n+\n+#### Follow\n+\n+\u003cdocs-code-multifile preview hideCode path\u003d\"adev/src/content/examples/aria/listbox/src/modes/app/follow/app.ts\"\u003e\n+  \u003cdocs-code header\u003d\"app.ts\" path\u003d\"adev/src/content/examples/aria/listbox/src/modes/app/follow/app.ts\" /\u003e\n+  \u003cdocs-code header\u003d\"app.html\" path\u003d\"adev/src/content/examples/aria/listbox/src/modes/app/follow/app.html\" /\u003e\n+\u003c/docs-code-multifile\u003e\n \n | Mode         | Description                                                                                            |\n | ------------ | ------------------------------------------------------------------------------------------------------ |","expectedMessage":"docs(docs-infra): Angular Aria listbox shows placeholder for \"Selection modes\"","repository":"angular","commitHash":"e7f24014cfebc18d753101504f2601606d429a4c","metadata":{"author":"aparziale \u003cangeloparziale94@gmail.com\u003e"}}
{"id":"angular-93337515","diff":" .github/actions/deploy-docs-site/main.js | 264 ++++++++++++++++++++++---------\n package.json                             |   2 +-\n pnpm-lock.yaml                           |  22 +--\n 3 files changed, 198 insertions(+), 90 deletions(-)\n\ndiff --git a/.github/actions/deploy-docs-site/main.js b/.github/actions/deploy-docs-site/main.js\nindex 05e10103..7f07b656 100644\n--- a/.github/actions/deploy-docs-site/main.js\n+++ b/.github/actions/deploy-docs-site/main.js\n@@ -3293,7 +3293,8 @@ var require_proxy2 \u003d __commonJS({\n   \"\"(exports) {\n     \"use strict\";\n     Object.defineProperty(exports, \"__esModule\", { value: true });\n-    exports.checkBypass \u003d exports.getProxyUrl \u003d void 0;\n+    exports.getProxyUrl \u003d getProxyUrl;\n+    exports.checkBypass \u003d checkBypass;\n     function getProxyUrl(reqUrl) {\n       const usingSsl \u003d reqUrl.protocol \u003d\u003d\u003d \"https:\";\n       if (checkBypass(reqUrl)) {\n@@ -3317,7 +3318,6 @@ var require_proxy2 \u003d __commonJS({\n         return void 0;\n       }\n     }\n-    exports.getProxyUrl \u003d getProxyUrl;\n     function checkBypass(reqUrl) {\n       if (!reqUrl.hostname) {\n         return false;\n@@ -3349,7 +3349,6 @@ var require_proxy2 \u003d __commonJS({\n       }\n       return false;\n     }\n-    exports.checkBypass \u003d checkBypass;\n     function isLoopbackAddress(host) {\n       const hostLower \u003d host.toLowerCase();\n       return hostLower \u003d\u003d\u003d \"localhost\" || hostLower.startsWith(\"127.\") || hostLower.startsWith(\"[::1]\") || hostLower.startsWith(\"[0:0:0:0:0:0:0:1]\");\n@@ -3394,18 +3393,30 @@ var require_lib2 \u003d __commonJS({\n     } : function(o, v) {\n       o[\"default\"] \u003d v;\n     });\n-    var __importStar \u003d exports \u0026\u0026 exports.__importStar || function(mod) {\n-      if (mod \u0026\u0026 mod.__esModule)\n-        return mod;\n-      var result \u003d {};\n-      if (mod !\u003d null) {\n-        for (var k in mod)\n-          if (k !\u003d\u003d \"default\" \u0026\u0026 Object.prototype.hasOwnProperty.call(mod, k))\n-            __createBinding(result, mod, k);\n-      }\n-      __setModuleDefault(result, mod);\n-      return result;\n-    };\n+    var __importStar \u003d exports \u0026\u0026 exports.__importStar || /* @__PURE__ */ function() {\n+      var ownKeys \u003d function(o) {\n+        ownKeys \u003d Object.getOwnPropertyNames || function(o2) {\n+          var ar \u003d [];\n+          for (var k in o2)\n+            if (Object.prototype.hasOwnProperty.call(o2, k))\n+              ar[ar.length] \u003d k;\n+          return ar;\n+        };\n+        return ownKeys(o);\n+      };\n+      return function(mod) {\n+        if (mod \u0026\u0026 mod.__esModule)\n+          return mod;\n+        var result \u003d {};\n+        if (mod !\u003d null) {\n+          for (var k \u003d ownKeys(mod), i \u003d 0; i \u003c k.length; i++)\n+            if (k[i] !\u003d\u003d \"default\")\n+              __createBinding(result, mod, k[i]);\n+        }\n+        __setModuleDefault(result, mod);\n+        return result;\n+      };\n+    }();\n     var __awaiter \u003d exports \u0026\u0026 exports.__awaiter || function(thisArg, _arguments, P, generator) {\n       function adopt(value) {\n         return value instanceof P ? value : new P(function(resolve5) {\n@@ -3434,7 +3445,9 @@ var require_lib2 \u003d __commonJS({\n       });\n     };\n     Object.defineProperty(exports, \"__esModule\", { value: true });\n-    exports.HttpClient \u003d exports.isHttps \u003d exports.HttpClientResponse \u003d exports.HttpClientError \u003d exports.getProxyUrl \u003d exports.MediaTypes \u003d exports.Headers \u003d exports.HttpCodes \u003d void 0;\n+    exports.HttpClient \u003d exports.HttpClientResponse \u003d exports.HttpClientError \u003d exports.MediaTypes \u003d exports.Headers \u003d exports.HttpCodes \u003d void 0;\n+    exports.getProxyUrl \u003d getProxyUrl;\n+    exports.isHttps \u003d isHttps;\n     var http \u003d __importStar(__require(\"http\"));\n     var https \u003d __importStar(__require(\"https\"));\n     var pm \u003d __importStar(require_proxy2());\n@@ -3483,7 +3496,6 @@ var require_lib2 \u003d __commonJS({\n       const proxyUrl \u003d pm.getProxyUrl(new URL(serverUrl));\n       return proxyUrl ? proxyUrl.href : \"\";\n     }\n-    exports.getProxyUrl \u003d getProxyUrl;\n     var HttpRedirectCodes \u003d [\n       HttpCodes.MovedPermanently,\n       HttpCodes.ResourceMoved,\n@@ -3544,7 +3556,6 @@ var require_lib2 \u003d __commonJS({\n       const parsedUrl \u003d new URL(requestUrl);\n       return parsedUrl.protocol \u003d\u003d\u003d \"https:\";\n     }\n-    exports.isHttps \u003d isHttps;\n     var HttpClient \u003d class {\n       constructor(userAgent2, handlers, requestOptions) {\n         this._ignoreSslError \u003d false;\n@@ -3555,7 +3566,7 @@ var require_lib2 \u003d __commonJS({\n         this._maxRetries \u003d 1;\n         this._keepAlive \u003d false;\n         this._disposed \u003d false;\n-        this.userAgent \u003d userAgent2;\n+        this.userAgent \u003d this._getUserAgentWithOrchestrationId(userAgent2);\n         this.handlers \u003d handlers || [];\n         this.requestOptions \u003d requestOptions;\n         if (requestOptions) {\n@@ -3627,36 +3638,36 @@ var require_lib2 \u003d __commonJS({\n        * Gets a typed object from an endpoint\n        * Be aware that not found returns a null.  Other errors (4xx, 5xx) reject the promise\n        */\n-      getJson(requestUrl, additionalHeaders \u003d {}) {\n-        return __awaiter(this, void 0, void 0, function* () {\n+      getJson(requestUrl_1) {\n+        return __awaiter(this, arguments, void 0, function* (requestUrl, additionalHeaders \u003d {}) {\n           additionalHeaders[Headers.Accept] \u003d this._getExistingOrDefaultHeader(additionalHeaders, Headers.Accept, MediaTypes.ApplicationJson);\n           const res \u003d yield this.get(requestUrl, additionalHeaders);\n           return this._processResponse(res, this.requestOptions);\n         });\n       }\n-      postJson(requestUrl, obj, additionalHeaders \u003d {}) {\n-        return __awaiter(this, void 0, void 0, function* () {\n+      postJson(requestUrl_1, obj_1) {\n+        return __awaiter(this, arguments, void 0, function* (requestUrl, obj, additionalHeaders \u003d {}) {\n           const data \u003d JSON.stringify(obj, null, 2);\n           additionalHeaders[Headers.Accept] \u003d this._getExistingOrDefaultHeader(additionalHeaders, Headers.Accept, MediaTypes.ApplicationJson);\n-          additionalHeaders[Headers.ContentType] \u003d this._getExistingOrDefaultHeader(additionalHeaders, Headers.ContentType, MediaTypes.ApplicationJson);\n+          additionalHeaders[Headers.ContentType] \u003d this._getExistingOrDefaultContentTypeHeader(additionalHeaders, MediaTypes.ApplicationJson);\n           const res \u003d yield this.post(requestUrl, data, additionalHeaders);\n           return this._processResponse(res, this.requestOptions);\n         });\n       }\n-      putJson(requestUrl, obj, additionalHeaders \u003d {}) {\n-        return __awaiter(this, void 0, void 0, function* () {\n+      putJson(requestUrl_1, obj_1) {\n+        return __awaiter(this, arguments, void 0, function* (requestUrl, obj, additionalHeaders \u003d {}) {\n           const data \u003d JSON.stringify(obj, null, 2);\n           additionalHeaders[Headers.Accept] \u003d this._getExistingOrDefaultHeader(additionalHeaders, Headers.Accept, MediaTypes.ApplicationJson);\n-          additionalHeaders[Headers.ContentType] \u003d this._getExistingOrDefaultHeader(additionalHeaders, Headers.ContentType, MediaTypes.ApplicationJson);\n+          additionalHeaders[Headers.ContentType] \u003d this._getExistingOrDefaultContentTypeHeader(additionalHeaders, MediaTypes.ApplicationJson);\n           const res \u003d yield this.put(requestUrl, data, additionalHeaders);\n           return this._processResponse(res, this.requestOptions);\n         });\n       }\n-      patchJson(requestUrl, obj, additionalHeaders \u003d {}) {\n-        return __awaiter(this, void 0, void 0, function* () {\n+      patchJson(requestUrl_1, obj_1) {\n+        return __awaiter(this, arguments, void 0, function* (requestUrl, obj, additionalHeaders \u003d {}) {\n           const data \u003d JSON.stringify(obj, null, 2);\n           additionalHeaders[Headers.Accept] \u003d this._getExistingOrDefaultHeader(additionalHeaders, Headers.Accept, MediaTypes.ApplicationJson);\n-          additionalHeaders[Headers.ContentType] \u003d this._getExistingOrDefaultHeader(additionalHeaders, Headers.ContentType, MediaTypes.ApplicationJson);\n+          additionalHeaders[Headers.ContentType] \u003d this._getExistingOrDefaultContentTypeHeader(additionalHeaders, MediaTypes.ApplicationJson);\n           const res \u003d yield this.patch(requestUrl, data, additionalHeaders);\n           return this._processResponse(res, this.requestOptions);\n         });\n@@ -3852,12 +3863,65 @@ var require_lib2 \u003d __commonJS({\n         }\n         return lowercaseKeys2(headers || {});\n       }\n+      /**\n+       * Gets an existing header value or returns a default.\n+       * Handles converting number header values to strings since HTTP headers must be strings.\n+       * Note: This returns string | string[] since some headers can have multiple values.\n+       * For headers that must always be a single string (like Content-Type), use the\n+       * specialized _getExistingOrDefaultContentTypeHeader method instead.\n+       */\n       _getExistingOrDefaultHeader(additionalHeaders, header, _default) {\n         let clientHeader;\n         if (this.requestOptions \u0026\u0026 this.requestOptions.headers) {\n-          clientHeader \u003d lowercaseKeys2(this.requestOptions.headers)[header];\n+          const headerValue \u003d lowercaseKeys2(this.requestOptions.headers)[header];\n+          if (headerValue) {\n+            clientHeader \u003d typeof headerValue \u003d\u003d\u003d \"number\" ? headerValue.toString() : headerValue;\n+          }\n+        }\n+        const additionalValue \u003d additionalHeaders[header];\n+        if (additionalValue !\u003d\u003d void 0) {\n+          return typeof additionalValue \u003d\u003d\u003d \"number\" ? additionalValue.toString() : additionalValue;\n+        }\n+        if (clientHeader !\u003d\u003d void 0) {\n+          return clientHeader;\n+        }\n+        return _default;\n+      }\n+      /**\n+       * Specialized version of _getExistingOrDefaultHeader for Content-Type header.\n+       * Always returns a single string (not an array) since Content-Type should be a single value.\n+       * Converts arrays to comma-separated strings and numbers to strings to ensure type safety.\n+       * This was split from _getExistingOrDefaultHeader to provide stricter typing for callers\n+       * that assign the result to places expecting a string (e.g., additionalHeaders[Headers.ContentType]).\n+       */\n+      _getExistingOrDefaultContentTypeHeader(additionalHeaders, _default) {\n+        let clientHeader;\n+        if (this.requestOptions \u0026\u0026 this.requestOptions.headers) {\n+          const headerValue \u003d lowercaseKeys2(this.requestOptions.headers)[Headers.ContentType];\n+          if (headerValue) {\n+            if (typeof headerValue \u003d\u003d\u003d \"number\") {\n+              clientHeader \u003d String(headerValue);\n+            } else if (Array.isArray(headerValue)) {\n+              clientHeader \u003d headerValue.join(\", \");\n+            } else {\n+              clientHeader \u003d headerValue;\n+            }\n+          }\n+        }\n+        const additionalValue \u003d additionalHeaders[Headers.ContentType];\n+        if (additionalValue !\u003d\u003d void 0) {\n+          if (typeof additionalValue \u003d\u003d\u003d \"number\") {\n+            return String(additionalValue);\n+          } else if (Array.isArray(additionalValue)) {\n+            return additionalValue.join(\", \");\n+          } else {\n+            return additionalValue;\n+          }\n         }\n-        return additionalHeaders[header] || clientHeader || _default;\n+        if (clientHeader !\u003d\u003d void 0) {\n+          return clientHeader;\n+        }\n+        return _default;\n       }\n       _getAgent(parsedUrl) {\n         let agent;\n@@ -3927,6 +3991,15 @@ var require_lib2 \u003d __commonJS({\n         }\n         return proxyAgent;\n       }\n+      _getUserAgentWithOrchestrationId(userAgent2) {\n+        const baseUserAgent \u003d userAgent2 || \"actions/http-client\";\n+        const orchId \u003d process.env[\"ACTIONS_ORCHESTRATION_ID\"];\n+        if (orchId) {\n+          const sanitizedId \u003d orchId.replace(/[^a-z0-9_.-]/gi, \"_\");\n+          return `${baseUserAgent} actions_orchestration_id/${sanitizedId}`;\n+        }\n+        return baseUserAgent;\n+      }\n       _performExponentialBackoff(retryNumber) {\n         return __awaiter(this, void 0, void 0, function* () {\n           retryNumber \u003d Math.min(ExponentialBackoffCeiling, retryNumber);\n@@ -4018,18 +4091,30 @@ var require_utils2 \u003d __commonJS({\n     } : function(o, v) {\n       o[\"default\"] \u003d v;\n     });\n-    var __importStar \u003d exports \u0026\u0026 exports.__importStar || function(mod) {\n-      if (mod \u0026\u0026 mod.__esModule)\n-        return mod;\n-      var result \u003d {};\n-      if (mod !\u003d null) {\n-        for (var k in mod)\n-          if (k !\u003d\u003d \"default\" \u0026\u0026 Object.prototype.hasOwnProperty.call(mod, k))\n-            __createBinding(result, mod, k);\n-      }\n-      __setModuleDefault(result, mod);\n-      return result;\n-    };\n+    var __importStar \u003d exports \u0026\u0026 exports.__importStar || /* @__PURE__ */ function() {\n+      var ownKeys \u003d function(o) {\n+        ownKeys \u003d Object.getOwnPropertyNames || function(o2) {\n+          var ar \u003d [];\n+          for (var k in o2)\n+            if (Object.prototype.hasOwnProperty.call(o2, k))\n+              ar[ar.length] \u003d k;\n+          return ar;\n+        };\n+        return ownKeys(o);\n+      };\n+      return function(mod) {\n+        if (mod \u0026\u0026 mod.__esModule)\n+          return mod;\n+        var result \u003d {};\n+        if (mod !\u003d null) {\n+          for (var k \u003d ownKeys(mod), i \u003d 0; i \u003c k.length; i++)\n+            if (k[i] !\u003d\u003d \"default\")\n+              __createBinding(result, mod, k[i]);\n+        }\n+        __setModuleDefault(result, mod);\n+        return result;\n+      };\n+    }();\n     var __awaiter \u003d exports \u0026\u0026 exports.__awaiter || function(thisArg, _arguments, P, generator) {\n       function adopt(value) {\n         return value instanceof P ? value : new P(function(resolve5) {\n@@ -4058,7 +4143,11 @@ var require_utils2 \u003d __commonJS({\n       });\n     };\n     Object.defineProperty(exports, \"__esModule\", { value: true });\n-    exports.getApiBaseUrl \u003d exports.getProxyFetch \u003d exports.getProxyAgentDispatcher \u003d exports.getProxyAgent \u003d exports.getAuthString \u003d void 0;\n+    exports.getAuthString \u003d getAuthString;\n+    exports.getProxyAgent \u003d getProxyAgent;\n+    exports.getProxyAgentDispatcher \u003d getProxyAgentDispatcher;\n+    exports.getProxyFetch \u003d getProxyFetch;\n+    exports.getApiBaseUrl \u003d getApiBaseUrl;\n     var httpClient \u003d __importStar(require_lib2());\n     var undici_1 \u003d __require(\"undici\");\n     function getAuthString(token, options) {\n@@ -4069,17 +4158,14 @@ var require_utils2 \u003d __commonJS({\n       }\n       return typeof options.auth \u003d\u003d\u003d \"string\" ? options.auth : `token ${token}`;\n     }\n-    exports.getAuthString \u003d getAuthString;\n     function getProxyAgent(destinationUrl) {\n       const hc \u003d new httpClient.HttpClient();\n       return hc.getAgent(destinationUrl);\n     }\n-    exports.getProxyAgent \u003d getProxyAgent;\n     function getProxyAgentDispatcher(destinationUrl) {\n       const hc \u003d new httpClient.HttpClient();\n       return hc.getAgentDispatcher(destinationUrl);\n     }\n-    exports.getProxyAgentDispatcher \u003d getProxyAgentDispatcher;\n     function getProxyFetch(destinationUrl) {\n       const httpDispatcher \u003d getProxyAgentDispatcher(destinationUrl);\n       const proxyFetch \u003d (url, opts) \u003d\u003e __awaiter(this, void 0, void 0, function* () {\n@@ -4087,11 +4173,9 @@ var require_utils2 \u003d __commonJS({\n       });\n       return proxyFetch;\n     }\n-    exports.getProxyFetch \u003d getProxyFetch;\n     function getApiBaseUrl() {\n       return process.env[\"GITHUB_API_URL\"] || \"https://api.github.com\";\n     }\n-    exports.getApiBaseUrl \u003d getApiBaseUrl;\n   }\n });\n \n@@ -7932,20 +8016,33 @@ var require_utils3 \u003d __commonJS({\n     } : function(o, v) {\n       o[\"default\"] \u003d v;\n     });\n-    var __importStar \u003d exports \u0026\u0026 exports.__importStar || function(mod) {\n-      if (mod \u0026\u0026 mod.__esModule)\n-        return mod;\n-      var result \u003d {};\n-      if (mod !\u003d null) {\n-        for (var k in mod)\n-          if (k !\u003d\u003d \"default\" \u0026\u0026 Object.prototype.hasOwnProperty.call(mod, k))\n-            __createBinding(result, mod, k);\n-      }\n-      __setModuleDefault(result, mod);\n-      return result;\n-    };\n+    var __importStar \u003d exports \u0026\u0026 exports.__importStar || /* @__PURE__ */ function() {\n+      var ownKeys \u003d function(o) {\n+        ownKeys \u003d Object.getOwnPropertyNames || function(o2) {\n+          var ar \u003d [];\n+          for (var k in o2)\n+            if (Object.prototype.hasOwnProperty.call(o2, k))\n+              ar[ar.length] \u003d k;\n+          return ar;\n+        };\n+        return ownKeys(o);\n+      };\n+      return function(mod) {\n+        if (mod \u0026\u0026 mod.__esModule)\n+          return mod;\n+        var result \u003d {};\n+        if (mod !\u003d null) {\n+          for (var k \u003d ownKeys(mod), i \u003d 0; i \u003c k.length; i++)\n+            if (k[i] !\u003d\u003d \"default\")\n+              __createBinding(result, mod, k[i]);\n+        }\n+        __setModuleDefault(result, mod);\n+        return result;\n+      };\n+    }();\n     Object.defineProperty(exports, \"__esModule\", { value: true });\n-    exports.getOctokitOptions \u003d exports.GitHub \u003d exports.defaults \u003d exports.context \u003d void 0;\n+    exports.GitHub \u003d exports.defaults \u003d exports.context \u003d void 0;\n+    exports.getOctokitOptions \u003d getOctokitOptions;\n     var Context \u003d __importStar(require_context());\n     var Utils \u003d __importStar(require_utils2());\n     var core_1 \u003d require_dist_node8();\n@@ -7969,7 +8066,6 @@ var require_utils3 \u003d __commonJS({\n       }\n       return opts;\n     }\n-    exports.getOctokitOptions \u003d getOctokitOptions;\n   }\n });\n \n@@ -7997,20 +8093,33 @@ var require_github \u003d __commonJS({\n     } : function(o, v) {\n       o[\"default\"] \u003d v;\n     });\n-    var __importStar \u003d exports \u0026\u0026 exports.__importStar || function(mod) {\n-      if (mod \u0026\u0026 mod.__esModule)\n-        return mod;\n-      var result \u003d {};\n-      if (mod !\u003d null) {\n-        for (var k in mod)\n-          if (k !\u003d\u003d \"default\" \u0026\u0026 Object.prototype.hasOwnProperty.call(mod, k))\n-            __createBinding(result, mod, k);\n-      }\n-      __setModuleDefault(result, mod);\n-      return result;\n-    };\n+    var __importStar \u003d exports \u0026\u0026 exports.__importStar || /* @__PURE__ */ function() {\n+      var ownKeys \u003d function(o) {\n+        ownKeys \u003d Object.getOwnPropertyNames || function(o2) {\n+          var ar \u003d [];\n+          for (var k in o2)\n+            if (Object.prototype.hasOwnProperty.call(o2, k))\n+              ar[ar.length] \u003d k;\n+          return ar;\n+        };\n+        return ownKeys(o);\n+      };\n+      return function(mod) {\n+        if (mod \u0026\u0026 mod.__esModule)\n+          return mod;\n+        var result \u003d {};\n+        if (mod !\u003d null) {\n+          for (var k \u003d ownKeys(mod), i \u003d 0; i \u003c k.length; i++)\n+            if (k[i] !\u003d\u003d \"default\")\n+              __createBinding(result, mod, k[i]);\n+        }\n+        __setModuleDefault(result, mod);\n+        return result;\n+      };\n+    }();\n     Object.defineProperty(exports, \"__esModule\", { value: true });\n-    exports.getOctokit \u003d exports.context \u003d void 0;\n+    exports.context \u003d void 0;\n+    exports.getOctokit \u003d getOctokit;\n     var Context \u003d __importStar(require_context());\n     var utils_1 \u003d require_utils3();\n     exports.context \u003d new Context.Context();\n@@ -8018,7 +8127,6 @@ var require_github \u003d __commonJS({\n       const GitHubWithPlugins \u003d utils_1.GitHub.plugin(...additionalPlugins);\n       return new GitHubWithPlugins((0, utils_1.getOctokitOptions)(token, options));\n     }\n-    exports.getOctokit \u003d getOctokit;\n   }\n });\n \ndiff --git a/package.json b/package.json\nindex 56747103..fc8c2043 100644\n--- a/package.json\n+++ b/package.json\n@@ -161,7 +161,7 @@\n   \"// 2\": \"devDependencies are not used under Bazel. Many can be removed after test.sh is deleted.\",\n   \"devDependencies\": {\n     \"@actions/core\": \"^2.0.0\",\n-    \"@actions/github\": \"^6.0.0\",\n+    \"@actions/github\": \"^7.0.0\",\n     \"@angular-devkit/architect-cli\": \"0.2101.0-rc.0\",\n     \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#50fe5451525482cef45fa98d953f899e92d618ce\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 0af9b24e..e100d7cc 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -336,8 +336,8 @@ importers:\n         specifier: ^2.0.0\n         version: 2.0.0\n       \u0027@actions/github\u0027:\n-        specifier: ^6.0.0\n-        version: 6.0.1\n+        specifier: ^7.0.0\n+        version: 7.0.0\n       \u0027@angular-devkit/architect-cli\u0027:\n         specifier: 0.2101.0-rc.0\n         version: 0.2101.0-rc.0(chokidar@5.0.0)\n@@ -1451,15 +1451,15 @@ packages:\n   \u0027@actions/exec@2.0.0\u0027:\n     resolution: {integrity: sha512-k8ngrX2voJ/RIN6r9xB82NVqKpnMRtxDoiO+g3olkIUpQNqjArXrCQceduQZCQj3P3xm32pChRLqRrtXTlqhIw\u003d\u003d}\n \n-  \u0027@actions/github@6.0.1\u0027:\n-    resolution: {integrity: sha512-xbZVcaqD4XnQAe35qSQqskb3SqIAfRyLBrHMd/8TuL7hJSz2QtbDwnNM8zWx4zO5l2fnGtseNE3MbEvD7BxVMw\u003d\u003d}\n-\n-  \u0027@actions/http-client@2.2.3\u0027:\n-    resolution: {integrity: sha512-mx8hyJi/hjFvbPokCg4uRd4ZX78t+YyRPtnKWwIl+RzNaVuFpQHfmlGVfsKEJN8LwTCvL+DfVgAM04XaHkm6bA\u003d\u003d}\n+  \u0027@actions/github@7.0.0\u0027:\n+    resolution: {integrity: sha512-PyGODO938aoBTZd/IfN/+e+Pd5hUcVpyf+thm4CPESLeqhdSkq5QwMTGX9v84XHE1ifmHWBQ60KB8kIgm96opw\u003d\u003d}\n \n   \u0027@actions/http-client@3.0.0\u0027:\n     resolution: {integrity: sha512-1s3tXAfVMSz9a4ZEBkXXRQD4QhY3+GAsWSbaYpeknPOKEeyRiU3lH+bHiLMZdo2x/fIeQ/hscL1wCkDLVM2DZQ\u003d\u003d}\n \n+  \u0027@actions/http-client@3.0.1\u0027:\n+    resolution: {integrity: sha512-SbGS8c/vySbNO3kjFgSW77n83C4MQx/Yoe+b1hAdpuvfHxnkHzDq2pWljUpAA56Si1Gae/7zjeZsV0CYjmLo/w\u003d\u003d}\n+\n   \u0027@actions/io@1.1.3\u0027:\n     resolution: {integrity: sha512-wi9JjgKLYS7U/z8PPbco+PvTb/nRWjeoFlJ1Qer83k/3C5PHQi28hiVdeE2kHXmIL99mQFawx8qt/JPjZilJ8Q\u003d\u003d}\n \n@@ -13428,9 +13428,9 @@ snapshots:\n     dependencies:\n       \u0027@actions/io\u0027: 2.0.0\n \n-  \u0027@actions/github@6.0.1\u0027:\n+  \u0027@actions/github@7.0.0\u0027:\n     dependencies:\n-      \u0027@actions/http-client\u0027: 2.2.3\n+      \u0027@actions/http-client\u0027: 3.0.1\n       \u0027@octokit/core\u0027: 5.2.2\n       \u0027@octokit/plugin-paginate-rest\u0027: 9.2.2(@octokit/core@5.2.2)\n       \u0027@octokit/plugin-rest-endpoint-methods\u0027: 10.4.1(@octokit/core@5.2.2)\n@@ -13438,12 +13438,12 @@ snapshots:\n       \u0027@octokit/request-error\u0027: 5.1.1\n       undici: 5.29.0\n \n-  \u0027@actions/http-client@2.2.3\u0027:\n+  \u0027@actions/http-client@3.0.0\u0027:\n     dependencies:\n       tunnel: 0.0.6\n       undici: 5.29.0\n \n-  \u0027@actions/http-client@3.0.0\u0027:\n+  \u0027@actions/http-client@3.0.1\u0027:\n     dependencies:\n       tunnel: 0.0.6\n       undici: 5.29.0","expectedMessage":"build: update dependency @actions/github to v7","repository":"angular","commitHash":"933375152567d93a764d52c2d147bb308ec50f84","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-f34eb65f","diff":" .github/actions/saucelabs-legacy/action.yml        |  4 +-\n .github/workflows/adev-preview-build.yml           |  8 ++--\n .github/workflows/adev-preview-deploy.yml          |  2 +-\n .../workflows/assistant-to-the-branch-manager.yml  |  2 +-\n .github/workflows/benchmark-compare.yml            |  2 +-\n .github/workflows/ci.yml                           | 50 +++++++++++-----------\n .github/workflows/dev-infra.yml                    |  4 +-\n .github/workflows/google-internal-tests.yml        |  2 +-\n .github/workflows/manual.yml                       |  8 ++--\n .github/workflows/merge-ready-status.yml           |  2 +-\n .github/workflows/perf.yml                         |  6 +--\n .github/workflows/pr.yml                           | 40 ++++++++---------\n MODULE.bazel                                       |  2 +-\n package.json                                       |  2 +-\n pnpm-lock.yaml                                     | 13 +++---\n 15 files changed, 74 insertions(+), 73 deletions(-)\n\ndiff --git a/.github/actions/saucelabs-legacy/action.yml b/.github/actions/saucelabs-legacy/action.yml\nindex 2e4beb8a..a3ee2914 100644\n--- a/.github/actions/saucelabs-legacy/action.yml\n+++ b/.github/actions/saucelabs-legacy/action.yml\n@@ -5,9 +5,9 @@ runs:\n   using: \u0027composite\u0027\n   steps:\n     - name: Setup Bazel\n-      uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+      uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n     - name: Setup Saucelabs Variables\n-      uses: angular/dev-infra/github-actions/saucelabs@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+      uses: angular/dev-infra/github-actions/saucelabs@3ec78dc98edefbf3a324b84d093e66577ea30b29\n     - name: Starting Saucelabs tunnel service\n       shell: bash\n       run: ./tools/saucelabs/sauce-service.sh run \u0026\ndiff --git a/.github/workflows/adev-preview-build.yml b/.github/workflows/adev-preview-build.yml\nindex e0f6082d..51aa662c 100644\n--- a/.github/workflows/adev-preview-build.yml\n+++ b/.github/workflows/adev-preview-build.yml\n@@ -21,17 +21,17 @@ jobs:\n       (github.event.action \u003d\u003d \u0027synchronize\u0027 \u0026\u0026 contains(github.event.pull_request.labels.*.name, \u0027adev: preview\u0027))\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\n         # `snapshot-build` config is used to stamp the exact version with sha in the footer.\n         run: pnpm bazel build //adev:build.production --config\u003dsnapshot-build\n-      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           workflow-artifact-name: \u0027adev-preview\u0027\n           pull-number: \u0027${{github.event.pull_request.number}}\u0027\ndiff --git a/.github/workflows/adev-preview-deploy.yml b/.github/workflows/adev-preview-deploy.yml\nindex 945a2ada..b1f66609 100644\n--- a/.github/workflows/adev-preview-deploy.yml\n+++ b/.github/workflows/adev-preview-deploy.yml\n@@ -40,7 +40,7 @@ jobs:\n           npx -y firebase-tools@latest target:clear --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs\n           npx -y firebase-tools@latest target:apply --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs ${{env.PREVIEW_SITE}}\n \n-      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           github-token: \u0027${{secrets.GITHUB_TOKEN}}\u0027\n           workflow-artifact-name: \u0027adev-preview\u0027\ndiff --git a/.github/workflows/assistant-to-the-branch-manager.yml b/.github/workflows/assistant-to-the-branch-manager.yml\nindex 105c9331..1e2ae380 100644\n--- a/.github/workflows/assistant-to-the-branch-manager.yml\n+++ b/.github/workflows/assistant-to-the-branch-manager.yml\n@@ -17,6 +17,6 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n         with:\n           persist-credentials: false\n-      - uses: angular/dev-infra/github-actions/branch-manager@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+      - uses: angular/dev-infra/github-actions/branch-manager@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/benchmark-compare.yml b/.github/workflows/benchmark-compare.yml\nindex 1c024763..d03f9f0b 100644\n--- a/.github/workflows/benchmark-compare.yml\n+++ b/.github/workflows/benchmark-compare.yml\n@@ -38,7 +38,7 @@ jobs:\n \n       - run: pnpm install --frozen-lockfile\n \n-      - uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+      - uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           bazelrc: ./.bazelrc.user\n \ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 381766cf..9c7e2927 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -21,7 +21,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -39,13 +39,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -67,11 +67,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -83,11 +83,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -100,11 +100,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -119,11 +119,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -136,11 +136,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: echo \"https://${{secrets.SNAPSHOT_BUILDS_GITHUB_TOKEN}}:@github.com\" \u003e ${HOME}/.git_credentials\n@@ -152,11 +152,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -206,11 +206,11 @@ jobs:\n     runs-on: ubuntu-latest-8core\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\ndiff --git a/.github/workflows/dev-infra.yml b/.github/workflows/dev-infra.yml\nindex 8241492b..f35ed269 100644\n--- a/.github/workflows/dev-infra.yml\n+++ b/.github/workflows/dev-infra.yml\n@@ -13,13 +13,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/pull-request-labeling@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+      - uses: angular/dev-infra/github-actions/pull-request-labeling@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\n   post_approval_changes:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/post-approval-changes@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+      - uses: angular/dev-infra/github-actions/post-approval-changes@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/google-internal-tests.yml b/.github/workflows/google-internal-tests.yml\nindex 25e0875f..23a18329 100644\n--- a/.github/workflows/google-internal-tests.yml\n+++ b/.github/workflows/google-internal-tests.yml\n@@ -14,7 +14,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/google-internal-tests@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+      - uses: angular/dev-infra/github-actions/google-internal-tests@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           run-tests-guide-url: http://go/angular-g3sync-start\n           github-token: ${{ secrets.GITHUB_TOKEN }}\ndiff --git a/.github/workflows/manual.yml b/.github/workflows/manual.yml\nindex 8174d2cd..a19fb8db 100644\n--- a/.github/workflows/manual.yml\n+++ b/.github/workflows/manual.yml\n@@ -13,15 +13,15 @@ jobs:\n       JOBS: 2\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Saucelabs Variables\n-        uses: angular/dev-infra/github-actions/saucelabs@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/saucelabs@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Set up Sauce Tunnel Daemon\n         run: pnpm bazel run //tools/saucelabs-daemon/background-service -- $JOBS \u0026\n         env:\ndiff --git a/.github/workflows/merge-ready-status.yml b/.github/workflows/merge-ready-status.yml\nindex 2ff516c8..c776e71c 100644\n--- a/.github/workflows/merge-ready-status.yml\n+++ b/.github/workflows/merge-ready-status.yml\n@@ -9,6 +9,6 @@ jobs:\n   status:\n     runs-on: ubuntu-latest\n     steps:\n-      - uses: angular/dev-infra/github-actions/unified-status-check@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+      - uses: angular/dev-infra/github-actions/unified-status-check@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/perf.yml b/.github/workflows/perf.yml\nindex 0290858c..6bec4537 100644\n--- a/.github/workflows/perf.yml\n+++ b/.github/workflows/perf.yml\n@@ -21,7 +21,7 @@ jobs:\n       workflows: ${{ steps.workflows.outputs.workflows }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - id: workflows\n@@ -36,9 +36,9 @@ jobs:\n         workflow: ${{ fromJSON(needs.list.outputs.workflows) }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       # We utilize the google-github-actions/auth action to allow us to get an active credential using workflow\ndiff --git a/.github/workflows/pr.yml b/.github/workflows/pr.yml\nindex 6f800b22..601eb8ea 100644\n--- a/.github/workflows/pr.yml\n+++ b/.github/workflows/pr.yml\n@@ -19,7 +19,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -37,7 +37,7 @@ jobs:\n       - name: Check code format\n         run: pnpm ng-dev format changed --check ${{ github.event.pull_request.base.sha }}\n       - name: Check Package Licenses\n-        uses: angular/dev-infra/github-actions/linting/licenses@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/linting/licenses@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           allow-dependencies-licenses: \u0027pkg:npm/google-protobuf@\u0027\n \n@@ -45,13 +45,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run unit tests\n@@ -71,11 +71,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run CI tests for framework\n@@ -95,11 +95,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run integration CI tests for framework\n@@ -110,11 +110,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -127,11 +127,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -142,11 +142,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/setup@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@3ec78dc98edefbf3a324b84d093e66577ea30b29\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: |\ndiff --git a/MODULE.bazel b/MODULE.bazel\nindex 29cad01b..ba03f523 100644\n--- a/MODULE.bazel\n+++ b/MODULE.bazel\n@@ -25,7 +25,7 @@ git_override(\n bazel_dep(name \u003d \"devinfra\")\n git_override(\n     module_name \u003d \"devinfra\",\n-    commit \u003d \"977bc9d747d9ddfe610fc96009212dd14c645ef6\",\n+    commit \u003d \"3ec78dc98edefbf3a324b84d093e66577ea30b29\",\n     remote \u003d \"https://github.com/angular/dev-infra.git\",\n )\n \ndiff --git a/package.json b/package.json\nindex 9b015c0d..56747103 100644\n--- a/package.json\n+++ b/package.json\n@@ -163,7 +163,7 @@\n     \"@actions/core\": \"^2.0.0\",\n     \"@actions/github\": \"^6.0.0\",\n     \"@angular-devkit/architect-cli\": \"0.2101.0-rc.0\",\n-    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#5e6b5c157aa13f92ef88a51d87874607f517d30c\",\n+    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#50fe5451525482cef45fa98d953f899e92d618ce\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\n     \"@babel/plugin-transform-async-generator-functions\": \"^7.27.1\",\n     \"@bazel/bazelisk\": \"^1.7.5\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex f0b44709..0af9b24e 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -342,8 +342,8 @@ importers:\n         specifier: 0.2101.0-rc.0\n         version: 0.2101.0-rc.0(chokidar@5.0.0)\n       \u0027@angular/ng-dev\u0027:\n-        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#5e6b5c157aa13f92ef88a51d87874607f517d30c\n-        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/5e6b5c157aa13f92ef88a51d87874607f517d30c(@modelcontextprotocol/sdk@1.25.2)\n+        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#50fe5451525482cef45fa98d953f899e92d618ce\n+        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/50fe5451525482cef45fa98d953f899e92d618ce(@modelcontextprotocol/sdk@1.25.2)\n       \u0027@babel/plugin-proposal-async-generator-functions\u0027:\n         specifier: 7.20.7\n         version: 7.20.7(@babel/core@7.28.5)\n@@ -1698,9 +1698,9 @@ packages:\n       \u0027@angular/platform-browser\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n       rxjs: ^6.5.3 || ^7.4.0\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/5e6b5c157aa13f92ef88a51d87874607f517d30c\u0027:\n-    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/5e6b5c157aa13f92ef88a51d87874607f517d30c}\n-    version: 0.0.0-977bc9d747d9ddfe610fc96009212dd14c645ef6\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/50fe5451525482cef45fa98d953f899e92d618ce\u0027:\n+    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/50fe5451525482cef45fa98d953f899e92d618ce}\n+    version: 0.0.0-3ec78dc98edefbf3a324b84d093e66577ea30b29\n     hasBin: true\n \n   \u0027@angular/ssr@21.1.0-rc.0\u0027:\n@@ -9404,6 +9404,7 @@ packages:\n \n   json-ptr@3.1.1:\n     resolution: {integrity: sha512-SiSJQ805W1sDUCD1+/t1/1BIrveq2Fe9HJqENxZmMCILmrPI7WhS/pePpIOx85v6/H2z1Vy7AI08GV2TzfXocg\u003d\u003d}\n+    deprecated: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.\n \n   json-schema-traverse@0.4.1:\n     resolution: {integrity: sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg\u003d\u003d}\n@@ -13951,7 +13952,7 @@ snapshots:\n       rxjs: 7.8.2\n       tslib: 2.8.1\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/5e6b5c157aa13f92ef88a51d87874607f517d30c(@modelcontextprotocol/sdk@1.25.2)\u0027:\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/50fe5451525482cef45fa98d953f899e92d618ce(@modelcontextprotocol/sdk@1.25.2)\u0027:\n     dependencies:\n       \u0027@actions/core\u0027: 2.0.1\n       \u0027@google-cloud/spanner\u0027: 8.0.0(supports-color@10.2.2)","expectedMessage":"build: update cross-repo angular dependencies","repository":"angular","commitHash":"f34eb65f89c6af0882c7338ee7b7ee72f63fd4c9","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-0aaadafc","diff":" packages/compiler-cli/src/ngtsc/core/src/compiler.ts          |  3 ++-\n packages/compiler-cli/src/ngtsc/diagnostics/index.ts          |  2 +-\n .../src/ngtsc/diagnostics/src/error_details_base_url.ts       | 11 +++++++++--\n .../typecheck/extended/checks/invalid_banana_in_box/index.ts  |  8 ++++++--\n packages/compiler-cli/src/ngtsc/typecheck/src/oob.ts          |  3 ++-\n 5 files changed, 20 insertions(+), 7 deletions(-)\n\ndiff --git a/packages/compiler-cli/src/ngtsc/core/src/compiler.ts b/packages/compiler-cli/src/ngtsc/core/src/compiler.ts\nindex 26f484b7..080daa32 100644\n--- a/packages/compiler-cli/src/ngtsc/core/src/compiler.ts\n+++ b/packages/compiler-cli/src/ngtsc/core/src/compiler.ts\n@@ -127,6 +127,7 @@ import {DiagnosticCategoryLabel, NgCompilerAdapter, NgCompilerOptions} from \u0027../\n import {coreVersionSupportsFeature} from \u0027./feature_detection\u0027;\n import {angularJitApplicationTransform} from \u0027../../transform/jit\u0027;\n import {untagAllTsFiles} from \u0027../../shims\u0027;\n+import {DOC_PAGE_BASE_URL} from \u0027../../diagnostics/src/error_details_base_url\u0027;\n \n /**\n  * State information about a compilation which is only generated once some data is requested from\n@@ -1777,7 +1778,7 @@ One of the following actions is required:\n 2. Remove \"strictTemplates\" or set it to \u0027false\u0027.\n \n More information about the template type checking compiler options can be found in the documentation:\n-https://angular.dev/tools/cli/template-typecheck\n+${DOC_PAGE_BASE_URL}/tools/cli/template-typecheck\n       `.trim(),\n     });\n   }\ndiff --git a/packages/compiler-cli/src/ngtsc/diagnostics/index.ts b/packages/compiler-cli/src/ngtsc/diagnostics/index.ts\nindex 744f4b36..769efba7 100644\n--- a/packages/compiler-cli/src/ngtsc/diagnostics/index.ts\n+++ b/packages/compiler-cli/src/ngtsc/diagnostics/index.ts\n@@ -17,6 +17,6 @@ export {\n   makeRelatedInformation,\n } from \u0027./src/error\u0027;\n export {ErrorCode} from \u0027./src/error_code\u0027;\n-export {ERROR_DETAILS_PAGE_BASE_URL} from \u0027./src/error_details_base_url\u0027;\n+export {ERROR_DETAILS_PAGE_BASE_URL, DOC_PAGE_BASE_URL} from \u0027./src/error_details_base_url\u0027;\n export {ExtendedTemplateDiagnosticName} from \u0027./src/extended_template_diagnostic_name\u0027;\n export {ngErrorCode, replaceTsWithNgInErrors} from \u0027./src/util\u0027;\ndiff --git a/packages/compiler-cli/src/ngtsc/diagnostics/src/error_details_base_url.ts b/packages/compiler-cli/src/ngtsc/diagnostics/src/error_details_base_url.ts\nindex cd93df42..4a9a1b2e 100644\n--- a/packages/compiler-cli/src/ngtsc/diagnostics/src/error_details_base_url.ts\n+++ b/packages/compiler-cli/src/ngtsc/diagnostics/src/error_details_base_url.ts\n@@ -8,6 +8,14 @@\n \n import {VERSION} from \u0027@angular/compiler\u0027;\n \n+export const DOC_PAGE_BASE_URL: string \u003d (() \u003d\u003e {\n+  const full \u003d VERSION.full;\n+  const isPreRelease \u003d\n+    full.includes(\u0027-next\u0027) || full.includes(\u0027-rc\u0027) || full \u003d\u003d\u003d \u00270.0.0\u0027 + \u0027-PLACEHOLDER\u0027;\n+  const prefix \u003d isPreRelease ? \u0027next\u0027 : `v${VERSION.major}`;\n+  return `https://${prefix}.angular.dev`;\n+})();\n+\n /**\n  * Base URL for the error details page.\n  *\n@@ -16,6 +24,5 @@ import {VERSION} from \u0027@angular/compiler\u0027;\n  *  - packages/core/src/error_details_base_url.ts\n  */\n export const ERROR_DETAILS_PAGE_BASE_URL: string \u003d (() \u003d\u003e {\n-  const versionSubDomain \u003d VERSION.major !\u003d\u003d \u00270\u0027 ? `v${VERSION.major}.` : \u0027\u0027;\n-  return `https://${versionSubDomain}angular.dev/errors`;\n+  return `${DOC_PAGE_BASE_URL}/errors`;\n })();\ndiff --git a/packages/compiler-cli/src/ngtsc/typecheck/extended/checks/invalid_banana_in_box/index.ts b/packages/compiler-cli/src/ngtsc/typecheck/extended/checks/invalid_banana_in_box/index.ts\nindex 970bb6bd..8e2438c0 100644\n--- a/packages/compiler-cli/src/ngtsc/typecheck/extended/checks/invalid_banana_in_box/index.ts\n+++ b/packages/compiler-cli/src/ngtsc/typecheck/extended/checks/invalid_banana_in_box/index.ts\n@@ -9,7 +9,11 @@\n import {AST, TmplAstBoundEvent, TmplAstNode} from \u0027@angular/compiler\u0027;\n import ts from \u0027typescript\u0027;\n \n-import {ErrorCode, ExtendedTemplateDiagnosticName} from \u0027../../../../diagnostics\u0027;\n+import {\n+  ErrorCode,\n+  ExtendedTemplateDiagnosticName,\n+  DOC_PAGE_BASE_URL,\n+} from \u0027../../../../diagnostics\u0027;\n import {NgTemplateDiagnostic} from \u0027../../../api\u0027;\n import {TemplateCheckFactory, TemplateCheckWithVisitor, TemplateContext} from \u0027../../api\u0027;\n \n@@ -36,7 +40,7 @@ class InvalidBananaInBoxCheck extends TemplateCheckWithVisitor\u003cErrorCode.INVALID\n     const diagnostic \u003d ctx.makeTemplateDiagnostic(\n       node.sourceSpan,\n       `In the two-way binding syntax the parentheses should be inside the brackets, ex. \u0027${expectedBoundSyntax}\u0027.\n-        Find more at https://angular.dev/guide/templates/two-way-binding`,\n+        Find more at ${DOC_PAGE_BASE_URL}/guide/templates/two-way-binding`,\n     );\n     return [diagnostic];\n   }\ndiff --git a/packages/compiler-cli/src/ngtsc/typecheck/src/oob.ts b/packages/compiler-cli/src/ngtsc/typecheck/src/oob.ts\nindex ed6ead28..301ee93f 100644\n--- a/packages/compiler-cli/src/ngtsc/typecheck/src/oob.ts\n+++ b/packages/compiler-cli/src/ngtsc/typecheck/src/oob.ts\n@@ -39,6 +39,7 @@ import {TemplateDiagnostic, TypeCheckId} from \u0027../api\u0027;\n import {makeTemplateDiagnostic} from \u0027../diagnostics\u0027;\n \n import {TypeCheckSourceResolver} from \u0027./tcb_util\u0027;\n+import {DOC_PAGE_BASE_URL} from \u0027../../diagnostics/src/error_details_base_url\u0027;\n \n /**\n  * Collects `ts.Diagnostic`s on problems which occur in the template which aren\u0027t directly sourced\n@@ -514,7 +515,7 @@ export class OutOfBandDiagnosticRecorderImpl implements OutOfBandDiagnosticRecor\n   ): void {\n     const mapping \u003d this.resolver.getTemplateSourceMapping(id);\n     const errorMsg \u003d `The property and event halves of the two-way binding \u0027${input.name}\u0027 are not bound to the same target.\n-            Find more at https://angular.dev/guide/templates/two-way-binding#how-two-way-binding-works`;\n+            Find more at ${DOC_PAGE_BASE_URL}/guide/templates/two-way-binding`;\n \n     const relatedMessages: {text: string; start: number; end: number; sourceFile: ts.SourceFile}[] \u003d\n       [];","expectedMessage":"refactor(compiler-cli): update error message links to versioned docs (#66374)","repository":"angular","commitHash":"0aaadafc5073c2c7bb9ffa3935adc0cb36b233cd","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-f4469ad5","diff":" packages/common/test/directives/ng_for_spec.ts        |  4 ++--\n packages/core/src/error_details_base_url.ts           | 15 ++++++++++++---\n packages/core/src/hydration/api.ts                    |  3 ++-\n packages/core/src/image_performance_warning.ts        |  5 +++--\n packages/core/test/acceptance/di_forward_ref_spec.ts  |  3 ++-\n packages/core/test/acceptance/di_spec.ts              | 19 ++++++++++---------\n packages/core/test/application_init_spec.ts           |  3 ++-\n packages/core/test/application_ref_spec.ts            |  3 ++-\n packages/core/test/di/injector_spec.ts                |  5 +++--\n packages/core/test/di/r3_injector_spec.ts             |  7 ++++---\n packages/core/test/di/static_injector_spec.ts         |  6 ++++--\n .../core/test/linker/ng_module_integration_spec.ts    |  7 ++++---\n .../test/linker/view_injector_integration_spec.ts     | 11 ++++++-----\n packages/core/test/render3/di_spec.ts                 |  3 ++-\n packages/core/test/runtime_error_spec.ts              |  9 ++++++---\n packages/forms/test/directives_spec.ts                | 16 ++++------------\n packages/forms/test/form_control_spec.ts              |  4 +---\n packages/forms/test/reactive_integration_spec.ts      |  2 +-\n .../test/browser/bootstrap_standalone_spec.ts         |  7 ++-----\n 19 files changed, 72 insertions(+), 60 deletions(-)\n\ndiff --git a/packages/common/test/directives/ng_for_spec.ts b/packages/common/test/directives/ng_for_spec.ts\nindex 2b09e4cb..0986b5e5 100644\n--- a/packages/common/test/directives/ng_for_spec.ts\n+++ b/packages/common/test/directives/ng_for_spec.ts\n@@ -119,7 +119,7 @@ describe(\u0027ngFor\u0027, () \u003d\u003e {\n \n     getComponent().items \u003d \u003cany\u003e\u0027whaaa\u0027;\n     expect(() \u003d\u003e fixture.detectChanges()).toThrowError(\n-      `NG02200: Cannot find a differ supporting object \u0027whaaa\u0027 of type \u0027string\u0027. NgFor only supports binding to Iterables, such as Arrays. Find more at https://angular.dev/errors/NG02200`,\n+      /NG02200: Cannot find a differ supporting object \u0027whaaa\u0027 of type \u0027string\u0027\\. NgFor only supports binding to Iterables, such as Arrays\\. Find more at https:\\/\\/(?:next\\.)?angular\\.dev\\/errors\\/NG02200/,\n     );\n   }));\n \n@@ -128,7 +128,7 @@ describe(\u0027ngFor\u0027, () \u003d\u003e {\n \n     getComponent().items \u003d \u003cany\u003e{\u0027stuff\u0027: \u0027whaaa\u0027};\n     expect(() \u003d\u003e fixture.detectChanges()).toThrowError(\n-      `NG02200: Cannot find a differ supporting object \u0027\\[object Object\\]\u0027 of type \u0027object\u0027. NgFor only supports binding to Iterables, such as Arrays. Did you mean to use the keyvalue pipe? Find more at https://angular.dev/errors/NG02200`,\n+      /NG02200: Cannot find a differ supporting object \u0027\\[object Object\\]\u0027 of type \u0027object\u0027\\. NgFor only supports binding to Iterables, such as Arrays\\. Did you mean to use the keyvalue pipe\\? Find more at https:\\/\\/(?:next\\.)?angular\\.dev\\/errors\\/NG02200/,\n     );\n   }));\n \ndiff --git a/packages/core/src/error_details_base_url.ts b/packages/core/src/error_details_base_url.ts\nindex 8cc9e5fa..673039aa 100644\n--- a/packages/core/src/error_details_base_url.ts\n+++ b/packages/core/src/error_details_base_url.ts\n@@ -8,6 +8,17 @@\n \n import {VERSION} from \u0027./version\u0027;\n \n+export const DOC_PAGE_BASE_URL: string \u003d (() \u003d\u003e {\n+  const full \u003d VERSION.full;\n+  const isPreRelease \u003d\n+    full.includes(\u0027-next\u0027) ||\n+    full.includes(\u0027-rc\u0027) ||\n+    // Avoid direct literal to prevent build stamping replacement\n+    full \u003d\u003d\u003d \u00270.0.0\u0027 + \u0027-PLACEHOLDER\u0027;\n+  const prefix \u003d isPreRelease ? \u0027next\u0027 : `v${VERSION.major}`;\n+  return `https://${prefix}.angular.dev`;\n+})();\n+\n /**\n  * Base URL for the error details page.\n  *\n@@ -16,10 +27,8 @@ import {VERSION} from \u0027./version\u0027;\n  *  - packages/core/src/error_details_base_url.ts\n  */\n export const ERROR_DETAILS_PAGE_BASE_URL: string \u003d (() \u003d\u003e {\n-  const versionSubDomain \u003d VERSION.major !\u003d\u003d \u00270\u0027 ? `v${VERSION.major}.` : \u0027\u0027;\n-  return `https://${versionSubDomain}angular.dev/errors`;\n+  return `${DOC_PAGE_BASE_URL}/errors`;\n })();\n-\n /**\n  * URL for the XSS security documentation.\n  */\ndiff --git a/packages/core/src/hydration/api.ts b/packages/core/src/hydration/api.ts\nindex 71a800e4..e6272d6e 100644\n--- a/packages/core/src/hydration/api.ts\n+++ b/packages/core/src/hydration/api.ts\n@@ -56,6 +56,7 @@ import {DEHYDRATED_BLOCK_REGISTRY, DehydratedBlockRegistry} from \u0027../defer/regis\n import {gatherDeferBlocksCommentNodes} from \u0027./node_lookup_utils\u0027;\n import {processAndInitTriggers} from \u0027../defer/triggering\u0027;\n import {DOCUMENT} from \u0027../document\u0027;\n+import {DOC_PAGE_BASE_URL} from \u0027../error_details_base_url\u0027;\n \n /**\n  * Indicates whether the hydration-related code was added,\n@@ -148,7 +149,7 @@ function printHydrationStats(injector: Injector) {\n     (isIncrementalHydrationEnabled(injector)\n       ? `${ngDevMode!.deferBlocksWithIncrementalHydration} defer block(s) were configured to use incremental hydration. `\n       : \u0027\u0027) +\n-    `Learn more at https://angular.dev/guide/hydration.`;\n+    `Learn more at ${DOC_PAGE_BASE_URL}/guide/hydration.`;\n   // tslint:disable-next-line:no-console\n   console.log(message);\n }\ndiff --git a/packages/core/src/image_performance_warning.ts b/packages/core/src/image_performance_warning.ts\nindex b99d6347..e9c3afb5 100644\n--- a/packages/core/src/image_performance_warning.ts\n+++ b/packages/core/src/image_performance_warning.ts\n@@ -12,6 +12,7 @@ import {inject} from \u0027./di/injector_compatibility\u0027;\n import {formatRuntimeError, RuntimeErrorCode} from \u0027./errors\u0027;\n import {OnDestroy} from \u0027./change_detection/lifecycle_hooks\u0027;\n import {getDocument} from \u0027./render3/interfaces/document\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027./error_details_base_url\u0027;\n \n // A delay in milliseconds before the scan is run after onLoad, to avoid any\n // potential race conditions with other LCP-related functions. This delay\n@@ -213,7 +214,7 @@ function logLazyLCPWarning(src: string) {\n         `changing the loading value of the LCP image to \"eager\", or by using the ` +\n         `NgOptimizedImage directive\u0027s prioritization utilities. For more ` +\n         `information about addressing or disabling this warning, see ` +\n-        `https://angular.dev/errors/NG0913`,\n+        `${ERROR_DETAILS_PAGE_BASE_URL}/NG0913`,\n     ),\n   );\n }\n@@ -225,7 +226,7 @@ function logOversizedImageWarning(src: string) {\n       `An image with src ${src} has intrinsic file dimensions much larger than its ` +\n         `rendered size. This can negatively impact application loading performance. ` +\n         `For more information about addressing or disabling this warning, see ` +\n-        `https://angular.dev/errors/NG0913`,\n+        `${ERROR_DETAILS_PAGE_BASE_URL}/NG0913`,\n     ),\n   );\n }\ndiff --git a/packages/core/test/acceptance/di_forward_ref_spec.ts b/packages/core/test/acceptance/di_forward_ref_spec.ts\nindex dd4bb850..fd3cfb48 100644\n--- a/packages/core/test/acceptance/di_forward_ref_spec.ts\n+++ b/packages/core/test/acceptance/di_forward_ref_spec.ts\n@@ -8,6 +8,7 @@\n \n import {Component, Directive, forwardRef, Host, Inject, ViewChild} from \u0027@angular/core\u0027;\n import {TestBed} from \u0027../../testing\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../../src/error_details_base_url\u0027;\n \n // **NOTE**: More details on why tests relying on `forwardRef` are put into this\n // file can be found in the `BUILD.bazel` file declaring the forward ref test target.\n@@ -41,7 +42,7 @@ describe(\u0027di with forwardRef\u0027, () \u003d\u003e {\n       expect(() \u003d\u003e TestBed.createComponent(MyComp)).toThrowError(\n         \u0027NG0200: Circular dependency detected for `DirectiveA`. \u0027 +\n           \u0027Path: DirectiveA -\u003e DirectiveB -\u003e DirectiveA. \u0027 +\n-          \u0027Find more at https://angular.dev/errors/NG0200\u0027,\n+          `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0200`,\n       );\n     });\n \ndiff --git a/packages/core/test/acceptance/di_spec.ts b/packages/core/test/acceptance/di_spec.ts\nindex c081611f..fa19c69b 100644\n--- a/packages/core/test/acceptance/di_spec.ts\n+++ b/packages/core/test/acceptance/di_spec.ts\n@@ -62,6 +62,7 @@ import {\n   DestroyRef,\n   provideZoneChangeDetection,\n } from \u0027../../src/core\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../../src/error_details_base_url\u0027;\n import {RuntimeError, RuntimeErrorCode} from \u0027../../src/errors\u0027;\n import {ViewRef as ViewRefInternal} from \u0027../../src/render3/view_ref\u0027;\n import {TestBed} from \u0027../../testing\u0027;\n@@ -1263,7 +1264,7 @@ describe(\u0027di\u0027, () \u003d\u003e {\n       expect(() \u003d\u003e TestBed.createComponent(MyComp)).toThrowError(\n         \u0027NG0200: Circular dependency detected for `DirectiveA`. \u0027 +\n           \u0027Path: DirectiveA -\u003e DirectiveA. \u0027 +\n-          \u0027Find more at https://angular.dev/errors/NG0200\u0027,\n+          `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0200`,\n       );\n     });\n \n@@ -2553,7 +2554,7 @@ describe(\u0027di\u0027, () \u003d\u003e {\n \n           TestBed.configureTestingModule({declarations: [DirectiveString, MyComp, MyApp]});\n           expect(() \u003d\u003e TestBed.createComponent(MyApp)).toThrowError(\n-            \u0027NG0201: No provider for String found in NodeInjector. Find more at https://angular.dev/errors/NG0201\u0027,\n+            `NG0201: No provider for String found in NodeInjector. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n           );\n         });\n \n@@ -2651,7 +2652,7 @@ describe(\u0027di\u0027, () \u003d\u003e {\n \n           TestBed.configureTestingModule({declarations: [DirectiveComp, MyComp, MyApp]});\n           expect(() \u003d\u003e TestBed.createComponent(MyApp)).toThrowError(\n-            \u0027NG0201: No provider for MyApp found in NodeInjector. Find more at https://angular.dev/errors/NG0201\u0027,\n+            `NG0201: No provider for MyApp found in NodeInjector. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n           );\n         });\n \n@@ -6640,7 +6641,7 @@ describe(\u0027di\u0027, () \u003d\u003e {\n         \u0027NG0200: Circular dependency detected for `InjectionToken A`. \u0027 +\n           \u0027Source: DynamicTestModule. \u0027 +\n           \u0027Path: InjectionToken A -\u003e InjectionToken B -\u003e InjectionToken A. \u0027 +\n-          \u0027Find more at https://angular.dev/errors/NG0200\u0027,\n+          `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0200`,\n       );\n     });\n \n@@ -6676,7 +6677,7 @@ describe(\u0027di\u0027, () \u003d\u003e {\n         \u0027NG0200: Circular dependency detected for `InjectionToken A`. \u0027 +\n           \u0027Source: DynamicTestModule. \u0027 +\n           \u0027Path: InjectionToken A -\u003e InjectionToken B -\u003e InjectionToken A. \u0027 +\n-          \u0027Find more at https://angular.dev/errors/NG0200\u0027,\n+          `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0200`,\n       );\n     });\n \n@@ -6719,7 +6720,7 @@ describe(\u0027di\u0027, () \u003d\u003e {\n         \u0027NG0200: Circular dependency detected for `InjectionToken A`. \u0027 +\n           \u0027Source: DynamicTestModule. \u0027 +\n           \u0027Path: InjectionToken A -\u003e InjectionToken B -\u003e InjectionToken A. \u0027 +\n-          \u0027Find more at https://angular.dev/errors/NG0200\u0027,\n+          `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0200`,\n       );\n     });\n \n@@ -6737,7 +6738,7 @@ describe(\u0027di\u0027, () \u003d\u003e {\n       expect(() \u003d\u003e createInjector(AModule)).toThrowError(\n         \u0027NG0200: Circular dependency detected for `AModule`. \u0027 +\n           \u0027Path: AModule -\u003e BModule -\u003e AModule. \u0027 +\n-          \u0027Find more at https://angular.dev/errors/NG0200\u0027,\n+          `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0200`,\n       );\n     });\n \n@@ -6781,7 +6782,7 @@ describe(\u0027di\u0027, () \u003d\u003e {\n         \u0027NG0200: Circular dependency detected for `InjectionToken A`. \u0027 +\n           \u0027Source: DynamicTestModule. \u0027 +\n           \u0027Path: InjectionToken A -\u003e InjectionToken B -\u003e InjectionToken A. \u0027 +\n-          \u0027Find more at https://angular.dev/errors/NG0200\u0027,\n+          `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0200`,\n       );\n     });\n \n@@ -6818,7 +6819,7 @@ describe(\u0027di\u0027, () \u003d\u003e {\n       expect(() \u003d\u003e TestBed.createComponent(App)).toThrowError(\n         \u0027NG0200: Circular dependency detected for `InjectionToken A`. \u0027 +\n           \"Path: App -\u003e (\u0027InjectionToken A\u0027:AService) -\u003e (\u0027InjectionToken B\u0027:BService) -\u003e (\u0027InjectionToken A\u0027:AService). \" +\n-          \u0027Find more at https://angular.dev/errors/NG0200\u0027,\n+          `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0200`,\n       );\n     });\n   });\ndiff --git a/packages/core/test/application_init_spec.ts b/packages/core/test/application_init_spec.ts\nindex 7bb46972..146c2f6a 100644\n--- a/packages/core/test/application_init_spec.ts\n+++ b/packages/core/test/application_init_spec.ts\n@@ -13,6 +13,7 @@ import {\n   InjectionToken,\n   provideAppInitializer,\n } from \u0027../src/core\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../src/error_details_base_url\u0027;\n import {EMPTY, Observable, Subscriber} from \u0027rxjs\u0027;\n \n import {TestBed} from \u0027../testing\u0027;\n@@ -187,7 +188,7 @@ describe(\u0027ApplicationInitStatus\u0027, () \u003d\u003e {\n         \u0027NG0209: Unexpected type of the `APP_INITIALIZER` token value \u0027 +\n           `(expected an array, but got string). ` +\n           \u0027Please check that the `APP_INITIALIZER` token is configured as a \u0027 +\n-          \u0027`multi: true` provider. Find more at https://angular.dev/errors/NG0209\u0027,\n+          `\\`multi: true\\` provider. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0209`,\n       );\n     });\n   });\ndiff --git a/packages/core/test/application_ref_spec.ts b/packages/core/test/application_ref_spec.ts\nindex 6b54b8fa..3c70a175 100644\n--- a/packages/core/test/application_ref_spec.ts\n+++ b/packages/core/test/application_ref_spec.ts\n@@ -13,6 +13,7 @@ import {\n   ɵDomRendererFactory2 as DomRendererFactory2,\n } from \u0027@angular/platform-browser\u0027;\n import type {ServerModule} from \u0027@angular/platform-server\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../src/error_details_base_url\u0027;\n import {createTemplate, dispatchEvent, getContent, isNode} from \u0027@angular/private/testing\u0027;\n import {expect} from \u0027@angular/private/testing/matchers\u0027;\n import {\n@@ -586,7 +587,7 @@ describe(\u0027bootstrap\u0027, () \u003d\u003e {\n             `NG0403: The module MyModule was bootstrapped, ` +\n             `but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. ` +\n             `Please define one of these. ` +\n-            `Find more at https://angular.dev/errors/NG0403`;\n+            `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0403`;\n           expect(e.message).toEqual(expectedErrMsg);\n           expect(mockConsole.res[0].join(\u0027#\u0027)).toEqual(\u0027ERROR#Error: \u0027 + expectedErrMsg);\n         },\ndiff --git a/packages/core/test/di/injector_spec.ts b/packages/core/test/di/injector_spec.ts\nindex 8b7fbb9f..75a7d01b 100644\n--- a/packages/core/test/di/injector_spec.ts\n+++ b/packages/core/test/di/injector_spec.ts\n@@ -7,19 +7,20 @@\n  */\n \n import {Injector} from \u0027../../src/core\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../../src/error_details_base_url\u0027;\n \n describe(\u0027Injector.NULL\u0027, () \u003d\u003e {\n   it(\u0027should throw if no arg is given\u0027, () \u003d\u003e {\n     expect(() \u003d\u003e Injector.NULL.get(\u0027someToken\u0027)).toThrowError(\n       \u0027NG0201: No provider found for `someToken`. \u0027 +\n-        \u0027Find more at https://angular.dev/errors/NG0201\u0027,\n+        `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n     );\n   });\n \n   it(\u0027should throw if THROW_IF_NOT_FOUND is given\u0027, () \u003d\u003e {\n     expect(() \u003d\u003e Injector.NULL.get(\u0027someToken\u0027, Injector.THROW_IF_NOT_FOUND)).toThrowError(\n       \u0027NG0201: No provider found for `someToken`. \u0027 +\n-        \u0027Find more at https://angular.dev/errors/NG0201\u0027,\n+        `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n     );\n   });\n \ndiff --git a/packages/core/test/di/r3_injector_spec.ts b/packages/core/test/di/r3_injector_spec.ts\nindex 89c0c1ee..c1aba322 100644\n--- a/packages/core/test/di/r3_injector_spec.ts\n+++ b/packages/core/test/di/r3_injector_spec.ts\n@@ -15,6 +15,7 @@ import {\n   ɵɵdefineInjector,\n   ɵɵinject,\n } from \u0027../../src/core\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../../src/error_details_base_url\u0027;\n import {createInjector} from \u0027../../src/di/create_injector\u0027;\n import {InternalInjectFlags} from \u0027../../src/di/interface/injector\u0027;\n import {R3Injector} from \u0027../../src/di/r3_injector\u0027;\n@@ -339,7 +340,7 @@ describe(\u0027InjectorDef-based createInjector()\u0027, () \u003d\u003e {\n     expect(() \u003d\u003e injector.get(ServiceTwo)).toThrowError(\n       \u0027NG0201: No provider found for `ServiceTwo`. \u0027 +\n         \u0027Source: Module. \u0027 +\n-        \u0027Find more at https://angular.dev/errors/NG0201\u0027,\n+        `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n     );\n   });\n \n@@ -347,7 +348,7 @@ describe(\u0027InjectorDef-based createInjector()\u0027, () \u003d\u003e {\n     const injector \u003d createInjector([ServiceTwo]);\n     expect(() \u003d\u003e injector.get(ServiceTwo)).toThrowError(\n       \u0027NG0201: No provider found for `ServiceTwo`. \u0027 +\n-        \u0027Find more at https://angular.dev/errors/NG0201\u0027,\n+        `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n     );\n   });\n \n@@ -357,7 +358,7 @@ describe(\u0027InjectorDef-based createInjector()\u0027, () \u003d\u003e {\n       \u0027NG0201: No provider found for `Service`. \u0027 +\n         \u0027Source: ModuleWithMissingDep. \u0027 +\n         \u0027Path: ServiceWithMissingDep -\u003e Service. \u0027 +\n-        \u0027Find more at https://angular.dev/errors/NG0201\u0027,\n+        `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n     );\n   });\n \ndiff --git a/packages/core/test/di/static_injector_spec.ts b/packages/core/test/di/static_injector_spec.ts\nindex 6656fe43..c7364f93 100644\n--- a/packages/core/test/di/static_injector_spec.ts\n+++ b/packages/core/test/di/static_injector_spec.ts\n@@ -7,6 +7,7 @@\n  */\n \n import {forwardRef, Inject, Injector, Self, SkipSelf} from \u0027../../src/core\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../../src/error_details_base_url\u0027;\n \n import {stringify} from \u0027../../src/util/stringify\u0027;\n \n@@ -106,7 +107,7 @@ describe(\u0027dependency resolution\u0027, () \u003d\u003e {\n       expect(() \u003d\u003e child.get(Car)).toThrowError(\n         \u0027NG0201: No provider found for `Engine`. \u0027 +\n           \u0027Path: Car -\u003e Engine. \u0027 +\n-          \u0027Find more at https://angular.dev/errors/NG0201\u0027,\n+          `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n       );\n     });\n \n@@ -131,7 +132,8 @@ describe(\u0027dependency resolution\u0027, () \u003d\u003e {\n     it(\u0027should throw error when not requested provider on self\u0027, () \u003d\u003e {\n       const injector \u003d Injector.create({providers: []});\n       expect(() \u003d\u003e injector.get(Car, undefined, {self: true})).toThrowError(\n-        \u0027NG0201: No provider found for `Car`. \u0027 + \u0027Find more at https://angular.dev/errors/NG0201\u0027,\n+        \u0027NG0201: No provider found for `Car`. \u0027 +\n+          `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n       );\n     });\n   });\ndiff --git a/packages/core/test/linker/ng_module_integration_spec.ts b/packages/core/test/linker/ng_module_integration_spec.ts\nindex 37d68710..56801667 100644\n--- a/packages/core/test/linker/ng_module_integration_spec.ts\n+++ b/packages/core/test/linker/ng_module_integration_spec.ts\n@@ -39,6 +39,7 @@ import {\n   setAllowDuplicateNgModuleIdsForTest,\n } from \u0027../../src/linker/ng_module_registration\u0027;\n import {stringify} from \u0027../../src/util/stringify\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../../src/error_details_base_url\u0027;\n \n class Engine {}\n \n@@ -625,7 +626,7 @@ describe(\u0027NgModule\u0027, () \u003d\u003e {\n       const errorMsg \u003d\n         \u0027NG0201: No provider found for `SportsCar`. \u0027 +\n         \u0027Source: SomeModule. Path: car -\u003e SportsCar. \u0027 +\n-        \u0027Find more at https://angular.dev/errors/NG0201\u0027;\n+        `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`;\n       expect(() \u003d\u003e injector.get(\u0027car\u0027)).toThrowError(errorMsg);\n     });\n \n@@ -831,7 +832,7 @@ describe(\u0027NgModule\u0027, () \u003d\u003e {\n       const errorMsg \u003d\n         \u0027NG0201: No provider found for `NonExisting`. \u0027 +\n         \u0027Source: SomeModule. \u0027 +\n-        \u0027Find more at https://angular.dev/errors/NG0201\u0027;\n+        `Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`;\n       expect(() \u003d\u003e injector.get(\u0027NonExisting\u0027)).toThrowError(errorMsg);\n     });\n \n@@ -839,7 +840,7 @@ describe(\u0027NgModule\u0027, () \u003d\u003e {\n       expect(() \u003d\u003e\n         createInjector([Car, {provide: Engine, useClass: CyclicEngine}]).get(Car),\n       ).toThrowError(\n-        \u0027NG0200: Circular dependency detected for `Car`. Source: SomeModule. Path: Car -\u003e Engine -\u003e Car. Find more at https://angular.dev/errors/NG0200\u0027,\n+        `NG0200: Circular dependency detected for \\`Car\\`. Source: SomeModule. Path: Car -\u003e Engine -\u003e Car. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0200`,\n       );\n     });\n \ndiff --git a/packages/core/test/linker/view_injector_integration_spec.ts b/packages/core/test/linker/view_injector_integration_spec.ts\nindex 39310b87..849244dc 100644\n--- a/packages/core/test/linker/view_injector_integration_spec.ts\n+++ b/packages/core/test/linker/view_injector_integration_spec.ts\n@@ -36,6 +36,7 @@ import {\n } from \u0027../../src/core\u0027;\n import {ComponentFixture, fakeAsync, TestBed} from \u0027../../testing\u0027;\n import {expect} from \u0027@angular/private/testing/matchers\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../../src/error_details_base_url\u0027;\n \n @Directive({\n   selector: \u0027[simpleDirective]\u0027,\n@@ -769,7 +770,7 @@ describe(\u0027View injector\u0027, () \u003d\u003e {\n     it(\u0027should not instantiate a directive with cyclic dependencies\u0027, () \u003d\u003e {\n       TestBed.configureTestingModule({declarations: [CycleDirective]});\n       expect(() \u003d\u003e createComponent(\u0027\u003cdiv cycleDirective\u003e\u003c/div\u003e\u0027)).toThrowError(\n-        \u0027NG0200: Circular dependency detected for `CycleDirective`. Path: CycleDirective -\u003e CycleDirective. Find more at https://angular.dev/errors/NG0200\u0027,\n+        `NG0200: Circular dependency detected for \\`CycleDirective\\`. Path: CycleDirective -\u003e CycleDirective. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0200`,\n       );\n     });\n \n@@ -786,7 +787,7 @@ describe(\u0027View injector\u0027, () \u003d\u003e {\n         });\n \n         expect(() \u003d\u003e createComponent(\u0027\u003cdiv simpleComponent\u003e\u003c/div\u003e\u0027)).toThrowError(\n-          \u0027NG0201: No provider for service found in NodeInjector. Find more at https://angular.dev/errors/NG0201\u0027,\n+          `NG0201: No provider for service found in NodeInjector. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n         );\n       },\n     );\n@@ -808,7 +809,7 @@ describe(\u0027View injector\u0027, () \u003d\u003e {\n         expect(() \u003d\u003e\n           createComponent(\u0027\u003cdiv simpleComponent someOtherDirective\u003e\u003c/div\u003e\u0027),\n         ).toThrowError(\n-          \u0027NG0201: No provider for service found in NodeInjector. Find more at https://angular.dev/errors/NG0201\u0027,\n+          `NG0201: No provider for service found in NodeInjector. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n         );\n       },\n     );\n@@ -818,7 +819,7 @@ describe(\u0027View injector\u0027, () \u003d\u003e {\n       expect(() \u003d\u003e\n         createComponent(\u0027\u003cdiv simpleDirective\u003e\u003cdiv needsDirectiveFromSelf\u003e\u003c/div\u003e\u003c/div\u003e\u0027),\n       ).toThrowError(\n-        \u0027NG0201: No provider for SimpleDirective found in NodeInjector. Find more at https://angular.dev/errors/NG0201\u0027,\n+        `NG0201: No provider for SimpleDirective found in NodeInjector. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n       );\n     });\n \n@@ -864,7 +865,7 @@ describe(\u0027View injector\u0027, () \u003d\u003e {\n         set: {template: \u0027\u003cdiv needsDirectiveFromHost\u003e\u003c/div\u003e\u0027},\n       });\n       expect(() \u003d\u003e createComponent(\u0027\u003cdiv simpleComponent simpleDirective\u003e\u003c/div\u003e\u0027)).toThrowError(\n-        \u0027NG0201: No provider for SimpleDirective found in NodeInjector. Find more at https://angular.dev/errors/NG0201\u0027,\n+        `NG0201: No provider for SimpleDirective found in NodeInjector. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n       );\n     });\n \ndiff --git a/packages/core/test/render3/di_spec.ts b/packages/core/test/render3/di_spec.ts\nindex 167c9a34..0f2b6ed8 100644\n--- a/packages/core/test/render3/di_spec.ts\n+++ b/packages/core/test/render3/di_spec.ts\n@@ -9,6 +9,7 @@\n import {Component, Directive, Self} from \u0027../../src/core\u0027;\n import {NodeInjectorOffset} from \u0027../../src/render3/interfaces/injector\u0027;\n import {TestBed} from \u0027../../testing\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../../src/error_details_base_url\u0027;\n \n import {\n   bloomAdd,\n@@ -46,7 +47,7 @@ describe(\u0027di\u0027, () \u003d\u003e {\n         expect(() \u003d\u003e {\n           TestBed.createComponent(App).detectChanges();\n         }).toThrowError(\n-          \u0027NG0201: No provider for DirNotOnSelf found in NodeInjector. Find more at https://angular.dev/errors/NG0201\u0027,\n+          `NG0201: No provider for DirNotOnSelf found in NodeInjector. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0201`,\n         );\n       });\n     });\ndiff --git a/packages/core/test/runtime_error_spec.ts b/packages/core/test/runtime_error_spec.ts\nindex e0d6406b..74bcbc32 100644\n--- a/packages/core/test/runtime_error_spec.ts\n+++ b/packages/core/test/runtime_error_spec.ts\n@@ -7,11 +7,14 @@\n  */\n \n import {RuntimeError, RuntimeErrorCode} from \u0027../src/errors\u0027;\n+import {ERROR_DETAILS_PAGE_BASE_URL} from \u0027../src/error_details_base_url\u0027;\n \n describe(\u0027RuntimeError utils\u0027, () \u003d\u003e {\n   it(\u0027should correctly format an error without an error message\u0027, () \u003d\u003e {\n     const error \u003d new RuntimeError\u003cRuntimeErrorCode\u003e(RuntimeErrorCode.EXPORT_NOT_FOUND, \u0027\u0027);\n-    expect(error.toString()).toBe(\u0027Error: NG0301. Find more at https://angular.dev/errors/NG0301\u0027);\n+    expect(error.toString()).toBe(\n+      `Error: NG0301. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0301`,\n+    );\n   });\n \n   it(\u0027should correctly format an error without an error message not adev guide\u0027, () \u003d\u003e {\n@@ -27,7 +30,7 @@ describe(\u0027RuntimeError utils\u0027, () \u003d\u003e {\n   it(\u0027should correctly format an error with both an error message and an adev guide\u0027, () \u003d\u003e {\n     const error \u003d new RuntimeError(RuntimeErrorCode.EXPORT_NOT_FOUND, \u0027Some error message\u0027);\n     expect(error.toString()).toBe(\n-      \u0027Error: NG0301: Some error message. Find more at https://angular.dev/errors/NG0301\u0027,\n+      `Error: NG0301: Some error message. Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0301`,\n     );\n   });\n \n@@ -39,7 +42,7 @@ describe(\u0027RuntimeError utils\u0027, () \u003d\u003e {\n         errorMessage,\n       );\n       expect(error.toString()).toBe(\n-        `Error: NG0302: Pipe not found${character} Find more at https://angular.dev/errors/NG0302`,\n+        `Error: NG0302: Pipe not found${character} Find more at ${ERROR_DETAILS_PAGE_BASE_URL}/NG0302`,\n       );\n     }),\n   );\ndiff --git a/packages/forms/test/directives_spec.ts b/packages/forms/test/directives_spec.ts\nindex dd43eb2b..b1958af6 100644\n--- a/packages/forms/test/directives_spec.ts\n+++ b/packages/forms/test/directives_spec.ts\n@@ -229,9 +229,7 @@ describe(\u0027Form Directives\u0027, () \u003d\u003e {\n         dir.name \u003d \u0027login\u0027;\n \n         expect(() \u003d\u003e form.addControl(dir)).toThrowError(\n-          new RegExp(\n-            `NG01203: No value accessor for form control name: \u0027login\u0027. Find more at https://angular.dev/errors/NG01203`,\n-          ),\n+          /NG01203: No value accessor for form control name: \u0027login\u0027\\. Find more at https:\\/\\/(?:next\\.)?angular\\.dev\\/errors\\/NG01203/,\n         );\n       });\n \n@@ -242,9 +240,7 @@ describe(\u0027Form Directives\u0027, () \u003d\u003e {\n         dir.name \u003d \u0027password\u0027;\n \n         expect(() \u003d\u003e form.addControl(dir)).toThrowError(\n-          new RegExp(\n-            `NG01203: No value accessor for form control path: \u0027passwords -\u003e password\u0027. Find more at https://angular.dev/errors/NG01203`,\n-          ),\n+          /NG01203: No value accessor for form control path: \u0027passwords -\u003e password\u0027\\. Find more at https:\\/\\/(?:next\\.)?angular\\.dev\\/errors\\/NG01203/,\n         );\n       });\n \n@@ -668,9 +664,7 @@ describe(\u0027Form Directives\u0027, () \u003d\u003e {\n       namedDir.name \u003d \u0027one\u0027;\n \n       expect(() \u003d\u003e namedDir.ngOnChanges({})).toThrowError(\n-        new RegExp(\n-          `NG01203: No value accessor for form control name: \u0027one\u0027. Find more at https://angular.dev/errors/NG01203`,\n-        ),\n+        /NG01203: No value accessor for form control name: \u0027one\u0027\\. Find more at https:\\/\\/(?:next\\.)?angular\\.dev\\/errors\\/NG01203/,\n       );\n     });\n \n@@ -678,9 +672,7 @@ describe(\u0027Form Directives\u0027, () \u003d\u003e {\n       const unnamedDir \u003d new NgModel(null!, null!, null!, null!);\n \n       expect(() \u003d\u003e unnamedDir.ngOnChanges({})).toThrowError(\n-        new RegExp(\n-          `NG01203: No value accessor for form control unspecified name attribute. Find more at https://angular.dev/errors/NG01203`,\n-        ),\n+        /NG01203: No value accessor for form control unspecified name attribute\\. Find more at https:\\/\\/(?:next\\.)?angular\\.dev\\/errors\\/NG01203/,\n       );\n     });\n \ndiff --git a/packages/forms/test/form_control_spec.ts b/packages/forms/test/form_control_spec.ts\nindex 74e976cf..06e9ecdb 100644\n--- a/packages/forms/test/form_control_spec.ts\n+++ b/packages/forms/test/form_control_spec.ts\n@@ -1538,9 +1538,7 @@ import {asyncValidator, asyncValidatorReturningObservable} from \u0027./util\u0027;\n           // but\n           // not a meaningful one\n           expect(fn).toThrowError(\n-            \u0027NG01101: Expected async validator to return Promise or Observable. \u0027 +\n-              \u0027Are you using a synchronous validator where an async validator is expected? \u0027 +\n-              \u0027Find more at https://angular.dev/errors/NG01101\u0027,\n+            /NG01101: Expected async validator to return Promise or Observable\\. Are you using a synchronous validator where an async validator is expected\\? Find more at https:\\/\\/(?:next\\.)?angular\\.dev\\/errors\\/NG01101/,\n           );\n         });\n \ndiff --git a/packages/forms/test/reactive_integration_spec.ts b/packages/forms/test/reactive_integration_spec.ts\nindex bcacf0e4..20aa276a 100644\n--- a/packages/forms/test/reactive_integration_spec.ts\n+++ b/packages/forms/test/reactive_integration_spec.ts\n@@ -6042,7 +6042,7 @@ describe(\u0027reactive forms integration tests\u0027, () \u003d\u003e {\n       expect(() \u003d\u003e {\n         fixture.detectChanges();\n       }).toThrowError(\n-        `NG01203: No value accessor for form control name: \u0027control\u0027. Find more at https://angular.dev/errors/NG01203`,\n+        /NG01203: No value accessor for form control name: \u0027control\u0027\\. Find more at https:\\/\\/(?:next\\.)?angular\\.dev\\/errors\\/NG01203/,\n       );\n \n       // Making sure that cleanup between tests doesn\u0027t cause any issues\ndiff --git a/packages/platform-browser/test/browser/bootstrap_standalone_spec.ts b/packages/platform-browser/test/browser/bootstrap_standalone_spec.ts\nindex 9ab39fc6..29fb96a3 100644\n--- a/packages/platform-browser/test/browser/bootstrap_standalone_spec.ts\n+++ b/packages/platform-browser/test/browser/bootstrap_standalone_spec.ts\n@@ -130,11 +130,8 @@ describe(\u0027bootstrapApplication for standalone components\u0027, () \u003d\u003e {\n         fail(\u0027Expected to throw\u0027);\n       } catch (e: unknown) {\n         expect(e).toBeInstanceOf(Error);\n-        expect((e as Error).message).toContain(\n-          \u0027NG0201: No provider found for `InjectionToken ambient token`. \u0027 +\n-            \u0027Source: Standalone[StandaloneCmp]. \u0027 +\n-            \u0027Path: NeedsAmbientProvider -\u003e InjectionToken ambient token. \u0027 +\n-            \u0027Find more at https://angular.dev/errors/NG0201\u0027,\n+        expect((e as Error).message).toMatch(\n+          /NG0201: No provider found for `InjectionToken ambient token`\\. Source: Standalone\\[StandaloneCmp\\]\\. Path: NeedsAmbientProvider -\u003e InjectionToken ambient token\\. Find more at https:\\/\\/(?:next\\.)?angular\\.dev\\/errors\\/NG0201/,\n         );\n       }\n     }),","expectedMessage":"refactor(core): update error message links to versioned docs (#66374)","repository":"angular","commitHash":"f4469ad583a97c39843309270095c55f0a758692","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-008e20ca","diff":" .../common-to-standalone-migration/util.ts         | 16 +++--\n .../test/common_to_standalone_migration_spec.ts    | 70 ++++++++++++++++++----\n 2 files changed, 72 insertions(+), 14 deletions(-)\n\ndiff --git a/packages/core/schematics/migrations/common-to-standalone-migration/util.ts b/packages/core/schematics/migrations/common-to-standalone-migration/util.ts\nindex 93897c5d..14ad792a 100644\n--- a/packages/core/schematics/migrations/common-to-standalone-migration/util.ts\n+++ b/packages/core/schematics/migrations/common-to-standalone-migration/util.ts\n@@ -136,10 +136,18 @@ function createCommonModuleImportsArrayRemoval(\n     return !isCommonModuleFromAngularCommon(typeChecker, el);\n   });\n \n-  const newElements \u003d [\n-    ...filteredElements,\n-    ...neededImports.sort().map((imp) \u003d\u003e ts.factory.createIdentifier(imp)),\n-  ];\n+  // Get existing import names to avoid duplicates\n+  const existingImportNames \u003d new Set(\n+    filteredElements.filter((el) \u003d\u003e ts.isIdentifier(el)).map((el) \u003d\u003e el.getText()),\n+  );\n+\n+  // Only add imports that don\u0027t already exist\n+  const importsToAdd \u003d neededImports\n+    .filter((imp) \u003d\u003e !existingImportNames.has(imp))\n+    .sort()\n+    .map((imp) \u003d\u003e ts.factory.createIdentifier(imp));\n+\n+  const newElements \u003d [...filteredElements, ...importsToAdd];\n \n   if (newElements.length \u003d\u003d\u003d originalElements.length \u0026\u0026 neededImports.length \u003d\u003d\u003d 0) {\n     return null;\ndiff --git a/packages/core/schematics/test/common_to_standalone_migration_spec.ts b/packages/core/schematics/test/common_to_standalone_migration_spec.ts\nindex ec31c99e..d8e27c49 100644\n--- a/packages/core/schematics/test/common_to_standalone_migration_spec.ts\n+++ b/packages/core/schematics/test/common_to_standalone_migration_spec.ts\n@@ -29,16 +29,31 @@ function expectImportsToContain(content: string, ...importNames: string[]): void\n \n // Helper function to check import declarations with flexible formatting\n function expectImportDeclarationToContain(content: string, ...importNames: string[]): void {\n-  // Create individual patterns for each import name with flexible spacing\n-  const sortedImports \u003d importNames\n-    .sort()\n-    .map((name) \u003d\u003e `\\\\s*${name}\\\\s*`)\n-    .join(\u0027,\u0027);\n-  // Create regex pattern that matches import with flexible spacing: import { NgIf } or import {NgIf}\n-  const importPattern \u003d new RegExp(\n-    `import\\\\s*\\\\{${sortedImports}\\\\}\\\\s*from\\\\s*[\u0027\"]@angular\\\\/common[\u0027\"]`,\n-  );\n-  expect(content).toMatch(importPattern);\n+  // Sort the import names to match the sorted order in the actual imports\n+  const sortedImports \u003d [...importNames].sort();\n+\n+  // Match both single-line and multi-line import formats\n+  // Pattern matches: import { A, B, C } from \u0027@angular/common\u0027\n+  // or: import {\\n  A,\\n  B,\\n  C\\n} from \u0027@angular/common\u0027\n+  const importRegex \u003d /import\\s*\\{([^}]+)\\}\\s*from\\s*[\u0027\"]@angular\\/common[\u0027\"]/;\n+  const match \u003d content.match(importRegex);\n+\n+  expect(match).toBeTruthy(\u0027Should have an import from @angular/common\u0027);\n+\n+  // Extract and normalize the imported names\n+  const importedNames \u003d match![1]\n+    .split(\u0027,\u0027)\n+    .map((name) \u003d\u003e name.trim())\n+    .filter((name) \u003d\u003e name.length \u003e 0)\n+    .sort();\n+\n+  // Check that all expected imports are present\n+  for (const expectedImport of sortedImports) {\n+    expect(importedNames).toContain(expectedImport);\n+  }\n+\n+  // Check that we have the exact same imports (no extras)\n+  expect(importedNames).toEqual(sortedImports);\n }\n \n describe(\u0027Common → standalone imports migration\u0027, () \u003d\u003e {\n@@ -1493,6 +1508,41 @@ describe(\u0027Common → standalone imports migration\u0027, () \u003d\u003e {\n       expect(content).not.toContain(\u0027CommonModule\u0027);\n     });\n   });\n+  it(\u0027should not create duplicate imports when imports already exist\u0027, async () \u003d\u003e {\n+    writeFile(\n+      \u0027/comp.ts\u0027,\n+      dedent`\n+        import {Component} from \u0027@angular/core\u0027;\n+        import {CommonModule, AsyncPipe} from \u0027@angular/common\u0027;\n+        import {SomeOtherModule} from \u0027./some-other-module\u0027;\n+\n+        @Component({\n+          selector: \u0027app-duplicate-test\u0027,\n+          imports: [CommonModule, AsyncPipe, SomeOtherModule],\n+          template: \\`\u003cdiv\u003e{{ data$ | async }}\u003c/div\u003e\\`\n+        })\n+        export class DuplicateTestComponent {\n+          data$ \u003d Promise.resolve(\u0027test\u0027);\n+        }\n+      `,\n+    );\n+\n+    await runMigration();\n+    const content \u003d tree.readContent(\u0027/comp.ts\u0027);\n+\n+    // Should remove CommonModule and keep AsyncPipe without duplicating it\n+    expect(content).not.toContain(\u0027CommonModule\u0027);\n+    expectImportsToContain(content, \u0027AsyncPipe\u0027, \u0027SomeOtherModule\u0027);\n+\n+    // Verify AsyncPipe appears only once in the imports array\n+    const importsMatch \u003d content.match(/imports:\\s*\\[([\\s\\S]*?)\\]/);\n+    expect(importsMatch).toBeTruthy();\n+    const importsArray \u003d importsMatch![1];\n+    const asyncPipeMatches \u003d importsArray.match(/AsyncPipe/g);\n+    expect(asyncPipeMatches?.length).toBe(1);\n+\n+    expectImportDeclarationToContain(content, \u0027AsyncPipe\u0027);\n+  });\n \n   describe(\u0027Robustness and edge cases\u0027, () \u003d\u003e {\n     it(\u0027should handle very large templates without performance issues\u0027, async () \u003d\u003e {","expectedMessage":"fix(migrations): prevent duplicate imports in common-to-standalone migration","repository":"angular","commitHash":"008e20ca56a1b881c695fd68399c45e84287f45c","metadata":{"author":"tomer953 \u003ctomer953@gmail.com\u003e"}}
{"id":"angular-5c16caa9","diff":" .github/actions/saucelabs-legacy/action.yml        |  4 +-\n .github/workflows/adev-preview-build.yml           |  8 ++--\n .github/workflows/adev-preview-deploy.yml          |  2 +-\n .../workflows/assistant-to-the-branch-manager.yml  |  2 +-\n .github/workflows/benchmark-compare.yml            |  2 +-\n .github/workflows/ci.yml                           | 50 +++++++++++-----------\n .github/workflows/dev-infra.yml                    |  4 +-\n .github/workflows/google-internal-tests.yml        |  2 +-\n .github/workflows/manual.yml                       |  8 ++--\n .github/workflows/merge-ready-status.yml           |  2 +-\n .github/workflows/perf.yml                         |  6 +--\n .github/workflows/pr.yml                           | 40 ++++++++---------\n MODULE.bazel                                       |  2 +-\n MODULE.bazel.lock                                  |  2 +-\n package.json                                       |  2 +-\n pnpm-lock.yaml                                     | 12 +++---\n 16 files changed, 74 insertions(+), 74 deletions(-)\n\ndiff --git a/.github/actions/saucelabs-legacy/action.yml b/.github/actions/saucelabs-legacy/action.yml\nindex 2fadb315..2e4beb8a 100644\n--- a/.github/actions/saucelabs-legacy/action.yml\n+++ b/.github/actions/saucelabs-legacy/action.yml\n@@ -5,9 +5,9 @@ runs:\n   using: \u0027composite\u0027\n   steps:\n     - name: Setup Bazel\n-      uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+      uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n     - name: Setup Saucelabs Variables\n-      uses: angular/dev-infra/github-actions/saucelabs@35aed53714d63c798d350b2a698f6e0657567fae\n+      uses: angular/dev-infra/github-actions/saucelabs@977bc9d747d9ddfe610fc96009212dd14c645ef6\n     - name: Starting Saucelabs tunnel service\n       shell: bash\n       run: ./tools/saucelabs/sauce-service.sh run \u0026\ndiff --git a/.github/workflows/adev-preview-build.yml b/.github/workflows/adev-preview-build.yml\nindex 04a4d397..e0f6082d 100644\n--- a/.github/workflows/adev-preview-build.yml\n+++ b/.github/workflows/adev-preview-build.yml\n@@ -21,17 +21,17 @@ jobs:\n       (github.event.action \u003d\u003d \u0027synchronize\u0027 \u0026\u0026 contains(github.event.pull_request.labels.*.name, \u0027adev: preview\u0027))\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\n         # `snapshot-build` config is used to stamp the exact version with sha in the footer.\n         run: pnpm bazel build //adev:build.production --config\u003dsnapshot-build\n-      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@35aed53714d63c798d350b2a698f6e0657567fae\n+      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           workflow-artifact-name: \u0027adev-preview\u0027\n           pull-number: \u0027${{github.event.pull_request.number}}\u0027\ndiff --git a/.github/workflows/adev-preview-deploy.yml b/.github/workflows/adev-preview-deploy.yml\nindex 76c537ac..945a2ada 100644\n--- a/.github/workflows/adev-preview-deploy.yml\n+++ b/.github/workflows/adev-preview-deploy.yml\n@@ -40,7 +40,7 @@ jobs:\n           npx -y firebase-tools@latest target:clear --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs\n           npx -y firebase-tools@latest target:apply --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs ${{env.PREVIEW_SITE}}\n \n-      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@35aed53714d63c798d350b2a698f6e0657567fae\n+      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           github-token: \u0027${{secrets.GITHUB_TOKEN}}\u0027\n           workflow-artifact-name: \u0027adev-preview\u0027\ndiff --git a/.github/workflows/assistant-to-the-branch-manager.yml b/.github/workflows/assistant-to-the-branch-manager.yml\nindex 3c15f78e..105c9331 100644\n--- a/.github/workflows/assistant-to-the-branch-manager.yml\n+++ b/.github/workflows/assistant-to-the-branch-manager.yml\n@@ -17,6 +17,6 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n         with:\n           persist-credentials: false\n-      - uses: angular/dev-infra/github-actions/branch-manager@35aed53714d63c798d350b2a698f6e0657567fae\n+      - uses: angular/dev-infra/github-actions/branch-manager@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/benchmark-compare.yml b/.github/workflows/benchmark-compare.yml\nindex 895bf2e8..1c024763 100644\n--- a/.github/workflows/benchmark-compare.yml\n+++ b/.github/workflows/benchmark-compare.yml\n@@ -38,7 +38,7 @@ jobs:\n \n       - run: pnpm install --frozen-lockfile\n \n-      - uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+      - uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           bazelrc: ./.bazelrc.user\n \ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex d834fd6b..381766cf 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -21,7 +21,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -39,13 +39,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -67,11 +67,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -83,11 +83,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -100,11 +100,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -119,11 +119,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -136,11 +136,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: echo \"https://${{secrets.SNAPSHOT_BUILDS_GITHUB_TOKEN}}:@github.com\" \u003e ${HOME}/.git_credentials\n@@ -152,11 +152,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -206,11 +206,11 @@ jobs:\n     runs-on: ubuntu-latest-8core\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\ndiff --git a/.github/workflows/dev-infra.yml b/.github/workflows/dev-infra.yml\nindex 0b98fdf0..8241492b 100644\n--- a/.github/workflows/dev-infra.yml\n+++ b/.github/workflows/dev-infra.yml\n@@ -13,13 +13,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/pull-request-labeling@35aed53714d63c798d350b2a698f6e0657567fae\n+      - uses: angular/dev-infra/github-actions/pull-request-labeling@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\n   post_approval_changes:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/post-approval-changes@35aed53714d63c798d350b2a698f6e0657567fae\n+      - uses: angular/dev-infra/github-actions/post-approval-changes@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/google-internal-tests.yml b/.github/workflows/google-internal-tests.yml\nindex 2aa61950..25e0875f 100644\n--- a/.github/workflows/google-internal-tests.yml\n+++ b/.github/workflows/google-internal-tests.yml\n@@ -14,7 +14,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/google-internal-tests@35aed53714d63c798d350b2a698f6e0657567fae\n+      - uses: angular/dev-infra/github-actions/google-internal-tests@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           run-tests-guide-url: http://go/angular-g3sync-start\n           github-token: ${{ secrets.GITHUB_TOKEN }}\ndiff --git a/.github/workflows/manual.yml b/.github/workflows/manual.yml\nindex 4e171709..8174d2cd 100644\n--- a/.github/workflows/manual.yml\n+++ b/.github/workflows/manual.yml\n@@ -13,15 +13,15 @@ jobs:\n       JOBS: 2\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Saucelabs Variables\n-        uses: angular/dev-infra/github-actions/saucelabs@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/saucelabs@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Set up Sauce Tunnel Daemon\n         run: pnpm bazel run //tools/saucelabs-daemon/background-service -- $JOBS \u0026\n         env:\ndiff --git a/.github/workflows/merge-ready-status.yml b/.github/workflows/merge-ready-status.yml\nindex d15befe2..2ff516c8 100644\n--- a/.github/workflows/merge-ready-status.yml\n+++ b/.github/workflows/merge-ready-status.yml\n@@ -9,6 +9,6 @@ jobs:\n   status:\n     runs-on: ubuntu-latest\n     steps:\n-      - uses: angular/dev-infra/github-actions/unified-status-check@35aed53714d63c798d350b2a698f6e0657567fae\n+      - uses: angular/dev-infra/github-actions/unified-status-check@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/perf.yml b/.github/workflows/perf.yml\nindex 95f45cd1..0290858c 100644\n--- a/.github/workflows/perf.yml\n+++ b/.github/workflows/perf.yml\n@@ -21,7 +21,7 @@ jobs:\n       workflows: ${{ steps.workflows.outputs.workflows }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - id: workflows\n@@ -36,9 +36,9 @@ jobs:\n         workflow: ${{ fromJSON(needs.list.outputs.workflows) }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       # We utilize the google-github-actions/auth action to allow us to get an active credential using workflow\ndiff --git a/.github/workflows/pr.yml b/.github/workflows/pr.yml\nindex 8a6f0709..6f800b22 100644\n--- a/.github/workflows/pr.yml\n+++ b/.github/workflows/pr.yml\n@@ -19,7 +19,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -37,7 +37,7 @@ jobs:\n       - name: Check code format\n         run: pnpm ng-dev format changed --check ${{ github.event.pull_request.base.sha }}\n       - name: Check Package Licenses\n-        uses: angular/dev-infra/github-actions/linting/licenses@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/linting/licenses@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           allow-dependencies-licenses: \u0027pkg:npm/google-protobuf@\u0027\n \n@@ -45,13 +45,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run unit tests\n@@ -71,11 +71,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run CI tests for framework\n@@ -95,11 +95,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run integration CI tests for framework\n@@ -110,11 +110,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -127,11 +127,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -142,11 +142,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/setup@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@977bc9d747d9ddfe610fc96009212dd14c645ef6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: |\ndiff --git a/MODULE.bazel b/MODULE.bazel\nindex accf24e8..29cad01b 100644\n--- a/MODULE.bazel\n+++ b/MODULE.bazel\n@@ -25,7 +25,7 @@ git_override(\n bazel_dep(name \u003d \"devinfra\")\n git_override(\n     module_name \u003d \"devinfra\",\n-    commit \u003d \"35aed53714d63c798d350b2a698f6e0657567fae\",\n+    commit \u003d \"977bc9d747d9ddfe610fc96009212dd14c645ef6\",\n     remote \u003d \"https://github.com/angular/dev-infra.git\",\n )\n \ndiff --git a/MODULE.bazel.lock b/MODULE.bazel.lock\nindex e89c322f..24135b47 100644\n--- a/MODULE.bazel.lock\n+++ b/MODULE.bazel.lock\n@@ -1087,7 +1087,7 @@\n     \"@@rules_nodejs+//nodejs:extensions.bzl%node\": {\n       \"general\": {\n         \"bzlTransitiveDigest\": \"NwcLXHrbh2hoorA/Ybmcpjxsn/6avQmewDglodkDrgo\u003d\",\n-        \"usagesDigest\": \"txO8w8SJ815F73UDskruu7ifSH5shxVyk/nunkRR7es\u003d\",\n+        \"usagesDigest\": \"WPHsQHkjeoO97qDmTGQqIJu3GPJvcEqJ2wttRnkkDhc\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},\ndiff --git a/package.json b/package.json\nindex d67779d1..9b015c0d 100644\n--- a/package.json\n+++ b/package.json\n@@ -163,7 +163,7 @@\n     \"@actions/core\": \"^2.0.0\",\n     \"@actions/github\": \"^6.0.0\",\n     \"@angular-devkit/architect-cli\": \"0.2101.0-rc.0\",\n-    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#f30dd8ec010d080d3573903957d76a09661f389a\",\n+    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#5e6b5c157aa13f92ef88a51d87874607f517d30c\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\n     \"@babel/plugin-transform-async-generator-functions\": \"^7.27.1\",\n     \"@bazel/bazelisk\": \"^1.7.5\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex d1a2c047..f0b44709 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -342,8 +342,8 @@ importers:\n         specifier: 0.2101.0-rc.0\n         version: 0.2101.0-rc.0(chokidar@5.0.0)\n       \u0027@angular/ng-dev\u0027:\n-        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#f30dd8ec010d080d3573903957d76a09661f389a\n-        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/f30dd8ec010d080d3573903957d76a09661f389a(@modelcontextprotocol/sdk@1.25.2)\n+        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#5e6b5c157aa13f92ef88a51d87874607f517d30c\n+        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/5e6b5c157aa13f92ef88a51d87874607f517d30c(@modelcontextprotocol/sdk@1.25.2)\n       \u0027@babel/plugin-proposal-async-generator-functions\u0027:\n         specifier: 7.20.7\n         version: 7.20.7(@babel/core@7.28.5)\n@@ -1698,9 +1698,9 @@ packages:\n       \u0027@angular/platform-browser\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n       rxjs: ^6.5.3 || ^7.4.0\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/f30dd8ec010d080d3573903957d76a09661f389a\u0027:\n-    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/f30dd8ec010d080d3573903957d76a09661f389a}\n-    version: 0.0.0-35aed53714d63c798d350b2a698f6e0657567fae\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/5e6b5c157aa13f92ef88a51d87874607f517d30c\u0027:\n+    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/5e6b5c157aa13f92ef88a51d87874607f517d30c}\n+    version: 0.0.0-977bc9d747d9ddfe610fc96009212dd14c645ef6\n     hasBin: true\n \n   \u0027@angular/ssr@21.1.0-rc.0\u0027:\n@@ -13951,7 +13951,7 @@ snapshots:\n       rxjs: 7.8.2\n       tslib: 2.8.1\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/f30dd8ec010d080d3573903957d76a09661f389a(@modelcontextprotocol/sdk@1.25.2)\u0027:\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/5e6b5c157aa13f92ef88a51d87874607f517d30c(@modelcontextprotocol/sdk@1.25.2)\u0027:\n     dependencies:\n       \u0027@actions/core\u0027: 2.0.1\n       \u0027@google-cloud/spanner\u0027: 8.0.0(supports-color@10.2.2)","expectedMessage":"build: update cross-repo angular dependencies","repository":"angular","commitHash":"5c16caa95e1e5e38ad74a99537dcca575508f8f9","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-99db2e90","diff":" renovate.json | 1 +\n 1 file changed, 1 insertion(+)\n\ndiff --git a/renovate.json b/renovate.json\nindex 97bb0fe9..6bed7478 100644\n--- a/renovate.json\n+++ b/renovate.json\n@@ -27,6 +27,7 @@\n     },\n     {\n       \"matchManagers\": [\"bazel\", \"bazel-module\", \"bazelisk\", \"npm\"],\n+      \"matchDepNames\": [\"!pnpm\", \"!typescript\", \"*\"],\n       \"postUpgradeTasks\": {\n         \"commands\": [\n           \"git restore .npmrc\",","expectedMessage":"ci: add pnpm and typescript exclusions to a Renovate package rule.","repository":"angular","commitHash":"99db2e9065416e6db4cdaff4ea71d018103e6d35","metadata":{"author":"Alan Agius \u003c17563226+alan-agius4@users.noreply.github.com\u003e"}}
{"id":"angular-7b5625e7","diff":" .../TEST_CASES.json                                |   2 +-\n .../compiler/src/template/pipeline/src/ingest.ts   | 138 ++++++++++++---------\n 2 files changed, 79 insertions(+), 61 deletions(-)\n\ndiff --git a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_arrow_functions/TEST_CASES.json b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_arrow_functions/TEST_CASES.json\nindex 73694f25..063f63ff 100644\n--- a/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_arrow_functions/TEST_CASES.json\n+++ b/packages/compiler-cli/test/compliance/test_cases/r3_view_compiler_arrow_functions/TEST_CASES.json\n@@ -2,7 +2,7 @@\n   \"$schema\": \"../test_case_schema.json\",\n   \"cases\": [\n     {\n-      \"description\": \"should handle arrow functions that do not depend on ctext\",\n+      \"description\": \"should handle arrow functions that do not depend on context\",\n       \"inputFiles\": [\"arrow_function_no_context.ts\"],\n       \"expectations\": [\n         {\ndiff --git a/packages/compiler/src/template/pipeline/src/ingest.ts b/packages/compiler/src/template/pipeline/src/ingest.ts\nindex 7a5ae095..3aa34cb6 100644\n--- a/packages/compiler/src/template/pipeline/src/ingest.ts\n+++ b/packages/compiler/src/template/pipeline/src/ingest.ts\n@@ -152,11 +152,11 @@ export function ingestDomProperty(\n   if (ast instanceof e.Interpolation) {\n     expression \u003d new ir.Interpolation(\n       ast.strings,\n-      ast.expressions.map((expr) \u003d\u003e convertAst(expr, job, property.sourceSpan, null)),\n+      ast.expressions.map((expr) \u003d\u003e convertAst(expr, job, property.sourceSpan)),\n       [],\n     );\n   } else {\n-    expression \u003d convertAst(ast, job, property.sourceSpan, null);\n+    expression \u003d convertAst(ast, job, property.sourceSpan);\n   }\n   job.root.update.push(\n     ir.createBindingOp(\n@@ -507,7 +507,7 @@ function ingestBoundText(\n       textXref,\n       new ir.Interpolation(\n         value.strings,\n-        value.expressions.map((expr) \u003d\u003e convertAst(expr, unit.job, baseSourceSpan, null)),\n+        value.expressions.map((expr) \u003d\u003e convertAst(expr, unit.job, baseSourceSpan)),\n         i18nPlaceholders,\n       ),\n       text.sourceSpan,\n@@ -556,7 +556,7 @@ function ingestIfBlock(unit: ViewCompilationUnit, ifBlock: t.IfBlock): void {\n       firstXref \u003d cView.xref;\n     }\n \n-    const caseExpr \u003d ifCase.expression ? convertAst(ifCase.expression, unit.job, null, null) : null;\n+    const caseExpr \u003d ifCase.expression ? convertAst(ifCase.expression, unit.job, null) : null;\n     const conditionalCaseExpr \u003d new ir.ConditionalCaseExpr(\n       caseExpr,\n       conditionalCreateOp.xref,\n@@ -614,7 +614,7 @@ function ingestSwitchBlock(unit: ViewCompilationUnit, switchBlock: t.SwitchBlock\n \n     for (const switchCase of switchCaseGroup.cases) {\n       const caseExpr \u003d switchCase.expression\n-        ? convertAst(switchCase.expression, unit.job, switchBlock.startSourceSpan, null)\n+        ? convertAst(switchCase.expression, unit.job, switchBlock.startSourceSpan)\n         : null;\n       const conditionalCaseExpr \u003d new ir.ConditionalCaseExpr(\n         caseExpr,\n@@ -628,7 +628,7 @@ function ingestSwitchBlock(unit: ViewCompilationUnit, switchBlock: t.SwitchBlock\n   unit.update.push(\n     ir.createConditionalOp(\n       firstXref!,\n-      convertAst(switchBlock.expression, unit.job, null, null),\n+      convertAst(switchBlock.expression, unit.job, null),\n       conditions,\n       switchBlock.sourceSpan,\n     ),\n@@ -865,7 +865,7 @@ function ingestDeferTriggers(\n         targetView: null,\n         targetSlotViewSteps: null,\n         options: triggers.viewport.options\n-          ? convertAst(triggers.viewport.options, unit.job, triggers.viewport.sourceSpan, null)\n+          ? convertAst(triggers.viewport.options, unit.job, triggers.viewport.sourceSpan)\n           : null,\n       },\n       modifier,\n@@ -890,7 +890,7 @@ function ingestDeferTriggers(\n     }\n     const deferOnOp \u003d ir.createDeferWhenOp(\n       deferXref,\n-      convertAst(triggers.when.value, unit.job, triggers.when.sourceSpan, null),\n+      convertAst(triggers.when.value, unit.job, triggers.when.sourceSpan),\n       modifier,\n       triggers.when.sourceSpan,\n     );\n@@ -952,7 +952,7 @@ function ingestForBlock(unit: ViewCompilationUnit, forBlock: t.ForLoopBlock): vo\n   }\n \n   const sourceSpan \u003d convertSourceSpan(forBlock.trackBy.span, forBlock.sourceSpan);\n-  const track \u003d convertAst(forBlock.trackBy, unit.job, sourceSpan, null);\n+  const track \u003d convertAst(forBlock.trackBy, unit.job, sourceSpan);\n \n   ingestNodes(repeaterView, forBlock.children);\n \n@@ -1000,7 +1000,6 @@ function ingestForBlock(unit: ViewCompilationUnit, forBlock: t.ForLoopBlock): vo\n     forBlock.expression,\n     unit.job,\n     convertSourceSpan(forBlock.expression.span, forBlock.sourceSpan),\n-    null,\n   );\n   const repeater \u003d ir.createRepeaterOp(\n     repeaterCreate.xref,\n@@ -1056,7 +1055,7 @@ function ingestLetDeclaration(unit: ViewCompilationUnit, node: t.LetDeclaration)\n     ir.createStoreLetOp(\n       target,\n       node.name,\n-      convertAst(node.value, unit.job, node.valueSpan, null),\n+      convertAst(node.value, unit.job, node.valueSpan),\n       node.sourceSpan,\n     ),\n   );\n@@ -1069,18 +1068,15 @@ function convertAst(\n   ast: e.AST,\n   job: CompilationJob,\n   baseSourceSpan: ParseSourceSpan | null,\n-  localSymbols: Set\u003cstring\u003e | null,\n ): o.Expression {\n   if (ast instanceof e.ASTWithSource) {\n-    return convertAst(ast.ast, job, baseSourceSpan, localSymbols);\n+    return convertAst(ast.ast, job, baseSourceSpan);\n   } else if (ast instanceof e.PropertyRead) {\n     if (ast.receiver instanceof e.ImplicitReceiver) {\n-      return localSymbols !\u003d\u003d null \u0026\u0026 localSymbols.has(ast.name)\n-        ? o.variable(ast.name)\n-        : new ir.LexicalReadExpr(ast.name);\n+      return new ir.LexicalReadExpr(ast.name);\n     } else {\n       return new o.ReadPropExpr(\n-        convertAst(ast.receiver, job, baseSourceSpan, localSymbols),\n+        convertAst(ast.receiver, job, baseSourceSpan),\n         ast.name,\n         null,\n         convertSourceSpan(ast.span, baseSourceSpan),\n@@ -1091,8 +1087,8 @@ function convertAst(\n       throw new Error(`Unexpected ImplicitReceiver`);\n     } else {\n       return new o.InvokeFunctionExpr(\n-        convertAst(ast.receiver, job, baseSourceSpan, localSymbols),\n-        ast.args.map((arg) \u003d\u003e convertAst(arg, job, baseSourceSpan, localSymbols)),\n+        convertAst(ast.receiver, job, baseSourceSpan),\n+        ast.args.map((arg) \u003d\u003e convertAst(arg, job, baseSourceSpan)),\n         undefined,\n         convertSourceSpan(ast.span, baseSourceSpan),\n       );\n@@ -1104,14 +1100,14 @@ function convertAst(\n       case \u0027+\u0027:\n         return new o.UnaryOperatorExpr(\n           o.UnaryOperator.Plus,\n-          convertAst(ast.expr, job, baseSourceSpan, localSymbols),\n+          convertAst(ast.expr, job, baseSourceSpan),\n           undefined,\n           convertSourceSpan(ast.span, baseSourceSpan),\n         );\n       case \u0027-\u0027:\n         return new o.UnaryOperatorExpr(\n           o.UnaryOperator.Minus,\n-          convertAst(ast.expr, job, baseSourceSpan, localSymbols),\n+          convertAst(ast.expr, job, baseSourceSpan),\n           undefined,\n           convertSourceSpan(ast.span, baseSourceSpan),\n         );\n@@ -1125,8 +1121,8 @@ function convertAst(\n     }\n     return new o.BinaryOperatorExpr(\n       operator,\n-      convertAst(ast.left, job, baseSourceSpan, localSymbols),\n-      convertAst(ast.right, job, baseSourceSpan, localSymbols),\n+      convertAst(ast.left, job, baseSourceSpan),\n+      convertAst(ast.right, job, baseSourceSpan),\n       undefined,\n       convertSourceSpan(ast.span, baseSourceSpan),\n     );\n@@ -1135,8 +1131,8 @@ function convertAst(\n     return new ir.ContextExpr(job.root.xref);\n   } else if (ast instanceof e.KeyedRead) {\n     return new o.ReadKeyExpr(\n-      convertAst(ast.receiver, job, baseSourceSpan, localSymbols),\n-      convertAst(ast.key, job, baseSourceSpan, localSymbols),\n+      convertAst(ast.receiver, job, baseSourceSpan),\n+      convertAst(ast.key, job, baseSourceSpan),\n       undefined,\n       convertSourceSpan(ast.span, baseSourceSpan),\n     );\n@@ -1144,7 +1140,7 @@ function convertAst(\n     throw new Error(`AssertionError: Chain in unknown context`);\n   } else if (ast instanceof e.LiteralMap) {\n     const entries \u003d ast.keys.map((key, idx) \u003d\u003e {\n-      const value \u003d convertAst(ast.values[idx], job, baseSourceSpan, localSymbols);\n+      const value \u003d convertAst(ast.values[idx], job, baseSourceSpan);\n \n       // TODO: should literals have source maps, or do we just map the whole surrounding\n       // expression?\n@@ -1156,83 +1152,80 @@ function convertAst(\n   } else if (ast instanceof e.LiteralArray) {\n     // TODO: should literals have source maps, or do we just map the whole surrounding expression?\n     return new o.LiteralArrayExpr(\n-      ast.expressions.map((expr) \u003d\u003e convertAst(expr, job, baseSourceSpan, localSymbols)),\n+      ast.expressions.map((expr) \u003d\u003e convertAst(expr, job, baseSourceSpan)),\n     );\n   } else if (ast instanceof e.Conditional) {\n     return new o.ConditionalExpr(\n-      convertAst(ast.condition, job, baseSourceSpan, localSymbols),\n-      convertAst(ast.trueExp, job, baseSourceSpan, localSymbols),\n-      convertAst(ast.falseExp, job, baseSourceSpan, localSymbols),\n+      convertAst(ast.condition, job, baseSourceSpan),\n+      convertAst(ast.trueExp, job, baseSourceSpan),\n+      convertAst(ast.falseExp, job, baseSourceSpan),\n       undefined,\n       convertSourceSpan(ast.span, baseSourceSpan),\n     );\n   } else if (ast instanceof e.NonNullAssert) {\n     // A non-null assertion shouldn\u0027t impact generated instructions, so we can just drop it.\n-    return convertAst(ast.expression, job, baseSourceSpan, localSymbols);\n+    return convertAst(ast.expression, job, baseSourceSpan);\n   } else if (ast instanceof e.BindingPipe) {\n     // TODO: pipes should probably have source maps; figure out details.\n     return new ir.PipeBindingExpr(job.allocateXrefId(), new ir.SlotHandle(), ast.name, [\n-      convertAst(ast.exp, job, baseSourceSpan, localSymbols),\n-      ...ast.args.map((arg) \u003d\u003e convertAst(arg, job, baseSourceSpan, localSymbols)),\n+      convertAst(ast.exp, job, baseSourceSpan),\n+      ...ast.args.map((arg) \u003d\u003e convertAst(arg, job, baseSourceSpan)),\n     ]);\n   } else if (ast instanceof e.SafeKeyedRead) {\n     return new ir.SafeKeyedReadExpr(\n-      convertAst(ast.receiver, job, baseSourceSpan, localSymbols),\n-      convertAst(ast.key, job, baseSourceSpan, localSymbols),\n+      convertAst(ast.receiver, job, baseSourceSpan),\n+      convertAst(ast.key, job, baseSourceSpan),\n       convertSourceSpan(ast.span, baseSourceSpan),\n     );\n   } else if (ast instanceof e.SafePropertyRead) {\n     // TODO: source span\n-    return new ir.SafePropertyReadExpr(\n-      convertAst(ast.receiver, job, baseSourceSpan, localSymbols),\n-      ast.name,\n-    );\n+    return new ir.SafePropertyReadExpr(convertAst(ast.receiver, job, baseSourceSpan), ast.name);\n   } else if (ast instanceof e.SafeCall) {\n     // TODO: source span\n     return new ir.SafeInvokeFunctionExpr(\n-      convertAst(ast.receiver, job, baseSourceSpan, localSymbols),\n-      ast.args.map((a) \u003d\u003e convertAst(a, job, baseSourceSpan, localSymbols)),\n+      convertAst(ast.receiver, job, baseSourceSpan),\n+      ast.args.map((a) \u003d\u003e convertAst(a, job, baseSourceSpan)),\n     );\n   } else if (ast instanceof e.EmptyExpr) {\n     return new ir.EmptyExpr(convertSourceSpan(ast.span, baseSourceSpan));\n   } else if (ast instanceof e.PrefixNot) {\n     return o.not(\n-      convertAst(ast.expression, job, baseSourceSpan, localSymbols),\n+      convertAst(ast.expression, job, baseSourceSpan),\n       convertSourceSpan(ast.span, baseSourceSpan),\n     );\n   } else if (ast instanceof e.TypeofExpression) {\n-    return o.typeofExpr(convertAst(ast.expression, job, baseSourceSpan, localSymbols));\n+    return o.typeofExpr(convertAst(ast.expression, job, baseSourceSpan));\n   } else if (ast instanceof e.VoidExpression) {\n     return new o.VoidExpr(\n-      convertAst(ast.expression, job, baseSourceSpan, localSymbols),\n+      convertAst(ast.expression, job, baseSourceSpan),\n       undefined,\n       convertSourceSpan(ast.span, baseSourceSpan),\n     );\n   } else if (ast instanceof e.TemplateLiteral) {\n-    return convertTemplateLiteral(ast, job, baseSourceSpan, localSymbols);\n+    return convertTemplateLiteral(ast, job, baseSourceSpan);\n   } else if (ast instanceof e.TaggedTemplateLiteral) {\n     return new o.TaggedTemplateLiteralExpr(\n-      convertAst(ast.tag, job, baseSourceSpan, localSymbols),\n-      convertTemplateLiteral(ast.template, job, baseSourceSpan, localSymbols),\n+      convertAst(ast.tag, job, baseSourceSpan),\n+      convertTemplateLiteral(ast.template, job, baseSourceSpan),\n       undefined,\n       convertSourceSpan(ast.span, baseSourceSpan),\n     );\n   } else if (ast instanceof e.ParenthesizedExpression) {\n     return new o.ParenthesizedExpr(\n-      convertAst(ast.expression, job, baseSourceSpan, localSymbols),\n+      convertAst(ast.expression, job, baseSourceSpan),\n       undefined,\n       convertSourceSpan(ast.span, baseSourceSpan),\n     );\n   } else if (ast instanceof e.RegularExpressionLiteral) {\n     return new o.RegularExpressionLiteralExpr(ast.body, ast.flags, baseSourceSpan);\n   } else if (ast instanceof e.SpreadElement) {\n-    return new o.SpreadElementExpr(convertAst(ast.expression, job, baseSourceSpan, localSymbols));\n+    return new o.SpreadElementExpr(convertAst(ast.expression, job, baseSourceSpan));\n   } else if (ast instanceof e.ArrowFunction) {\n-    localSymbols ??\u003d new Set();\n-    ast.parameters.forEach((arg) \u003d\u003e localSymbols!.add(arg.name));\n-    return o.arrowFn(\n-      ast.parameters.map((arg) \u003d\u003e new o.FnParam(arg.name)),\n-      convertAst(ast.body, job, baseSourceSpan, localSymbols),\n+    return updateParameterReferences(\n+      o.arrowFn(\n+        ast.parameters.map((arg) \u003d\u003e new o.FnParam(arg.name)),\n+        convertAst(ast.body, job, baseSourceSpan),\n+      ),\n     );\n   } else {\n     throw new Error(\n@@ -1245,13 +1238,12 @@ function convertTemplateLiteral(\n   ast: e.TemplateLiteral,\n   job: CompilationJob,\n   baseSourceSpan: ParseSourceSpan | null,\n-  localSymbols: Set\u003cstring\u003e | null,\n ) {\n   return new o.TemplateLiteralExpr(\n     ast.elements.map((el) \u003d\u003e {\n       return new o.TemplateLiteralElementExpr(el.text, convertSourceSpan(el.span, baseSourceSpan));\n     }),\n-    ast.expressions.map((expr) \u003d\u003e convertAst(expr, job, baseSourceSpan, localSymbols)),\n+    ast.expressions.map((expr) \u003d\u003e convertAst(expr, job, baseSourceSpan)),\n     convertSourceSpan(ast.span, baseSourceSpan),\n   );\n }\n@@ -1266,11 +1258,11 @@ function convertAstWithInterpolation(\n   if (value instanceof e.Interpolation) {\n     expression \u003d new ir.Interpolation(\n       value.strings,\n-      value.expressions.map((e) \u003d\u003e convertAst(e, job, sourceSpan ?? null, null)),\n+      value.expressions.map((e) \u003d\u003e convertAst(e, job, sourceSpan ?? null)),\n       Object.keys(asMessage(i18nMeta)?.placeholders ?? {}),\n     );\n   } else if (value instanceof e.AST) {\n-    expression \u003d convertAst(value, job, sourceSpan ?? null, null);\n+    expression \u003d convertAst(value, job, sourceSpan ?? null);\n   } else {\n     expression \u003d o.literal(value);\n   }\n@@ -1742,7 +1734,7 @@ function makeListenerHandlerOps(\n   if (handlerExprs.length \u003d\u003d\u003d 0) {\n     throw new Error(\u0027Expected listener to have non-empty expression list.\u0027);\n   }\n-  const expressions \u003d handlerExprs.map((expr) \u003d\u003e convertAst(expr, unit.job, handlerSpan, null));\n+  const expressions \u003d handlerExprs.map((expr) \u003d\u003e convertAst(expr, unit.job, handlerSpan));\n   const returnExpr \u003d expressions.pop()!;\n   handlerOps.push(\n     ...expressions.map((e) \u003d\u003e\n@@ -1770,7 +1762,7 @@ function makeTwoWayListenerHandlerOps(\n     }\n   }\n \n-  const handlerExpr \u003d convertAst(handler, unit.job, handlerSpan, null);\n+  const handlerExpr \u003d convertAst(handler, unit.job, handlerSpan);\n   const eventReference \u003d new ir.LexicalReadExpr(\u0027$event\u0027);\n   const twoWaySetExpr \u003d new ir.TwoWayBindingSetExpr(handlerExpr, eventReference);\n \n@@ -1938,3 +1930,29 @@ function ingestControlFlowInsertionPoint(\n \n   return null;\n }\n+\n+/**\n+ * When an arrow function in the expression AST is converted into the output AST, all of its\n+ * top-level reads become `LexicalReadExpr` because the output AST doesn\u0027t have a concept of a\n+ * variable read. This function corrects the ones that point to parameters.\n+ *\n+ * @param root Root arrow function.\n+ */\n+function updateParameterReferences(root: o.ArrowFunctionExpr): o.ArrowFunctionExpr {\n+  const parameterNames \u003d new Set(root.params.map((param) \u003d\u003e param.name));\n+\n+  return ir.transformExpressionsInExpression(\n+    root,\n+    (expr) \u003d\u003e {\n+      if (expr instanceof o.ArrowFunctionExpr) {\n+        for (const param of expr.params) {\n+          parameterNames.add(param.name);\n+        }\n+      } else if (expr instanceof ir.LexicalReadExpr \u0026\u0026 parameterNames.has(expr.name)) {\n+        return o.variable(expr.name);\n+      }\n+      return expr;\n+    },\n+    ir.VisitorContextFlag.None,\n+  ) as o.ArrowFunctionExpr;\n+}","expectedMessage":"refactor(compiler): isolate arrow function processing","repository":"angular","commitHash":"7b5625e72a31d239082083b1945be787efeb79fd","metadata":{"author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e"}}
{"id":"angular-3242a61b","diff":" .../template/pipeline/src/phases/var_counting.ts   | 93 +++++++++++++---------\n 1 file changed, 54 insertions(+), 39 deletions(-)\n\ndiff --git a/packages/compiler/src/template/pipeline/src/phases/var_counting.ts b/packages/compiler/src/template/pipeline/src/phases/var_counting.ts\nindex efc01304..258502ff 100644\n--- a/packages/compiler/src/template/pipeline/src/phases/var_counting.ts\n+++ b/packages/compiler/src/template/pipeline/src/phases/var_counting.ts\n@@ -7,6 +7,7 @@\n  */\n \n import * as ir from \u0027../../ir\u0027;\n+import * as o from \u0027../../../../output/output_ast\u0027;\n import {CompilationJob, ComponentCompilationJob} from \u0027../compilation\u0027;\n \n /**\n@@ -28,50 +29,64 @@ export function countVariables(job: CompilationJob): void {\n     // Count variables on expressions inside ops. We do this later because some of these expressions\n     // might be conditional (e.g. `pipeBinding` inside of a ternary), and we don\u0027t want to interfere\n     // with indices for top-level binding slots (e.g. `property`).\n-    for (const op of unit.ops()) {\n-      ir.visitExpressionsInOp(op, (expr) \u003d\u003e {\n-        if (!ir.isIrExpression(expr)) {\n-          return;\n-        }\n+    const firstPassCountExpressionVars \u003d (expr: o.Expression) \u003d\u003e {\n+      if (!ir.isIrExpression(expr)) {\n+        return;\n+      }\n \n-        // TemplateDefinitionBuilder assigns variable offsets for everything but pure functions\n-        // first, and then assigns offsets to pure functions lazily. We emulate that behavior by\n-        // assigning offsets in two passes instead of one, only in compatibility mode.\n-        if (\n-          job.compatibility \u003d\u003d\u003d ir.CompatibilityMode.TemplateDefinitionBuilder \u0026\u0026\n-          expr instanceof ir.PureFunctionExpr\n-        ) {\n-          return;\n-        }\n+      // TemplateDefinitionBuilder assigns variable offsets for everything but pure functions\n+      // first, and then assigns offsets to pure functions lazily. We emulate that behavior by\n+      // assigning offsets in two passes instead of one, only in compatibility mode.\n+      if (\n+        job.compatibility \u003d\u003d\u003d ir.CompatibilityMode.TemplateDefinitionBuilder \u0026\u0026\n+        expr instanceof ir.PureFunctionExpr\n+      ) {\n+        return;\n+      }\n \n-        // Some expressions require knowledge of the number of variable slots consumed.\n-        if (ir.hasUsesVarOffsetTrait(expr)) {\n-          expr.varOffset \u003d varCount;\n-        }\n+      // Some expressions require knowledge of the number of variable slots consumed.\n+      if (ir.hasUsesVarOffsetTrait(expr)) {\n+        expr.varOffset \u003d varCount;\n+      }\n \n-        if (ir.hasConsumesVarsTrait(expr)) {\n-          varCount +\u003d varsUsedByIrExpression(expr);\n-        }\n-      });\n-    }\n+      if (ir.hasConsumesVarsTrait(expr)) {\n+        varCount +\u003d varsUsedByIrExpression(expr);\n+      }\n+    };\n \n     // Compatibility mode pass for pure function offsets (as explained above).\n+    const secondPassCountExpressionVars \u003d (expr: o.Expression) \u003d\u003e {\n+      if (!ir.isIrExpression(expr) || !(expr instanceof ir.PureFunctionExpr)) {\n+        return;\n+      }\n+\n+      // Some expressions require knowledge of the number of variable slots consumed.\n+      if (ir.hasUsesVarOffsetTrait(expr)) {\n+        expr.varOffset \u003d varCount;\n+      }\n+\n+      if (ir.hasConsumesVarsTrait(expr)) {\n+        varCount +\u003d varsUsedByIrExpression(expr);\n+      }\n+    };\n+\n+    // Note: we iterate over `create` and `update` separately, instead of going using `unit.ops()`,\n+    // because `unit.ops()` will visit nested ops too (e.g. the `ListenerOp.handlerOps`). We\n+    // don\u0027t want that, because the `visitExpressionsInOp` call below will visit the same nested\n+    // ops again, leading to vars in some expressions to be counted twice.\n+    for (const createOp of unit.create) {\n+      ir.visitExpressionsInOp(createOp, firstPassCountExpressionVars);\n+    }\n+    for (const updateOp of unit.update) {\n+      ir.visitExpressionsInOp(updateOp, firstPassCountExpressionVars);\n+    }\n+\n     if (job.compatibility \u003d\u003d\u003d ir.CompatibilityMode.TemplateDefinitionBuilder) {\n-      for (const op of unit.ops()) {\n-        ir.visitExpressionsInOp(op, (expr) \u003d\u003e {\n-          if (!ir.isIrExpression(expr) || !(expr instanceof ir.PureFunctionExpr)) {\n-            return;\n-          }\n-\n-          // Some expressions require knowledge of the number of variable slots consumed.\n-          if (ir.hasUsesVarOffsetTrait(expr)) {\n-            expr.varOffset \u003d varCount;\n-          }\n-\n-          if (ir.hasConsumesVarsTrait(expr)) {\n-            varCount +\u003d varsUsedByIrExpression(expr);\n-          }\n-        });\n+      for (const createOp of unit.create) {\n+        ir.visitExpressionsInOp(createOp, secondPassCountExpressionVars);\n+      }\n+      for (const updateOp of unit.update) {\n+        ir.visitExpressionsInOp(updateOp, secondPassCountExpressionVars);\n       }\n     }\n \n@@ -164,7 +179,7 @@ function varsUsedByOp(op: (ir.CreateOp | ir.UpdateOp) \u0026 ir.ConsumesVarsTrait): n\n   }\n }\n \n-export function varsUsedByIrExpression(expr: ir.Expression \u0026 ir.ConsumesVarsTrait): number {\n+function varsUsedByIrExpression(expr: ir.Expression \u0026 ir.ConsumesVarsTrait): number {\n   switch (expr.kind) {\n     case ir.ExpressionKind.PureFunctionExpr:\n       return 1 + expr.args.length;","expectedMessage":"fix(compiler): variable counter visiting some expressions twice","repository":"angular","commitHash":"3242a61bae02253d13abb510b666376c665e61ac","metadata":{"author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e"}}
{"id":"angular-17733b70","diff":" packages/compiler/src/render3/r3_identifiers.ts    |  3 ++\n .../src/template/pipeline/src/instruction.ts       |  8 ++++\n .../src/template/pipeline/src/phases/chaining.ts   |  1 +\n packages/core/src/core_render3_private_export.ts   |  2 +\n packages/core/src/render3/index.ts                 |  2 +\n packages/core/src/render3/instructions/all.ts      |  1 +\n .../src/render3/instructions/callback_storage.ts   | 45 ++++++++++++++++++++++\n packages/core/src/render3/jit/environment.ts       |  2 +\n 8 files changed, 64 insertions(+)\n\ndiff --git a/packages/compiler/src/render3/r3_identifiers.ts b/packages/compiler/src/render3/r3_identifiers.ts\nindex 28a1b369..67fc9e9b 100644\n--- a/packages/compiler/src/render3/r3_identifiers.ts\n+++ b/packages/compiler/src/render3/r3_identifiers.ts\n@@ -421,6 +421,9 @@ export class Identifiers {\n   static storeLet: o.ExternalReference \u003d {name: \u0027ɵɵstoreLet\u0027, moduleName: CORE};\n   static readContextLet: o.ExternalReference \u003d {name: \u0027ɵɵreadContextLet\u0027, moduleName: CORE};\n \n+  static storeCallback: o.ExternalReference \u003d {name: \u0027ɵɵstoreCallback\u0027, moduleName: CORE};\n+  static getCallback: o.ExternalReference \u003d {name: \u0027ɵɵgetCallback\u0027, moduleName: CORE};\n+\n   static attachSourceLocations: o.ExternalReference \u003d {\n     name: \u0027ɵɵattachSourceLocations\u0027,\n     moduleName: CORE,\ndiff --git a/packages/compiler/src/template/pipeline/src/instruction.ts b/packages/compiler/src/template/pipeline/src/instruction.ts\nindex d7c326e5..d05ac780 100644\n--- a/packages/compiler/src/template/pipeline/src/instruction.ts\n+++ b/packages/compiler/src/template/pipeline/src/instruction.ts\n@@ -940,6 +940,14 @@ export function attachSourceLocation(\n   return call(Identifiers.attachSourceLocations, [o.literal(templatePath), locations], null);\n }\n \n+export function storeCallback(slotOffset: number, expression: o.Expression): ir.CreateOp {\n+  return call(Identifiers.storeCallback, [o.literal(slotOffset), expression], null);\n+}\n+\n+export function getCallback(slotOffset: number): o.Expression {\n+  return o.importExpr(Identifiers.getCallback).callFn([o.literal(slotOffset)]);\n+}\n+\n /**\n  * Collates the string an expression arguments for an interpolation instruction.\n  */\ndiff --git a/packages/compiler/src/template/pipeline/src/phases/chaining.ts b/packages/compiler/src/template/pipeline/src/phases/chaining.ts\nindex 16b91e50..d8a4fa12 100644\n--- a/packages/compiler/src/template/pipeline/src/phases/chaining.ts\n+++ b/packages/compiler/src/template/pipeline/src/phases/chaining.ts\n@@ -47,6 +47,7 @@ const CHAIN_COMPATIBILITY \u003d new Map\u003co.ExternalReference, o.ExternalReference\u003e([\n   [R3.animationLeave, R3.animationLeave],\n   [R3.animationEnterListener, R3.animationEnterListener],\n   [R3.animationLeaveListener, R3.animationLeaveListener],\n+  [R3.storeCallback, R3.storeCallback],\n ]);\n \n /**\ndiff --git a/packages/core/src/core_render3_private_export.ts b/packages/core/src/core_render3_private_export.ts\nindex 63805889..3898c82d 100644\n--- a/packages/core/src/core_render3_private_export.ts\n+++ b/packages/core/src/core_render3_private_export.ts\n@@ -239,6 +239,8 @@ export {\n   ɵɵanimateEnterListener,\n   ɵɵanimateLeave,\n   ɵɵanimateLeaveListener,\n+  ɵɵstoreCallback,\n+  ɵɵgetCallback,\n } from \u0027./render3/index\u0027;\n export {CONTAINER_HEADER_OFFSET as ɵCONTAINER_HEADER_OFFSET} from \u0027./render3/interfaces/container\u0027;\n export {LContext as ɵLContext} from \u0027./render3/interfaces/context\u0027;\ndiff --git a/packages/core/src/render3/index.ts b/packages/core/src/render3/index.ts\nindex a86dd2f5..09549a2a 100644\n--- a/packages/core/src/render3/index.ts\n+++ b/packages/core/src/render3/index.ts\n@@ -165,6 +165,8 @@ export {\n   ɵɵanimateEnterListener,\n   ɵɵanimateLeave,\n   ɵɵanimateLeaveListener,\n+  ɵɵstoreCallback,\n+  ɵɵgetCallback,\n } from \u0027./instructions/all\u0027;\n export {\n   ɵɵdeferEnableTimerScheduling,\ndiff --git a/packages/core/src/render3/instructions/all.ts b/packages/core/src/render3/instructions/all.ts\nindex 762de4f7..06d26347 100644\n--- a/packages/core/src/render3/instructions/all.ts\n+++ b/packages/core/src/render3/instructions/all.ts\n@@ -63,3 +63,4 @@ export * from \u0027./two_way\u0027;\n export * from \u0027./let_declaration\u0027;\n export * from \u0027./attach_source_locations\u0027;\n export * from \u0027./value_interpolation\u0027;\n+export * from \u0027./callback_storage\u0027;\ndiff --git a/packages/core/src/render3/instructions/callback_storage.ts b/packages/core/src/render3/instructions/callback_storage.ts\nnew file mode 100644\nindex 00000000..e121a3eb\n--- /dev/null\n+++ b/packages/core/src/render3/instructions/callback_storage.ts\n@@ -0,0 +1,45 @@\n+/*!\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.dev/license\n+ */\n+\n+import {assertFunction, assertNotDefined} from \u0027../../util/assert\u0027;\n+import {HEADER_OFFSET} from \u0027../interfaces/view\u0027;\n+import {getContextLView, getLView, getTView} from \u0027../state\u0027;\n+import {load, store} from \u0027../util/view_utils\u0027;\n+\n+/**\n+ * Creation instruction that stores a callback function so it can be reused later.\n+ *\n+ * @param slotOffset the offset from binding root to the reserved slot\n+ * @param declaration Function to be stored.\n+ * @returns Itself for chaining purposes.\n+ *\n+ * @codeGenApi\n+ */\n+export function ɵɵstoreCallback(index: number, declaration: Function): typeof ɵɵstoreCallback {\n+  const tView \u003d getTView();\n+  const lView \u003d getLView();\n+  const adjustedIndex \u003d index + HEADER_OFFSET;\n+  ngDevMode \u0026\u0026\n+    assertNotDefined(lView[adjustedIndex], \u0027Expected callback not to have been initialized.\u0027);\n+  store(tView, lView, adjustedIndex, declaration);\n+  return ɵɵstoreCallback;\n+}\n+\n+/**\n+ * Retrieves a callback stored by `ɵɵstoreCallback`.\n+ *\n+ * @param slotOffset the offset from binding root to the reserved slot\n+ *\n+ * @codeGenApi\n+ */\n+export function ɵɵgetCallback(index: number): Function {\n+  const contextLView \u003d getContextLView();\n+  const value \u003d load\u003cFunction\u003e(contextLView, HEADER_OFFSET + index);\n+  ngDevMode \u0026\u0026 assertFunction(value, \u0027Expected stored callback to be a function.\u0027);\n+  return value;\n+}\ndiff --git a/packages/core/src/render3/jit/environment.ts b/packages/core/src/render3/jit/environment.ts\nindex bf37779c..1cff9710 100644\n--- a/packages/core/src/render3/jit/environment.ts\n+++ b/packages/core/src/render3/jit/environment.ts\n@@ -166,6 +166,8 @@ export const angularCoreEnv: {[name: string]: unknown} \u003d (() \u003d\u003e ({\n   \u0027ɵsetClassDebugInfo\u0027: r3.ɵsetClassDebugInfo,\n   \u0027ɵɵdeclareLet\u0027: r3.ɵɵdeclareLet,\n   \u0027ɵɵstoreLet\u0027: r3.ɵɵstoreLet,\n+  \u0027ɵɵstoreCallback\u0027: r3.ɵɵstoreCallback,\n+  \u0027ɵɵgetCallback\u0027: r3.ɵɵgetCallback,\n   \u0027ɵɵreadContextLet\u0027: r3.ɵɵreadContextLet,\n   \u0027ɵɵattachSourceLocations\u0027: r3.ɵɵattachSourceLocations,\n   \u0027ɵɵinterpolate\u0027: r3.ɵɵinterpolate,","expectedMessage":"refactor(core): add instructions for callback storage and retrieval","repository":"angular","commitHash":"17733b70a3625c2295794df8e07142c98716f016","metadata":{"author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e"}}
{"id":"angular-87a42235","diff":" .../src/ngtsc/typecheck/src/expression.ts          | 43 ++++++++++\n .../ngtsc/typecheck/test/type_check_block_spec.ts  | 52 ++++++++++++\n .../test/ngtsc/template_typecheck_spec.ts          | 95 ++++++++++++++++++++++\n packages/language-service/test/completions_spec.ts | 14 ++++\n packages/language-service/test/definitions_spec.ts | 54 ++++++++++++\n 5 files changed, 258 insertions(+)\n\ndiff --git a/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts b/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\nindex 36197ee3..96158374 100644\n--- a/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\n+++ b/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\n@@ -7,6 +7,7 @@\n  */\n \n import {\n+  ArrowFunction,\n   AST,\n   AstVisitor,\n   ASTWithSource,\n@@ -43,6 +44,7 @@ import ts from \u0027typescript\u0027;\n import {TypeCheckingConfig} from \u0027../api\u0027;\n import {addParseSpanInfo, wrapForDiagnostics, wrapForTypeChecker} from \u0027./diagnostics\u0027;\n import {tsCastToAny, tsNumericExpression} from \u0027./ts_util\u0027;\n+import {markIgnoreDiagnostics} from \u0027./comments\u0027;\n \n /**\n  * Gets an expression that is cast to any. Currently represented as `0 as any`.\n@@ -493,6 +495,44 @@ class AstTranslator implements AstVisitor {\n     return node;\n   }\n \n+  visitArrowFunction(ast: ArrowFunction): ts.ArrowFunction {\n+    const params \u003d ast.parameters.map((param) \u003d\u003e {\n+      const paramNode \u003d ts.factory.createParameterDeclaration(undefined, undefined, param.name);\n+      // Ignore diagnostics on the node to skip diagnostics from `noImplicitAny` since\n+      // users aren\u0027t able to set types on the parameters. Note that this is preferable\n+      // to setting their types to `any`, because it allows us to infer the types when\n+      // the arrow function is passed as a callback.\n+      markIgnoreDiagnostics(paramNode);\n+      return paramNode;\n+    });\n+\n+    const body \u003d astToTypescript(\n+      ast.body,\n+      (innerAst) \u003d\u003e {\n+        if (\n+          !(innerAst instanceof PropertyRead) ||\n+          innerAst.receiver instanceof ThisReceiver ||\n+          !(innerAst.receiver instanceof ImplicitReceiver)\n+        ) {\n+          return this.maybeResolve(innerAst);\n+        }\n+\n+        const correspondingParam \u003d ast.parameters.find((arg) \u003d\u003e arg.name \u003d\u003d\u003d innerAst.name);\n+\n+        if (correspondingParam) {\n+          const node \u003d ts.factory.createIdentifier(innerAst.name);\n+          addParseSpanInfo(node, innerAst.sourceSpan);\n+          return node;\n+        }\n+\n+        return this.maybeResolve(innerAst);\n+      },\n+      this.config,\n+    );\n+\n+    return ts.factory.createArrowFunction(undefined, undefined, params, undefined, undefined, body);\n+  }\n+\n   private convertToSafeCall(\n     ast: Call | SafeCall,\n     expr: ts.Expression,\n@@ -630,4 +670,7 @@ class VeSafeLhsInferenceBugDetector implements AstVisitor {\n   visitSpreadElement(ast: SpreadElement) {\n     return ast.expression.visit(this);\n   }\n+  visitArrowFunction(ast: ArrowFunction, context: any) {\n+    return false;\n+  }\n }\ndiff --git a/packages/compiler-cli/src/ngtsc/typecheck/test/type_check_block_spec.ts b/packages/compiler-cli/src/ngtsc/typecheck/test/type_check_block_spec.ts\nindex acac40c9..5235f3f5 100644\n--- a/packages/compiler-cli/src/ngtsc/typecheck/test/type_check_block_spec.ts\n+++ b/packages/compiler-cli/src/ngtsc/typecheck/test/type_check_block_spec.ts\n@@ -2267,6 +2267,58 @@ describe(\u0027type check blocks\u0027, () \u003d\u003e {\n     });\n   });\n \n+  describe(\u0027arrow functions\u0027, () \u003d\u003e {\n+    it(\u0027should generate an arrow function that uses only local parameters\u0027, () \u003d\u003e {\n+      const TEMPLATE \u003d `\u003cbutton (click)\u003d\"withCallback((a, b) \u003d\u003e a + b)\"\u003e\u003c/button\u003e`;\n+      expect(tcb(TEMPLATE)).toContain(\u0027(this).withCallback((a, b) \u003d\u003e (a) + (b));\u0027);\n+    });\n+\n+    it(\u0027should generate an arrow function that references class members\u0027, () \u003d\u003e {\n+      const TEMPLATE \u003d `\u003cbutton (click)\u003d\"withCallback((a) \u003d\u003e componentFn(a + componentProp))\"\u003e\u003c/button\u003e`;\n+      expect(tcb(TEMPLATE)).toContain(\n+        \u0027(this).withCallback(a \u003d\u003e (this).componentFn((a) + (((this).componentProp))));\u0027,\n+      );\n+    });\n+\n+    it(\u0027should generate an arrow function that accesses higher-level parameters\u0027, () \u003d\u003e {\n+      expect(tcb(`{{() \u003d\u003e () \u003d\u003e (a) \u003d\u003e () \u003d\u003e () \u003d\u003e a + 1}}`)).toContain(\n+        \u0027(() \u003d\u003e () \u003d\u003e a \u003d\u003e () \u003d\u003e () \u003d\u003e (a) + (1)\u0027,\n+      );\n+    });\n+\n+    it(\u0027should generate an arrow function that accesses a class member with the same name as a parameter through `this`\u0027, () \u003d\u003e {\n+      const TEMPLATE \u003d `\u003cbutton (click)\u003d\"withCallback((a) \u003d\u003e a + this.a)\"\u003e\u003c/button\u003e`;\n+      expect(tcb(TEMPLATE)).toContain(\u0027(this).withCallback(a \u003d\u003e (a) + (((this).a)));\u0027);\n+    });\n+\n+    it(\u0027should generate an arrow function that accesses a class member with the same name as a higher-level parameter through `this`\u0027, () \u003d\u003e {\n+      const TEMPLATE \u003d `\u003cbutton (click)\u003d\"withCallback(a \u003d\u003e b \u003d\u003e () \u003d\u003e a + b + this.a + this.b + someOtherProp)\"\u003e\u003c/button\u003e`;\n+      expect(tcb(TEMPLATE)).toContain(\n+        \u0027(this).withCallback(a \u003d\u003e b \u003d\u003e () \u003d\u003e ((((a) + (b)) + (((this).a))) + (((this).b))) + (((this).someOtherProp)));\u0027,\n+      );\n+    });\n+\n+    it(\u0027should generate an arrow function that references local symbols\u0027, () \u003d\u003e {\n+      const TEMPLATE \u003d `\n+        @let one \u003d 1;\n+        \u003cinput #someInput/\u003e\n+        \u003cbutton (click)\u003d\"withCallback(() \u003d\u003e one + someInput.value)\"\u003e\u003c/button\u003e\n+      `;\n+\n+      const result \u003d tcb(TEMPLATE);\n+      expect(result).toContain(\u0027const _t1 \u003d (1);\u0027);\n+      // _t2 is the button which we don\u0027t care about in this test.\n+      expect(result).toContain(\u0027var _t3 \u003d _t4;\u0027);\n+      expect(result).toContain(\u0027var _t4 \u003d document.createElement(\"input\");\u0027);\n+      expect(tcb(TEMPLATE)).toContain(\u0027(this).withCallback(() \u003d\u003e (_t1) + (((_t3).value)));\u0027);\n+    });\n+\n+    it(\u0027should ignore diagnostics on arrow function parameters\u0027, () \u003d\u003e {\n+      const result \u003d tcb(`{{(a, b) \u003d\u003e a + b}}`, undefined, undefined, {emitSpans: true});\n+      expect(result).toContain(\u0027((a /*D:ignore*/, b /*D:ignore*/) \u003d\u003e\u0027);\n+    });\n+  });\n+\n   describe(\u0027import generation\u0027, () \u003d\u003e {\n     const TEMPLATE \u003d `\u003cdiv dir [test]\u003d\"null\"\u003e\u003c/div\u003e`;\n     const DIRECTIVE: TestDeclaration \u003d {\ndiff --git a/packages/compiler-cli/test/ngtsc/template_typecheck_spec.ts b/packages/compiler-cli/test/ngtsc/template_typecheck_spec.ts\nindex 39768c7d..8d2e0641 100644\n--- a/packages/compiler-cli/test/ngtsc/template_typecheck_spec.ts\n+++ b/packages/compiler-cli/test/ngtsc/template_typecheck_spec.ts\n@@ -8589,5 +8589,100 @@ suppress\n         );\n       });\n     });\n+\n+    describe(\u0027arrow functions\u0027, () \u003d\u003e {\n+      it(\u0027should infer the types of parameters of arrow functions passed in as callbacks\u0027, () \u003d\u003e {\n+        env.write(\n+          \u0027test.ts\u0027,\n+          `\n+            import {Component, signal} from \u0027@angular/core\u0027;\n+\n+            @Component({\n+              template: \u0027\u003cbutton (click)\u003d\"sig.update(prev \u003d\u003e acceptsString(prev))\"\u003e\u003c/button\u003e\u0027,\n+            })\n+            class TestCmp {\n+              sig \u003d signal(1);\n+              acceptsString(value: string): number {\n+                return 1;\n+              }\n+            }\n+          `,\n+        );\n+\n+        const diags \u003d env.driveDiagnostics();\n+        expect(diags.length).toBe(1);\n+        expect(diags[0].messageText).toBe(\n+          `Argument of type \u0027number\u0027 is not assignable to parameter of type \u0027string\u0027.`,\n+        );\n+      });\n+\n+      it(\u0027should infer the return type of arrow functions\u0027, () \u003d\u003e {\n+        env.write(\n+          \u0027test.ts\u0027,\n+          `\n+            import {Component, signal} from \u0027@angular/core\u0027;\n+\n+            @Component({\n+              template: \\`\u003cbutton (click)\u003d\"sig.update(() \u003d\u003e \u0027hello\u0027)\"\u003e\u003c/button\u003e\\`,\n+            })\n+            class TestCmp {\n+              sig \u003d signal(1);\n+            }\n+          `,\n+        );\n+\n+        const diags \u003d env.driveDiagnostics();\n+        expect(diags.length).toBe(1);\n+        expect(diags[0].messageText).toBe(`Type \u0027string\u0027 is not assignable to type \u0027number\u0027.`);\n+      });\n+\n+      it(\u0027should infer the parameter type of arrow functions when they are called immediately\u0027, () \u003d\u003e {\n+        env.write(\n+          \u0027test.ts\u0027,\n+          `\n+            import {Component, signal} from \u0027@angular/core\u0027;\n+\n+            @Component({\n+              template: \\`{{((a) \u003d\u003e acceptsString(a))(1)}}\\`,\n+            })\n+            class TestCmp {\n+              sig \u003d signal(1);\n+              acceptsString(value: string) {}\n+            }\n+          `,\n+        );\n+\n+        const diags \u003d env.driveDiagnostics();\n+        expect(diags.length).toBe(1);\n+        expect(diags[0].messageText).toBe(\n+          `Argument of type \u0027number\u0027 is not assignable to parameter of type \u0027string\u0027.`,\n+        );\n+      });\n+\n+      it(\u0027should not report implicit any errors on arrow functions defined in @let\u0027, () \u003d\u003e {\n+        env.tsconfig(undefined, {\n+          strict: true,\n+          noImplicitAny: true,\n+        });\n+\n+        env.write(\n+          \u0027test.ts\u0027,\n+          `\n+            import {Component} from \u0027@angular/core\u0027;\n+\n+            @Component({\n+              template: \\`\n+                @let arrowFn \u003d a \u003d\u003e a;\n+                {{arrowFn(1)}}\n+              \\`,\n+            })\n+            class TestCmp {}\n+          `,\n+        );\n+\n+        const diags \u003d env.driveDiagnostics();\n+        expect(diags.length).toBe(0);\n+      });\n+    });\n   });\n });\ndiff --git a/packages/language-service/test/completions_spec.ts b/packages/language-service/test/completions_spec.ts\nindex 53865a09..2bbd0f0a 100644\n--- a/packages/language-service/test/completions_spec.ts\n+++ b/packages/language-service/test/completions_spec.ts\n@@ -295,6 +295,20 @@ describe(\u0027completions\u0027, () \u003d\u003e {\n       expectContain(completions, ts.ScriptElementKind.variableElement, [\u0027undefined\u0027]);\n       expectDoesNotContain(completions, ts.ScriptElementKind.parameterElement, [\u0027ctx\u0027]);\n     });\n+\n+    it(\u0027should provide completions for access of a component property in an arrow function\u0027, () \u003d\u003e {\n+      const {templateFile} \u003d setup(\u0027{{() \u003d\u003e ti}}\u0027, `title!: string; hero!: number;`);\n+      templateFile.moveCursorToText(\u0027{{() \u003d\u003e ti¦}}\u0027);\n+      const completions \u003d templateFile.getCompletionsAtPosition();\n+      expectContain(completions, ts.ScriptElementKind.memberVariableElement, [\u0027title\u0027, \u0027hero\u0027]);\n+    });\n+\n+    it(\u0027should provide completions for access of a parameter in an arrow function\u0027, () \u003d\u003e {\n+      const {templateFile} \u003d setup(\u0027{{((value) \u003d\u003e value.)(foo)}}\u0027, `foo \u003d {a: number, b: string};`);\n+      templateFile.moveCursorToText(\u0027{{((value) \u003d\u003e value.¦)(foo)}}\u0027);\n+      const completions \u003d templateFile.getCompletionsAtPosition();\n+      expectContain(completions, ts.ScriptElementKind.memberVariableElement, [\u0027a\u0027, \u0027b\u0027]);\n+    });\n   });\n \n   describe(\u0027signal inputs\u0027, () \u003d\u003e {\ndiff --git a/packages/language-service/test/definitions_spec.ts b/packages/language-service/test/definitions_spec.ts\nindex a47a4c93..7f461421 100644\n--- a/packages/language-service/test/definitions_spec.ts\n+++ b/packages/language-service/test/definitions_spec.ts\n@@ -444,6 +444,60 @@ describe(\u0027definitions\u0027, () \u003d\u003e {\n     assertFileNames(Array.from(definitions!), [\u0027app.html\u0027]);\n   });\n \n+  it(\u0027gets definition for component property access in an arrow function\u0027, () \u003d\u003e {\n+    initMockFileSystem(\u0027Native\u0027);\n+    const files \u003d {\n+      \u0027app.html\u0027: \u0027\u0027,\n+      \u0027app.ts\u0027: `\n+         import {Component} from \u0027@angular/core\u0027;\n+\n+         @Component({templateUrl: \u0027/app.html\u0027, standalone: false})\n+         export class AppCmp {\n+          componentProp \u003d 123;\n+         }\n+       `,\n+    };\n+    const env \u003d LanguageServiceTestEnv.setup();\n+\n+    const project \u003d createModuleAndProjectWithDeclarations(env, \u0027test\u0027, files);\n+    const template \u003d project.openFile(\u0027app.html\u0027);\n+    template.contents \u003d \u0027{{() \u003d\u003e componentProp + 1}}\u0027;\n+    project.expectNoSourceDiagnostics();\n+\n+    template.moveCursorToText(\u0027{{() \u003d\u003e compon¦entProp + 1}}\u0027);\n+    const {definitions} \u003d getDefinitionsAndAssertBoundSpan(env, template);\n+    expect(definitions[0].name).toEqual(\u0027componentProp\u0027);\n+    expect(definitions[0].kind).toBe(ts.ScriptElementKind.memberVariableElement);\n+    expect(definitions[0].textSpan).toBe(\u0027componentProp\u0027);\n+    assertFileNames(Array.from(definitions), [\u0027app.ts\u0027]);\n+  });\n+\n+  it(\u0027gets definition for parameter access in an arrow function\u0027, () \u003d\u003e {\n+    initMockFileSystem(\u0027Native\u0027);\n+    const files \u003d {\n+      \u0027app.html\u0027: \u0027\u0027,\n+      \u0027app.ts\u0027: `\n+         import {Component} from \u0027@angular/core\u0027;\n+\n+         @Component({templateUrl: \u0027/app.html\u0027, standalone: false})\n+         export class AppCmp {}\n+       `,\n+    };\n+    const env \u003d LanguageServiceTestEnv.setup();\n+\n+    const project \u003d createModuleAndProjectWithDeclarations(env, \u0027test\u0027, files);\n+    const template \u003d project.openFile(\u0027app.html\u0027);\n+    template.contents \u003d \u0027{{(val) \u003d\u003e val + 1}}\u0027;\n+    project.expectNoSourceDiagnostics();\n+\n+    template.moveCursorToText(\u0027{{(val) \u003d\u003e va¦l + 1}}\u0027);\n+    const {definitions} \u003d getDefinitionsAndAssertBoundSpan(env, template);\n+    expect(definitions[0].name).toEqual(\u0027val\u0027);\n+    expect(definitions[0].kind).toBe(ts.ScriptElementKind.parameterElement);\n+    expect(definitions[0].textSpan).toBe(\u0027val + 1\u0027);\n+    assertFileNames(Array.from(definitions), [\u0027app.html\u0027]);\n+  });\n+\n   it(\u0027gets definition for a let declaration\u0027, () \u003d\u003e {\n     initMockFileSystem(\u0027Native\u0027);\n     const files \u003d {","expectedMessage":"refactor(compiler-cli): template type checking support for arrow functions","repository":"angular","commitHash":"87a422358b91b52e64f2866c8d1b006bb337567c","metadata":{"author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e"}}
{"id":"angular-f05d08f4","diff":" packages/compiler/src/expression_parser/parser.ts  | 111 ++++++++++++++++-\n .../compiler/test/expression_parser/parser_spec.ts | 133 +++++++++++++++++++++\n 2 files changed, 242 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/compiler/src/expression_parser/parser.ts b/packages/compiler/src/expression_parser/parser.ts\nindex f8b404be..73988ad7 100644\n--- a/packages/compiler/src/expression_parser/parser.ts\n+++ b/packages/compiler/src/expression_parser/parser.ts\n@@ -16,6 +16,9 @@ import {ParseError, ParseSourceSpan} from \u0027../parse_util\u0027;\n \n import {\n   AbsoluteSourceSpan,\n+  ArrowFunction,\n+  ArrowFunctionParameter,\n+  ArrowFunctionIdentifierParameter,\n   AST,\n   ASTWithSource,\n   Binary,\n@@ -1111,7 +1114,9 @@ class _ParseAST {\n \n   private parsePrimary(): AST {\n     const start \u003d this.inputIndex;\n-    if (this.consumeOptionalCharacter(chars.$LPAREN)) {\n+    if (this.isArrowFunction()) {\n+      return this.parseArrowFunction(start);\n+    } else if (this.consumeOptionalCharacter(chars.$LPAREN)) {\n       this.rparensExpected++;\n       const result \u003d this.parsePipe();\n       if (!this.consumeOptionalCharacter(chars.$RPAREN)) {\n@@ -1127,7 +1132,7 @@ class _ParseAST {\n       return new LiteralPrimitive(this.span(start), this.sourceSpan(start), null);\n     } else if (this.next.isKeywordUndefined()) {\n       this.advance();\n-      return new LiteralPrimitive(this.span(start), this.sourceSpan(start), void 0);\n+      return new LiteralPrimitive(this.span(start), this.sourceSpan(start), undefined);\n     } else if (this.next.isKeywordTrue()) {\n       this.advance();\n       return new LiteralPrimitive(this.span(start), this.sourceSpan(start), true);\n@@ -1694,6 +1699,108 @@ class _ParseAST {\n     );\n   }\n \n+  private parseArrowFunction(start: number) {\n+    let params: ArrowFunctionParameter[];\n+\n+    if (this.next.isIdentifier()) {\n+      const token \u003d this.next;\n+      this.advance();\n+      params \u003d [this.getArrowFunctionIdentifierArg(token)];\n+    } else if (this.next.isCharacter(chars.$LPAREN)) {\n+      this.rparensExpected++;\n+      this.advance();\n+      params \u003d this.parseArrowFunctionParameters();\n+      this.rparensExpected--;\n+    } else {\n+      params \u003d [];\n+      this.error(`Unexpected token ${this.next}`);\n+    }\n+\n+    this.expectOperator(\u0027\u003d\u003e\u0027);\n+    let body: AST;\n+\n+    if (this.next.isCharacter(chars.$LBRACE)) {\n+      this.error(\n+        \u0027Multi-line arrow functions are not supported. If you meant to return an object literal, wrap it with parentheses.\u0027,\n+      );\n+      body \u003d new EmptyExpr(this.span(start), this.sourceSpan(start));\n+    } else {\n+      const prevFlags \u003d this.parseFlags;\n+      this.parseFlags \u003d ParseFlags.Action; // Arrow function can contain assignments even in a binding context.\n+      body \u003d this.parseExpression();\n+      this.parseFlags \u003d prevFlags;\n+    }\n+\n+    return new ArrowFunction(this.span(start), this.sourceSpan(start), params, body);\n+  }\n+\n+  private parseArrowFunctionParameters(): ArrowFunctionParameter[] {\n+    const params: ArrowFunctionParameter[] \u003d [];\n+\n+    if (!this.consumeOptionalCharacter(chars.$RPAREN)) {\n+      while (this.next !\u003d\u003d EOF) {\n+        if (this.next.isIdentifier()) {\n+          const token \u003d this.next;\n+          this.advance();\n+          params.push(this.getArrowFunctionIdentifierArg(token));\n+\n+          if (this.consumeOptionalCharacter(chars.$RPAREN)) {\n+            break;\n+          } else {\n+            this.expectCharacter(chars.$COMMA);\n+          }\n+        } else {\n+          this.error(`Unexpected token ${this.next}`);\n+          break;\n+        }\n+      }\n+    }\n+\n+    return params;\n+  }\n+\n+  private getArrowFunctionIdentifierArg(token: Token): ArrowFunctionParameter {\n+    return new ArrowFunctionIdentifierParameter(\n+      token.strValue,\n+      this.span(token.index),\n+      this.sourceSpan(token.index),\n+    );\n+  }\n+\n+  private isArrowFunction(): boolean {\n+    // Scan ahead without advancing the pointer since we don\u0027t know if there is an arrow function.\n+    const start \u003d this.index;\n+    const tokens \u003d this.tokens;\n+\n+    if (start \u003e tokens.length - 2) {\n+      return false;\n+    }\n+\n+    // One parameter and no parens.\n+    if (tokens[start].isIdentifier() \u0026\u0026 tokens[start + 1].isOperator(\u0027\u003d\u003e\u0027)) {\n+      return true;\n+    }\n+\n+    // Multiple parenthesized params.\n+    if (tokens[start].isCharacter(chars.$LPAREN)) {\n+      let i \u003d start + 1;\n+\n+      for (i; i \u003c tokens.length; i++) {\n+        if (!tokens[i].isIdentifier() \u0026\u0026 !tokens[i].isCharacter(chars.$COMMA)) {\n+          break;\n+        }\n+      }\n+\n+      return (\n+        i \u003c tokens.length - 1 \u0026\u0026\n+        tokens[i].isCharacter(chars.$RPAREN) \u0026\u0026\n+        tokens[i + 1].isOperator(\u0027\u003d\u003e\u0027)\n+      );\n+    }\n+\n+    return false;\n+  }\n+\n   /**\n    * Consume the optional statement terminator: semicolon or comma.\n    */\ndiff --git a/packages/compiler/test/expression_parser/parser_spec.ts b/packages/compiler/test/expression_parser/parser_spec.ts\nindex a022fc74..c62c630a 100644\n--- a/packages/compiler/test/expression_parser/parser_spec.ts\n+++ b/packages/compiler/test/expression_parser/parser_spec.ts\n@@ -20,6 +20,7 @@ import {\n   BindingPipeType,\n   ParseSpan,\n   LiteralMapPropertyKey,\n+  ArrowFunction,\n } from \u0027../../src/expression_parser/ast\u0027;\n import {ParseError} from \u0027../../src/parse_util\u0027;\n import {Lexer} from \u0027../../src/expression_parser/lexer\u0027;\n@@ -1005,6 +1006,138 @@ describe(\u0027parser\u0027, () \u003d\u003e {\n       expect(map.keys.length).toBe(1);\n       expect((map.keys[0] as LiteralMapPropertyKey).isShorthandInitialized).toBe(true);\n     });\n+\n+    describe(\u0027arrow functions\u0027, () \u003d\u003e {\n+      it(\u0027should parse a single-parameter arrow function\u0027, () \u003d\u003e {\n+        checkBinding(\u0027a \u003d\u003e a\u0027);\n+      });\n+\n+      it(\u0027should parse a single-parameter arrow function with parentheses\u0027, () \u003d\u003e {\n+        checkBinding(\u0027(a) \u003d\u003e a\u0027, \u0027a \u003d\u003e a\u0027);\n+      });\n+\n+      it(\u0027should parse an arrow function with not parameters\u0027, () \u003d\u003e {\n+        checkBinding(\u0027() \u003d\u003e 1\u0027);\n+      });\n+\n+      it(\u0027should parse an arrow function with multiple parameters\u0027, () \u003d\u003e {\n+        checkBinding(\u0027(a, b, c, d, e) \u003d\u003e a / b + c * d\u0027);\n+      });\n+\n+      it(\u0027should parse an immediately-invoked arrow function\u0027, () \u003d\u003e {\n+        checkBinding(\u0027((a, b) \u003d\u003e a + b)(1, 2)\u0027);\n+      });\n+\n+      it(\u0027should parse an arrow function that returns other arrow functions\u0027, () \u003d\u003e {\n+        checkBinding(\u0027(a, b) \u003d\u003e c \u003d\u003e (d, e) \u003d\u003e () \u003d\u003e a + b + c + d + e\u0027);\n+      });\n+\n+      it(\u0027should parse an arrow function that returns an object literal\u0027, () \u003d\u003e {\n+        checkBinding(\u0027() \u003d\u003e ({a: 1, b: 2})\u0027);\n+      });\n+\n+      it(\u0027should parse an arrow function containing an assignment\u0027, () \u003d\u003e {\n+        checkBinding(\u0027(a, b) \u003d\u003e c \u003d a + b\u0027);\n+      });\n+\n+      it(\u0027should be able to pass an arrow function through a pipe\u0027, () \u003d\u003e {\n+        checkBinding(\u0027(a, b) \u003d\u003e a + b | pipe\u0027, \u0027((a, b) \u003d\u003e a + b | pipe)\u0027);\n+      });\n+\n+      it(\u0027should parse an arrow function that returns an array\u0027, () \u003d\u003e {\n+        checkBinding(\u0027(a, b) \u003d\u003e [a, b, foo]\u0027);\n+      });\n+\n+      describe(\u0027arrow function spans\u0027, () \u003d\u003e {\n+        it(\u0027should produce spans for the entire arrow function\u0027, () \u003d\u003e {\n+          expect(unparseWithSpan(parseBinding(\u0027a \u003d\u003e a\u0027))).toEqual([\n+            [\u0027a \u003d\u003e a\u0027, \u0027a \u003d\u003e a\u0027],\n+            [\u0027a\u0027, \u0027a\u0027],\n+            [\u0027a\u0027, \u0027[nameSpan] a\u0027],\n+            [\u0027\u0027, \u0027 \u0027],\n+          ]);\n+          expect(unparseWithSpan(parseBinding(\u0027(a, b, c) \u003d\u003e a + b + c\u0027))).toEqual([\n+            [\u0027(a, b, c) \u003d\u003e a + b + c\u0027, \u0027(a, b, c) \u003d\u003e a + b + c\u0027],\n+            [\u0027a + b + c\u0027, \u0027a + b + c\u0027],\n+            [\u0027a + b\u0027, \u0027a + b\u0027],\n+            [\u0027a\u0027, \u0027a\u0027],\n+            [\u0027a\u0027, \u0027[nameSpan] a\u0027],\n+            [\u0027\u0027, \u0027 \u0027],\n+            [\u0027b\u0027, \u0027b\u0027],\n+            [\u0027b\u0027, \u0027[nameSpan] b\u0027],\n+            [\u0027\u0027, \u0027 \u0027],\n+            [\u0027c\u0027, \u0027c\u0027],\n+            [\u0027c\u0027, \u0027[nameSpan] c\u0027],\n+            [\u0027\u0027, \u0027 \u0027],\n+          ]);\n+        });\n+\n+        it(\u0027should produce spans for the arrow function parameters\u0027, () \u003d\u003e {\n+          const ast \u003d parseBinding(\u0027(foo, bar, baz) \u003d\u003e foo + bar + baz\u0027);\n+          const arrowFn \u003d ast.ast as ArrowFunction;\n+          const getSource \u003d (span: ParseSpan) \u003d\u003e ast.source?.substring(span.start, span.end);\n+\n+          expect(getSource(arrowFn.parameters[0].span)).toBe(\u0027foo\u0027);\n+          expect(getSource(arrowFn.parameters[1].span)).toBe(\u0027bar\u0027);\n+          expect(getSource(arrowFn.parameters[2].span)).toBe(\u0027baz\u0027);\n+        });\n+      });\n+\n+      describe(\u0027arrow function validations\u0027, () \u003d\u003e {\n+        it(\u0027should not allow pipe to be used inside an arrow function\u0027, () \u003d\u003e {\n+          expectBindingError(\n+            \u0027(a, b) \u003d\u003e (a + b | pipe)\u0027,\n+            \u0027Cannot have a pipe in an action expression\u0027,\n+          );\n+        });\n+\n+        it(\u0027should report an error for an arrow function with a body\u0027, () \u003d\u003e {\n+          expectBindingError(\u0027() \u003d\u003e {}\u0027, \u0027Multi-line arrow functions are not supported\u0027);\n+        });\n+\n+        it(\u0027should report missing comma between arrow function parameters\u0027, () \u003d\u003e {\n+          expectBindingError(\u0027(a b) \u003d\u003e a + b\u0027, \u0027Missing expected ,\u0027);\n+        });\n+\n+        it(\u0027should report arrow function parameter starting with a comma\u0027, () \u003d\u003e {\n+          expectBindingError(\u0027(, a) \u003d\u003e a\u0027, \u0027Unexpected token ,\u0027);\n+        });\n+\n+        it(\u0027should report arrow function parameter with a trailing comma\u0027, () \u003d\u003e {\n+          expectBindingError(\u0027(a, ) \u003d\u003e a\u0027, \u0027Unexpected token )\u0027);\n+        });\n+\n+        it(\u0027should report an arrow function without a closing paren\u0027, () \u003d\u003e {\n+          expectBindingError(\n+            \u0027(a \u003d\u003e a + 1\u0027,\n+            \u0027Missing closing parentheses at the end of the expression\u0027,\n+          );\n+        });\n+\n+        it(\u0027should report an arrow function without an opening paren\u0027, () \u003d\u003e {\n+          expectBindingError(\u0027a) \u003d\u003e a + 1\u0027, \"Unexpected token \u0027)\u0027\");\n+        });\n+\n+        it(\u0027should report missing comma between arrow function parameters\u0027, () \u003d\u003e {\n+          expectBindingError(\u0027(a b) \u003d\u003e a + b\u0027, \u0027Missing expected ,\u0027);\n+        });\n+\n+        it(\u0027should report an error inside the arrow function expression\u0027, () \u003d\u003e {\n+          expectBindingError(\u0027(a) \u003d\u003e a. + 1\u0027, \u0027Unexpected token +, expected identifier or keyword\u0027);\n+        });\n+\n+        it(\u0027should report an error for chained expression in arrow function\u0027, () \u003d\u003e {\n+          expectBindingError(\n+            \u0027() \u003d\u003e foo(); bar()\u0027,\n+            \u0027Binding expression cannot contain chained expression\u0027,\n+          );\n+          expectBindingError(\n+            \u0027() \u003d\u003e (foo; bar)\u0027,\n+            \u0027Binding expression cannot contain chained expression\u0027,\n+          );\n+        });\n+      });\n+    });\n   });\n \n   describe(\u0027parseTemplateBindings\u0027, () \u003d\u003e {","expectedMessage":"refactor(compiler): add arrow function parsing","repository":"angular","commitHash":"f05d08f4323663d1d649beb4143b20f2f1fe66f6","metadata":{"author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e"}}
{"id":"angular-ab536f8f","diff":" packages/compiler/src/expression_parser/ast.ts     | 29 ++++++++++++++++++++++\n .../compiler/src/expression_parser/serializer.ts   | 12 +++++++++\n .../test/expression_parser/utils/unparser.ts       | 11 ++++++++\n .../test/expression_parser/utils/validator.ts      |  5 ++++\n packages/compiler/test/render3/util/expression.ts  |  5 ++++\n 5 files changed, 62 insertions(+)\n\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex c2908e10..abefe44e 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -542,6 +542,31 @@ export class ParenthesizedExpression extends AST {\n   }\n }\n \n+export class ArrowFunctionIdentifierParameter {\n+  constructor(\n+    public name: string,\n+    public span: ParseSpan,\n+    public sourceSpan: AbsoluteSourceSpan,\n+  ) {}\n+}\n+\n+export type ArrowFunctionParameter \u003d ArrowFunctionIdentifierParameter; // TODO(crisbeto): also rest parameters?\n+\n+export class ArrowFunction extends AST {\n+  constructor(\n+    span: ParseSpan,\n+    sourceSpan: AbsoluteSourceSpan,\n+    public parameters: ArrowFunctionParameter[],\n+    public body: AST,\n+  ) {\n+    super(span, sourceSpan);\n+  }\n+\n+  override visit(visitor: AstVisitor, context?: any) {\n+    return visitor.visitArrowFunction(this, context);\n+  }\n+}\n+\n export class RegularExpressionLiteral extends AST {\n   constructor(\n     span: ParseSpan,\n@@ -686,6 +711,7 @@ export interface AstVisitor {\n   visitTemplateLiteralElement(ast: TemplateLiteralElement, context: any): any;\n   visitTaggedTemplateLiteral(ast: TaggedTemplateLiteral, context: any): any;\n   visitParenthesizedExpression(ast: ParenthesizedExpression, context: any): any;\n+  visitArrowFunction(ast: ArrowFunction, context: any): any;\n   visitRegularExpressionLiteral(ast: RegularExpressionLiteral, context: any): any;\n   visitSpreadElement(ast: SpreadElement, context: any): any;\n   visitASTWithSource?(ast: ASTWithSource, context: any): any;\n@@ -791,6 +817,9 @@ export class RecursiveAstVisitor implements AstVisitor {\n   visitParenthesizedExpression(ast: ParenthesizedExpression, context: any) {\n     this.visit(ast.expression, context);\n   }\n+  visitArrowFunction(ast: ArrowFunction, context: any): any {\n+    this.visit(ast.body, context);\n+  }\n   visitRegularExpressionLiteral(ast: RegularExpressionLiteral, context: any) {}\n   visitSpreadElement(ast: SpreadElement, context: any) {\n     this.visit(ast.expression, context);\ndiff --git a/packages/compiler/src/expression_parser/serializer.ts b/packages/compiler/src/expression_parser/serializer.ts\nindex 68b311f6..79703527 100644\n--- a/packages/compiler/src/expression_parser/serializer.ts\n+++ b/packages/compiler/src/expression_parser/serializer.ts\n@@ -141,6 +141,18 @@ class SerializeExpressionVisitor implements expr.AstVisitor {\n     return `/${ast.body}/${ast.flags || \u0027\u0027}`;\n   }\n \n+  visitArrowFunction(ast: expr.ArrowFunction, context: any) {\n+    let params: string;\n+\n+    if (ast.parameters.length \u003d\u003d\u003d 1) {\n+      params \u003d ast.parameters[0].name;\n+    } else {\n+      params \u003d `(${ast.parameters.map((e) \u003d\u003e e.name).join(\u0027, \u0027)})`;\n+    }\n+\n+    return `${params} \u003d\u003e ${ast.body.visit(this, context)}`;\n+  }\n+\n   visitASTWithSource(ast: expr.ASTWithSource, context: any): string {\n     return ast.ast.visit(this, context);\n   }\ndiff --git a/packages/compiler/test/expression_parser/utils/unparser.ts b/packages/compiler/test/expression_parser/utils/unparser.ts\nindex 9677d74f..6bea18a1 100644\n--- a/packages/compiler/test/expression_parser/utils/unparser.ts\n+++ b/packages/compiler/test/expression_parser/utils/unparser.ts\n@@ -7,6 +7,7 @@\n  */\n \n import {\n+  ArrowFunction,\n   AST,\n   AstVisitor,\n   ASTWithSource,\n@@ -254,6 +255,16 @@ class Unparser implements AstVisitor {\n     this._visit(ast.expression);\n   }\n \n+  visitArrowFunction(ast: ArrowFunction, context: any) {\n+    if (ast.parameters.length \u003d\u003d\u003d 1) {\n+      this._expression +\u003d ast.parameters[0].name;\n+    } else {\n+      this._expression +\u003d `(${ast.parameters.map((e) \u003d\u003e e.name).join(\u0027, \u0027)})`;\n+    }\n+    this._expression +\u003d \u0027 \u003d\u003e \u0027;\n+    this._visit(ast.body);\n+  }\n+\n   private _visit(ast: AST) {\n     ast.visit(this);\n   }\ndiff --git a/packages/compiler/test/expression_parser/utils/validator.ts b/packages/compiler/test/expression_parser/utils/validator.ts\nindex d65a5ca7..b1b949b3 100644\n--- a/packages/compiler/test/expression_parser/utils/validator.ts\n+++ b/packages/compiler/test/expression_parser/utils/validator.ts\n@@ -7,6 +7,7 @@\n  */\n \n import {\n+  ArrowFunction,\n   AST,\n   Binary,\n   BindingPipe,\n@@ -165,6 +166,10 @@ class ASTValidator extends RecursiveAstVisitor {\n   override visitSpreadElement(ast: SpreadElement, context: any): void {\n     this.validate(ast, () \u003d\u003e super.visitSpreadElement(ast, context));\n   }\n+\n+  override visitArrowFunction(ast: ArrowFunction, context: any) {\n+    this.validate(ast, () \u003d\u003e super.visitArrowFunction(ast, context));\n+  }\n }\n \n function inSpan(span: ParseSpan, parentSpan: ParseSpan | undefined): parentSpan is ParseSpan {\ndiff --git a/packages/compiler/test/render3/util/expression.ts b/packages/compiler/test/render3/util/expression.ts\nindex 0e1b6f1d..e9eb3375 100644\n--- a/packages/compiler/test/render3/util/expression.ts\n+++ b/packages/compiler/test/render3/util/expression.ts\n@@ -136,6 +136,11 @@ class ExpressionSourceHumanizer extends e.RecursiveAstVisitor implements t.Visit\n     super.visitSpreadElement(ast, null);\n   }\n \n+  override visitArrowFunction(ast: e.ArrowFunction) {\n+    this.recordAst(ast);\n+    super.visitArrowFunction(ast, null);\n+  }\n+\n   visitTemplate(ast: t.Template) {\n     t.visitAll(this, ast.directives);\n     t.visitAll(this, ast.children);","expectedMessage":"refactor(compiler): add AST nodes for arrow functions","repository":"angular","commitHash":"ab536f8f326c316b46f06440e93ea5fd4f403360","metadata":{"author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e"}}
{"id":"angular-d01e54de","diff":" packages/compiler/src/expression_parser/lexer.ts   | 28 +++++++++++++++-------\n .../compiler/test/expression_parser/lexer_spec.ts  | 24 +++++++++++++++++++\n 2 files changed, 44 insertions(+), 8 deletions(-)\n\ndiff --git a/packages/compiler/src/expression_parser/lexer.ts b/packages/compiler/src/expression_parser/lexer.ts\nindex f18bfc27..c91bf800 100644\n--- a/packages/compiler/src/expression_parser/lexer.ts\n+++ b/packages/compiler/src/expression_parser/lexer.ts\n@@ -343,15 +343,9 @@ class _Scanner {\n       case chars.$GT:\n         return this.scanComplexOperator(start, String.fromCharCode(peek), chars.$EQ, \u0027\u003d\u0027);\n       case chars.$BANG:\n+        return this.scanComplexOperator(start, \u0027!\u0027, chars.$EQ, \u0027\u003d\u0027, chars.$EQ, \u0027\u003d\u0027);\n       case chars.$EQ:\n-        return this.scanComplexOperator(\n-          start,\n-          String.fromCharCode(peek),\n-          chars.$EQ,\n-          \u0027\u003d\u0027,\n-          chars.$EQ,\n-          \u0027\u003d\u0027,\n-        );\n+        return this.scanEquals(start);\n       case chars.$AMPERSAND:\n         return this.scanComplexOperator(start, \u0027\u0026\u0027, chars.$AMPERSAND, \u0027\u0026\u0027, chars.$EQ, \u0027\u003d\u0027);\n       case chars.$BAR:\n@@ -424,6 +418,24 @@ class _Scanner {\n     return newOperatorToken(start, this.index, str);\n   }\n \n+  private scanEquals(start: number): Token {\n+    this.advance();\n+    let str: string \u003d \u0027\u003d\u0027;\n+    if (this.peek \u003d\u003d\u003d chars.$EQ) {\n+      this.advance();\n+      str +\u003d \u0027\u003d\u0027;\n+    } else if (this.peek \u003d\u003d\u003d chars.$GT) {\n+      this.advance();\n+      str +\u003d \u0027\u003e\u0027;\n+      return newOperatorToken(start, this.index, str);\n+    }\n+    if (this.peek \u003d\u003d\u003d chars.$EQ) {\n+      this.advance();\n+      str +\u003d \u0027\u003d\u0027;\n+    }\n+    return newOperatorToken(start, this.index, str);\n+  }\n+\n   private scanIdentifier(): Token {\n     const start: number \u003d this.index;\n     this.advance();\ndiff --git a/packages/compiler/test/expression_parser/lexer_spec.ts b/packages/compiler/test/expression_parser/lexer_spec.ts\nindex 31cbbba8..00ebb071 100644\n--- a/packages/compiler/test/expression_parser/lexer_spec.ts\n+++ b/packages/compiler/test/expression_parser/lexer_spec.ts\n@@ -967,6 +967,30 @@ describe(\u0027lexer\u0027, () \u003d\u003e {\n           \u0027Lexer Error: Unterminated regular expression at column 2 in expression [/a]\u0027,\n         );\n       });\n+\n+      it(\u0027should tokenize an arrow function without parenthesis\u0027, () \u003d\u003e {\n+        const tokens \u003d lex(\u0027a \u003d\u003e a + 1\u0027);\n+        expect(tokens.length).toBe(5);\n+        expectIdentifierToken(tokens[0], 0, 1, \u0027a\u0027);\n+        expectOperatorToken(tokens[1], 2, 4, \u0027\u003d\u003e\u0027);\n+        expectIdentifierToken(tokens[2], 5, 6, \u0027a\u0027);\n+        expectOperatorToken(tokens[3], 7, 8, \u0027+\u0027);\n+        expectNumberToken(tokens[4], 9, 10, 1);\n+      });\n+\n+      it(\u0027should tokenize an arrow function with parenthesis\u0027, () \u003d\u003e {\n+        const tokens \u003d lex(\u0027(a, b) \u003d\u003e a + b\u0027);\n+        expect(tokens.length).toBe(9);\n+        expectCharacterToken(tokens[0], 0, 1, \u0027(\u0027);\n+        expectIdentifierToken(tokens[1], 1, 2, \u0027a\u0027);\n+        expectCharacterToken(tokens[2], 2, 3, \u0027,\u0027);\n+        expectIdentifierToken(tokens[3], 4, 5, \u0027b\u0027);\n+        expectCharacterToken(tokens[4], 5, 6, \u0027)\u0027);\n+        expectOperatorToken(tokens[5], 7, 9, \u0027\u003d\u003e\u0027);\n+        expectIdentifierToken(tokens[6], 10, 11, \u0027a\u0027);\n+        expectOperatorToken(tokens[7], 12, 13, \u0027+\u0027);\n+        expectIdentifierToken(tokens[8], 14, 15, \u0027b\u0027);\n+      });\n     });\n   });\n });","expectedMessage":"refactor(compiler): tokenize \u003d\u003e","repository":"angular","commitHash":"d01e54dea4b853d0110f41adcb7d544abd33c8fd","metadata":{"author":"Kristiyan Kostadinov \u003ccrisbeto@abv.bg\u003e"}}
{"id":"angular-da364d26","diff":" .../bundling/router/bundle.golden_symbols.json     |   1 +\n packages/router/src/events.ts                      |   9 +-\n packages/router/src/navigation_transition.ts       |  33 ++++-\n packages/router/src/router.ts                      |  12 +-\n .../src/statemanager/navigation_state_manager.ts   | 150 +++++++++++++++++----\n packages/router/src/statemanager/state_manager.ts  |   8 +-\n .../duplicate_in_flight_navigations.spec.ts        |  24 +++-\n .../router/test/integration/integration.spec.ts    |   2 +-\n .../router/test/integration/navigation.spec.ts     |   3 +-\n .../router/test/with_platform_navigation.spec.ts   |   8 +-\n 10 files changed, 198 insertions(+), 52 deletions(-)\n\ndiff --git a/packages/core/test/bundling/router/bundle.golden_symbols.json b/packages/core/test/bundling/router/bundle.golden_symbols.json\nindex 766d50bd..8f745535 100644\n--- a/packages/core/test/bundling/router/bundle.golden_symbols.json\n+++ b/packages/core/test/bundling/router/bundle.golden_symbols.json\n@@ -29,6 +29,7 @@\n       \"BROWSER_MODULE_PROVIDERS\",\n       \"BaseRouteReuseStrategy\",\n       \"BeforeActivateRoutes\",\n+      \"BeforeRoutesRecognized\",\n       \"BehaviorSubject\",\n       \"BrowserDomAdapter\",\n       \"BrowserPlatformLocation\",\ndiff --git a/packages/router/src/events.ts b/packages/router/src/events.ts\nindex 734432ae..8a3e6f81 100644\n--- a/packages/router/src/events.ts\n+++ b/packages/router/src/events.ts\n@@ -630,15 +630,20 @@ export class Scroll {\n }\n \n export class BeforeActivateRoutes {}\n+export class BeforeRoutesRecognized {}\n export class RedirectRequest {\n   constructor(\n     readonly url: UrlTree,\n     readonly navigationBehaviorOptions: NavigationBehaviorOptions | undefined,\n   ) {}\n }\n-export type PrivateRouterEvents \u003d BeforeActivateRoutes | RedirectRequest;\n+export type PrivateRouterEvents \u003d BeforeActivateRoutes | RedirectRequest | BeforeRoutesRecognized;\n export function isPublicRouterEvent(e: Event | PrivateRouterEvents): e is Event {\n-  return !(e instanceof BeforeActivateRoutes) \u0026\u0026 !(e instanceof RedirectRequest);\n+  return (\n+    !(e instanceof BeforeActivateRoutes) \u0026\u0026\n+    !(e instanceof RedirectRequest) \u0026\u0026\n+    !(e instanceof BeforeRoutesRecognized)\n+  );\n }\n \n /**\ndiff --git a/packages/router/src/navigation_transition.ts b/packages/router/src/navigation_transition.ts\nindex 9163113b..38f06947 100644\n--- a/packages/router/src/navigation_transition.ts\n+++ b/packages/router/src/navigation_transition.ts\n@@ -27,6 +27,7 @@ import {createRouterState} from \u0027./create_router_state\u0027;\n import {INPUT_BINDER} from \u0027./directives/router_outlet\u0027;\n import {\n   BeforeActivateRoutes,\n+  BeforeRoutesRecognized,\n   Event,\n   GuardsCheckEnd,\n   GuardsCheckStart,\n@@ -296,6 +297,11 @@ export interface Navigation {\n    * This function is a no-op if the navigation is beyond the point where it can be aborted.\n    */\n   readonly abort: () \u003d\u003e void;\n+\n+  /** @internal */\n+  routesRecognizeHandler: {deferredHandle?: Promise\u003cvoid\u003e};\n+  /** @internal */\n+  beforeActivateHandler: {deferredHandle?: Promise\u003cvoid\u003e};\n }\n \n const noop \u003d () \u003d\u003e {};\n@@ -319,6 +325,9 @@ export interface NavigationTransition {\n   targetRouterState: RouterState | null;\n   guards: Checks;\n   guardsResult: GuardResult | null;\n+\n+  routesRecognizeHandler: {deferredHandle?: Promise\u003cvoid\u003e};\n+  beforeActivateHandler: {deferredHandle?: Promise\u003cvoid\u003e};\n }\n \n export const NAVIGATION_ERROR_HANDLER \u003d new InjectionToken\u003c\n@@ -418,6 +427,9 @@ export class NavigationTransitions {\n         guards: {canActivateChecks: [], canDeactivateChecks: []},\n         guardsResult: null,\n         id,\n+\n+        routesRecognizeHandler: {},\n+        beforeActivateHandler: {},\n       });\n     });\n   }\n@@ -472,6 +484,9 @@ export class NavigationTransitions {\n                     previousNavigation: null,\n                   },\n               abort: () \u003d\u003e abortController.abort(),\n+\n+              routesRecognizeHandler: t.routesRecognizeHandler,\n+              beforeActivateHandler: t.beforeActivateHandler,\n             });\n             const urlTransition \u003d\n               !router.navigated || this.isUpdatingInternalState() || this.isUpdatedBrowserUrl();\n@@ -534,7 +549,16 @@ export class NavigationTransitions {\n                     nav!.finalUrl \u003d t.urlAfterRedirects;\n                     return nav;\n                   });\n+                  this.events.next(new BeforeRoutesRecognized());\n+                }),\n \n+                switchMap((value) \u003d\u003e\n+                  from(\n+                    overallTransitionState.routesRecognizeHandler.deferredHandle ?? of(void 0),\n+                  ).pipe(map(() \u003d\u003e value)),\n+                ),\n+\n+                tap(() \u003d\u003e {\n                   // Fire RoutesRecognized\n                   const routesRecognized \u003d new RoutesRecognized(\n                     t.id,\n@@ -735,7 +759,7 @@ export class NavigationTransitions {\n           // this is done as a safety measure to avoid surfacing this error (#49567).\n           take(1),\n \n-          map((t: NavigationTransition) \u003d\u003e {\n+          switchMap((t: NavigationTransition) \u003d\u003e {\n             const targetRouterState \u003d createRouterState(\n               router.routeReuseStrategy,\n               t.targetSnapshot!,\n@@ -748,10 +772,11 @@ export class NavigationTransitions {\n             });\n \n             this.events.next(new BeforeActivateRoutes());\n-            if (!shouldContinueNavigation()) {\n-              return;\n-            }\n+            const deferred \u003d overallTransitionState.beforeActivateHandler.deferredHandle;\n+            return deferred ? from(deferred.then(() \u003d\u003e t)) : of(t);\n+          }),\n \n+          tap((t: NavigationTransition) \u003d\u003e {\n             new ActivateRoutes(\n               router.routeReuseStrategy,\n               overallTransitionState.targetRouterState!,\ndiff --git a/packages/router/src/router.ts b/packages/router/src/router.ts\nindex ca63a0c5..5b796458 100644\n--- a/packages/router/src/router.ts\n+++ b/packages/router/src/router.ts\n@@ -293,6 +293,7 @@ export class Router {\n         this.location.path(true),\n         IMPERATIVE_NAVIGATION,\n         this.stateManager.restoredState(),\n+        {replaceUrl: true},\n       );\n     }\n   }\n@@ -307,9 +308,11 @@ export class Router {\n     // already patch onPopState, so location change callback will\n     // run into ngZone\n     this.nonRouterCurrentEntryChangeSubscription ??\u003d\n-      this.stateManager.registerNonRouterCurrentEntryChangeListener((url, state, source) \u003d\u003e {\n-        this.navigateToSyncWithBrowser(url, source, state);\n-      });\n+      this.stateManager.registerNonRouterCurrentEntryChangeListener(\n+        (url, state, source, extras) \u003d\u003e {\n+          this.navigateToSyncWithBrowser(url, source, state, extras);\n+        },\n+      );\n   }\n \n   /**\n@@ -323,9 +326,8 @@ export class Router {\n     url: string,\n     source: NavigationTrigger,\n     state: RestoredState | null | undefined,\n+    extras: NavigationExtras,\n   ) {\n-    const extras: NavigationExtras \u003d {replaceUrl: true};\n-\n     // TODO: restoredState should always include the entire state, regardless\n     // of navigationId. This requires a breaking change to update the type on\n     // NavigationStart’s restoredState, which currently requires navigationId\ndiff --git a/packages/router/src/statemanager/navigation_state_manager.ts b/packages/router/src/statemanager/navigation_state_manager.ts\nindex 0e74e8d1..8bfac6fa 100644\n--- a/packages/router/src/statemanager/navigation_state_manager.ts\n+++ b/packages/router/src/statemanager/navigation_state_manager.ts\n@@ -20,9 +20,14 @@ import {\n   ɵPRECOMMIT_HANDLER_SUPPORTED as PRECOMMIT_HANDLER_SUPPORTED,\n } from \u0027@angular/common\u0027;\n import {StateManager} from \u0027./state_manager\u0027;\n-import {RestoredState, Navigation as RouterNavigation} from \u0027../navigation_transition\u0027;\n+import {\n+  NavigationExtras,\n+  RestoredState,\n+  Navigation as RouterNavigation,\n+} from \u0027../navigation_transition\u0027;\n import {\n   BeforeActivateRoutes,\n+  BeforeRoutesRecognized,\n   isRedirectingEvent,\n   NavigationCancel,\n   NavigationCancellationCode,\n@@ -32,7 +37,6 @@ import {\n   NavigationStart,\n   NavigationTrigger,\n   PrivateRouterEvents,\n-  RoutesRecognized,\n } from \u0027../events\u0027;\n import {Subject, SubscriptionLike} from \u0027rxjs\u0027;\n import {UrlTree} from \u0027../url_tree\u0027;\n@@ -85,6 +89,7 @@ export class NavigationStateManager extends StateManager {\n     /** Function to resolve the intercepted navigation event. */\n     resolveHandler?: (v: void) \u003d\u003e void;\n     navigationEvent?: NavigateEvent;\n+    commitUrl?: () \u003d\u003e Promise\u003cvoid\u003e;\n   } \u003d {};\n \n   /**\n@@ -124,12 +129,18 @@ export class NavigationStateManager extends StateManager {\n       url: string,\n       state: RestoredState | null | undefined,\n       trigger: NavigationTrigger,\n+      extras: NavigationExtras,\n     ) \u003d\u003e void,\n   ): SubscriptionLike {\n     this.activeHistoryEntry \u003d this.navigation.currentEntry!;\n     this.nonRouterEntryChangeListener \u003d this.nonRouterCurrentEntryChangeSubject.subscribe(\n       ({path, state}) \u003d\u003e {\n-        listener(path, state, \u0027popstate\u0027);\n+        listener(\n+          path,\n+          state,\n+          \u0027popstate\u0027,\n+          !this.precommitHandlerSupported ? {replaceUrl: true} : {},\n+        );\n       },\n     );\n     return this.nonRouterEntryChangeListener;\n@@ -150,20 +161,46 @@ export class NavigationStateManager extends StateManager {\n     this.currentNavigation \u003d {...this.currentNavigation, routerTransition: transition};\n     if (e instanceof NavigationStart) {\n       this.updateStateMemento();\n+      // If we have precommit handler support, we can create a navigation\n+      // immediately and redirect it later.\n+      if (this.precommitHandlerSupported) {\n+        this.maybeCreateNavigationForTransition(transition);\n+      }\n     } else if (e instanceof NavigationSkipped) {\n       this.finishNavigation();\n       this.commitTransition(transition);\n-    } else if (e instanceof RoutesRecognized) {\n-      if (this.urlUpdateStrategy \u003d\u003d\u003d \u0027eager\u0027 \u0026\u0026 !transition.extras.skipLocationChange) {\n-        this.createNavigationForTransition(transition);\n-      }\n+    } else if (e instanceof BeforeRoutesRecognized) {\n+      transition.routesRecognizeHandler.deferredHandle \u003d new Promise\u003cvoid\u003e(async (resolve) \u003d\u003e {\n+        if (this.urlUpdateStrategy \u003d\u003d\u003d \u0027eager\u0027) {\n+          try {\n+            this.maybeCreateNavigationForTransition(transition);\n+            await this.currentNavigation.commitUrl?.();\n+          } catch {\n+            // If commit fails (e.g., precommitHandler rejects), abort.\n+            // The AbortSignal will notify\n+            return;\n+          }\n+        }\n+        resolve();\n+      });\n     } else if (e instanceof BeforeActivateRoutes) {\n-      // Commit the internal router state.\n-      this.commitTransition(transition);\n-      if (this.urlUpdateStrategy \u003d\u003d\u003d \u0027deferred\u0027 \u0026\u0026 !transition.extras.skipLocationChange) {\n-        this.createNavigationForTransition(transition);\n-      }\n+      transition.beforeActivateHandler.deferredHandle \u003d new Promise\u003cvoid\u003e(async (resolve) \u003d\u003e {\n+        // If URL update strategy is \u0027deferred\u0027, commit the URL now (before activation).\n+        if (this.urlUpdateStrategy \u003d\u003d\u003d \u0027deferred\u0027) {\n+          try {\n+            this.maybeCreateNavigationForTransition(transition);\n+            await this.currentNavigation.commitUrl?.();\n+          } catch {\n+            return;\n+          }\n+        }\n+        // Commit the internal router state.\n+        this.commitTransition(transition);\n+        resolve();\n+      });\n     } else if (e instanceof NavigationCancel || e instanceof NavigationError) {\n+      // TODO(atscott): We want to keep the navigation event on redirects if\n+      // the URL wasn\u0027t committed yet rather than cancelling it.\n       void this.cancel(transition, e);\n     } else if (e instanceof NavigationEnd) {\n       const {resolveHandler, removeAbortListener} \u003d this.currentNavigation;\n@@ -183,17 +220,19 @@ export class NavigationStateManager extends StateManager {\n     }\n   }\n \n-  private createNavigationForTransition(transition: RouterNavigation) {\n-    const {navigationEvent} \u003d this.currentNavigation;\n-    // If we are currently handling a traversal navigation, we do not need a new navigation for it\n-    // because we are strictly restoring a previous state. If we are instead handling a navigation\n-    // initiated outside the router, we do need to replace it with a router-triggered navigation\n-    // to add the router-specific state.\n+  private maybeCreateNavigationForTransition(transition: RouterNavigation) {\n+    const {navigationEvent, commitUrl} \u003d this.currentNavigation;\n     if (\n-      navigationEvent \u0026\u0026\n-      (navigationEvent.navigationType \u003d\u003d\u003d \u0027traverse\u0027 ||\n-        navigationEvent.navigationType \u003d\u003d\u003d \u0027reload\u0027) \u0026\u0026\n-      this.eventAndRouterDestinationsMatch(navigationEvent, transition)\n+      // Presence of commitUrl function indicates the navigateEvent supports redirect\n+      commitUrl ||\n+      // If we are currently handling a traversal navigation, we do not need a new navigation for it\n+      // because we are strictly restoring a previous state. If we are instead handling a navigation\n+      // initiated outside the router, we do need to replace it with a router-triggered navigation\n+      // to add the router-specific state.\n+      (navigationEvent \u0026\u0026\n+        (navigationEvent.navigationType \u003d\u003d\u003d \u0027traverse\u0027 ||\n+          navigationEvent.navigationType \u003d\u003d\u003d \u0027reload\u0027) \u0026\u0026\n+        this.eventAndRouterDestinationsMatch(navigationEvent, transition))\n     ) {\n       return;\n     }\n@@ -258,6 +297,7 @@ export class NavigationStateManager extends StateManager {\n    * and resolving the post-commit handler promise. Clears the `currentNavigation` state.\n    */\n   private finishNavigation() {\n+    this.currentNavigation.commitUrl?.();\n     this.currentNavigation?.resolveHandler?.();\n     this.currentNavigation \u003d {};\n   }\n@@ -386,18 +426,66 @@ export class NavigationStateManager extends StateManager {\n       resolve: resolveHandler,\n       reject: rejectHandler,\n     } \u003d promiseWithResolvers\u003cvoid\u003e();\n+\n+    const {\n+      promise: precommitHandlerPromise,\n+      resolve: resolvePrecommitHandler,\n+      reject: rejectPrecommitHandler,\n+    } \u003d promiseWithResolvers\u003cvoid\u003e();\n+    this.currentNavigation.rejectNavigateEvent \u003d () \u003d\u003e {\n+      event.signal.removeEventListener(\u0027abort\u0027, abortHandler);\n+      rejectPrecommitHandler();\n+      rejectHandler();\n+    };\n     this.currentNavigation.resolveHandler \u003d () \u003d\u003e {\n       this.currentNavigation.removeAbortListener?.();\n       resolveHandler();\n     };\n-    this.currentNavigation.rejectNavigateEvent \u003d () \u003d\u003e {\n-      this.currentNavigation.removeAbortListener?.();\n-      rejectHandler();\n-    };\n     // Prevent unhandled promise rejections from internal promises.\n     handlerPromise.catch(() \u003d\u003e {});\n+    precommitHandlerPromise.catch(() \u003d\u003e {});\n     interceptOptions.handler \u003d () \u003d\u003e handlerPromise;\n \n+    if (this.deferredCommitSupported(event)) {\n+      const redirect \u003d new Promise\u003c\n+        (url: string, options: {state: unknown; history?: \u0027push\u0027 | \u0027replace\u0027}) \u003d\u003e void\n+      \u003e((resolve) \u003d\u003e {\n+        // The `precommitHandler` option is not in the standard DOM types yet\n+        (interceptOptions as any).precommitHandler \u003d (controller: any) \u003d\u003e {\n+          resolve(controller.redirect.bind(controller));\n+          return precommitHandlerPromise;\n+        };\n+      });\n+      // `commitUrl` is a function that will be called by the router\u0027s lifecycle\n+      // (e.g., in `BeforeRoutesRecognized` or `BeforeActivateRoutes` depending on `urlUpdateStrategy`)\n+      // to actually perform the URL change via the Navigation API.\n+      this.currentNavigation.commitUrl \u003d async () \u003d\u003e {\n+        this.currentNavigation.commitUrl \u003d undefined; // Ensure it\u0027s only called once.\n+        const transition \u003d this.currentNavigation.routerTransition;\n+\n+        // If not skipping location change, use the `redirect` function (from `precommitHandler`\u0027s\n+        // controller) to perform the URL update with the correct state and history action.\n+        if (transition \u0026\u0026 !transition.extras.skipLocationChange) {\n+          const internalPath \u003d this.createBrowserPath(transition);\n+          const history \u003d\n+            this.location.isCurrentPathEqualTo(internalPath) || !!transition.extras.replaceUrl\n+              ? \u0027replace\u0027\n+              : \u0027push\u0027;\n+          const state \u003d {\n+            ...transition.extras.state,\n+            navigationId: transition.id,\n+          };\n+          // this might be a path or an actual URL depending on the baseHref\n+          const pathOrUrl \u003d this.location.prepareExternalUrl(internalPath);\n+          (await redirect)(pathOrUrl, {state, history});\n+        }\n+        resolvePrecommitHandler();\n+        // Wait for the Navigation API\u0027s own `committed` promise if available (part of transition object)\n+        // This ensures we respect the browser\u0027s timing for when the commit actually happens.\n+        return await this.navigation.transition?.committed;\n+      };\n+    }\n+\n     // Intercept the navigation event with the configured options.\n     event.intercept(interceptOptions);\n \n@@ -439,6 +527,16 @@ export class NavigationStateManager extends StateManager {\n     const routerDestination \u003d this.location.prepareExternalUrl(internalPath);\n     return new URL(routerDestination, eventDestination.origin).href \u003d\u003d\u003d eventDestination.href;\n   }\n+\n+  private deferredCommitSupported(event: NavigateEvent): boolean {\n+    return (\n+      this.precommitHandlerSupported \u0026\u0026\n+      // Cannot defer commit if not cancelable by the Navigation API\u0027s rules.\n+      event.cancelable \u0026\u0026\n+      // Deferring a traversal commit is currently problematic or not fully supported.\n+      event.navigationType !\u003d\u003d \u0027traverse\u0027\n+    );\n+  }\n }\n \n /**\ndiff --git a/packages/router/src/statemanager/state_manager.ts b/packages/router/src/statemanager/state_manager.ts\nindex dd32debb..3f9eed8e 100644\n--- a/packages/router/src/statemanager/state_manager.ts\n+++ b/packages/router/src/statemanager/state_manager.ts\n@@ -23,7 +23,7 @@ import {\n   PrivateRouterEvents,\n   RoutesRecognized,\n } from \u0027../events\u0027;\n-import {Navigation, RestoredState} from \u0027../navigation_transition\u0027;\n+import {Navigation, NavigationExtras, RestoredState} from \u0027../navigation_transition\u0027;\n import {ROUTER_CONFIGURATION} from \u0027../router_config\u0027;\n import {createEmptyState, RouterState} from \u0027../router_state\u0027;\n import {UrlHandlingStrategy} from \u0027../url_handling_strategy\u0027;\n@@ -143,6 +143,7 @@ export abstract class StateManager {\n       url: string,\n       state: RestoredState | null | undefined,\n       trigger: NavigationTrigger,\n+      extras: NavigationExtras,\n     ) \u003d\u003e void,\n   ): SubscriptionLike;\n \n@@ -183,6 +184,7 @@ export class HistoryStateManager extends StateManager {\n       url: string,\n       state: RestoredState | null | undefined,\n       trigger: NavigationTrigger,\n+      extras: NavigationExtras,\n     ) \u003d\u003e void,\n   ): SubscriptionLike {\n     return this.location.subscribe((event) \u003d\u003e {\n@@ -190,7 +192,9 @@ export class HistoryStateManager extends StateManager {\n         // The `setTimeout` was added in #12160 and is likely to support Angular/AngularJS\n         // hybrid apps.\n         setTimeout(() \u003d\u003e {\n-          listener(event[\u0027url\u0027]!, event.state as RestoredState | null | undefined, \u0027popstate\u0027);\n+          listener(event[\u0027url\u0027]!, event.state as RestoredState | null | undefined, \u0027popstate\u0027, {\n+            replaceUrl: true,\n+          });\n         });\n       }\n     });\ndiff --git a/packages/router/test/integration/duplicate_in_flight_navigations.spec.ts b/packages/router/test/integration/duplicate_in_flight_navigations.spec.ts\nindex 858a5c94..44b1a38f 100644\n--- a/packages/router/test/integration/duplicate_in_flight_navigations.spec.ts\n+++ b/packages/router/test/integration/duplicate_in_flight_navigations.spec.ts\n@@ -16,10 +16,17 @@ import {\n   NavigationStart,\n   GuardsCheckEnd,\n } from \u0027../../index\u0027;\n-import {createRoot, SimpleCmp, advance, RootCmp, BlankCmp} from \u0027./integration_helpers\u0027;\n+import {\n+  createRoot,\n+  SimpleCmp,\n+  advance,\n+  RootCmp,\n+  BlankCmp,\n+  simulateLocationChange,\n+} from \u0027./integration_helpers\u0027;\n import {timeout} from \u0027../helpers\u0027;\n \n-export function duplicateInFlightNavigationsIntegrationSuite() {\n+export function duplicateInFlightNavigationsIntegrationSuite(browserAPI: \u0027history\u0027 | \u0027navigation\u0027) {\n   describe(\u0027duplicate in-flight navigations\u0027, () \u003d\u003e {\n     @Injectable()\n     class RedirectingGuard {\n@@ -38,6 +45,12 @@ export function duplicateInFlightNavigationsIntegrationSuite() {\n     });\n \n     it(\u0027should reset location if a navigation by location is successful\u0027, async () \u003d\u003e {\n+      // we need eager URL update strategy for navigation-based routing to make the test assertions identical\n+      // with deferred routing, the navigation API is able to defer the commit for the first navigation\n+      // meaning that we _never_ transition to the /simple route entry.\n+      TestBed.configureTestingModule({\n+        providers: [provideRouter([], withRouterConfig({urlUpdateStrategy: \u0027eager\u0027}))],\n+      });\n       const router \u003d TestBed.inject(Router);\n       const location \u003d TestBed.inject(Location);\n       const fixture \u003d await createRoot(router, RootCmp);\n@@ -57,8 +70,8 @@ export function duplicateInFlightNavigationsIntegrationSuite() {\n       // - location change \u0027simple\u0027\n       // - the first location change gets canceled, the URL gets reset to \u0027/\u0027\n       // - the second location change gets finished, the URL should be reset to \u0027/simple\u0027\n-      location.go(\u0027/simple\u0027);\n-      location.historyGo(0);\n+      simulateLocationChange(\u0027/simple\u0027, browserAPI);\n+      await timeout();\n       location.historyGo(0);\n \n       await timeout(20);\n@@ -146,8 +159,7 @@ export function duplicateInFlightNavigationsIntegrationSuite() {\n       router.navigateByUrl(\u0027/home\u0027);\n       await advance(fixture);\n \n-      location.go(\u0027/blocked\u0027);\n-      location.historyGo(0);\n+      simulateLocationChange(\u0027/blocked\u0027, browserAPI);\n       await advance(fixture);\n       expect(location.path()).toEqual(\u0027/blocked\u0027);\n       expect(fixture.nativeElement.innerHTML).toContain(\u0027simple\u0027);\ndiff --git a/packages/router/test/integration/integration.spec.ts b/packages/router/test/integration/integration.spec.ts\nindex fe4ab082..4b0d8b56 100644\n--- a/packages/router/test/integration/integration.spec.ts\n+++ b/packages/router/test/integration/integration.spec.ts\n@@ -932,7 +932,7 @@ for (const browserAPI of [\u0027navigation\u0027, \u0027history\u0027] as const) {\n \n     navigationErrorsIntegrationSuite(browserAPI);\n     eagerUrlUpdateStrategyIntegrationSuite();\n-    duplicateInFlightNavigationsIntegrationSuite();\n+    duplicateInFlightNavigationsIntegrationSuite(browserAPI);\n     navigationIntegrationTestSuite(browserAPI);\n     routeDataIntegrationSuite();\n     routerLinkIntegrationSpec();\ndiff --git a/packages/router/test/integration/navigation.spec.ts b/packages/router/test/integration/navigation.spec.ts\nindex e0035dc7..05ca9deb 100644\n--- a/packages/router/test/integration/navigation.spec.ts\n+++ b/packages/router/test/integration/navigation.spec.ts\n@@ -317,8 +317,9 @@ export function navigationIntegrationTestSuite(browserAPI: \u0027history\u0027 | \u0027navigati\n       expect(navigation.extras.state).toEqual(state);\n \n       // Manually set state rather than using navigate()\n-      state \u003d {bar: \u0027foo\u0027};\n+      state \u003d {foo: \u0027replaced\u0027};\n       location.replaceState(location.path(), \u0027\u0027, state);\n+      await timeout();\n       location.back();\n       await timeout();\n       location.forward();\ndiff --git a/packages/router/test/with_platform_navigation.spec.ts b/packages/router/test/with_platform_navigation.spec.ts\nindex bda2980d..47b05cc6 100644\n--- a/packages/router/test/with_platform_navigation.spec.ts\n+++ b/packages/router/test/with_platform_navigation.spec.ts\n@@ -110,11 +110,8 @@ describe(\u0027withPlatformNavigation feature\u0027, () \u003d\u003e {\n           children: [],\n         },\n       ]);\n-      const {finished} \u003d navigation.navigate(\u0027/somepath\u0027);\n+      navigation.navigate(\u0027/somepath\u0027);\n       await timeout(5);\n-      // note that this finished promise will be rejected because the Router will create a separate \u0027replace\u0027 navigate\n-      // since we cannot redirect the original navigation without precommit handler support\n-      await expectAsync(finished).not.toBeResolved();\n       expect(navigation.transition).not.toBeNull();\n       await timeout(10);\n       expect(navigation.transition).toBeNull();\n@@ -133,7 +130,8 @@ describe(\u0027withPlatformNavigation feature\u0027, () \u003d\u003e {\n       // set up navigation\n       navigation.addEventListener(\n         \u0027navigate\u0027,\n-        (e: any) \u003d\u003e e.intercept({handler: () \u003d\u003e new Promise((_, reject) \u003d\u003e setTimeout(reject, 5))}),\n+        (e: any) \u003d\u003e\n+          e.intercept({precommitHandler: () \u003d\u003e new Promise((_, reject) \u003d\u003e setTimeout(reject, 5))}),\n         {once: true},\n       );\n ","expectedMessage":"refactor(router): Add support for precommitHandler in Navigation integration","repository":"angular","commitHash":"da364d26357efadac46c5bc6029cf32a19b214a7","metadata":{"author":"Andrew Scott \u003catscott@google.com\u003e"}}
{"id":"angular-4fb24cad","diff":" packages/compiler/src/expression_parser/ast.ts | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex 79d822c6..c2908e10 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -320,7 +320,7 @@ export class Binary extends AST {\n     return visitor.visitBinary(this, context);\n   }\n \n-  static isAssignmentOperation(op: string): boolean {\n+  static isAssignmentOperation(op: string): op is AssignmentOperation {\n     return (\n       op \u003d\u003d\u003d \u0027\u003d\u0027 ||\n       op \u003d\u003d\u003d \u0027+\u003d\u0027 ||","expectedMessage":"refactor(compiler): switch `Binary.isAssignmentOperation` to type guard function","repository":"angular","commitHash":"4fb24cadeefd3f67f77ad39be020f395ccd3e8fa","metadata":{"author":"fisker \u003clionkay@gmail.com\u003e"}}
{"id":"angular-ac865b51","diff":" .github/actions/saucelabs-legacy/action.yml        |  4 +-\n .github/workflows/adev-preview-build.yml           |  8 ++--\n .github/workflows/adev-preview-deploy.yml          |  2 +-\n .../workflows/assistant-to-the-branch-manager.yml  |  2 +-\n .github/workflows/benchmark-compare.yml            |  2 +-\n .github/workflows/ci.yml                           | 50 +++++++++++-----------\n .github/workflows/dev-infra.yml                    |  4 +-\n .github/workflows/google-internal-tests.yml        |  2 +-\n .github/workflows/manual.yml                       |  8 ++--\n .github/workflows/merge-ready-status.yml           |  2 +-\n .github/workflows/perf.yml                         |  6 +--\n .github/workflows/pr.yml                           | 40 ++++++++---------\n MODULE.bazel                                       |  2 +-\n MODULE.bazel.lock                                  |  4 +-\n package.json                                       |  2 +-\n pnpm-lock.yaml                                     | 12 +++---\n 16 files changed, 75 insertions(+), 75 deletions(-)\n\ndiff --git a/.github/actions/saucelabs-legacy/action.yml b/.github/actions/saucelabs-legacy/action.yml\nindex 3ee19a2f..2fadb315 100644\n--- a/.github/actions/saucelabs-legacy/action.yml\n+++ b/.github/actions/saucelabs-legacy/action.yml\n@@ -5,9 +5,9 @@ runs:\n   using: \u0027composite\u0027\n   steps:\n     - name: Setup Bazel\n-      uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+      uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n     - name: Setup Saucelabs Variables\n-      uses: angular/dev-infra/github-actions/saucelabs@bafd3f7659576492ebc91da242e1b025f2eceac6\n+      uses: angular/dev-infra/github-actions/saucelabs@35aed53714d63c798d350b2a698f6e0657567fae\n     - name: Starting Saucelabs tunnel service\n       shell: bash\n       run: ./tools/saucelabs/sauce-service.sh run \u0026\ndiff --git a/.github/workflows/adev-preview-build.yml b/.github/workflows/adev-preview-build.yml\nindex 9f15d736..04a4d397 100644\n--- a/.github/workflows/adev-preview-build.yml\n+++ b/.github/workflows/adev-preview-build.yml\n@@ -21,17 +21,17 @@ jobs:\n       (github.event.action \u003d\u003d \u0027synchronize\u0027 \u0026\u0026 contains(github.event.pull_request.labels.*.name, \u0027adev: preview\u0027))\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\n         # `snapshot-build` config is used to stamp the exact version with sha in the footer.\n         run: pnpm bazel build //adev:build.production --config\u003dsnapshot-build\n-      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@bafd3f7659576492ebc91da242e1b025f2eceac6\n+      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           workflow-artifact-name: \u0027adev-preview\u0027\n           pull-number: \u0027${{github.event.pull_request.number}}\u0027\ndiff --git a/.github/workflows/adev-preview-deploy.yml b/.github/workflows/adev-preview-deploy.yml\nindex ce823de8..76c537ac 100644\n--- a/.github/workflows/adev-preview-deploy.yml\n+++ b/.github/workflows/adev-preview-deploy.yml\n@@ -40,7 +40,7 @@ jobs:\n           npx -y firebase-tools@latest target:clear --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs\n           npx -y firebase-tools@latest target:apply --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs ${{env.PREVIEW_SITE}}\n \n-      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@bafd3f7659576492ebc91da242e1b025f2eceac6\n+      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           github-token: \u0027${{secrets.GITHUB_TOKEN}}\u0027\n           workflow-artifact-name: \u0027adev-preview\u0027\ndiff --git a/.github/workflows/assistant-to-the-branch-manager.yml b/.github/workflows/assistant-to-the-branch-manager.yml\nindex 3e2f930d..3c15f78e 100644\n--- a/.github/workflows/assistant-to-the-branch-manager.yml\n+++ b/.github/workflows/assistant-to-the-branch-manager.yml\n@@ -17,6 +17,6 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n         with:\n           persist-credentials: false\n-      - uses: angular/dev-infra/github-actions/branch-manager@bafd3f7659576492ebc91da242e1b025f2eceac6\n+      - uses: angular/dev-infra/github-actions/branch-manager@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/benchmark-compare.yml b/.github/workflows/benchmark-compare.yml\nindex d5562052..895bf2e8 100644\n--- a/.github/workflows/benchmark-compare.yml\n+++ b/.github/workflows/benchmark-compare.yml\n@@ -38,7 +38,7 @@ jobs:\n \n       - run: pnpm install --frozen-lockfile\n \n-      - uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+      - uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           bazelrc: ./.bazelrc.user\n \ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 719048dc..d834fd6b 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -21,7 +21,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -39,13 +39,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -67,11 +67,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -83,11 +83,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -100,11 +100,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -119,11 +119,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -136,11 +136,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: echo \"https://${{secrets.SNAPSHOT_BUILDS_GITHUB_TOKEN}}:@github.com\" \u003e ${HOME}/.git_credentials\n@@ -152,11 +152,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -206,11 +206,11 @@ jobs:\n     runs-on: ubuntu-latest-8core\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\ndiff --git a/.github/workflows/dev-infra.yml b/.github/workflows/dev-infra.yml\nindex 393d06d8..0b98fdf0 100644\n--- a/.github/workflows/dev-infra.yml\n+++ b/.github/workflows/dev-infra.yml\n@@ -13,13 +13,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/pull-request-labeling@bafd3f7659576492ebc91da242e1b025f2eceac6\n+      - uses: angular/dev-infra/github-actions/pull-request-labeling@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\n   post_approval_changes:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/post-approval-changes@bafd3f7659576492ebc91da242e1b025f2eceac6\n+      - uses: angular/dev-infra/github-actions/post-approval-changes@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/google-internal-tests.yml b/.github/workflows/google-internal-tests.yml\nindex e1d6d1fb..2aa61950 100644\n--- a/.github/workflows/google-internal-tests.yml\n+++ b/.github/workflows/google-internal-tests.yml\n@@ -14,7 +14,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/google-internal-tests@bafd3f7659576492ebc91da242e1b025f2eceac6\n+      - uses: angular/dev-infra/github-actions/google-internal-tests@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           run-tests-guide-url: http://go/angular-g3sync-start\n           github-token: ${{ secrets.GITHUB_TOKEN }}\ndiff --git a/.github/workflows/manual.yml b/.github/workflows/manual.yml\nindex bee56b55..4e171709 100644\n--- a/.github/workflows/manual.yml\n+++ b/.github/workflows/manual.yml\n@@ -13,15 +13,15 @@ jobs:\n       JOBS: 2\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Saucelabs Variables\n-        uses: angular/dev-infra/github-actions/saucelabs@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/saucelabs@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Set up Sauce Tunnel Daemon\n         run: pnpm bazel run //tools/saucelabs-daemon/background-service -- $JOBS \u0026\n         env:\ndiff --git a/.github/workflows/merge-ready-status.yml b/.github/workflows/merge-ready-status.yml\nindex 94f4a15b..d15befe2 100644\n--- a/.github/workflows/merge-ready-status.yml\n+++ b/.github/workflows/merge-ready-status.yml\n@@ -9,6 +9,6 @@ jobs:\n   status:\n     runs-on: ubuntu-latest\n     steps:\n-      - uses: angular/dev-infra/github-actions/unified-status-check@bafd3f7659576492ebc91da242e1b025f2eceac6\n+      - uses: angular/dev-infra/github-actions/unified-status-check@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/perf.yml b/.github/workflows/perf.yml\nindex 5f8450c1..95f45cd1 100644\n--- a/.github/workflows/perf.yml\n+++ b/.github/workflows/perf.yml\n@@ -21,7 +21,7 @@ jobs:\n       workflows: ${{ steps.workflows.outputs.workflows }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - id: workflows\n@@ -36,9 +36,9 @@ jobs:\n         workflow: ${{ fromJSON(needs.list.outputs.workflows) }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       # We utilize the google-github-actions/auth action to allow us to get an active credential using workflow\ndiff --git a/.github/workflows/pr.yml b/.github/workflows/pr.yml\nindex 1716578c..8a6f0709 100644\n--- a/.github/workflows/pr.yml\n+++ b/.github/workflows/pr.yml\n@@ -19,7 +19,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -37,7 +37,7 @@ jobs:\n       - name: Check code format\n         run: pnpm ng-dev format changed --check ${{ github.event.pull_request.base.sha }}\n       - name: Check Package Licenses\n-        uses: angular/dev-infra/github-actions/linting/licenses@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/linting/licenses@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           allow-dependencies-licenses: \u0027pkg:npm/google-protobuf@\u0027\n \n@@ -45,13 +45,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run unit tests\n@@ -71,11 +71,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run CI tests for framework\n@@ -95,11 +95,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run integration CI tests for framework\n@@ -110,11 +110,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -127,11 +127,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -142,11 +142,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/setup@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@35aed53714d63c798d350b2a698f6e0657567fae\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: |\ndiff --git a/MODULE.bazel b/MODULE.bazel\nindex 13bbb370..accf24e8 100644\n--- a/MODULE.bazel\n+++ b/MODULE.bazel\n@@ -25,7 +25,7 @@ git_override(\n bazel_dep(name \u003d \"devinfra\")\n git_override(\n     module_name \u003d \"devinfra\",\n-    commit \u003d \"bafd3f7659576492ebc91da242e1b025f2eceac6\",\n+    commit \u003d \"35aed53714d63c798d350b2a698f6e0657567fae\",\n     remote \u003d \"https://github.com/angular/dev-infra.git\",\n )\n \ndiff --git a/MODULE.bazel.lock b/MODULE.bazel.lock\nindex 50f74c0f..e89c322f 100644\n--- a/MODULE.bazel.lock\n+++ b/MODULE.bazel.lock\n@@ -413,7 +413,7 @@\n     \"@@aspect_rules_js+//npm:extensions.bzl%pnpm\": {\n       \"general\": {\n         \"bzlTransitiveDigest\": \"zVV86HvMwDBJ8IsFt27k/Sjq0vCMPr8b8X9OAuprQ6w\u003d\",\n-        \"usagesDigest\": \"3ECQVM1bdy/C4w7vxglaG1gt0S98v0T14gP5wNiDgwY\u003d\",\n+        \"usagesDigest\": \"8Uzd6dzyXra+HNd8+IjIL4wYFEK1geFrOrTHGnPzbJA\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},\n@@ -1087,7 +1087,7 @@\n     \"@@rules_nodejs+//nodejs:extensions.bzl%node\": {\n       \"general\": {\n         \"bzlTransitiveDigest\": \"NwcLXHrbh2hoorA/Ybmcpjxsn/6avQmewDglodkDrgo\u003d\",\n-        \"usagesDigest\": \"QbHTNODxV2P0w/Zs/oELuqv6ovXgi81f6SUYmX7dNhc\u003d\",\n+        \"usagesDigest\": \"txO8w8SJ815F73UDskruu7ifSH5shxVyk/nunkRR7es\u003d\",\n         \"recordedFileInputs\": {},\n         \"recordedDirentsInputs\": {},\n         \"envVariables\": {},\ndiff --git a/package.json b/package.json\nindex 40a05523..d67779d1 100644\n--- a/package.json\n+++ b/package.json\n@@ -163,7 +163,7 @@\n     \"@actions/core\": \"^2.0.0\",\n     \"@actions/github\": \"^6.0.0\",\n     \"@angular-devkit/architect-cli\": \"0.2101.0-rc.0\",\n-    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#c636ce022f1a3a09ecdbee4cf70d4997a8aa4342\",\n+    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#f30dd8ec010d080d3573903957d76a09661f389a\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\n     \"@babel/plugin-transform-async-generator-functions\": \"^7.27.1\",\n     \"@bazel/bazelisk\": \"^1.7.5\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 08ffb6e8..d1a2c047 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -342,8 +342,8 @@ importers:\n         specifier: 0.2101.0-rc.0\n         version: 0.2101.0-rc.0(chokidar@5.0.0)\n       \u0027@angular/ng-dev\u0027:\n-        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#c636ce022f1a3a09ecdbee4cf70d4997a8aa4342\n-        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/c636ce022f1a3a09ecdbee4cf70d4997a8aa4342(@modelcontextprotocol/sdk@1.25.2)\n+        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#f30dd8ec010d080d3573903957d76a09661f389a\n+        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/f30dd8ec010d080d3573903957d76a09661f389a(@modelcontextprotocol/sdk@1.25.2)\n       \u0027@babel/plugin-proposal-async-generator-functions\u0027:\n         specifier: 7.20.7\n         version: 7.20.7(@babel/core@7.28.5)\n@@ -1698,9 +1698,9 @@ packages:\n       \u0027@angular/platform-browser\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n       rxjs: ^6.5.3 || ^7.4.0\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/c636ce022f1a3a09ecdbee4cf70d4997a8aa4342\u0027:\n-    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/c636ce022f1a3a09ecdbee4cf70d4997a8aa4342}\n-    version: 0.0.0-bafd3f7659576492ebc91da242e1b025f2eceac6\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/f30dd8ec010d080d3573903957d76a09661f389a\u0027:\n+    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/f30dd8ec010d080d3573903957d76a09661f389a}\n+    version: 0.0.0-35aed53714d63c798d350b2a698f6e0657567fae\n     hasBin: true\n \n   \u0027@angular/ssr@21.1.0-rc.0\u0027:\n@@ -13951,7 +13951,7 @@ snapshots:\n       rxjs: 7.8.2\n       tslib: 2.8.1\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/c636ce022f1a3a09ecdbee4cf70d4997a8aa4342(@modelcontextprotocol/sdk@1.25.2)\u0027:\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/f30dd8ec010d080d3573903957d76a09661f389a(@modelcontextprotocol/sdk@1.25.2)\u0027:\n     dependencies:\n       \u0027@actions/core\u0027: 2.0.1\n       \u0027@google-cloud/spanner\u0027: 8.0.0(supports-color@10.2.2)","expectedMessage":"build: update cross-repo angular dependencies","repository":"angular","commitHash":"ac865b51f769d340719d9a62c2cc39fa2d976b38","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-94b70795","diff":" adev/shared-docs/services/search.service.ts | 23 +++++++++++++----------\n 1 file changed, 13 insertions(+), 10 deletions(-)\n\ndiff --git a/adev/shared-docs/services/search.service.ts b/adev/shared-docs/services/search.service.ts\nindex a557ebd2..eb44dfa4 100644\n--- a/adev/shared-docs/services/search.service.ts\n+++ b/adev/shared-docs/services/search.service.ts\n@@ -228,16 +228,19 @@ function matched(snippet: SnippetResult | undefined): boolean {\n  */\n function wait(ms: number, signal: AbortSignal): Promise\u003cvoid\u003e {\n   return new Promise\u003cvoid\u003e((resolve, reject) \u003d\u003e {\n-    const timeout \u003d setTimeout(() \u003d\u003e resolve(), ms);\n-\n-    signal.addEventListener(\n-      \u0027abort\u0027,\n-      () \u003d\u003e {\n-        clearTimeout(timeout);\n-        reject(new Error(\u0027Operation aborted\u0027));\n-      },\n-      {once: true},\n-    );\n+    let timeout: ReturnType\u003ctypeof setTimeout\u003e | undefined;\n+\n+    const onAbort \u003d () \u003d\u003e {\n+      clearTimeout(timeout);\n+      reject(new Error(\u0027Operation aborted\u0027));\n+    };\n+\n+    timeout \u003d setTimeout(() \u003d\u003e {\n+      signal.removeEventListener(\u0027abort\u0027, onAbort);\n+      resolve();\n+    }, ms);\n+\n+    signal.addEventListener(\u0027abort\u0027, onAbort, {once: true});\n   });\n }\n ","expectedMessage":"docs(docs-infra): avoid persistent AbortSignal listener in wait debounce in search","repository":"angular","commitHash":"94b707957a26acf73865630760a5c771911625a9","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-e3b32909","diff":" adev/src/content/guide/forms/form-validation.md | 4 ++--\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/adev/src/content/guide/forms/form-validation.md b/adev/src/content/guide/forms/form-validation.md\nindex ca5aad51..aa9c853c 100644\n--- a/adev/src/content/guide/forms/form-validation.md\n+++ b/adev/src/content/guide/forms/form-validation.md\n@@ -278,7 +278,7 @@ interface ActorsService {\n In a real world application, the `ActorsService` would be responsible for making an HTTP request to the actor database to check if the role is available.\n From the validator\u0027s point of view, the actual implementation of the service is not important, so the example can just code against the `ActorsService` interface.\n \n-As the validation begins, the `UnambiguousRoleValidator` delegates to the `ActorsService` `isRoleTaken()` method with the current control value.\n+As the validation begins, the `UniqueRoleValidator` delegates to the `ActorsService` `isRoleTaken()` method with the current control value.\n At this point the control is marked as `pending` and remains in this state until the observable chain returned from the `validate()` method completes.\n \n The `isRoleTaken()` method dispatches an HTTP request that checks if the role is available, and returns `Observable\u003cboolean\u003e` as the result.\n@@ -300,7 +300,7 @@ To use an async validator in reactive forms, begin by injecting the validator in\n \n Then, pass the validator function directly to the `FormControl` to apply it.\n \n-In the following example, the `validate` function of `UnambiguousRoleValidator` is applied to `roleControl` by passing it to the control\u0027s `asyncValidators` option and binding it to the instance of `UnambiguousRoleValidator` that was injected into `ActorFormReactiveComponent`.\n+In the following example, the `validate` function of `UniqueRoleValidator` is applied to `roleControl` by passing it to the control\u0027s `asyncValidators` option and binding it to the instance of `UniqueRoleValidator` that was injected into `ActorFormReactiveComponent`.\n The value of `asyncValidators` can be either a single async validator function, or an array of functions.\n To learn more about `FormControl` options, see the [AbstractControlOptions](api/forms/AbstractControlOptions) API reference.\n ","expectedMessage":"docs: replace UnambiguousRoleValidator in asyc-valdotors part form-validation.md","repository":"angular","commitHash":"e3b3290998e9d2f34985e6b658c4466437a00712","metadata":{"author":"Yahya-Almubarak \u003cyahya.sj.almubarak@gmail.com\u003e"}}
{"id":"angular-09234753","diff":" adev/src/content/ai/ai-tutor.md | 11 ++++++++++-\n 1 file changed, 10 insertions(+), 1 deletion(-)\n\ndiff --git a/adev/src/content/ai/ai-tutor.md b/adev/src/content/ai/ai-tutor.md\nindex fd3b01ae..7c922be0 100644\n--- a/adev/src/content/ai/ai-tutor.md\n+++ b/adev/src/content/ai/ai-tutor.md\n@@ -108,7 +108,7 @@ If the tutor doesn\u0027t respond correctly or you suspect an issue with your applica\n \n ## **Your Learning Journey: The Phased Path**\n \n-You will build your application over a four-phase journey. You can follow this path from start to finish to create a complete, fully-functional Angular application. Each module builds logically upon the last, taking you from the basics to advanced, real-world features.\n+You will build your application over a five-phase journey. You can follow this path from start to finish to create a complete, fully-functional Angular application. Each module builds logically upon the last, taking you from the basics to advanced, real-world features.\n \n **A Note on Automated Setup:** Some modules require a setup step, like creating interfaces or mock data. In these cases, the tutor will present you with the code and file instructions. You will be responsible for creating and modifying these files as instructed before the exercise begins.\n \n@@ -141,6 +141,15 @@ You will build your application over a four-phase journey. You can follow this p\n - **Module 16:** Introduction to Forms\n - **Module 17:** Intro to Angular Material\n \n+### **Phase 5: Experimental Signal Forms (⚠️ WARNING: Subject to Change)**\n+\n+**CRITICAL NOTE FOR THIS PHASE:** Signal Forms are currently an [**EXPERIMENTAL** feature](/reference/releases#experimental). The API may change significantly in future Angular releases. Please proceed with the understanding that this section demonstrates a cutting-edge feature.\n+\n+- **Module 18**: **Introduction to Signal Forms**\n+- **Module 19**: **Submitting \u0026 Resetting**\n+- **Module 20**: **Validation in Signal Forms**\n+- **Module 21**: **Field State \u0026 Error Messages**\n+\n ---\n \n ## **A Note on AI \u0026 Feedback**","expectedMessage":"docs: add ai tutor signal forms docs","repository":"angular","commitHash":"09234753e14aba458ccace0a891a99529b75095a","metadata":{"author":"Devin Chasanoff \u003cdevchas@google.com\u003e"}}
{"id":"angular-e6a8bb81","diff":" .github/actions/saucelabs-legacy/action.yml        |  4 +-\n .github/workflows/adev-preview-build.yml           |  8 ++--\n .github/workflows/adev-preview-deploy.yml          |  2 +-\n .../workflows/assistant-to-the-branch-manager.yml  |  2 +-\n .github/workflows/benchmark-compare.yml            |  2 +-\n .github/workflows/ci.yml                           | 50 +++++++++++-----------\n .github/workflows/dev-infra.yml                    |  4 +-\n .github/workflows/google-internal-tests.yml        |  2 +-\n .github/workflows/manual.yml                       |  8 ++--\n .github/workflows/merge-ready-status.yml           |  2 +-\n .github/workflows/perf.yml                         |  6 +--\n .github/workflows/pr.yml                           | 40 ++++++++---------\n MODULE.bazel                                       |  2 +-\n package.json                                       |  2 +-\n pnpm-lock.yaml                                     | 12 +++---\n 15 files changed, 73 insertions(+), 73 deletions(-)\n\ndiff --git a/.github/actions/saucelabs-legacy/action.yml b/.github/actions/saucelabs-legacy/action.yml\nindex 3ecaf41e..3ee19a2f 100644\n--- a/.github/actions/saucelabs-legacy/action.yml\n+++ b/.github/actions/saucelabs-legacy/action.yml\n@@ -5,9 +5,9 @@ runs:\n   using: \u0027composite\u0027\n   steps:\n     - name: Setup Bazel\n-      uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+      uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n     - name: Setup Saucelabs Variables\n-      uses: angular/dev-infra/github-actions/saucelabs@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+      uses: angular/dev-infra/github-actions/saucelabs@bafd3f7659576492ebc91da242e1b025f2eceac6\n     - name: Starting Saucelabs tunnel service\n       shell: bash\n       run: ./tools/saucelabs/sauce-service.sh run \u0026\ndiff --git a/.github/workflows/adev-preview-build.yml b/.github/workflows/adev-preview-build.yml\nindex 00ae3ab2..9f15d736 100644\n--- a/.github/workflows/adev-preview-build.yml\n+++ b/.github/workflows/adev-preview-build.yml\n@@ -21,17 +21,17 @@ jobs:\n       (github.event.action \u003d\u003d \u0027synchronize\u0027 \u0026\u0026 contains(github.event.pull_request.labels.*.name, \u0027adev: preview\u0027))\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\n         # `snapshot-build` config is used to stamp the exact version with sha in the footer.\n         run: pnpm bazel build //adev:build.production --config\u003dsnapshot-build\n-      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+      - uses: angular/dev-infra/github-actions/previews/pack-and-upload-artifact@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           workflow-artifact-name: \u0027adev-preview\u0027\n           pull-number: \u0027${{github.event.pull_request.number}}\u0027\ndiff --git a/.github/workflows/adev-preview-deploy.yml b/.github/workflows/adev-preview-deploy.yml\nindex cf55d029..ce823de8 100644\n--- a/.github/workflows/adev-preview-deploy.yml\n+++ b/.github/workflows/adev-preview-deploy.yml\n@@ -40,7 +40,7 @@ jobs:\n           npx -y firebase-tools@latest target:clear --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs\n           npx -y firebase-tools@latest target:apply --config adev/firebase.json --project ${{env.PREVIEW_PROJECT}} hosting angular-docs ${{env.PREVIEW_SITE}}\n \n-      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+      - uses: angular/dev-infra/github-actions/previews/upload-artifacts-to-firebase@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           github-token: \u0027${{secrets.GITHUB_TOKEN}}\u0027\n           workflow-artifact-name: \u0027adev-preview\u0027\ndiff --git a/.github/workflows/assistant-to-the-branch-manager.yml b/.github/workflows/assistant-to-the-branch-manager.yml\nindex 0a826c43..3e2f930d 100644\n--- a/.github/workflows/assistant-to-the-branch-manager.yml\n+++ b/.github/workflows/assistant-to-the-branch-manager.yml\n@@ -17,6 +17,6 @@ jobs:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n         with:\n           persist-credentials: false\n-      - uses: angular/dev-infra/github-actions/branch-manager@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+      - uses: angular/dev-infra/github-actions/branch-manager@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/benchmark-compare.yml b/.github/workflows/benchmark-compare.yml\nindex 47d691a1..d5562052 100644\n--- a/.github/workflows/benchmark-compare.yml\n+++ b/.github/workflows/benchmark-compare.yml\n@@ -38,7 +38,7 @@ jobs:\n \n       - run: pnpm install --frozen-lockfile\n \n-      - uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+      - uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           bazelrc: ./.bazelrc.user\n \ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex f23c9e89..719048dc 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -21,7 +21,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -39,13 +39,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -67,11 +67,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -83,11 +83,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -100,11 +100,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -119,11 +119,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -136,11 +136,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: echo \"https://${{secrets.SNAPSHOT_BUILDS_GITHUB_TOKEN}}:@github.com\" \u003e ${HOME}/.git_credentials\n@@ -152,11 +152,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           google_credential: ${{ secrets.RBE_TRUSTED_BUILDS_USER }}\n       - name: Install node modules\n@@ -206,11 +206,11 @@ jobs:\n     runs-on: ubuntu-latest-8core\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Build adev\ndiff --git a/.github/workflows/dev-infra.yml b/.github/workflows/dev-infra.yml\nindex a58fdd33..393d06d8 100644\n--- a/.github/workflows/dev-infra.yml\n+++ b/.github/workflows/dev-infra.yml\n@@ -13,13 +13,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/pull-request-labeling@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+      - uses: angular/dev-infra/github-actions/pull-request-labeling@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\n   post_approval_changes:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/post-approval-changes@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+      - uses: angular/dev-infra/github-actions/post-approval-changes@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/google-internal-tests.yml b/.github/workflows/google-internal-tests.yml\nindex 8bd3e365..e1d6d1fb 100644\n--- a/.github/workflows/google-internal-tests.yml\n+++ b/.github/workflows/google-internal-tests.yml\n@@ -14,7 +14,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1\n-      - uses: angular/dev-infra/github-actions/google-internal-tests@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+      - uses: angular/dev-infra/github-actions/google-internal-tests@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           run-tests-guide-url: http://go/angular-g3sync-start\n           github-token: ${{ secrets.GITHUB_TOKEN }}\ndiff --git a/.github/workflows/manual.yml b/.github/workflows/manual.yml\nindex de81d050..bee56b55 100644\n--- a/.github/workflows/manual.yml\n+++ b/.github/workflows/manual.yml\n@@ -13,15 +13,15 @@ jobs:\n       JOBS: 2\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Saucelabs Variables\n-        uses: angular/dev-infra/github-actions/saucelabs@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/saucelabs@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Set up Sauce Tunnel Daemon\n         run: pnpm bazel run //tools/saucelabs-daemon/background-service -- $JOBS \u0026\n         env:\ndiff --git a/.github/workflows/merge-ready-status.yml b/.github/workflows/merge-ready-status.yml\nindex 062edc70..94f4a15b 100644\n--- a/.github/workflows/merge-ready-status.yml\n+++ b/.github/workflows/merge-ready-status.yml\n@@ -9,6 +9,6 @@ jobs:\n   status:\n     runs-on: ubuntu-latest\n     steps:\n-      - uses: angular/dev-infra/github-actions/unified-status-check@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+      - uses: angular/dev-infra/github-actions/unified-status-check@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           angular-robot-key: ${{ secrets.ANGULAR_ROBOT_PRIVATE_KEY }}\ndiff --git a/.github/workflows/perf.yml b/.github/workflows/perf.yml\nindex e90abc3c..5f8450c1 100644\n--- a/.github/workflows/perf.yml\n+++ b/.github/workflows/perf.yml\n@@ -21,7 +21,7 @@ jobs:\n       workflows: ${{ steps.workflows.outputs.workflows }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - id: workflows\n@@ -36,9 +36,9 @@ jobs:\n         workflow: ${{ fromJSON(needs.list.outputs.workflows) }}\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       # We utilize the google-github-actions/auth action to allow us to get an active credential using workflow\ndiff --git a/.github/workflows/pr.yml b/.github/workflows/pr.yml\nindex 221d2dcd..1716578c 100644\n--- a/.github/workflows/pr.yml\n+++ b/.github/workflows/pr.yml\n@@ -19,7 +19,7 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Check code lint\n@@ -37,7 +37,7 @@ jobs:\n       - name: Check code format\n         run: pnpm ng-dev format changed --check ${{ github.event.pull_request.base.sha }}\n       - name: Check Package Licenses\n-        uses: angular/dev-infra/github-actions/linting/licenses@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/linting/licenses@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           allow-dependencies-licenses: \u0027pkg:npm/google-protobuf@\u0027\n \n@@ -45,13 +45,13 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n         with:\n           disable-package-manager-cache: true\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run unit tests\n@@ -71,11 +71,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run CI tests for framework\n@@ -95,11 +95,11 @@ jobs:\n     runs-on: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel Remote Caching\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run integration CI tests for framework\n@@ -110,11 +110,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -127,11 +127,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - name: Run tests\n@@ -142,11 +142,11 @@ jobs:\n       labels: ubuntu-latest\n     steps:\n       - name: Initialize environment\n-        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/npm/checkout-and-setup-node@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel\n-        uses: angular/dev-infra/github-actions/bazel/setup@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/setup@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Setup Bazel RBE\n-        uses: angular/dev-infra/github-actions/bazel/configure-remote@2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+        uses: angular/dev-infra/github-actions/bazel/configure-remote@bafd3f7659576492ebc91da242e1b025f2eceac6\n       - name: Install node modules\n         run: pnpm install --frozen-lockfile\n       - run: |\ndiff --git a/MODULE.bazel b/MODULE.bazel\nindex 8eb65f2d..13bbb370 100644\n--- a/MODULE.bazel\n+++ b/MODULE.bazel\n@@ -25,7 +25,7 @@ git_override(\n bazel_dep(name \u003d \"devinfra\")\n git_override(\n     module_name \u003d \"devinfra\",\n-    commit \u003d \"2ff164a0ca60e692f3d7e1a982bde9bf3379365e\",\n+    commit \u003d \"bafd3f7659576492ebc91da242e1b025f2eceac6\",\n     remote \u003d \"https://github.com/angular/dev-infra.git\",\n )\n \ndiff --git a/package.json b/package.json\nindex 00027330..40a05523 100644\n--- a/package.json\n+++ b/package.json\n@@ -163,7 +163,7 @@\n     \"@actions/core\": \"^2.0.0\",\n     \"@actions/github\": \"^6.0.0\",\n     \"@angular-devkit/architect-cli\": \"0.2101.0-rc.0\",\n-    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#aa7c82b72ce2b129565cc0905199c2492a813c87\",\n+    \"@angular/ng-dev\": \"https://github.com/angular/dev-infra-private-ng-dev-builds.git#c636ce022f1a3a09ecdbee4cf70d4997a8aa4342\",\n     \"@babel/plugin-proposal-async-generator-functions\": \"7.20.7\",\n     \"@babel/plugin-transform-async-generator-functions\": \"^7.27.1\",\n     \"@bazel/bazelisk\": \"^1.7.5\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 5667d412..08ffb6e8 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -342,8 +342,8 @@ importers:\n         specifier: 0.2101.0-rc.0\n         version: 0.2101.0-rc.0(chokidar@5.0.0)\n       \u0027@angular/ng-dev\u0027:\n-        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#aa7c82b72ce2b129565cc0905199c2492a813c87\n-        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/aa7c82b72ce2b129565cc0905199c2492a813c87(@modelcontextprotocol/sdk@1.25.2)\n+        specifier: https://github.com/angular/dev-infra-private-ng-dev-builds.git#c636ce022f1a3a09ecdbee4cf70d4997a8aa4342\n+        version: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/c636ce022f1a3a09ecdbee4cf70d4997a8aa4342(@modelcontextprotocol/sdk@1.25.2)\n       \u0027@babel/plugin-proposal-async-generator-functions\u0027:\n         specifier: 7.20.7\n         version: 7.20.7(@babel/core@7.28.5)\n@@ -1698,9 +1698,9 @@ packages:\n       \u0027@angular/platform-browser\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n       rxjs: ^6.5.3 || ^7.4.0\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/aa7c82b72ce2b129565cc0905199c2492a813c87\u0027:\n-    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/aa7c82b72ce2b129565cc0905199c2492a813c87}\n-    version: 0.0.0-2ff164a0ca60e692f3d7e1a982bde9bf3379365e\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/c636ce022f1a3a09ecdbee4cf70d4997a8aa4342\u0027:\n+    resolution: {tarball: https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/c636ce022f1a3a09ecdbee4cf70d4997a8aa4342}\n+    version: 0.0.0-bafd3f7659576492ebc91da242e1b025f2eceac6\n     hasBin: true\n \n   \u0027@angular/ssr@21.1.0-rc.0\u0027:\n@@ -13951,7 +13951,7 @@ snapshots:\n       rxjs: 7.8.2\n       tslib: 2.8.1\n \n-  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/aa7c82b72ce2b129565cc0905199c2492a813c87(@modelcontextprotocol/sdk@1.25.2)\u0027:\n+  \u0027@angular/ng-dev@https://codeload.github.com/angular/dev-infra-private-ng-dev-builds/tar.gz/c636ce022f1a3a09ecdbee4cf70d4997a8aa4342(@modelcontextprotocol/sdk@1.25.2)\u0027:\n     dependencies:\n       \u0027@actions/core\u0027: 2.0.1\n       \u0027@google-cloud/spanner\u0027: 8.0.0(supports-color@10.2.2)","expectedMessage":"build: update cross-repo angular dependencies","repository":"angular","commitHash":"e6a8bb81f9f27534b4d24d68f45a62dc302b9493","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
{"id":"angular-7d985ce0","diff":" .../content/guide/forms/signals/field-state-management.md   | 10 +++++-----\n adev/src/content/guide/forms/signals/validation.md          | 13 +++++++++++++\n packages/forms/signals/src/api/structure.ts                 |  7 ++++---\n 3 files changed, 22 insertions(+), 8 deletions(-)\n\ndiff --git a/adev/src/content/guide/forms/signals/field-state-management.md b/adev/src/content/guide/forms/signals/field-state-management.md\nindex 093c6039..bfc9ddb6 100644\n--- a/adev/src/content/guide/forms/signals/field-state-management.md\n+++ b/adev/src/content/guide/forms/signals/field-state-management.md\n@@ -109,11 +109,11 @@ When checking validity in code, use `invalid()` instead of `!valid()` if you wan\n \n Access the array of validation errors with `errors()`. Each error object contains:\n \n-| Property  | Description                                                     |\n-| --------- | --------------------------------------------------------------- |\n-| `kind`    | The validation rule that failed (such as \"required\" or \"email\") |\n-| `message` | Optional human-readable error message                           |\n-| `field`   | Reference to the `FieldTree` where the error occurred           |\n+| Property    | Description                                                     |\n+| ----------- | --------------------------------------------------------------- |\n+| `kind`      | The validation rule that failed (such as \"required\" or \"email\") |\n+| `message`   | Optional human-readable error message                           |\n+| `fieldTree` | Reference to the `FieldTree` where the error occurred           |\n \n NOTE: The `message` property is optional. Validators can provide custom error messages, but if not specified, you may need to map error `kind` values to your own messages.\n \ndiff --git a/adev/src/content/guide/forms/signals/validation.md b/adev/src/content/guide/forms/signals/validation.md\nindex b1e0aa26..991a02a0 100644\n--- a/adev/src/content/guide/forms/signals/validation.md\n+++ b/adev/src/content/guide/forms/signals/validation.md\n@@ -461,6 +461,19 @@ export class UrlFormComponent {\n }\n ```\n \n+For submission errors that target specific fields, use the `fieldTree` property:\n+\n+```ts\n+// In a submit function\n+return [\n+  {\n+    fieldTree: registrationForm.username, // Target specific field\n+    kind: \u0027server\u0027,\n+    message: \u0027Username already taken\u0027,\n+  },\n+];\n+```\n+\n The validator function receives a `FieldContext` object with:\n \n | Property        | Type       | Description                                 |\ndiff --git a/packages/forms/signals/src/api/structure.ts b/packages/forms/signals/src/api/structure.ts\nindex 917e7081..8cf03ff9 100644\n--- a/packages/forms/signals/src/api/structure.ts\n+++ b/packages/forms/signals/src/api/structure.ts\n@@ -332,7 +332,7 @@ export function applyWhenValue(\n /**\n  * Submits a given `FieldTree` using the given action function and applies any submission errors\n  * resulting from the action to the field. Submission errors returned by the `action` will be integrated\n- * into the field as a `ValidationError` on the sub-field indicated by the `field` property of the\n+ * into the field as a `ValidationError` on the sub-field indicated by the `fieldTree` property of the\n  * submission error.\n  *\n  * @example\n@@ -341,8 +341,9 @@ export function applyWhenValue(\n  *   const result \u003d await myClient.registerNewUser(registrationForm().value());\n  *   if (result.errorCode \u003d\u003d\u003d myClient.ErrorCode.USERNAME_TAKEN) {\n  *     return [{\n- *       field: registrationForm.username,\n- *       error: {kind: \u0027server\u0027, message: \u0027Username already taken\u0027}\n+ *       fieldTree: registrationForm.username,\n+ *       kind: \u0027server\u0027,\n+ *       message: \u0027Username already taken\u0027\n  *     }];\n  *   }\n  *   return undefined;","expectedMessage":"docs(forms): Clarify returning errors from submit functions","repository":"angular","commitHash":"7d985ce08e521308c3bf90184b7916cb4f246183","metadata":{"author":"kirjs \u003ckirts@google.com\u003e"}}
{"id":"angular-a7e470a1","diff":" packages/compiler/src/expression_parser/ast.ts | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex b351da84..79d822c6 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -385,7 +385,7 @@ export class Unary extends Binary {\n   private constructor(\n     span: ParseSpan,\n     sourceSpan: AbsoluteSourceSpan,\n-    public operator: string,\n+    public operator: \u0027+\u0027 | \u0027-\u0027,\n     public expr: AST,\n     binaryOp: BinaryOperation,\n     binaryLeft: AST,","expectedMessage":"refactor(compiler): tighten `Unary.operator` type","repository":"angular","commitHash":"a7e470a1b38e70916bafdb754e5c37cf346332e4","metadata":{"author":"fisker \u003clionkay@gmail.com\u003e"}}
{"id":"angular-4d19408e","diff":" packages/compiler/src/expression_parser/ast.ts    | 12 +++++++++++-\n packages/compiler/src/expression_parser/parser.ts |  6 +++++-\n 2 files changed, 16 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex 099c4059..b351da84 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -268,7 +268,17 @@ export class Interpolation extends AST {\n   }\n }\n \n-type AssignmentOperation \u003d \u0027\u003d\u0027 | \u0027+\u003d\u0027 | \u0027-\u003d\u0027 | \u0027*\u003d\u0027 | \u0027/\u003d\u0027 | \u0027%\u003d\u0027 | \u0027**\u003d\u0027 | \u0027\u0026\u0026\u003d\u0027 | \u0027||\u003d\u0027 | \u0027??\u003d\u0027;\n+export type AssignmentOperation \u003d\n+  | \u0027\u003d\u0027\n+  | \u0027+\u003d\u0027\n+  | \u0027-\u003d\u0027\n+  | \u0027*\u003d\u0027\n+  | \u0027/\u003d\u0027\n+  | \u0027%\u003d\u0027\n+  | \u0027**\u003d\u0027\n+  | \u0027\u0026\u0026\u003d\u0027\n+  | \u0027||\u003d\u0027\n+  | \u0027??\u003d\u0027;\n type BinaryOperation \u003d\n   | AssignmentOperation\n   // Logical\ndiff --git a/packages/compiler/src/expression_parser/parser.ts b/packages/compiler/src/expression_parser/parser.ts\nindex a8e819e9..f8b404be 100644\n--- a/packages/compiler/src/expression_parser/parser.ts\n+++ b/packages/compiler/src/expression_parser/parser.ts\n@@ -56,6 +56,7 @@ import {\n   Unary,\n   VariableBinding,\n   VoidExpression,\n+  type AssignmentOperation,\n } from \u0027./ast\u0027;\n import {EOF, Lexer, StringTokenKind, Token, TokenType} from \u0027./lexer\u0027;\n export interface InterpolationPiece {\n@@ -730,7 +731,10 @@ class _ParseAST {\n     }\n   }\n \n-  private isAssignmentOperator(token: Token): boolean {\n+  private isAssignmentOperator(token: Token): token is Token \u0026 {\n+    type: typeof TokenType.Operator;\n+    strValue: AssignmentOperation;\n+  } {\n     return token.type \u003d\u003d\u003d TokenType.Operator \u0026\u0026 Binary.isAssignmentOperation(token.strValue);\n   }\n ","expectedMessage":"refactor: `_ParseAST.isAssignmentOperator` to type guard","repository":"angular","commitHash":"4d19408e9bfeadf2edfbdc68defdc66fcd002463","metadata":{"author":"fisker \u003clionkay@gmail.com\u003e"}}
{"id":"angular-07a08ab9","diff":" packages/compiler/src/expression_parser/ast.ts | 32 ++++++++++++++++++++++++--\n 1 file changed, 30 insertions(+), 2 deletions(-)\n\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex 2f6fcc18..099c4059 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -268,11 +268,39 @@ export class Interpolation extends AST {\n   }\n }\n \n+type AssignmentOperation \u003d \u0027\u003d\u0027 | \u0027+\u003d\u0027 | \u0027-\u003d\u0027 | \u0027*\u003d\u0027 | \u0027/\u003d\u0027 | \u0027%\u003d\u0027 | \u0027**\u003d\u0027 | \u0027\u0026\u0026\u003d\u0027 | \u0027||\u003d\u0027 | \u0027??\u003d\u0027;\n+type BinaryOperation \u003d\n+  | AssignmentOperation\n+  // Logical\n+  | \u0027\u0026\u0026\u0027\n+  | \u0027||\u0027\n+  | \u0027??\u0027\n+  // Equality\n+  | \u0027\u003d\u003d\u0027\n+  | \u0027!\u003d\u0027\n+  | \u0027\u003d\u003d\u003d\u0027\n+  | \u0027!\u003d\u003d\u0027\n+  // Relational\n+  | \u0027\u003c\u0027\n+  | \u0027\u003e\u0027\n+  | \u0027\u003c\u003d\u0027\n+  | \u0027\u003e\u003d\u0027\n+  | \u0027in\u0027\n+  // Additive\n+  | \u0027+\u0027\n+  | \u0027-\u0027\n+  // Multiplicative\n+  | \u0027*\u0027\n+  | \u0027%\u0027\n+  | \u0027/\u0027\n+  // Exponentiation\n+  | \u0027**\u0027;\n+\n export class Binary extends AST {\n   constructor(\n     span: ParseSpan,\n     sourceSpan: AbsoluteSourceSpan,\n-    public operation: string,\n+    public operation: BinaryOperation,\n     public left: AST,\n     public right: AST,\n   ) {\n@@ -349,7 +377,7 @@ export class Unary extends Binary {\n     sourceSpan: AbsoluteSourceSpan,\n     public operator: string,\n     public expr: AST,\n-    binaryOp: string,\n+    binaryOp: BinaryOperation,\n     binaryLeft: AST,\n     binaryRight: AST,\n   ) {","expectedMessage":"refactor(compiler): tighten `Binary.operation` type","repository":"angular","commitHash":"07a08ab9f8a209172c2f4a59169e5fde64e032ea","metadata":{"author":"fisker \u003clionkay@gmail.com\u003e"}}
{"id":"angular-04ba09a8","diff":" packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts | 13 ++++++-------\n packages/compiler/src/expression_parser/ast.ts              |  4 +++-\n 2 files changed, 9 insertions(+), 8 deletions(-)\n\ndiff --git a/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts b/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\nindex 1275ea57..36197ee3 100644\n--- a/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\n+++ b/packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts\n@@ -129,13 +129,6 @@ class AstTranslator implements AstVisitor {\n       ast \u003d ast.ast;\n     }\n \n-    // The `EmptyExpr` doesn\u0027t have a dedicated method on `AstVisitor`, so it\u0027s special cased here.\n-    if (ast instanceof EmptyExpr) {\n-      const res \u003d ts.factory.createIdentifier(\u0027undefined\u0027);\n-      addParseSpanInfo(res, ast.sourceSpan);\n-      return res;\n-    }\n-\n     // First attempt to let any custom resolution logic provide a translation for the given node.\n     const resolved \u003d this.maybeResolve(ast);\n     if (resolved !\u003d\u003d null) {\n@@ -494,6 +487,12 @@ class AstTranslator implements AstVisitor {\n     return node;\n   }\n \n+  visitEmptyExpr(ast: EmptyExpr, context: any) {\n+    const node \u003d ts.factory.createIdentifier(\u0027undefined\u0027);\n+    addParseSpanInfo(node, ast.sourceSpan);\n+    return node;\n+  }\n+\n   private convertToSafeCall(\n     ast: Call | SafeCall,\n     expr: ts.Expression,\ndiff --git a/packages/compiler/src/expression_parser/ast.ts b/packages/compiler/src/expression_parser/ast.ts\nindex 3d851bac..2f6fcc18 100644\n--- a/packages/compiler/src/expression_parser/ast.ts\n+++ b/packages/compiler/src/expression_parser/ast.ts\n@@ -47,7 +47,7 @@ export abstract class ASTWithName extends AST {\n \n export class EmptyExpr extends AST {\n   override visit(visitor: AstVisitor, context: any \u003d null) {\n-    // do nothing\n+    return visitor.visitEmptyExpr?.(this, context);\n   }\n }\n \n@@ -651,6 +651,7 @@ export interface AstVisitor {\n   visitRegularExpressionLiteral(ast: RegularExpressionLiteral, context: any): any;\n   visitSpreadElement(ast: SpreadElement, context: any): any;\n   visitASTWithSource?(ast: ASTWithSource, context: any): any;\n+  visitEmptyExpr?(ast: EmptyExpr, context: any): any;\n   /**\n    * This function is optionally defined to allow classes that implement this\n    * interface to selectively decide if the specified `ast` should be visited.\n@@ -756,6 +757,7 @@ export class RecursiveAstVisitor implements AstVisitor {\n   visitSpreadElement(ast: SpreadElement, context: any) {\n     this.visit(ast.expression, context);\n   }\n+  visitEmptyExpr(ast: EmptyExpr, context: any): any {}\n   // This is not part of the AstVisitor interface, just a helper method\n   visitAll(asts: AST[], context: any): any {\n     for (const ast of asts) {","expectedMessage":"feat(compiler): support `AstVisitor.visitEmptyExpr()`","repository":"angular","commitHash":"04ba09a8d9454013bebdd643eacb737642161952","metadata":{"author":"fisker \u003clionkay@gmail.com\u003e"}}
{"id":"angular-e66aeac8","diff":" .../directive-explorer.component.ts                |  2 +-\n .../directive-explorer/directive-explorer.spec.ts  |  2 +-\n .../property-view-body.component.ts                |  1 +\n .../profiler/profiler-import-dialog/BUILD.bazel    |  4 +++\n .../profiler-import-dialog.component.html          | 20 ++++++-------\n .../profiler-import-dialog.component.scss          | 34 ++++++++++++++++++----\n .../profiler-import-dialog.component.ts            | 13 ++-------\n .../transfer-state/transfer-state.component.ts     |  2 +-\n .../src/lib/shared/button/button.component.spec.ts |  6 ++--\n .../ng-devtools/src/styles/_overrides.scss         |  6 ++++\n 10 files changed, 59 insertions(+), 31 deletions(-)\n\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.component.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.component.ts\nindex 80fbb911..1125edfd 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.component.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.component.ts\n@@ -349,7 +349,7 @@ export class DirectiveExplorerComponent {\n     const selectedFrame \u003d this._frameManager.selectedFrame();\n \n     if (!this._frameManager.activeFrameHasUniqueUrl()) {\n-      const error \u003d `The currently inspected frame does not have a unique url on this page. Cannot inspect object.`;\n+      const error \u003d `The currently inspected frame does not have a unique URL on this page. Cannot inspect object.`;\n       this.snackBar.open(error, \u0027Dismiss\u0027, {duration: 5000, horizontalPosition: \u0027left\u0027});\n       this._messageBus.emit(\u0027log\u0027, [{level: \u0027warn\u0027, message: error}]);\n       return;\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.spec.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.spec.ts\nindex ae74f368..e0d5d278 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.spec.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-explorer.spec.ts\n@@ -356,7 +356,7 @@ describe(\u0027DirectiveExplorerComponent\u0027, () \u003d\u003e {\n         expect(messageBusMock.emit).toHaveBeenCalledWith(\u0027log\u0027, [\n           {\n             level: \u0027warn\u0027,\n-            message: `The currently inspected frame does not have a unique url on this page. Cannot inspect object.`,\n+            message: `The currently inspected frame does not have a unique URL on this page. Cannot inspect object.`,\n           },\n         ]);\n       });\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-body/property-view-body.component.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-body/property-view-body.component.ts\nindex e2d985f4..c9cce0b0 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-body/property-view-body.component.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/property-view-body/property-view-body.component.ts\n@@ -109,6 +109,7 @@ export class PropertyViewBodyComponent {\n     this.controller().logValue(node);\n     this._snackBar.open(`Logged value of \u0027${node.prop.name}\u0027 to the console`, \u0027Dismiss\u0027, {\n       duration: 2000,\n+      horizontalPosition: \u0027left\u0027,\n     });\n   }\n \ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/BUILD.bazel b/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/BUILD.bazel\nindex 9e321f68..0cb6f2dd 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/BUILD.bazel\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/BUILD.bazel\n@@ -5,6 +5,9 @@ package(default_visibility \u003d [\"//devtools:__subpackages__\"])\n sass_binary(\n     name \u003d \"profiler-import-dialog_styles\",\n     src \u003d \"profiler-import-dialog.component.scss\",\n+    deps \u003d [\n+        \"//devtools/projects/ng-devtools/src/styles:typography\",\n+    ],\n )\n \n ng_project(\n@@ -19,5 +22,6 @@ ng_project(\n     deps \u003d [\n         \"//:node_modules/@angular/core\",\n         \"//:node_modules/@angular/material\",\n+        \"//devtools/projects/ng-devtools/src/lib/shared/button\",\n     ],\n )\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.html b/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.html\nindex 27a482c1..1f87ffa0 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.html\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.html\n@@ -1,22 +1,22 @@\n @switch (data.status) {\n   @case (\u0027ERROR\u0027) {\n-    \u003ch1 mat-dialog-title\u003eError\u003c/h1\u003e\n-    \u003cdiv mat-dialog-content\u003e\n+    \u003ch1\u003eError\u003c/h1\u003e\n+    \u003cdiv\u003e\n       \u003cp\u003eCould not process uploaded file.\u003c/p\u003e\n       \u003cp class\u003d\"error\"\u003e\n         {{ data.errorMessage }}\n       \u003c/p\u003e\n     \u003c/div\u003e\n-    \u003cdiv mat-dialog-actions\u003e\n-      \u003cbutton mat-flat-button [mat-dialog-close]\u003d\"false\"\u003eClose\u003c/button\u003e\n+    \u003cdiv class\u003d\"actions\"\u003e\n+      \u003cbutton ng-button [mat-dialog-close]\u003d\"false\"\u003eClose\u003c/button\u003e\n     \u003c/div\u003e\n   }\n   @case (\u0027INVALID_VERSION\u0027) {\n-    \u003ch1 mat-dialog-title\u003eWarning\u003c/h1\u003e\n-    \u003cdiv mat-dialog-content\u003e\n+    \u003ch1\u003eWarning\u003c/h1\u003e\n+    \u003cdiv\u003e\n       \u003cp\u003e\n         The file you are attempting to upload was recorded in a different format than the one\n-        supported by your current Angular DevTools version\n+        supported by your current Angular DevTools version.\n       \u003c/p\u003e\n       \u003cp\u003e\n         Current format version:\n@@ -28,9 +28,9 @@\n       \u003c/p\u003e\n       \u003cp\u003eFiles recorded in older versions may no longer be compatible. Do you wish to continue?\u003c/p\u003e\n     \u003c/div\u003e\n-    \u003cdiv mat-dialog-actions\u003e\n-      \u003cbutton mat-flat-button [mat-dialog-close]\u003d\"false\"\u003eNo Thanks\u003c/button\u003e\n-      \u003cbutton mat-flat-button [mat-dialog-close]\u003d\"true\"\u003eYes\u003c/button\u003e\n+    \u003cdiv class\u003d\"actions\"\u003e\n+      \u003cbutton ng-button [mat-dialog-close]\u003d\"false\"\u003eNo, Thanks\u003c/button\u003e\n+      \u003cbutton ng-button btnType\u003d\"secondary\" [mat-dialog-close]\u003d\"true\"\u003eYes\u003c/button\u003e\n     \u003c/div\u003e\n   }\n }\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.scss b/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.scss\nindex 2c24f6d3..5b4e72fb 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.scss\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.scss\n@@ -1,8 +1,30 @@\n-.profiler-version {\n-  color: var(--green-01);\n-}\n+@use \u0027../../../../styles/typography\u0027;\n+\n+:host {\n+  display: block;\n+  padding: 1rem;\n+\n+  h1 {\n+    @extend %heading-600;\n+    margin: 0;\n+    padding: 0;\n+  }\n+\n+  p {\n+    @extend %body-01;\n+  }\n+\n+  .actions {\n+    display: flex;\n+    gap: 0.5rem;\n+  }\n+\n+  .profiler-version {\n+    color: var(--dynamic-green-01);\n+  }\n \n-.imported-version,\n-.error {\n-  color: var(--dynamic-red-01);\n+  .imported-version,\n+  .error {\n+    color: var(--dynamic-red-01);\n+  }\n }\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.ts\nindex 5b58c148..9d8cadf8 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/profiler-import-dialog/profiler-import-dialog.component.ts\n@@ -7,15 +7,8 @@\n  */\n \n import {ChangeDetectionStrategy, Component, inject} from \u0027@angular/core\u0027;\n-import {\n-  MAT_DIALOG_DATA,\n-  MatDialogRef,\n-  MatDialogTitle,\n-  MatDialogContent,\n-  MatDialogActions,\n-  MatDialogClose,\n-} from \u0027@angular/material/dialog\u0027;\n-import {MatButton} from \u0027@angular/material/button\u0027;\n+import {MAT_DIALOG_DATA, MatDialogRef, MatDialogClose} from \u0027@angular/material/dialog\u0027;\n+import {ButtonComponent} from \u0027../../../shared/button/button.component\u0027;\n \n interface DialogData {\n   profilerVersion?: number;\n@@ -28,7 +21,7 @@ interface DialogData {\n   selector: \u0027ng-profiler-import-dialog\u0027,\n   templateUrl: \u0027./profiler-import-dialog.component.html\u0027,\n   styleUrls: [\u0027./profiler-import-dialog.component.scss\u0027],\n-  imports: [MatDialogActions, MatDialogClose, MatDialogContent, MatDialogTitle, MatButton],\n+  imports: [MatDialogClose, ButtonComponent],\n   changeDetection: ChangeDetectionStrategy.OnPush,\n })\n export class ProfilerImportDialogComponent {\ndiff --git a/devtools/projects/ng-devtools/src/lib/devtools-tabs/transfer-state/transfer-state.component.ts b/devtools/projects/ng-devtools/src/lib/devtools-tabs/transfer-state/transfer-state.component.ts\nindex 634d8971..fe80411d 100644\n--- a/devtools/projects/ng-devtools/src/lib/devtools-tabs/transfer-state/transfer-state.component.ts\n+++ b/devtools/projects/ng-devtools/src/lib/devtools-tabs/transfer-state/transfer-state.component.ts\n@@ -177,7 +177,7 @@ export class TransferStateComponent {\n       const errorDetail \u003d\n         err instanceof Error ? `${err.name}: ${err.message}` : JSON.stringify(err);\n \n-      this.snackBar.open(message, \u0027Dismiss\u0027, {duration: 3000});\n+      this.snackBar.open(message, \u0027Dismiss\u0027, {duration: 3000, horizontalPosition: \u0027left\u0027});\n       this.messageBus.emit(\u0027log\u0027, [{level: \u0027error\u0027, message: `${message}: ${errorDetail}`}]);\n     }\n   }\ndiff --git a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts\nindex 25e69b85..2655a44a 100644\n--- a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts\n+++ b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts\n@@ -31,8 +31,10 @@ describe(\u0027ButtonComponent\u0027, () \u003d\u003e {\n     expect(element.classList.contains(\u0027size-compact\u0027)).toBeFalse();\n   });\n \n-  it(\u0027should change the type to secondary\u0027, () \u003d\u003e {\n-    expect(component.btnType()).toEqual(\u0027secondary\u0027);\n+  it(\u0027should change the type to secondary\u0027, async () \u003d\u003e {\n+    fixture.componentRef.setInput(\u0027btnType\u0027, \u0027secondary\u0027);\n+    await fixture.whenStable();\n+\n     expect(element.classList.contains(\u0027type-secondary\u0027)).toBeTrue();\n   });\n \ndiff --git a/devtools/projects/ng-devtools/src/styles/_overrides.scss b/devtools/projects/ng-devtools/src/styles/_overrides.scss\nindex aeeda461..2910c4e9 100644\n--- a/devtools/projects/ng-devtools/src/styles/_overrides.scss\n+++ b/devtools/projects/ng-devtools/src/styles/_overrides.scss\n@@ -38,6 +38,12 @@\n     )\n   );\n \n+  @include mat.dialog-overrides(\n+    (\n+      container-elevation-shadow: 1,\n+    )\n+  );\n+\n   /* FRAGILE */\n   .mat-mdc-menu-item {\n     min-height: 32px;","expectedMessage":"refactor(devtools): style the profiler dialogs to match the current design","repository":"angular","commitHash":"e66aeac8d07aac7b31d7ef0bde7769f9319b8e98","metadata":{"author":"hawkgs \u003chawk.dvp@gmail.com\u003e"}}
{"id":"angular-bea58408","diff":" .../ng-devtools/src/lib/shared/button/button.component.scss       | 8 ++++++++\n .../ng-devtools/src/lib/shared/button/button.component.spec.ts    | 5 +++++\n .../ng-devtools/src/lib/shared/button/button.component.ts         | 3 ++-\n 3 files changed, 15 insertions(+), 1 deletion(-)\n\ndiff --git a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.scss b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.scss\nindex d4aa9310..118580ec 100644\n--- a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.scss\n+++ b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.scss\n@@ -20,6 +20,14 @@\n     color: var(--septenary-contrast);\n   }\n \n+  \u0026.type-secondary {\n+    border-radius: 2rem;\n+    background: transparent;\n+    box-sizing: border-box;\n+    border: 1px solid var(--quaternary-contrast);\n+    color: var(--color-text);\n+  }\n+\n   \u0026.type-icon {\n     background: transparent;\n     border: none;\ndiff --git a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts\nindex 6cfeb0a5..25e69b85 100644\n--- a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts\n+++ b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.spec.ts\n@@ -31,6 +31,11 @@ describe(\u0027ButtonComponent\u0027, () \u003d\u003e {\n     expect(element.classList.contains(\u0027size-compact\u0027)).toBeFalse();\n   });\n \n+  it(\u0027should change the type to secondary\u0027, () \u003d\u003e {\n+    expect(component.btnType()).toEqual(\u0027secondary\u0027);\n+    expect(element.classList.contains(\u0027type-secondary\u0027)).toBeTrue();\n+  });\n+\n   it(\u0027should be compact size\u0027, async () \u003d\u003e {\n     fixture.componentRef.setInput(\u0027size\u0027, \u0027compact\u0027);\n     await fixture.whenStable();\ndiff --git a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.ts b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.ts\nindex 10f67393..925823f7 100644\n--- a/devtools/projects/ng-devtools/src/lib/shared/button/button.component.ts\n+++ b/devtools/projects/ng-devtools/src/lib/shared/button/button.component.ts\n@@ -8,7 +8,7 @@\n \n import {ChangeDetectionStrategy, Component, input} from \u0027@angular/core\u0027;\n \n-type ButtonType \u003d \u0027primary\u0027 | \u0027icon\u0027;\n+type ButtonType \u003d \u0027primary\u0027 | \u0027secondary\u0027 | \u0027icon\u0027;\n type ButtonSize \u003d \u0027standard\u0027 | \u0027mid\u0027 | \u0027compact\u0027;\n \n @Component({\n@@ -19,6 +19,7 @@ type ButtonSize \u003d \u0027standard\u0027 | \u0027mid\u0027 | \u0027compact\u0027;\n   host: {\n     class: \u0027ng-button\u0027,\n     \u0027[class.type-primary]\u0027: `btnType() \u003d\u003d\u003d \u0027primary\u0027`,\n+    \u0027[class.type-secondary]\u0027: `btnType() \u003d\u003d\u003d \u0027secondary\u0027`,\n     \u0027[class.type-icon]\u0027: `btnType() \u003d\u003d\u003d \u0027icon\u0027`,\n     \u0027[class.size-compact]\u0027: `size() \u003d\u003d\u003d \u0027compact\u0027`,\n     \u0027[class.size-mid]\u0027: `size() \u003d\u003d\u003d \u0027mid\u0027`,","expectedMessage":"refactor(devtools): add secondary type button","repository":"angular","commitHash":"bea5840864444c252b9a80420be3058036c8bc29","metadata":{"author":"hawkgs \u003chawk.dvp@gmail.com\u003e"}}
{"id":"angular-3a65814f","diff":" adev/shared-docs/services/search.service.ts | 16 +++++++++++-----\n 1 file changed, 11 insertions(+), 5 deletions(-)\n\ndiff --git a/adev/shared-docs/services/search.service.ts b/adev/shared-docs/services/search.service.ts\nindex 96df876a..a557ebd2 100644\n--- a/adev/shared-docs/services/search.service.ts\n+++ b/adev/shared-docs/services/search.service.ts\n@@ -105,17 +105,23 @@ export class Search {\n       const content \u003d hitItem._snippetResult.content;\n       const hierarchy \u003d hitItem._snippetResult.hierarchy;\n       const category \u003d hitItem.hierarchy?.lvl0 ?? null;\n-      const hasSubLabel \u003d hierarchy?.lvl2 || hierarchy?.lvl3 || hierarchy?.lvl4;\n+\n+      const lvl1Value \u003d hierarchy?.lvl1?.value || hitItem.hierarchy?.lvl1;\n+\n+      const sublabelSnippet \u003d this.getBestSnippetForMatch(hitItem);\n+\n+      // If no lvl1, promote sublabel to label to avoid empty titles\n+      const label \u003d lvl1Value || sublabelSnippet || \u0027\u0027;\n+\n+      const hasSubLabel \u003d lvl1Value \u0026\u0026 (hierarchy?.lvl2 || hierarchy?.lvl3 || hierarchy?.lvl4);\n \n       return {\n         id: hitItem.objectID,\n         type: hitItem.hierarchy.lvl0 \u003d\u003d\u003d \u0027Tutorials\u0027 ? \u0027code\u0027 : \u0027doc\u0027,\n         url: hitItem.url,\n \n-        labelHtml: this.parseLabelToHtml(hitItem._snippetResult.hierarchy?.lvl1?.value ?? \u0027\u0027),\n-        subLabelHtml: this.parseLabelToHtml(\n-          hasSubLabel ? this.getBestSnippetForMatch(hitItem) : null,\n-        ),\n+        labelHtml: this.parseLabelToHtml(label),\n+        subLabelHtml: this.parseLabelToHtml(hasSubLabel ? sublabelSnippet : null),\n         contentHtml: content ? this.parseLabelToHtml(content.value) : null,\n         package: category \u003d\u003d\u003d \u0027Reference\u0027 ? extractPackageNameFromUrl(hitItem.url) : null,\n ","expectedMessage":"docs(docs-infra): improve label fallback logic in search results","repository":"angular","commitHash":"3a65814f535c03d44bbe13545e0a325e1453eaf5","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-0d35088b","diff":" adev/src/content/guide/templates/expression-syntax.md | 3 +++\n 1 file changed, 3 insertions(+)\n\ndiff --git a/adev/src/content/guide/templates/expression-syntax.md b/adev/src/content/guide/templates/expression-syntax.md\nindex 33edb8bb..b0d32c28 100644\n--- a/adev/src/content/guide/templates/expression-syntax.md\n+++ b/adev/src/content/guide/templates/expression-syntax.md\n@@ -78,6 +78,9 @@ Angular supports the following operators from standard JavaScript.\n | Logical AND Assignment        | `a \u0026\u0026\u003d b`                                      |\n | Logical OR Assignment         | `a \\|\\|\u003d b`                                    |\n | Nullish Coalescing Assignment | `a ??\u003d b`                                      |\n+| Spread in object literals     | `{...obj, foo: \u0027bar\u0027}`                         |\n+| Spread in array literals      | `[...arr, 1, 2, 3]`                            |\n+| Rest in function calls        | `fn(...args)`                                  |\n \n Angular expressions additionally also support the following non-standard operators:\n ","expectedMessage":"docs: add docs support for spread and rest operators in expression syntax","repository":"angular","commitHash":"0d35088b5672cbaec2816f3adc3f36a4cc05097b","metadata":{"author":"SkyZeroZx \u003c73321943+SkyZeroZx@users.noreply.github.com\u003e"}}
{"id":"angular-3ccd5a43","diff":" adev/package.json |  6 +++---\n package.json      |  4 ++--\n pnpm-lock.yaml    | 52 ++++++++++++++++++++++++++--------------------------\n 3 files changed, 31 insertions(+), 31 deletions(-)\n\ndiff --git a/adev/package.json b/adev/package.json\nindex 3433e762..6d977a33 100644\n--- a/adev/package.json\n+++ b/adev/package.json\n@@ -5,9 +5,9 @@\n     \"@algolia/requester-browser-xhr\": \"5.46.2\",\n     \"@algolia/requester-node-http\": \"5.46.2\",\n     \"@angular/animations\": \"workspace:*\",\n-    \"@angular/aria\": \"21.1.0-next.3\",\n+    \"@angular/aria\": \"21.1.0-next.4\",\n     \"@angular/build\": \"21.1.0-rc.0\",\n-    \"@angular/cdk\": \"21.1.0-next.3\",\n+    \"@angular/cdk\": \"21.1.0-next.4\",\n     \"@angular/cli\": \"21.1.0-rc.0\",\n     \"@angular/common\": \"workspace:*\",\n     \"@angular/compiler\": \"workspace:*\",\n@@ -15,7 +15,7 @@\n     \"@angular/core\": \"workspace:*\",\n     \"@angular/docs\": \"workspace:*\",\n     \"@angular/forms\": \"workspace:*\",\n-    \"@angular/material\": \"21.1.0-next.3\",\n+    \"@angular/material\": \"21.1.0-next.4\",\n     \"@angular/platform-browser\": \"workspace:*\",\n     \"@angular/platform-server\": \"workspace:*\",\n     \"@angular/router\": \"workspace:*\",\ndiff --git a/package.json b/package.json\nindex d20b64c0..00027330 100644\n--- a/package.json\n+++ b/package.json\n@@ -58,7 +58,7 @@\n     \"@angular/animations\": \"workspace:*\",\n     \"@angular/benchpress\": \"workspace: *\",\n     \"@angular/build\": \"21.1.0-rc.0\",\n-    \"@angular/cdk\": \"21.1.0-next.3\",\n+    \"@angular/cdk\": \"21.1.0-next.4\",\n     \"@angular/cli\": \"21.1.0-rc.0\",\n     \"@angular/common\": \"workspace:*\",\n     \"@angular/compiler\": \"workspace:*\",\n@@ -68,7 +68,7 @@\n     \"@angular/forms\": \"workspace:*\",\n     \"@angular/language-service\": \"workspace: *\",\n     \"@angular/localize\": \"workspace: *\",\n-    \"@angular/material\": \"21.1.0-next.3\",\n+    \"@angular/material\": \"21.1.0-next.4\",\n     \"@angular/platform-browser\": \"workspace:*\",\n     \"@angular/platform-browser-dynamic\": \"workspace:*\",\n     \"@angular/platform-server\": \"workspace:*\",\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 2db9b8aa..5667d412 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -35,8 +35,8 @@ importers:\n         specifier: 21.1.0-rc.0\n         version: 21.1.0-rc.0(c6918197b3771ad2732b5139632a8ddc)\n       \u0027@angular/cdk\u0027:\n-        specifier: 21.1.0-next.3\n-        version: 21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n+        specifier: 21.1.0-next.4\n+        version: 21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n       \u0027@angular/cli\u0027:\n         specifier: 21.1.0-rc.0\n         version: 21.1.0-rc.0(@types/node@20.19.25)(chokidar@5.0.0)\n@@ -65,8 +65,8 @@ importers:\n         specifier: \u0027workspace: *\u0027\n         version: link:packages/localize\n       \u0027@angular/material\u0027:\n-        specifier: 21.1.0-next.3\n-        version: 21.1.0-next.3(@angular/cdk@21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/common@packages+common)(@angular/core@packages+core)(@angular/forms@packages+forms)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n+        specifier: 21.1.0-next.4\n+        version: 21.1.0-next.4(@angular/cdk@21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/common@packages+common)(@angular/core@packages+core)(@angular/forms@packages+forms)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n       \u0027@angular/platform-browser\u0027:\n         specifier: workspace:*\n         version: link:packages/platform-browser\n@@ -480,14 +480,14 @@ importers:\n         specifier: workspace:*\n         version: link:../packages/animations\n       \u0027@angular/aria\u0027:\n-        specifier: 21.1.0-next.3\n-        version: 21.1.0-next.3(@angular/cdk@21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/core@packages+core)\n+        specifier: 21.1.0-next.4\n+        version: 21.1.0-next.4(@angular/cdk@21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/core@packages+core)\n       \u0027@angular/build\u0027:\n         specifier: 21.1.0-rc.0\n         version: 21.1.0-rc.0(83e6ad050e3e601ace7aa46bfce714fe)\n       \u0027@angular/cdk\u0027:\n-        specifier: 21.1.0-next.3\n-        version: 21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n+        specifier: 21.1.0-next.4\n+        version: 21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n       \u0027@angular/cli\u0027:\n         specifier: 21.1.0-rc.0\n         version: 21.1.0-rc.0(@types/node@24.10.4)(chokidar@5.0.0)\n@@ -510,8 +510,8 @@ importers:\n         specifier: workspace:*\n         version: link:../packages/forms\n       \u0027@angular/material\u0027:\n-        specifier: 21.1.0-next.3\n-        version: 21.1.0-next.3(@angular/cdk@21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/common@packages+common)(@angular/core@packages+core)(@angular/forms@packages+forms)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n+        specifier: 21.1.0-next.4\n+        version: 21.1.0-next.4(@angular/cdk@21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/common@packages+common)(@angular/core@packages+core)(@angular/forms@packages+forms)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n       \u0027@angular/platform-browser\u0027:\n         specifier: workspace:*\n         version: link:../packages/platform-browser\n@@ -655,7 +655,7 @@ importers:\n         version: 11.12.2\n       ngx-progressbar:\n         specifier: 14.0.0\n-        version: 14.0.0(@angular/cdk@21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/common@packages+common)(@angular/core@packages+core)(rxjs@7.8.2)\n+        version: 14.0.0(@angular/cdk@21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/common@packages+common)(@angular/core@packages+core)(rxjs@7.8.2)\n       open-in-idx:\n         specifier: 0.1.1\n         version: 0.1.1\n@@ -1610,10 +1610,10 @@ packages:\n     resolution: {integrity: sha512-TcRuOpJzOAm8Z5YRNJS4qMxdjuYEXIrmpiwH3qyE4fhWKGOpZoDRgkDGEL5D0glb+nuD4Hwa167A2FBOCVe8zQ\u003d\u003d}\n     engines: {node: ^20.19.0 || ^22.12.0 || \u003e\u003d24.0.0, npm: ^6.11.0 || ^7.5.6 || \u003e\u003d8.0.0, yarn: \u0027\u003e\u003d 1.13.0\u0027}\n \n-  \u0027@angular/aria@21.1.0-next.3\u0027:\n-    resolution: {integrity: sha512-jJJgNaovjL5d6y34VW7++Zw2g3QCKq1zgW4r/FXvGWBec4BZ6vVacVDOY8YeymB151iF5M/0ZJuLVDV0jCN7LQ\u003d\u003d}\n+  \u0027@angular/aria@21.1.0-next.4\u0027:\n+    resolution: {integrity: sha512-Zq3/WTsv8xgL+Tj8mcBTD7LHbVnA9V58hsbm87+/50Q6TF4G755WneJAlUylDwj5ZD7qxtB9/u3S9MVn25otiA\u003d\u003d}\n     peerDependencies:\n-      \u0027@angular/cdk\u0027: 21.1.0-next.3\n+      \u0027@angular/cdk\u0027: 21.1.0-next.4\n       \u0027@angular/core\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n \n   \u0027@angular/build@21.1.0-rc.0\u0027:\n@@ -1662,8 +1662,8 @@ packages:\n       vitest:\n         optional: true\n \n-  \u0027@angular/cdk@21.1.0-next.3\u0027:\n-    resolution: {integrity: sha512-1NxzybXwBefUdOX5HzffjgZg4AwYuogDfRDgViTSzM4yZsVPup5+dDafwZAjYu90qdjriH5d/Lf6PUxhp2rLtA\u003d\u003d}\n+  \u0027@angular/cdk@21.1.0-next.4\u0027:\n+    resolution: {integrity: sha512-hF4ZIgMhG1TFT6XnOcK7G00IsOqMPmXkcMgVHz2bmwoSXlqfpUCVQKAhGHRHrMLQqUMckecYiWYG0njeWrsHkw\u003d\u003d}\n     peerDependencies:\n       \u0027@angular/common\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n       \u0027@angular/core\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n@@ -1688,10 +1688,10 @@ packages:\n     resolution: {tarball: https://codeload.github.com/angular/domino/tar.gz/93e720f143d0296dd2726ffbcf4fc12283363a7b}\n     version: 2.1.6\n \n-  \u0027@angular/material@21.1.0-next.3\u0027:\n-    resolution: {integrity: sha512-m59JnFOUpTk5yLAYpJnk+nfvhzUO7tIG/WHFFOD2VmqWuadyZ+k6M4bQPy0ereumUcLue1QN7ZM6UpJWlgRqVQ\u003d\u003d}\n+  \u0027@angular/material@21.1.0-next.4\u0027:\n+    resolution: {integrity: sha512-ykfaHuScS98Aexo5x8WN+LrbGxBIhYnEtNw0ba5bdL1jNoWZI3iFANk9wLb3u9Mw+G1qrbO4B+60VPKdp7jVbw\u003d\u003d}\n     peerDependencies:\n-      \u0027@angular/cdk\u0027: 21.1.0-next.3\n+      \u0027@angular/cdk\u0027: 21.1.0-next.4\n       \u0027@angular/common\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n       \u0027@angular/core\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n       \u0027@angular/forms\u0027: ^21.0.0-0 || ^21.1.0-0 || ^21.2.0-0 || ^21.3.0-0 || ^22.0.0-0\n@@ -13680,9 +13680,9 @@ snapshots:\n     transitivePeerDependencies:\n       - chokidar\n \n-  \u0027@angular/aria@21.1.0-next.3(@angular/cdk@21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/core@packages+core)\u0027:\n+  \u0027@angular/aria@21.1.0-next.4(@angular/cdk@21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/core@packages+core)\u0027:\n     dependencies:\n-      \u0027@angular/cdk\u0027: 21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n+      \u0027@angular/cdk\u0027: 21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n       \u0027@angular/core\u0027: link:packages/core\n       tslib: 2.8.1\n \n@@ -13866,7 +13866,7 @@ snapshots:\n       - tsx\n       - yaml\n \n-  \u0027@angular/cdk@21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\u0027:\n+  \u0027@angular/cdk@21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\u0027:\n     dependencies:\n       \u0027@angular/common\u0027: link:packages/common\n       \u0027@angular/core\u0027: link:packages/core\n@@ -13941,9 +13941,9 @@ snapshots:\n \n   \u0027@angular/domino@https://codeload.github.com/angular/domino/tar.gz/93e720f143d0296dd2726ffbcf4fc12283363a7b\u0027: {}\n \n-  \u0027@angular/material@21.1.0-next.3(@angular/cdk@21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/common@packages+common)(@angular/core@packages+core)(@angular/forms@packages+forms)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\u0027:\n+  \u0027@angular/material@21.1.0-next.4(@angular/cdk@21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/common@packages+common)(@angular/core@packages+core)(@angular/forms@packages+forms)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\u0027:\n     dependencies:\n-      \u0027@angular/cdk\u0027: 21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n+      \u0027@angular/cdk\u0027: 21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n       \u0027@angular/common\u0027: link:packages/common\n       \u0027@angular/core\u0027: link:packages/core\n       \u0027@angular/forms\u0027: link:packages/forms\n@@ -24374,9 +24374,9 @@ snapshots:\n       \u0027@angular/core\u0027: link:packages/core\n       tslib: 2.8.1\n \n-  ngx-progressbar@14.0.0(@angular/cdk@21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/common@packages+common)(@angular/core@packages+core)(rxjs@7.8.2):\n+  ngx-progressbar@14.0.0(@angular/cdk@21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2))(@angular/common@packages+common)(@angular/core@packages+core)(rxjs@7.8.2):\n     dependencies:\n-      \u0027@angular/cdk\u0027: 21.1.0-next.3(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n+      \u0027@angular/cdk\u0027: 21.1.0-next.4(@angular/common@packages+common)(@angular/core@packages+core)(@angular/platform-browser@packages+platform-browser)(rxjs@7.8.2)\n       \u0027@angular/common\u0027: link:packages/common\n       \u0027@angular/core\u0027: link:packages/core\n       rxjs: 7.8.2","expectedMessage":"build: update cross-repo angular dependencies to v21.1.0-next.4","repository":"angular","commitHash":"3ccd5a4354eaf7333306af7883268f9599658128","metadata":{"author":"Angular Robot \u003cangular-robot@google.com\u003e"}}
